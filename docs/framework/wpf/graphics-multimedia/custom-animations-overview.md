---
title: "Přehled vlastních animací"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-wpf
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- custom classes [WPF], animation
- key frames [WPF], custom
- custom key frames [WPF]
- animation [WPF], custom classes
- custom animation classes [WPF]
ms.assetid: 9be69d50-3384-4938-886f-08ce00e4a7a6
caps.latest.revision: "14"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload: dotnet
ms.openlocfilehash: cb8dcce1d72991a803d8a068f29cd0fe3430fdfc
ms.sourcegitcommit: 16186c34a957fdd52e5db7294f291f7530ac9d24
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 12/22/2017
---
# <a name="custom-animations-overview"></a><span data-ttu-id="31fcb-102">Přehled vlastních animací</span><span class="sxs-lookup"><span data-stu-id="31fcb-102">Custom Animations Overview</span></span>
<span data-ttu-id="31fcb-103">Toto téma popisuje, jak a kdy rozšířit [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] animace systému tak, že vytvoříte vlastní klíčových snímků animace třídy, nebo pomocí zpětného volání za rámce obejít ho.</span><span class="sxs-lookup"><span data-stu-id="31fcb-103">This topic describes how and when to extend the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] animation system by creating custom key frames, animation classes, or by using per-frame callback to bypass it.</span></span>  
  
<a name="prerequisites"></a>   
## <a name="prerequisites"></a><span data-ttu-id="31fcb-104">Požadavky</span><span class="sxs-lookup"><span data-stu-id="31fcb-104">Prerequisites</span></span>  
 <span data-ttu-id="31fcb-105">Zjistit, v tomto tématu, měli byste se seznámit s různými typy animací poskytované [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="31fcb-105">To understand this topic, you should be familiar with the different types of animations provided by the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span></span> <span data-ttu-id="31fcb-106">Další informace naleznete v přehledu animací From/To/By [klíč rámce animací přehled](../../../../docs/framework/wpf/graphics-multimedia/key-frame-animations-overview.md)a [cesta animací přehled](../../../../docs/framework/wpf/graphics-multimedia/path-animations-overview.md).</span><span class="sxs-lookup"><span data-stu-id="31fcb-106">For more information, see the From/To/By Animations Overview, the [Key-Frame Animations Overview](../../../../docs/framework/wpf/graphics-multimedia/key-frame-animations-overview.md), and the [Path Animations Overview](../../../../docs/framework/wpf/graphics-multimedia/path-animations-overview.md).</span></span>  
  
 <span data-ttu-id="31fcb-107">Vzhledem k tomu, že animace třídy dědí <xref:System.Windows.Freezable> třída, měli byste se seznámit s <xref:System.Windows.Freezable> objekty a postupy, jak dědit z <xref:System.Windows.Freezable>.</span><span class="sxs-lookup"><span data-stu-id="31fcb-107">Because the animation classes inherit from the <xref:System.Windows.Freezable> class, you should be familiar with <xref:System.Windows.Freezable> objects and how to inherit from <xref:System.Windows.Freezable>.</span></span> <span data-ttu-id="31fcb-108">Další informace najdete v tématu [zmrazitelné objekty – přehled](../../../../docs/framework/wpf/advanced/freezable-objects-overview.md).</span><span class="sxs-lookup"><span data-stu-id="31fcb-108">For more information, see the [Freezable Objects Overview](../../../../docs/framework/wpf/advanced/freezable-objects-overview.md).</span></span>  
  
<a name="extendingtheanimationsystem"></a>   
## <a name="extending-the-animation-system"></a><span data-ttu-id="31fcb-109">Rozšíření systému animace</span><span class="sxs-lookup"><span data-stu-id="31fcb-109">Extending the Animation System</span></span>  
 <span data-ttu-id="31fcb-110">Existuje několik způsobů, jak rozšířit [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] systému animace, v závislosti na úrovni integrovanou funkci, kterou chcete použít.</span><span class="sxs-lookup"><span data-stu-id="31fcb-110">There are a number of ways to extend the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] animation system, depending on the level of built-in functionality you want to use.</span></span>  <span data-ttu-id="31fcb-111">Existují tři body primární rozšíření v [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] animace modul:</span><span class="sxs-lookup"><span data-stu-id="31fcb-111">There are three primary extensibility points in the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] animation engine:</span></span>  
  
-   <span data-ttu-id="31fcb-112">Vytvoření objektu vlastní klíče rámce dědění z jednoho z  *\<typ >*@keyframe, které určuje třídy, jako například <xref:System.Windows.Media.Animation.DoubleKeyFrame>.</span><span class="sxs-lookup"><span data-stu-id="31fcb-112">Create a custom key frame object by inheriting from one of the *\<Type>*KeyFrame classes, such as <xref:System.Windows.Media.Animation.DoubleKeyFrame>.</span></span> <span data-ttu-id="31fcb-113">Tento postup používá většina integrované funkce [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] modul animace.</span><span class="sxs-lookup"><span data-stu-id="31fcb-113">This approach uses most of the built-in functionality of the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] animation engine.</span></span>  
  
-   <span data-ttu-id="31fcb-114">Vytvořit vlastní třídu animace dědění ze <xref:System.Windows.Media.Animation.AnimationTimeline> nebo jeden z  *\<typ >*třídy AnimationBase.</span><span class="sxs-lookup"><span data-stu-id="31fcb-114">Create your own animation class by inheriting from <xref:System.Windows.Media.Animation.AnimationTimeline> or one of the *\<Type>*AnimationBase classes.</span></span>  
  
-   <span data-ttu-id="31fcb-115">Pomocí zpětného volání za rámce vygenerujte animací na základě za rámce.</span><span class="sxs-lookup"><span data-stu-id="31fcb-115">Use per-frame callback to generate animations on a per-frame basis.</span></span> <span data-ttu-id="31fcb-116">Tento přístup zcela obchází animace a časování systému.</span><span class="sxs-lookup"><span data-stu-id="31fcb-116">This approach completely bypasses the animation and timing system.</span></span>  
  
 <span data-ttu-id="31fcb-117">Následující tabulka popisuje některé scénáře pro rozšíření systému animace.</span><span class="sxs-lookup"><span data-stu-id="31fcb-117">The following table describes some the scenarios for extending the animation system.</span></span>  
  
|<span data-ttu-id="31fcb-118">Pokud chcete...</span><span class="sxs-lookup"><span data-stu-id="31fcb-118">When you want to...</span></span>|<span data-ttu-id="31fcb-119">Tuto metodu použijte</span><span class="sxs-lookup"><span data-stu-id="31fcb-119">Use this approach</span></span>|  
|-------------------------|-----------------------|  
|<span data-ttu-id="31fcb-120">Přizpůsobení interpolace mezi hodnotami typu, který má odpovídající  *\<typ >*AnimationUsingKeyFrames</span><span class="sxs-lookup"><span data-stu-id="31fcb-120">Customize the interpolation between values of a type that has a corresponding *\<Type>*AnimationUsingKeyFrames</span></span>|<span data-ttu-id="31fcb-121">Vytvořte vlastní klíče rámeček.</span><span class="sxs-lookup"><span data-stu-id="31fcb-121">Create a custom key frame.</span></span> <span data-ttu-id="31fcb-122">Další informace najdete v tématu [vytvořte vlastní klíč rámeček](#createacustomkeyframe) části.</span><span class="sxs-lookup"><span data-stu-id="31fcb-122">For more information, see the [Create a Custom Key Frame](#createacustomkeyframe) section.</span></span>|  
|<span data-ttu-id="31fcb-123">Přizpůsobení více než jen interpolace mezi hodnotami typu, který má odpovídající  *\<typ >*animace.</span><span class="sxs-lookup"><span data-stu-id="31fcb-123">Customize more than just the interpolation between values of a type that has a corresponding *\<Type>*Animation.</span></span>|<span data-ttu-id="31fcb-124">Vytvořte vlastní animace třídu, která dědí z  *\<typ >*AnimationBase třídu, která odpovídá typu chcete animace.</span><span class="sxs-lookup"><span data-stu-id="31fcb-124">Create a custom animation class that inherits from the *\<Type>*AnimationBase class that corresponds to the type you want to animate.</span></span> <span data-ttu-id="31fcb-125">Další informace najdete v tématu [vytvoření vlastní třídy animace](#createacustomanimationtype) části.</span><span class="sxs-lookup"><span data-stu-id="31fcb-125">For more information, see the [Create a Custom Animation Class](#createacustomanimationtype) section.</span></span>|  
|<span data-ttu-id="31fcb-126">Animace typ, který nemá odpovídající [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] animace</span><span class="sxs-lookup"><span data-stu-id="31fcb-126">Animate a type that has no corresponding [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] animation</span></span>|<span data-ttu-id="31fcb-127">Použijte <xref:System.Windows.Media.Animation.ObjectAnimationUsingKeyFrames> nebo vytvořte třídu, která dědí z <xref:System.Windows.Media.Animation.AnimationTimeline>.</span><span class="sxs-lookup"><span data-stu-id="31fcb-127">Use an <xref:System.Windows.Media.Animation.ObjectAnimationUsingKeyFrames> or create a class that inherits from <xref:System.Windows.Media.Animation.AnimationTimeline>.</span></span> <span data-ttu-id="31fcb-128">Další informace najdete v tématu [vytvoření vlastní třídy animace](#createacustomanimationtype) části.</span><span class="sxs-lookup"><span data-stu-id="31fcb-128">For more information, see the [Create a Custom Animation Class](#createacustomanimationtype) section.</span></span>|  
|<span data-ttu-id="31fcb-129">Postupné animaci více objektů s hodnotami, které se vypočítávají každý rámečkem a jsou založené na poslední sadu objekt interakce</span><span class="sxs-lookup"><span data-stu-id="31fcb-129">Animate multiple objects with values that are computed each frame and are based on the last set of object interactions</span></span>|<span data-ttu-id="31fcb-130">Použití zpětného volání za rámce.</span><span class="sxs-lookup"><span data-stu-id="31fcb-130">Use per-frame callback.</span></span> <span data-ttu-id="31fcb-131">Další informace najdete v tématu [vytvořte zpětné volání za rámce použití](#useperframecallback) části.</span><span class="sxs-lookup"><span data-stu-id="31fcb-131">For more information, see the [Create a Use Per-Frame Callback](#useperframecallback) section.</span></span>|  
  
<a name="createacustomkeyframe"></a>   
## <a name="create-a-custom-key-frame"></a><span data-ttu-id="31fcb-132">Vytvořte vlastní klíče rámeček</span><span class="sxs-lookup"><span data-stu-id="31fcb-132">Create a Custom Key Frame</span></span>  
 <span data-ttu-id="31fcb-133">Vytvoření třídy vlastní klíčových snímků je nejjednodušší způsob, jak rozšířit systém animace.</span><span class="sxs-lookup"><span data-stu-id="31fcb-133">Creating a custom key frame class is the simplest way to extend the animation system.</span></span> <span data-ttu-id="31fcb-134">Tuto metodu použijte, pokud chcete metodu různých interpolace pro klíč rámce animace.</span><span class="sxs-lookup"><span data-stu-id="31fcb-134">Use this approach when you want to a different interpolation method for a key-frame animation.</span></span>  <span data-ttu-id="31fcb-135">Jak je popsáno v [klíč rámce animací přehled](../../../../docs/framework/wpf/graphics-multimedia/key-frame-animations-overview.md), klíč rámce animace pomocí klíčových snímků objektů ke generování hodnot její výstup.</span><span class="sxs-lookup"><span data-stu-id="31fcb-135">As described in the [Key-Frame Animations Overview](../../../../docs/framework/wpf/graphics-multimedia/key-frame-animations-overview.md), a key-frame animation uses key frame objects to generate its output values.</span></span> <span data-ttu-id="31fcb-136">Každý objekt klíčových snímků provádí tři funkce:</span><span class="sxs-lookup"><span data-stu-id="31fcb-136">Each key frame object performs three functions:</span></span>  
  
-   <span data-ttu-id="31fcb-137">Určuje cílový hodnoty pomocí jeho <xref:System.Windows.Media.Animation.IKeyFrame.Value%2A> vlastnost.</span><span class="sxs-lookup"><span data-stu-id="31fcb-137">Specifies a target value using its <xref:System.Windows.Media.Animation.IKeyFrame.Value%2A> property.</span></span>  
  
-   <span data-ttu-id="31fcb-138">Určuje dobu, kdy by mělo být dosaženo tuto hodnotu pomocí své <xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A> vlastnost.</span><span class="sxs-lookup"><span data-stu-id="31fcb-138">Specifies the time at which that value should be reached using its <xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A> property.</span></span>  
  
-   <span data-ttu-id="31fcb-139">Argument interpolaci mezi hodnotou předchozí klíčových snímků a vlastní hodnotu implementací InterpolateValueCore metody.</span><span class="sxs-lookup"><span data-stu-id="31fcb-139">Interpolates between the value of the previous key frame and its own value by implementing the InterpolateValueCore method.</span></span>  
  
 <span data-ttu-id="31fcb-140">**Pokyny pro implementaci**</span><span class="sxs-lookup"><span data-stu-id="31fcb-140">**Implementation Instructions**</span></span>  
  
 <span data-ttu-id="31fcb-141">Odvozena od  *\<typ >*@keyframe, které určuje abstraktní třídy a implementovat metodu InterpolateValueCore.</span><span class="sxs-lookup"><span data-stu-id="31fcb-141">Derive from the *\<Type>*KeyFrame abstract class and implement the InterpolateValueCore method.</span></span> <span data-ttu-id="31fcb-142">Metoda InterpolateValueCore vrací aktuální hodnotu klíčového snímku.</span><span class="sxs-lookup"><span data-stu-id="31fcb-142">The InterpolateValueCore method returns the current value of the key frame.</span></span> <span data-ttu-id="31fcb-143">Jak dlouho trvá dva parametry: hodnota předchozí klíčových snímků a průběh hodnotu rozsahu od 0 do 1.</span><span class="sxs-lookup"><span data-stu-id="31fcb-143">It takes two parameters: the value of the previous key frame and a progress value that ranges from 0 to 1.</span></span> <span data-ttu-id="31fcb-144">Průběh 0 označuje klíče rámečku byl spuštěn, a hodnota 1 označuje, že klíče rámečku má právě dokončili a by měla vrátit hodnotu zadanou pomocí jeho <xref:System.Windows.Media.Animation.IKeyFrame.Value%2A> vlastnost.</span><span class="sxs-lookup"><span data-stu-id="31fcb-144">A progress of 0 indicates the key frame has just started, and a value of 1 indicates that the key frame has just completed and should return the value specified by its <xref:System.Windows.Media.Animation.IKeyFrame.Value%2A> property.</span></span>  
  
 <span data-ttu-id="31fcb-145">Protože  *\<typ >*@keyframe, které určuje třídy dědí <xref:System.Windows.Freezable> třídy, je nutné také přepsat <xref:System.Windows.Freezable.CreateInstanceCore%2A> základní vrátit novou instanci třídy vašich.</span><span class="sxs-lookup"><span data-stu-id="31fcb-145">Because the *\<Type>*KeyFrame classes inherit from the <xref:System.Windows.Freezable> class, you must also override <xref:System.Windows.Freezable.CreateInstanceCore%2A> core to return a new instance of your class.</span></span> <span data-ttu-id="31fcb-146">Pokud třída nepoužívá vlastností závislostí k ukládání dat nebo vyžaduje další inicializace po vytvoření, možná budete muset přepsat další metody; najdete v článku [zmrazitelné objekty – přehled](../../../../docs/framework/wpf/advanced/freezable-objects-overview.md) Další informace.</span><span class="sxs-lookup"><span data-stu-id="31fcb-146">If the class does not use dependency properties to store its data or it requires extra initialization after creation, you might need to override additional methods; see the [Freezable Objects Overview](../../../../docs/framework/wpf/advanced/freezable-objects-overview.md) for more information.</span></span>  
  
 <span data-ttu-id="31fcb-147">Po vytvoření vaše vlastní  *\<typ >*animace klíčových snímků, můžete ji použít s  *\<typ >*AnimationUsingKeyFrames tohoto typu.</span><span class="sxs-lookup"><span data-stu-id="31fcb-147">After you've created your custom *\<Type>*KeyFrame animation, you can use it with the *\<Type>*AnimationUsingKeyFrames for that type.</span></span>  
  
<a name="createacustomanimationtype"></a>   
## <a name="create-a-custom-animation-class"></a><span data-ttu-id="31fcb-148">Vytvořte třídu vlastní animace</span><span class="sxs-lookup"><span data-stu-id="31fcb-148">Create a Custom Animation Class</span></span>  
 <span data-ttu-id="31fcb-149">Vytváření vlastní animace typ nabízí větší kontrolu nad jak animovaný objekt v.</span><span class="sxs-lookup"><span data-stu-id="31fcb-149">Creating your own animation type gives you more control over how an object in animated.</span></span> <span data-ttu-id="31fcb-150">Existují dva doporučené způsoby, jak vytvořit vlastní typ animace: odvozujete od <xref:System.Windows.Media.Animation.AnimationTimeline> třídy nebo  *\<typ >*třída AnimationBase.</span><span class="sxs-lookup"><span data-stu-id="31fcb-150">There are two recommended ways to create your own animation type: you can derive from the <xref:System.Windows.Media.Animation.AnimationTimeline> class or the *\<Type>*AnimationBase class.</span></span> <span data-ttu-id="31fcb-151">Odvozování z  *\<typ >*animace nebo  *\<typ >*AnimationUsingKeyFrames třídy se nedoporučuje.</span><span class="sxs-lookup"><span data-stu-id="31fcb-151">Deriving from the *\<Type>*Animation or *\<Type>*AnimationUsingKeyFrames classes is not recommended.</span></span>  
  
### <a name="derive-from-typeanimationbase"></a><span data-ttu-id="31fcb-152">Odvozena od \<typ > AnimationBase</span><span class="sxs-lookup"><span data-stu-id="31fcb-152">Derive from \<Type>AnimationBase</span></span>  
 <span data-ttu-id="31fcb-153">Odvozování z  *\<typ >*AnimationBase třída je nejjednodušší způsob, jak vytvořit nový typ animace.</span><span class="sxs-lookup"><span data-stu-id="31fcb-153">Deriving from a *\<Type>*AnimationBase class is the simplest way to create a new animation type.</span></span> <span data-ttu-id="31fcb-154">Tuto metodu použijte, pokud chcete vytvořit nový animace pro typ, který již má odpovídající  *\<typ >*třída AnimationBase.</span><span class="sxs-lookup"><span data-stu-id="31fcb-154">Use this approach when you want to create a new animation for type that already has a corresponding *\<Type>*AnimationBase class.</span></span>  
  
 <span data-ttu-id="31fcb-155">**Pokyny pro implementaci**</span><span class="sxs-lookup"><span data-stu-id="31fcb-155">**Implementation Instructions**</span></span>  
  
 <span data-ttu-id="31fcb-156">Odvozena od  *\<typ >*animace třídy a implementujte metodu GetCurrentValueCore.</span><span class="sxs-lookup"><span data-stu-id="31fcb-156">Derive from a *\<Type>*Animation class and implement the GetCurrentValueCore method.</span></span> <span data-ttu-id="31fcb-157">Metoda GetCurrentValueCore vrátí aktuální animace.</span><span class="sxs-lookup"><span data-stu-id="31fcb-157">The GetCurrentValueCore method returns the current value of the animation.</span></span> <span data-ttu-id="31fcb-158">Jak dlouho trvá tři parametry: hodnotou navrhované, navrhované koncovou hodnotu a <xref:System.Windows.Media.Animation.AnimationClock>, který použijete k určení průběh animace.</span><span class="sxs-lookup"><span data-stu-id="31fcb-158">It takes three parameters: a suggested starting value, a suggested ending value, and an <xref:System.Windows.Media.Animation.AnimationClock>, which you use to determine the progress of the animation.</span></span>  
  
 <span data-ttu-id="31fcb-159">Protože  *\<typ >*AnimationBase třídy dědí <xref:System.Windows.Freezable> třídy, je nutné také přepsat <xref:System.Windows.Freezable.CreateInstanceCore%2A> základní vrátit novou instanci třídy třídě.</span><span class="sxs-lookup"><span data-stu-id="31fcb-159">Because the *\<Type>*AnimationBase classes inherit from the <xref:System.Windows.Freezable> class, you must also override <xref:System.Windows.Freezable.CreateInstanceCore%2A> core to return a new instance of your class.</span></span> <span data-ttu-id="31fcb-160">Pokud třída nepoužívá vlastností závislostí k ukládání dat nebo vyžaduje další inicializace po vytvoření, možná budete muset přepsat další metody; najdete v článku [zmrazitelné objekty – přehled](../../../../docs/framework/wpf/advanced/freezable-objects-overview.md) Další informace.</span><span class="sxs-lookup"><span data-stu-id="31fcb-160">If the class does not use dependency properties to store its data or it requires extra initialization after creation, you might need to override additional methods; see the [Freezable Objects Overview](../../../../docs/framework/wpf/advanced/freezable-objects-overview.md) for more information.</span></span>  
  
 <span data-ttu-id="31fcb-161">Další informace najdete v dokumentaci k GetCurrentValueCore metoda pro  *\<typ >*AnimationBase třídu pro typ, který chcete animace.</span><span class="sxs-lookup"><span data-stu-id="31fcb-161">For more information, see the GetCurrentValueCore method documentation for the *\<Type>*AnimationBase class for the type that you want to animate.</span></span> <span data-ttu-id="31fcb-162">Příklad, naleznete v části [vlastní animace ukázka](http://go.microsoft.com/fwlink/?LinkID=159981)</span><span class="sxs-lookup"><span data-stu-id="31fcb-162">For an example, see the [Custom Animation Sample](http://go.microsoft.com/fwlink/?LinkID=159981)</span></span>  
  
 <span data-ttu-id="31fcb-163">**Alternativní přístupy**</span><span class="sxs-lookup"><span data-stu-id="31fcb-163">**Alternative Approaches**</span></span>  
  
 <span data-ttu-id="31fcb-164">Pokud chcete jednoduše změnit, jak jsou hodnoty animace interpolované, vzhledem k tomu odvození některého ze  *\<typ >*@keyframe, které určuje třídy.</span><span class="sxs-lookup"><span data-stu-id="31fcb-164">If you simply want to change how animation values are interpolated, considering deriving from one of the *\<Type>*KeyFrame classes.</span></span> <span data-ttu-id="31fcb-165">Klíče rámečku vytvoříte lze použít s odpovídající  *\<typ >*AnimationUsingKeyFrames poskytované [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="31fcb-165">The key frame you create can be used with the corresponding *\<Type>*AnimationUsingKeyFrames provided by [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span></span>  
  
### <a name="derive-from-animationtimeline"></a><span data-ttu-id="31fcb-166">Odvozena od AnimationTimeline</span><span class="sxs-lookup"><span data-stu-id="31fcb-166">Derive from AnimationTimeline</span></span>  
 <span data-ttu-id="31fcb-167">Odvozena od <xref:System.Windows.Media.Animation.AnimationTimeline> třídy, pokud chcete vytvořit animace pro typ, který ještě nemá odpovídající [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] animace, nebo chcete vytvořit animace, která není silného typu.</span><span class="sxs-lookup"><span data-stu-id="31fcb-167">Derive from the <xref:System.Windows.Media.Animation.AnimationTimeline> class when you want to create an animation for a type that doesn't already have a matching [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] animation, or you want to create an animation that is not strongly typed.</span></span>  
  
 <span data-ttu-id="31fcb-168">**Pokyny pro implementaci**</span><span class="sxs-lookup"><span data-stu-id="31fcb-168">**Implementation Instructions**</span></span>  
  
 <span data-ttu-id="31fcb-169">Odvozena od <xref:System.Windows.Media.Animation.AnimationTimeline> třídy a přepsat následující členy:</span><span class="sxs-lookup"><span data-stu-id="31fcb-169">Derive from the <xref:System.Windows.Media.Animation.AnimationTimeline> class and override the following members:</span></span>  
  
-   <span data-ttu-id="31fcb-170"><xref:System.Windows.Freezable.CreateInstanceCore%2A>– Pokud je konkrétní novou třídu, je nutné přepsat <xref:System.Windows.Freezable.CreateInstanceCore%2A> vrátit novou instanci třídy třídě.</span><span class="sxs-lookup"><span data-stu-id="31fcb-170"><xref:System.Windows.Freezable.CreateInstanceCore%2A> – If your new class is concrete, you must override <xref:System.Windows.Freezable.CreateInstanceCore%2A> to return a new instance of your class.</span></span>  
  
-   <span data-ttu-id="31fcb-171"><xref:System.Windows.Media.Animation.AnimationTimeline.GetCurrentValue%2A>– Přepište tuto metodu a vrátí aktuální hodnotu animace.</span><span class="sxs-lookup"><span data-stu-id="31fcb-171"><xref:System.Windows.Media.Animation.AnimationTimeline.GetCurrentValue%2A> – Override this method to return the current value of your animation.</span></span> <span data-ttu-id="31fcb-172">Jak dlouho trvá tři parametry: výchozí hodnotu původu, výchozí hodnotu cílové a <xref:System.Windows.Media.Animation.AnimationClock>.</span><span class="sxs-lookup"><span data-stu-id="31fcb-172">It takes three parameters: a default origin value, a default destination value, and an <xref:System.Windows.Media.Animation.AnimationClock>.</span></span> <span data-ttu-id="31fcb-173">Použití <xref:System.Windows.Media.Animation.AnimationClock> získat aktuální čas nebo průběhu pro animaci.</span><span class="sxs-lookup"><span data-stu-id="31fcb-173">Use the <xref:System.Windows.Media.Animation.AnimationClock> to obtain the current time or progress for the animation.</span></span> <span data-ttu-id="31fcb-174">Můžete zvolit, jestli se má použít výchozí původní a cílové hodnoty.</span><span class="sxs-lookup"><span data-stu-id="31fcb-174">You can choose whether to use the default origin and destination values.</span></span>  
  
-   <span data-ttu-id="31fcb-175"><xref:System.Windows.Media.Animation.AnimationTimeline.IsDestinationDefault%2A>– Přepsat tuto vlastnost k označení, zda vaše animace používá výchozí cílové hodnoty určené <xref:System.Windows.Media.Animation.AnimationTimeline.GetCurrentValue%2A> metoda.</span><span class="sxs-lookup"><span data-stu-id="31fcb-175"><xref:System.Windows.Media.Animation.AnimationTimeline.IsDestinationDefault%2A> – Override this property to indicate whether your animation uses the default destination value specified by the <xref:System.Windows.Media.Animation.AnimationTimeline.GetCurrentValue%2A> method.</span></span>  
  
-   <span data-ttu-id="31fcb-176"><xref:System.Windows.Media.Animation.AnimationTimeline.TargetPropertyType%2A>– Tuto vlastnost k označení přepsat <xref:System.Type> výstupu vytváří animace.</span><span class="sxs-lookup"><span data-stu-id="31fcb-176"><xref:System.Windows.Media.Animation.AnimationTimeline.TargetPropertyType%2A> – Override this property to indicate the <xref:System.Type> of output your animation produces.</span></span>  
  
 <span data-ttu-id="31fcb-177">Pokud třída nepoužívá vlastností závislostí k ukládání dat nebo vyžaduje další inicializace po vytvoření, možná budete muset přepsat další metody; najdete v článku [zmrazitelné objekty – přehled](../../../../docs/framework/wpf/advanced/freezable-objects-overview.md) Další informace.</span><span class="sxs-lookup"><span data-stu-id="31fcb-177">If the class does not use dependency properties to store its data or it requires extra initialization after creation, you might need to override additional methods; see the [Freezable Objects Overview](../../../../docs/framework/wpf/advanced/freezable-objects-overview.md) for more information.</span></span>  
  
 <span data-ttu-id="31fcb-178">Doporučené zlepší (používané [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] animací), je použít dvě úrovně dědičnosti:</span><span class="sxs-lookup"><span data-stu-id="31fcb-178">The recommended paradigm (used by [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] animations) is to use two inheritance levels:</span></span>  
  
1.  <span data-ttu-id="31fcb-179">Vytvoření abstraktní  *\<typ >*AnimationBase třída odvozená z <xref:System.Windows.Media.Animation.AnimationTimeline>.</span><span class="sxs-lookup"><span data-stu-id="31fcb-179">Create an abstract *\<Type>*AnimationBase class that derives from <xref:System.Windows.Media.Animation.AnimationTimeline>.</span></span> <span data-ttu-id="31fcb-180">Tato třída by měly přepsat <xref:System.Windows.Media.Animation.AnimationTimeline.TargetPropertyType%2A> metoda.</span><span class="sxs-lookup"><span data-stu-id="31fcb-180">This class should override the <xref:System.Windows.Media.Animation.AnimationTimeline.TargetPropertyType%2A> method.</span></span> <span data-ttu-id="31fcb-181">Měl by také zavádět nové abstraktní metodu GetCurrentValueCore a přepsat <xref:System.Windows.Media.Animation.AnimationTimeline.GetCurrentValue%2A> tak, aby ověřuje typy výchozí cílové hodnoty parametrů a výchozí hodnota počátku, pak zavolá GetCurrentValueCore.</span><span class="sxs-lookup"><span data-stu-id="31fcb-181">It should also introduce a new abstract method, GetCurrentValueCore, and override <xref:System.Windows.Media.Animation.AnimationTimeline.GetCurrentValue%2A> so that it validates the types of the default origin value and default destination value parameters, then calls GetCurrentValueCore.</span></span>  
  
2.  <span data-ttu-id="31fcb-182">Vytvořte jinou třídu, která dědí z nové  *\<typ >*AnimationBase třídy a přepíše <xref:System.Windows.Freezable.CreateInstanceCore%2A> metoda, GetCurrentValueCore metodu, která jste seznámili, a <xref:System.Windows.Media.Animation.AnimationTimeline.IsDestinationDefault%2A> vlastnost.</span><span class="sxs-lookup"><span data-stu-id="31fcb-182">Create another class that inherits from your new *\<Type>*AnimationBase class and overrides the <xref:System.Windows.Freezable.CreateInstanceCore%2A> method, the GetCurrentValueCore method that you introduced, and the <xref:System.Windows.Media.Animation.AnimationTimeline.IsDestinationDefault%2A> property.</span></span>  
  
 <span data-ttu-id="31fcb-183">**Alternativní přístupy**</span><span class="sxs-lookup"><span data-stu-id="31fcb-183">**Alternative Approaches**</span></span>  
  
 <span data-ttu-id="31fcb-184">Pokud chcete animace typ, který nemá žádné odpovídající animace z/do nebo podle nebo animace jednotlivých klíč, zvažte použití <xref:System.Windows.Media.Animation.ObjectAnimationUsingKeyFrames>.</span><span class="sxs-lookup"><span data-stu-id="31fcb-184">If you want to animate a type that has no corresponding From/To/By animation or key-frame animation, consider using an <xref:System.Windows.Media.Animation.ObjectAnimationUsingKeyFrames>.</span></span> <span data-ttu-id="31fcb-185">Protože je slabě typované, <xref:System.Windows.Media.Animation.ObjectAnimationUsingKeyFrames> můžete animace jakýkoli typ hodnoty.</span><span class="sxs-lookup"><span data-stu-id="31fcb-185">Because it is weakly typed, an <xref:System.Windows.Media.Animation.ObjectAnimationUsingKeyFrames> can animate any type of value.</span></span> <span data-ttu-id="31fcb-186">Z nevýhod tohoto přístupu je, že <xref:System.Windows.Media.Animation.ObjectAnimationUsingKeyFrames> podporuje pouze diskrétní interpolace.</span><span class="sxs-lookup"><span data-stu-id="31fcb-186">The drawback to this approach is that <xref:System.Windows.Media.Animation.ObjectAnimationUsingKeyFrames> only supports discrete interpolation.</span></span>  
  
<a name="useperframecallback"></a>   
## <a name="use-per-frame-callback"></a><span data-ttu-id="31fcb-187">Použití zpětného volání za rámce</span><span class="sxs-lookup"><span data-stu-id="31fcb-187">Use Per-Frame Callback</span></span>  
 <span data-ttu-id="31fcb-188">Tuto metodu použijte, když potřebujete zcela vynechat [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] systému animace.</span><span class="sxs-lookup"><span data-stu-id="31fcb-188">Use this approach when you need to completely bypass the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] animation system.</span></span> <span data-ttu-id="31fcb-189">Jedním scénářem, tento přístup není fyziky animací, kde v každé animace krok nové směr nebo pozice animovaný objektů musí být přepočítávány na základě poslední sadu objekt interakce.</span><span class="sxs-lookup"><span data-stu-id="31fcb-189">One scenario for this approach is physics animations, where at each animation step a new direction or position of animated objects needs to be recomputed based on the  last set of object interactions.</span></span>  
  
 <span data-ttu-id="31fcb-190">**Pokyny pro implementaci**</span><span class="sxs-lookup"><span data-stu-id="31fcb-190">**Implementation Instructions**</span></span>  
  
 <span data-ttu-id="31fcb-191">Na rozdíl od jiných přístupy popsané v tomto přehledu používat zpětného volání za rámce, nemusíte vytvoření třídy klíčových snímků nebo vlastní animace.</span><span class="sxs-lookup"><span data-stu-id="31fcb-191">Unlike the other approaches described in this overview, to use per-frame callback you don't need to create a custom animation or key frame class.</span></span>  
  
 <span data-ttu-id="31fcb-192">Místo toho můžete zaregistrovat <xref:System.Windows.Media.CompositionTarget.Rendering> události objektu, který obsahuje objekty, které chcete animace.</span><span class="sxs-lookup"><span data-stu-id="31fcb-192">Instead, you register for the <xref:System.Windows.Media.CompositionTarget.Rendering> event of the object that contains the objects you want to animate.</span></span> <span data-ttu-id="31fcb-193">Tato metoda obslužné rutiny události získá volá se jednou za snímek.</span><span class="sxs-lookup"><span data-stu-id="31fcb-193">This event handler method gets called once per frame.</span></span> <span data-ttu-id="31fcb-194">Každý čas, který [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] marshals trvalou vykreslování data ve vizuálním stromu napříč stromu složení metodu obslužné rutiny událostí je volána.</span><span class="sxs-lookup"><span data-stu-id="31fcb-194">Each time that [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] marshals the persisted rendering data in the visual tree across to the composition tree, your event handler method is called.</span></span>  
  
 <span data-ttu-id="31fcb-195">V vaší obslužné rutiny událostí provádět vaší ať výpočty potřebné pro vaše animace ovlivňuje a nastavte vlastnosti objektů, které chcete animace s těmito hodnotami.</span><span class="sxs-lookup"><span data-stu-id="31fcb-195">In your event handler, perform your whatever calculations necessary for your animation effect and set the properties of the objects you want to animate with these values.</span></span>  
  
 <span data-ttu-id="31fcb-196">Získat prezentace době platný snímek, <xref:System.EventArgs> přidružen k této události lze převést jako <xref:System.Windows.Media.RenderingEventArgs>, která poskytnout <xref:System.Windows.Media.RenderingEventArgs.RenderingTime%2A> vlastnost, která vám pomůže získat aktuální snímek je vykreslování čas.</span><span class="sxs-lookup"><span data-stu-id="31fcb-196">To obtain the presentation time of the current frame, the <xref:System.EventArgs> associated with this event can be cast as <xref:System.Windows.Media.RenderingEventArgs>, which provide a <xref:System.Windows.Media.RenderingEventArgs.RenderingTime%2A> property that you can use to obtain the current frame's rendering time.</span></span>  
  
 <span data-ttu-id="31fcb-197">Další informace najdete v tématu <xref:System.Windows.Media.CompositionTarget.Rendering> stránky.</span><span class="sxs-lookup"><span data-stu-id="31fcb-197">For more information, see the <xref:System.Windows.Media.CompositionTarget.Rendering> page.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="31fcb-198">Viz také</span><span class="sxs-lookup"><span data-stu-id="31fcb-198">See Also</span></span>  
 <xref:System.Windows.Media.Animation.AnimationTimeline>  
 <xref:System.Windows.Media.Animation.IKeyFrame>  
 [<span data-ttu-id="31fcb-199">Přehled způsobů animace vlastností</span><span class="sxs-lookup"><span data-stu-id="31fcb-199">Property Animation Techniques Overview</span></span>](../../../../docs/framework/wpf/graphics-multimedia/property-animation-techniques-overview.md)  
 [<span data-ttu-id="31fcb-200">Přehled zablokovatelných objektů</span><span class="sxs-lookup"><span data-stu-id="31fcb-200">Freezable Objects Overview</span></span>](../../../../docs/framework/wpf/advanced/freezable-objects-overview.md)  
 [<span data-ttu-id="31fcb-201">Přehled animací klíčových snímků</span><span class="sxs-lookup"><span data-stu-id="31fcb-201">Key-Frame Animations Overview</span></span>](../../../../docs/framework/wpf/graphics-multimedia/key-frame-animations-overview.md)  
 [<span data-ttu-id="31fcb-202">Přehled animací cesty</span><span class="sxs-lookup"><span data-stu-id="31fcb-202">Path Animations Overview</span></span>](../../../../docs/framework/wpf/graphics-multimedia/path-animations-overview.md)  
 [<span data-ttu-id="31fcb-203">Přehled animace</span><span class="sxs-lookup"><span data-stu-id="31fcb-203">Animation Overview</span></span>](../../../../docs/framework/wpf/graphics-multimedia/animation-overview.md)  
 [<span data-ttu-id="31fcb-204">Přehled animace a systému časování</span><span class="sxs-lookup"><span data-stu-id="31fcb-204">Animation and Timing System Overview</span></span>](../../../../docs/framework/wpf/graphics-multimedia/animation-and-timing-system-overview.md)  
 [<span data-ttu-id="31fcb-205">Ukázka vlastní animace</span><span class="sxs-lookup"><span data-stu-id="31fcb-205">Custom Animation Sample</span></span>](http://go.microsoft.com/fwlink/?LinkID=159981)
