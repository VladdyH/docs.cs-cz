---
title: "Nastavení stylů pro fokus v ovládacích prvcích a FocusVisualStyle"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-wpf
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- keyboard focus [WPF]
- focus [WPF], visual styling
- styles [WPF], focus visual style
ms.assetid: 786ac576-011b-4d72-913b-558deccb9b35
caps.latest.revision: "10"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload: dotnet
ms.openlocfilehash: 4d29fda788aa4ec79ad4278beefa16ee14208832
ms.sourcegitcommit: 16186c34a957fdd52e5db7294f291f7530ac9d24
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 12/22/2017
---
# <a name="styling-for-focus-in-controls-and-focusvisualstyle"></a><span data-ttu-id="28427-102">Nastavení stylů pro fokus v ovládacích prvcích a FocusVisualStyle</span><span class="sxs-lookup"><span data-stu-id="28427-102">Styling for Focus in Controls, and FocusVisualStyle</span></span>
[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)]<span data-ttu-id="28427-103">poskytuje dvě paralelní mechanismy pro změnu vzhled ovládacího prvku, když obdrží fokus klávesnice.</span><span class="sxs-lookup"><span data-stu-id="28427-103"> provides two parallel mechanisms for changing the visual appearance of a control when it receives keyboard focus.</span></span> <span data-ttu-id="28427-104">První mechanizmus se pomocí nastavením vlastností pro vlastnosti, jako například <xref:System.Windows.UIElement.IsKeyboardFocused%2A> v rámci styl nebo šabloně, která se použije k ovládacímu prvku.</span><span class="sxs-lookup"><span data-stu-id="28427-104">The first mechanism is to use property setters for properties such as <xref:System.Windows.UIElement.IsKeyboardFocused%2A> within the style or template that is applied to the control.</span></span> <span data-ttu-id="28427-105">Druhý mechanismus je poskytnout samostatné styl jako hodnotu <xref:System.Windows.FrameworkElement.FocusVisualStyle%2A> vlastnost; "zaměřit vizuální styl" vytvoří samostatné vizuálním stromu pro adorner, který se vykreslí nad ovládacího prvku, nemusíte měnit vizuálním stromu ovládací prvek nebo jiných uživatelského rozhraní Element nahrazením ho.</span><span class="sxs-lookup"><span data-stu-id="28427-105">The second mechanism is to provide a separate style as the value of the <xref:System.Windows.FrameworkElement.FocusVisualStyle%2A> property; the "focus visual style" creates a separate visual tree for an adorner that draws on top of the control, rather than changing the visual tree of the control or other UI element by replacing it.</span></span> <span data-ttu-id="28427-106">Toto téma popisuje scénáře, kde každý z těchto mechanismů je vhodné.</span><span class="sxs-lookup"><span data-stu-id="28427-106">This topic discusses the scenarios where each of these mechanisms is appropriate.</span></span>  
   
  
<a name="Purpose"></a>   
## <a name="the-purpose-of-focus-visual-style"></a><span data-ttu-id="28427-107">Účelem fokus vizuální styl</span><span class="sxs-lookup"><span data-stu-id="28427-107">The Purpose of Focus Visual Style</span></span>  
 <span data-ttu-id="28427-108">Funkce vizuální styl fokusu poskytuje běžné "model objektu" pro představení zpětnou vazbu od uživatelů visual podle navigační klávesnice pro libovolný element uživatelského rozhraní.</span><span class="sxs-lookup"><span data-stu-id="28427-108">The focus visual style feature provides a common "object model" for introducing visual user feedback based on keyboard navigation to any UI element.</span></span> <span data-ttu-id="28427-109">To je možné bez použití novou šablonu pro ovládací prvek nebo znalost složení určité šablony.</span><span class="sxs-lookup"><span data-stu-id="28427-109">This is possible without applying a new template to the control, or knowing the specific template composition.</span></span>  
  
 <span data-ttu-id="28427-110">Přesněji, protože funkce vizuální styl fokusu funguje bez znalosti šablon ovládacích prvků, visual zpětnou vazbu, která lze zobrazit pro ovládacího prvku s použitím vizuální styl fokus je však nutně omezena.</span><span class="sxs-lookup"><span data-stu-id="28427-110">However, precisely because the focus visual style feature works without knowing the control templates, the visual feedback that can be displayed for a control using a focus visual style is necessarily limited.</span></span> <span data-ttu-id="28427-111">Funkci ve skutečnosti jaké je překrytí různých vizuálním stromu (adorner) nad vizuálním stromu jako vytvořené vykreslování ovládacího prvku pomocí jeho šablony.</span><span class="sxs-lookup"><span data-stu-id="28427-111">What the feature actually does is to overlay a different visual tree (an adorner) on top of the visual tree as created by a control's rendering through its template.</span></span> <span data-ttu-id="28427-112">Definování této samostatné vizuálním stromu pomocí styl, který vyplní celé <xref:System.Windows.FrameworkElement.FocusVisualStyle%2A> vlastnost.</span><span class="sxs-lookup"><span data-stu-id="28427-112">You define this separate visual tree using a style that fills the <xref:System.Windows.FrameworkElement.FocusVisualStyle%2A> property.</span></span>  
  
<a name="Default"></a>   
## <a name="default-focus-visual-style-behavior"></a><span data-ttu-id="28427-113">Výchozí chování vizuální styl fokusu</span><span class="sxs-lookup"><span data-stu-id="28427-113">Default Focus Visual Style Behavior</span></span>  
 <span data-ttu-id="28427-114">Vizuální styly fokus fungují jenom v případě, že akce fokus byl inicializován nástrojem klávesnice.</span><span class="sxs-lookup"><span data-stu-id="28427-114">Focus visual styles act only when the focus action was initiated by the keyboard.</span></span> <span data-ttu-id="28427-115">Všechny akce myši nebo změňte programový fokus zakáže režim pro vizuální styly fokus.</span><span class="sxs-lookup"><span data-stu-id="28427-115">Any mouse action or programmatic focus change disables the mode for focus visual styles.</span></span> <span data-ttu-id="28427-116">Další informace o rozdíly mezi režimy fokus najdete v tématu [fokus přehled](../../../../docs/framework/wpf/advanced/focus-overview.md).</span><span class="sxs-lookup"><span data-stu-id="28427-116">For more information about the distinctions between focus modes, see [Focus Overview](../../../../docs/framework/wpf/advanced/focus-overview.md).</span></span>  
  
 <span data-ttu-id="28427-117">Motivy pro ovládací prvky zahrnují výchozí chování vizuální styl fokus, který se stane fokus vizuální styl pro všechny ovládací prvky v motivu.</span><span class="sxs-lookup"><span data-stu-id="28427-117">The themes for controls include a default focus visual style behavior that becomes the focus visual style for all controls in the theme.</span></span> <span data-ttu-id="28427-118">Tento styl motiv je identifikována hodnota statické klíče <xref:System.Windows.SystemParameters.FocusVisualStyleKey%2A>.</span><span class="sxs-lookup"><span data-stu-id="28427-118">This theme style is identified by the value of the static key <xref:System.Windows.SystemParameters.FocusVisualStyleKey%2A>.</span></span> <span data-ttu-id="28427-119">Pokud je deklarovat vlastní vizuální styl fokus na úrovni aplikace, je nahradit toto výchozí chování styl z motivů.</span><span class="sxs-lookup"><span data-stu-id="28427-119">When you declare your own focus visual style at the application level, you replace this default style behavior from the themes.</span></span> <span data-ttu-id="28427-120">Případně pokud definujete celý motiv, doporučujeme, abyste používali stejný klíč k definování styl pro výchozí chování pro vaši celou motiv.</span><span class="sxs-lookup"><span data-stu-id="28427-120">Alternatively, if you define the entire theme, then you should use this same key to define the style for the default behavior for your entire theme.</span></span>  
  
 <span data-ttu-id="28427-121">V motivy je obecně velmi jednoduchý vizuální styl výchozí fokus.</span><span class="sxs-lookup"><span data-stu-id="28427-121">In the themes, the default focus visual style is generally very simple.</span></span> <span data-ttu-id="28427-122">Toto je hrubý aproximace:</span><span class="sxs-lookup"><span data-stu-id="28427-122">The following is a rough approximation:</span></span>  
  
```  
<Style x:Key="{x:Static SystemParameters.FocusVisualStyleKey}">  
  <Setter Property="Control.Template">  
    <Setter.Value>  
      <ControlTemplate>  
        <Rectangle StrokeThickness="1"  
          Stroke="Black"  
          StrokeDashArray="1 2"  
          SnapsToDevicePixels="true"/>  
      </ControlTemplate>  
    </Setter.Value>  
  </Setter>  
</Style>  
```  
  
<a name="When"></a>   
## <a name="when-to-use-focus-visual-styles"></a><span data-ttu-id="28427-123">Kdy použít fokus vizuální styly</span><span class="sxs-lookup"><span data-stu-id="28427-123">When to Use Focus Visual Styles</span></span>  
 <span data-ttu-id="28427-124">Koncepčně vzhled fokus vizuální styly aplikovat na ovládací prvky měla být v souladu ovládací.</span><span class="sxs-lookup"><span data-stu-id="28427-124">Conceptually, the appearance of focus visual styles applied to controls should be coherent from control to control.</span></span> <span data-ttu-id="28427-125">Jeden způsob, jak zajistit soulad se má změnit zaměření vizuální styl jenom v případě, že jsou skládání celý motiv, kde každý ovládací prvek, který je definován v motivu získá velmi stejné vizuální styl fokus nebo některé variace styl, se vztahuje vizuálně z ovládacího prvku na potřeba Karta.</span><span class="sxs-lookup"><span data-stu-id="28427-125">One way to ensure coherence is to change the focus visual style only if you are composing an entire theme, where each control that is defined in the theme gets either the very same focus visual style, or some variation of a style that is visually related from control to control.</span></span> <span data-ttu-id="28427-126">Alternativně můžete použít stejný styl (nebo podobné styly) k úpravě stylu každý element, může získat fokus klávesnice na stránce nebo v uživatelského rozhraní.</span><span class="sxs-lookup"><span data-stu-id="28427-126">Alternatively, you might use the same style (or similar styles) to style every keyboard-focusable element on a page or in a UI.</span></span>  
  
 <span data-ttu-id="28427-127">Nastavení <xref:System.Windows.FrameworkElement.FocusVisualStyle%2A> na styly jednotlivých ovládacích prvků, které nejsou součástí motiv není zamýšlené použití fokus vizuální styly.</span><span class="sxs-lookup"><span data-stu-id="28427-127">Setting <xref:System.Windows.FrameworkElement.FocusVisualStyle%2A> on individual control styles that are not part of a theme is not the intended usage of focus visual styles.</span></span> <span data-ttu-id="28427-128">To je proto nekonzistentní visual chování mezi ovládacími prvky může vést k matoucí činnost koncového uživatele o fokus klávesnice.</span><span class="sxs-lookup"><span data-stu-id="28427-128">This is because an inconsistent visual behavior between controls can lead to a confusing user experience regarding keyboard focus.</span></span> <span data-ttu-id="28427-129">Pokud jsou záměrné chování specifické pro ovládací prvek pro fokus klávesnice, které nejsou záměrně souvislý napříč motiv, mnohem lepší přístup je použití aktivační události v styly pro jednotlivé vstupní stav vlastnosti, jako například <xref:System.Windows.UIElement.IsFocused%2A> nebo <xref:System.Windows.UIElement.IsKeyboardFocused%2A>.</span><span class="sxs-lookup"><span data-stu-id="28427-129">If you are intending control-specific behaviors for keyboard focus that are deliberately not coherent across a theme, a much better approach is to use triggers in styles for individual input state properties, such as <xref:System.Windows.UIElement.IsFocused%2A> or <xref:System.Windows.UIElement.IsKeyboardFocused%2A>.</span></span>  
  
 <span data-ttu-id="28427-130">Vizuální styly fokus slouží výhradně pro fokus klávesnice.</span><span class="sxs-lookup"><span data-stu-id="28427-130">Focus visual styles act exclusively for keyboard focus.</span></span> <span data-ttu-id="28427-131">Vizuální styly fokus jako takový jsou typ funkce usnadnění přístupu.</span><span class="sxs-lookup"><span data-stu-id="28427-131">As such, focus visual styles are a type of accessibility feature.</span></span> <span data-ttu-id="28427-132">Pokud chcete změny uživatelského rozhraní pro jakýkoli typ fokus, zda pomocí myši, klávesnice, nebo prostřednictvím kódu programu, pak můžete neměli používat fokus vizuální styly a místo toho používejte setter a aktivační události v styly nebo šablony, které pracují z hodnoty vlastnosti Obecné fokus například `IsFocused` nebo `IsFocusWithin`.</span><span class="sxs-lookup"><span data-stu-id="28427-132">If you want UI changes for any type of focus, whether via mouse, keyboard, or programmatically, then you should not use focus visual styles, and should instead use setters and triggers in styles or templates that are working from the value of general focus properties such as `IsFocused` or `IsFocusWithin`.</span></span>  
  
<a name="How"></a>   
## <a name="how-to-create-a-focus-visual-style"></a><span data-ttu-id="28427-133">Postup vytvoření vizuální styl fokusu</span><span class="sxs-lookup"><span data-stu-id="28427-133">How to Create a Focus Visual Style</span></span>  
 <span data-ttu-id="28427-134">Styl vytvoříte pro vizuální styl fokus měli mít vždy <xref:System.Windows.Style.TargetType%2A> z <xref:System.Windows.Controls.Control>.</span><span class="sxs-lookup"><span data-stu-id="28427-134">The style you create for a focus visual style should always have the <xref:System.Windows.Style.TargetType%2A> of <xref:System.Windows.Controls.Control>.</span></span> <span data-ttu-id="28427-135">Styl by měla obsahovat především <xref:System.Windows.Controls.ControlTemplate>.</span><span class="sxs-lookup"><span data-stu-id="28427-135">The style should consist mainly of a <xref:System.Windows.Controls.ControlTemplate>.</span></span> <span data-ttu-id="28427-136">Nezadávejte cílový typ má být typ, kde je přiřazena vizuální styl fokus <xref:System.Windows.FrameworkElement.FocusVisualStyle%2A>.</span><span class="sxs-lookup"><span data-stu-id="28427-136">You do not specify the target type to be the type where the focus visual style is assigned to the <xref:System.Windows.FrameworkElement.FocusVisualStyle%2A>.</span></span>  
  
 <span data-ttu-id="28427-137">Vzhledem k tomu, že cílový typ je vždy <xref:System.Windows.Controls.Control>, musí styl pomocí vlastností, které jsou společné pro všechny ovládací prvky (pomocí vlastnosti <xref:System.Windows.Controls.Control> třídy a jejích základních tříd).</span><span class="sxs-lookup"><span data-stu-id="28427-137">Because the target type is always <xref:System.Windows.Controls.Control>, you must style by using properties that are common to all controls (using properties of the <xref:System.Windows.Controls.Control> class and its base classes).</span></span> <span data-ttu-id="28427-138">Měli byste vytvořit šablonu, která bude správně fungovat jako překrytí k prvku uživatelského rozhraní a která nebude skrývat funkčním oblastem ovládacího prvku.</span><span class="sxs-lookup"><span data-stu-id="28427-138">You should create a template that will properly function as an overlay to a UI element and that will not obscure functional areas of the control.</span></span> <span data-ttu-id="28427-139">Obecně platí to znamená, že vizuální zpětnou vazbu by se měla objevit mimo okraje ovládací prvek, nebo jako dočasné nebo nerušivý účinky, které nebude blokovat přístupů testování v ovládacím prvku kde se použije vizuální styl fokus.</span><span class="sxs-lookup"><span data-stu-id="28427-139">Generally, this means that the visual feedback should appear outside the control margins, or as temporary or unobtrusive effects that will not block the hit testing on the control where the focus visual style is applied.</span></span> <span data-ttu-id="28427-140">Vlastnosti, které můžete použít v šabloně vazby, které jsou užitečné pro určení Změna velikosti a rozmístění překrytí šablony zahrnují <xref:System.Windows.FrameworkElement.ActualHeight%2A>, <xref:System.Windows.FrameworkElement.ActualWidth%2A>, <xref:System.Windows.FrameworkElement.Margin%2A>, a <xref:System.Windows.Controls.Control.Padding%2A>.</span><span class="sxs-lookup"><span data-stu-id="28427-140">Properties that you can use in template binding that are useful for determining sizing and positioning of your overlay template include <xref:System.Windows.FrameworkElement.ActualHeight%2A>, <xref:System.Windows.FrameworkElement.ActualWidth%2A>, <xref:System.Windows.FrameworkElement.Margin%2A>, and <xref:System.Windows.Controls.Control.Padding%2A>.</span></span>  
  
<a name="Alternatives"></a>   
## <a name="alternatives-to-using-a-focus-visual-style"></a><span data-ttu-id="28427-141">Alternativy k používání vizuální styl fokusu</span><span class="sxs-lookup"><span data-stu-id="28427-141">Alternatives to Using a Focus Visual Style</span></span>  
 <span data-ttu-id="28427-142">V situacích, kde pomocí vizuální styl fokus není vhodný, buď protože jsou pouze styly jeden ovládací prvky, nebo protože chcete, aby větší kontrolu nad šablonu ovládacího prvku existuje mnoho dalších dostupné vlastnosti a techniky, které můžete vytvořit visual chování v reakci na změny v fokus.</span><span class="sxs-lookup"><span data-stu-id="28427-142">For situations where using a focus visual style is not appropriate, either because you are only styling single controls or because you want greater control over the control template, there are many other accessible properties and techniques that can create visual behavior in response to changes in focus.</span></span>  
  
 <span data-ttu-id="28427-143">Aktivační události, setter a událostí nastavení jsou všechny podrobněji v [stylů a ukázka](../../../../docs/framework/wpf/controls/styling-and-templating.md).</span><span class="sxs-lookup"><span data-stu-id="28427-143">Triggers, setters, and event setters are all discussed in detail in [Styling and Templating](../../../../docs/framework/wpf/controls/styling-and-templating.md).</span></span> <span data-ttu-id="28427-144">Zpracování událostí směrován je popsána v [směrovány Přehled událostí](../../../../docs/framework/wpf/advanced/routed-events-overview.md).</span><span class="sxs-lookup"><span data-stu-id="28427-144">Routed event handling is discussed in [Routed Events Overview](../../../../docs/framework/wpf/advanced/routed-events-overview.md).</span></span>  
  
### <a name="iskeyboardfocused"></a><span data-ttu-id="28427-145">IsKeyboardFocused</span><span class="sxs-lookup"><span data-stu-id="28427-145">IsKeyboardFocused</span></span>  
 <span data-ttu-id="28427-146">Pokud vás zajímá konkrétně v fokus klávesnice <xref:System.Windows.UIElement.IsKeyboardFocused%2A> vlastnost závislosti lze použít pro vlastnost <xref:System.Windows.Trigger>.</span><span class="sxs-lookup"><span data-stu-id="28427-146">If you are specifically interested in keyboard focus, the <xref:System.Windows.UIElement.IsKeyboardFocused%2A> dependency property can be used for a property <xref:System.Windows.Trigger>.</span></span> <span data-ttu-id="28427-147">Aktivační událost vlastností ve stylu nebo šablonu je vhodnější technika pro definování chování fokus klávesnice, je velmi speciálně pro jeden ovládací prvek a který nemusí odpovídat vizuálně chování fokus klávesnice pro další ovládací prvky.</span><span class="sxs-lookup"><span data-stu-id="28427-147">A property trigger in either a style or template is a more appropriate technique for defining a keyboard focus behavior that is very specifically for a single control, and which might not visually match the keyboard focus behavior for other controls.</span></span>  
  
 <span data-ttu-id="28427-148">Jiné podobné vlastnost závislosti je <xref:System.Windows.UIElement.IsKeyboardFocusWithin%2A>, což může být vhodné k použití, pokud chcete vizuálně vyvolávající této fokus klávesnice je někde v rámci skládání nebo funkční oblast ovládacího prvku.</span><span class="sxs-lookup"><span data-stu-id="28427-148">Another similar dependency property is <xref:System.Windows.UIElement.IsKeyboardFocusWithin%2A>, which might be appropriate to use if you want to visually call out that keyboard focus is somewhere within compositing or within the functional area of the control.</span></span> <span data-ttu-id="28427-149">Například může dojít <xref:System.Windows.UIElement.IsKeyboardFocusWithin%2A> aktivační události tak, aby panel, který seskupuje několik ovládacích prvků se zobrazuje odlišně, i když fokus klávesnice přesněji může být na jednotlivý prvek v rámci tohoto panelu.</span><span class="sxs-lookup"><span data-stu-id="28427-149">For example, you might place an <xref:System.Windows.UIElement.IsKeyboardFocusWithin%2A> trigger such that a panel that groups several controls appears differently, even though keyboard focus might more precisely be on an individual element within that panel.</span></span>  
  
 <span data-ttu-id="28427-150">Můžete také události <xref:System.Windows.UIElement.GotKeyboardFocus> a <xref:System.Windows.UIElement.LostKeyboardFocus> (i jejich ekvivalenty u Preview).</span><span class="sxs-lookup"><span data-stu-id="28427-150">You can also use the events <xref:System.Windows.UIElement.GotKeyboardFocus> and <xref:System.Windows.UIElement.LostKeyboardFocus> (as well as their Preview equivalents).</span></span> <span data-ttu-id="28427-151">Tyto události můžete použít jako základ pro <xref:System.Windows.EventSetter>, nebo můžete napsat obslužné rutiny události v kódu.</span><span class="sxs-lookup"><span data-stu-id="28427-151">You can use these events as the basis for an <xref:System.Windows.EventSetter>, or you can write handlers for the events in code-behind.</span></span>  
  
### <a name="other-focus-properties"></a><span data-ttu-id="28427-152">Ostatní vlastnosti fokusu</span><span class="sxs-lookup"><span data-stu-id="28427-152">Other Focus Properties</span></span>  
 <span data-ttu-id="28427-153">Pokud chcete, aby všechny možné příčiny změny fokus dosaženo visual chování, by měla základní setter nebo aktivovat na <xref:System.Windows.UIElement.IsFocused%2A> vlastnost závislosti, případně na <xref:System.Windows.UIElement.GotFocus> nebo <xref:System.Windows.UIElement.LostFocus> události použité pro <xref:System.Windows.EventSetter>.</span><span class="sxs-lookup"><span data-stu-id="28427-153">If you want all possible causes of changing focus to produce a visual behavior, you should base a setter or trigger on the <xref:System.Windows.UIElement.IsFocused%2A> dependency property, or alternatively on the <xref:System.Windows.UIElement.GotFocus> or <xref:System.Windows.UIElement.LostFocus> events used for an <xref:System.Windows.EventSetter>.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="28427-154">Viz také</span><span class="sxs-lookup"><span data-stu-id="28427-154">See Also</span></span>  
 <xref:System.Windows.FrameworkElement.FocusVisualStyle%2A>  
 [<span data-ttu-id="28427-155">Styly a šablony</span><span class="sxs-lookup"><span data-stu-id="28427-155">Styling and Templating</span></span>](../../../../docs/framework/wpf/controls/styling-and-templating.md)  
 [<span data-ttu-id="28427-156">Přehled fokusu</span><span class="sxs-lookup"><span data-stu-id="28427-156">Focus Overview</span></span>](../../../../docs/framework/wpf/advanced/focus-overview.md)  
 [<span data-ttu-id="28427-157">Přehled vstupu</span><span class="sxs-lookup"><span data-stu-id="28427-157">Input Overview</span></span>](../../../../docs/framework/wpf/advanced/input-overview.md)
