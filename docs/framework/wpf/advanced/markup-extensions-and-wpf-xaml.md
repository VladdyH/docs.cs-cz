---
title: "Rozšíření značek a WPF XAML"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-wpf
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- brace character [WPF]
- Binding markup extensions [WPF]
- RelativeSource markup extensions [WPF]
- XAML [WPF], markup extensions
- markup extensions [WPF]
- nesting extension syntax [WPF]
- curly brace characters ({})
- TemplateBinding markup extensions [WPF]
- StaticResource markup extensions [WPF]
- literal curly brace characters ({})
- characters [WPF], curly brace
- DynamicResource markup extensions [WPF]
ms.assetid: 618dc745-8b14-4886-833f-486d2254bb78
caps.latest.revision: "26"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload: dotnet
ms.openlocfilehash: 5e6dec42d40039f9cc23ba976ecf421f6471888e
ms.sourcegitcommit: 16186c34a957fdd52e5db7294f291f7530ac9d24
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 12/22/2017
---
# <a name="markup-extensions-and-wpf-xaml"></a><span data-ttu-id="291a8-102">Rozšíření značek a WPF XAML</span><span class="sxs-lookup"><span data-stu-id="291a8-102">Markup Extensions and WPF XAML</span></span>
<span data-ttu-id="291a8-103">Toto téma zavádí koncepci rozšíření značek pro jazyk XAML, včetně jejich syntaxe pravidel, účel a objektový model třídy, který je základem je.</span><span class="sxs-lookup"><span data-stu-id="291a8-103">This topic introduces the concept of markup extensions for XAML, including their syntax rules, purpose, and the class object model that underlies them.</span></span> <span data-ttu-id="291a8-104">Rozšíření značek jsou obecné funkce jazyka XAML a implementace rozhraní .NET XAML services.</span><span class="sxs-lookup"><span data-stu-id="291a8-104">Markup extensions are a general feature of the XAML language and of the .NET implementation of XAML services.</span></span> <span data-ttu-id="291a8-105">Toto téma konkrétně podrobnosti rozšíření značek pro použití v jazyce XAML WPF.</span><span class="sxs-lookup"><span data-stu-id="291a8-105">This topic specifically details markup extensions for use in WPF XAML.</span></span>  
  
  
<a name="XAML_Processors_and_Markup_Extensions"></a>   
## <a name="xaml-processors-and-markup-extensions"></a><span data-ttu-id="291a8-106">Procesory XAML a rozšíření značek</span><span class="sxs-lookup"><span data-stu-id="291a8-106">XAML Processors and Markup Extensions</span></span>  
 <span data-ttu-id="291a8-107">Obecně řečeno XAML můžete buď analyzátor hodnota atributu jako řetězcový literál, který může být převeden na primitivní, nebo ho převést na objekt některé prostředky.</span><span class="sxs-lookup"><span data-stu-id="291a8-107">Generally speaking, a XAML parser can either interpret an attribute value as a literal string that can be converted to a primitive, or convert it to an object by some means.</span></span> <span data-ttu-id="291a8-108">Jedním z takových prostředků je odkazem převaděče typů; To je najdete v tématu [TypeConverters a XAML](../../../../docs/framework/wpf/advanced/typeconverters-and-xaml.md).</span><span class="sxs-lookup"><span data-stu-id="291a8-108">One such means is by referencing a type converter; this is documented in the topic [TypeConverters and XAML](../../../../docs/framework/wpf/advanced/typeconverters-and-xaml.md).</span></span> <span data-ttu-id="291a8-109">Existují však scénáře, kdy je potřeba různé chování.</span><span class="sxs-lookup"><span data-stu-id="291a8-109">However, there are scenarios where different behavior is required.</span></span> <span data-ttu-id="291a8-110">Například může být nastavena na procesor XAML, že by se neměly zobrazit hodnotu atributu nový objekt v grafu objektů.</span><span class="sxs-lookup"><span data-stu-id="291a8-110">For example, a XAML processor can be instructed that a value of an attribute should not result in a new object in the object graph.</span></span> <span data-ttu-id="291a8-111">Místo toho atribut by měl mít za následek grafu objektu, který vytvoří odkaz na objekt již vytvořený v jiné části grafu nebo statický objekt.</span><span class="sxs-lookup"><span data-stu-id="291a8-111">Instead, the attribute should result in an object graph that makes a reference to an already constructed object in another part of the graph, or a static object.</span></span> <span data-ttu-id="291a8-112">Další možností je, že procesor XAML můžete pokyn k použití syntaxe, který obsahuje jiné než výchozí argumenty pro konstruktor objektu.</span><span class="sxs-lookup"><span data-stu-id="291a8-112">Another scenario is that a XAML processor can be instructed to use a syntax that provides non-default arguments to the constructor of an object.</span></span> <span data-ttu-id="291a8-113">Toto jsou typy scénáře, kde můžete rozšíření značek poskytovat řešení.</span><span class="sxs-lookup"><span data-stu-id="291a8-113">These are the types of scenarios where a markup extension can provide the solution.</span></span>  
  
<a name="Basic_Markup_Extension_Syntax"></a>   
## <a name="basic-markup-extension-syntax"></a><span data-ttu-id="291a8-114">Syntaxe rozšíření základní značek</span><span class="sxs-lookup"><span data-stu-id="291a8-114">Basic Markup Extension Syntax</span></span>  
 <span data-ttu-id="291a8-115">Rozšíření značek se dá implementovat zadat hodnoty pro vlastnosti využití atribut, vlastnosti v použití elementu vlastnosti, nebo obojí.</span><span class="sxs-lookup"><span data-stu-id="291a8-115">A markup extension can be implemented to provide values for properties in an attribute usage, properties in a property element usage, or both.</span></span>  
  
 <span data-ttu-id="291a8-116">Pokud se použije k poskytování hodnota atributu, syntaxe, která rozlišuje posloupnost rozšíření značek pro jazyk XAML procesor, které je přítomnost levou a pravou složené závorky ({a}).</span><span class="sxs-lookup"><span data-stu-id="291a8-116">When used to provide an attribute value, the syntax that distinguishes a markup extension sequence to a XAML processor is the presence of the opening and closing curly braces ({ and }).</span></span> <span data-ttu-id="291a8-117">Typ rozšíření značek je pak identifikována token řetězcového okamžitě po otevření složené závorky.</span><span class="sxs-lookup"><span data-stu-id="291a8-117">The type of markup extension is then identified by the string token immediately following the opening curly brace.</span></span>  
  
 <span data-ttu-id="291a8-118">Pokud se použije v syntaxi element vlastnost, rozšíření značek je vizuálně stejný jako jakýkoli další prvek použitý k poskytnutí hodnotu vlastnosti element: deklarace element XAML, který odkazuje na třídu rozšíření značek jako element uzavřené v lomených závorkách (<> ).</span><span class="sxs-lookup"><span data-stu-id="291a8-118">When used in property element syntax, a markup extension is visually the same as any other element used to provide a property element value: a XAML element declaration that references the markup extension class as an element, enclosed within angle brackets (<>).</span></span>  
  
<a name="XAML_Defined_Markup_Extensions"></a>   
## <a name="xaml-defined-markup-extensions"></a><span data-ttu-id="291a8-119">Rozšíření značek definovaný XAML</span><span class="sxs-lookup"><span data-stu-id="291a8-119">XAML-Defined Markup Extensions</span></span>  
 <span data-ttu-id="291a8-120">Několik rozšíření značek existují, které nejsou specifické pro implementaci WPF XAML, ale místo toho budou implementace vnitřní objekty nebo funkce jazyka XAML jako jazyk.</span><span class="sxs-lookup"><span data-stu-id="291a8-120">Several markup extensions exist that are not specific to the WPF implementation of XAML, but are instead implementations of intrinsics or features of XAML as a language.</span></span> <span data-ttu-id="291a8-121">Tato rozšíření značek jsou implementované v sestavení System.Xaml jako součást obecné rozhraní .NET Framework XAML services a jsou v rámci oboru názvů jazyka XAML XAML.</span><span class="sxs-lookup"><span data-stu-id="291a8-121">These markup extensions are implemented in the System.Xaml assembly as part of the general .NET Framework XAML services, and are within the XAML language XAML namespace.</span></span> <span data-ttu-id="291a8-122">Z hlediska běžné použití značek, jsou obvykle poznáte ho podle těchto rozšíření značek `x:` předponu využití.</span><span class="sxs-lookup"><span data-stu-id="291a8-122">In terms of common markup usage, these markup extensions are typically identifiable by the `x:` prefix in the usage.</span></span> <span data-ttu-id="291a8-123"><xref:System.Windows.Markup.MarkupExtension> Vzor, který všechna rozšíření značek by měly používat, aby byla podporována v XAML čtení a zápis XAML, včetně v jazyce XAML WPF poskytuje základní třídu (také definovanou v System.Xaml).</span><span class="sxs-lookup"><span data-stu-id="291a8-123">The <xref:System.Windows.Markup.MarkupExtension> base class (also defined in System.Xaml) provides the pattern that all markup extensions should use in order to be supported in XAML readers and XAML writers, including in WPF XAML.</span></span>  
  
-   <span data-ttu-id="291a8-124">`x:Type`poskytuje <xref:System.Type> objektu pro typ s názvem.</span><span class="sxs-lookup"><span data-stu-id="291a8-124">`x:Type` supplies the <xref:System.Type> object for the named type.</span></span> <span data-ttu-id="291a8-125">Pokud tuto funkci se nejčastěji používá v styly a šablony.</span><span class="sxs-lookup"><span data-stu-id="291a8-125">This facility is used most frequently in styles and templates.</span></span> <span data-ttu-id="291a8-126">Podrobnosti najdete v tématu [x: Type – rozšíření značek](../../../../docs/framework/xaml-services/x-type-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="291a8-126">For details, see [x:Type Markup Extension](../../../../docs/framework/xaml-services/x-type-markup-extension.md).</span></span>  
  
-   <span data-ttu-id="291a8-127">`x:Static`Vytvoří statické hodnoty.</span><span class="sxs-lookup"><span data-stu-id="291a8-127">`x:Static` produces static values.</span></span> <span data-ttu-id="291a8-128">Hodnoty pocházejí z entity kód typ hodnoty, které nejsou přímo typ hodnoty vlastnost target, ale lze vyhodnotit na typu.</span><span class="sxs-lookup"><span data-stu-id="291a8-128">The values come from value-type code entities that are not directly the type of a target property's value, but can be evaluated to that type.</span></span> <span data-ttu-id="291a8-129">Podrobnosti najdete v tématu [x: Static – rozšíření značek](../../../../docs/framework/xaml-services/x-static-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="291a8-129">For details, see [x:Static Markup Extension](../../../../docs/framework/xaml-services/x-static-markup-extension.md).</span></span>  
  
-   <span data-ttu-id="291a8-130">`x:Null`Určuje `null` jako hodnotu pro vlastnost a dá se použít buď pro atributy nebo element hodnot vlastností.</span><span class="sxs-lookup"><span data-stu-id="291a8-130">`x:Null` specifies `null` as a value for a property and can be used either for attributes or property element values.</span></span> <span data-ttu-id="291a8-131">Podrobnosti najdete v tématu [x: Null – rozšíření značek](../../../../docs/framework/xaml-services/x-null-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="291a8-131">For details, see [x:Null Markup Extension](../../../../docs/framework/xaml-services/x-null-markup-extension.md).</span></span>  
  
-   <span data-ttu-id="291a8-132">`x:Array`poskytuje podporu pro vytvoření obecné pole v jazyce XAML syntaxi pro případy, kdy kolekce podporu poskytuje základní prvky WPF a modely ovládací prvek je úmyslně nepoužívá.</span><span class="sxs-lookup"><span data-stu-id="291a8-132">`x:Array` provides support for creation of general arrays in XAML syntax, for cases where the collection support provided by WPF base elements and control models is deliberately not used.</span></span> <span data-ttu-id="291a8-133">Podrobnosti najdete v tématu [x: Array – rozšíření značek](../../../../docs/framework/xaml-services/x-array-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="291a8-133">For details, see [x:Array Markup Extension](../../../../docs/framework/xaml-services/x-array-markup-extension.md).</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="291a8-134">`x:` Předpona se používá pro typické mapování oboru názvů jazyka XAML XAML vnitřní jazyk funkce v kořenovém elementu souboru XAML nebo produkční.</span><span class="sxs-lookup"><span data-stu-id="291a8-134">The `x:` prefix is used for the typical XAML namespace mapping of the XAML language intrinsics, in the root element of a XAML file or production.</span></span> <span data-ttu-id="291a8-135">Například [!INCLUDE[vs_current_short](../../../../includes/vs-current-short-md.md)] zahájit soubor XAML pomocí této šablony pro aplikace WPF `x:` mapování.</span><span class="sxs-lookup"><span data-stu-id="291a8-135">For example, the [!INCLUDE[vs_current_short](../../../../includes/vs-current-short-md.md)] templates for WPF applications initiate a XAML file using this `x:` mapping.</span></span> <span data-ttu-id="291a8-136">Může zvolit jinou předponu token v vlastní mapování oboru názvů jazyka XAML, ale tato dokumentace bude předpokládat výchozí `x:` mapování jako prostředek identifikace tyto entity, které jsou definované součástí oboru názvů jazyka XAML pro jazyk XAML, na rozdíl od svazků k WPF výchozí obor názvů nebo další obory názvů jazyka XAML nesouvisí s konkrétní rozhraní.</span><span class="sxs-lookup"><span data-stu-id="291a8-136">You could choose a different prefix token in your own XAML namespace mapping, but this documentation will assume the default `x:` mapping as a means of identifying those entities that are a defined part of the XAML namespace for the XAML language, as opposed to the WPF default namespace or other XAML namespaces not related to a specific framework.</span></span>  
  
<a name="WPF_Specific_Markup_Extensions"></a>   
## <a name="wpf-specific-markup-extensions"></a><span data-ttu-id="291a8-137">Rozšíření značek specifické pro grafický subsystém WPF</span><span class="sxs-lookup"><span data-stu-id="291a8-137">WPF-Specific Markup Extensions</span></span>  
 <span data-ttu-id="291a8-138">Nejběžnější rozšíření značek použít při programování WPF jsou ty, které podporují prostředků odkazy (`StaticResource` a `DynamicResource`) a ty, které podporují datová vazba (`Binding`).</span><span class="sxs-lookup"><span data-stu-id="291a8-138">The most common markup extensions used in WPF programming are those that support resource references (`StaticResource` and `DynamicResource`), and those that support data binding (`Binding`).</span></span>  
  
-   <span data-ttu-id="291a8-139">`StaticResource`poskytuje hodnotu pro vlastnost, přičemž nahradí hodnotu prostředek už definované.</span><span class="sxs-lookup"><span data-stu-id="291a8-139">`StaticResource` provides a value for a property by substituting the value of an already defined resource.</span></span> <span data-ttu-id="291a8-140">A `StaticResource` vyhodnocení nemá přístup do grafu, pro objekt v době běhu a nakonec poskytnuty čas načítání XAML.</span><span class="sxs-lookup"><span data-stu-id="291a8-140">A `StaticResource` evaluation is ultimately made at XAML load time and does not have access to the object graph at run time.</span></span> <span data-ttu-id="291a8-141">Podrobnosti najdete v tématu [StaticResource – rozšíření značek](../../../../docs/framework/wpf/advanced/staticresource-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="291a8-141">For details, see [StaticResource Markup Extension](../../../../docs/framework/wpf/advanced/staticresource-markup-extension.md).</span></span>  
  
-   <span data-ttu-id="291a8-142">`DynamicResource`poskytuje hodnotu pro vlastnost rozlišením tuto hodnotu na spuštění odkaz na prostředek.</span><span class="sxs-lookup"><span data-stu-id="291a8-142">`DynamicResource` provides a value for a property by deferring that value to be a run-time reference to a resource.</span></span> <span data-ttu-id="291a8-143">Odkaz na dynamické prostředků vynutí nové vyhledávání pokaždé, když, takový prostředek přistupuje a měl přístup ke grafu objektů za běhu.</span><span class="sxs-lookup"><span data-stu-id="291a8-143">A dynamic resource reference forces a new lookup each time that such a resource is accessed and has access to the object graph at run time.</span></span> <span data-ttu-id="291a8-144">Chcete-li získat tento přístup `DynamicResource` koncept podporuje vlastností závislostí v systému vlastnost WPF a vyhodnocení výrazů.</span><span class="sxs-lookup"><span data-stu-id="291a8-144">In order to get this access, `DynamicResource` concept is supported by dependency properties in the WPF property system, and evaluated expressions.</span></span> <span data-ttu-id="291a8-145">Proto můžete použít pouze `DynamicResource` pro cílovou vlastnost závislosti.</span><span class="sxs-lookup"><span data-stu-id="291a8-145">Therefore you can only use `DynamicResource` for a dependency property target.</span></span> <span data-ttu-id="291a8-146">Podrobnosti najdete v tématu [DynamicResource – rozšíření značek](../../../../docs/framework/wpf/advanced/dynamicresource-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="291a8-146">For details, see [DynamicResource Markup Extension](../../../../docs/framework/wpf/advanced/dynamicresource-markup-extension.md).</span></span>  
  
-   <span data-ttu-id="291a8-147">`Binding`poskytuje že data vázaná hodnota pro vlastnost, pomocí kontextu dat, která platí pro nadřazený objekt v době běhu.</span><span class="sxs-lookup"><span data-stu-id="291a8-147">`Binding` provides a data bound value for a property, using the data context that applies to the parent object at run time.</span></span> <span data-ttu-id="291a8-148">Toto rozšíření značek je poměrně složité, protože umožňuje výrazně vložené syntaxe pro určení datová vazba.</span><span class="sxs-lookup"><span data-stu-id="291a8-148">This markup extension is relatively complex, because it enables a substantial inline syntax for specifying a data binding.</span></span> <span data-ttu-id="291a8-149">Podrobnosti najdete v tématu [vazby – rozšíření značek](../../../../docs/framework/wpf/advanced/binding-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="291a8-149">For details, see [Binding Markup Extension](../../../../docs/framework/wpf/advanced/binding-markup-extension.md).</span></span>  
  
-   <span data-ttu-id="291a8-150">`RelativeSource`poskytuje informace o zdroji pro <xref:System.Windows.Data.Binding> , můžete přejít několik možných relací ve stromové struktuře běhového objektu.</span><span class="sxs-lookup"><span data-stu-id="291a8-150">`RelativeSource` provides source information for a <xref:System.Windows.Data.Binding> that can navigate several possible relationships in the run-time object tree.</span></span> <span data-ttu-id="291a8-151">To poskytuje specializované sourcing u vazeb, které jsou vytvořena v rámci více použití šablon nebo v kódu bez úplné znalosti okolního stromu objektů.</span><span class="sxs-lookup"><span data-stu-id="291a8-151">This provides specialized sourcing for bindings that are created in multi-use templates or created in code without full knowledge of the surrounding object tree.</span></span> <span data-ttu-id="291a8-152">Podrobnosti najdete v tématu [RelativeSource MarkupExtension](../../../../docs/framework/wpf/advanced/relativesource-markupextension.md).</span><span class="sxs-lookup"><span data-stu-id="291a8-152">For details, see [RelativeSource MarkupExtension](../../../../docs/framework/wpf/advanced/relativesource-markupextension.md).</span></span>  
  
-   <span data-ttu-id="291a8-153">`TemplateBinding`umožňuje řízení šablonu, která má použít pro šablonované vlastnosti, které pocházejí z objektu modelu definované vlastnosti třídy, která bude použita šablona hodnoty.</span><span class="sxs-lookup"><span data-stu-id="291a8-153">`TemplateBinding` enables a control template to use values for templated properties that come from object-model-defined properties of the class that will use the template.</span></span> <span data-ttu-id="291a8-154">Jinými slovy vlastnost v definici šablony mají přístup k kontext, který existuje pouze po bude použita šablona.</span><span class="sxs-lookup"><span data-stu-id="291a8-154">In other words, the property within the template definition can access a context that only exists once the template is applied.</span></span> <span data-ttu-id="291a8-155">Podrobnosti najdete v tématu [TemplateBinding – rozšíření značek](../../../../docs/framework/wpf/advanced/templatebinding-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="291a8-155">For details, see [TemplateBinding Markup Extension](../../../../docs/framework/wpf/advanced/templatebinding-markup-extension.md).</span></span> <span data-ttu-id="291a8-156">Další informace o praktická použití `TemplateBinding`, najdete v části [styly s ukázkou ControlTemplates](http://go.microsoft.com/fwlink/?LinkID=160041).</span><span class="sxs-lookup"><span data-stu-id="291a8-156">For more information on the practical use of `TemplateBinding`, see [Styling with ControlTemplates Sample](http://go.microsoft.com/fwlink/?LinkID=160041).</span></span>  
  
-   <span data-ttu-id="291a8-157">`ColorConvertedBitmap`podporuje scénáři relativně pokročilé vytváření bitové kopie.</span><span class="sxs-lookup"><span data-stu-id="291a8-157">`ColorConvertedBitmap` supports a relatively advanced imaging scenario.</span></span> <span data-ttu-id="291a8-158">Podrobnosti najdete v tématu [ColorConvertedBitmap – rozšíření značek](../../../../docs/framework/wpf/advanced/colorconvertedbitmap-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="291a8-158">For details, see [ColorConvertedBitmap Markup Extension](../../../../docs/framework/wpf/advanced/colorconvertedbitmap-markup-extension.md).</span></span>  
  
-   <span data-ttu-id="291a8-159">`ComponentResourceKey`a `ThemeDictionary` podporují aspekty vyhledávání prostředků, zejména pro zdroje a motivy, které jsou součástí vlastní ovládací prvky.</span><span class="sxs-lookup"><span data-stu-id="291a8-159">`ComponentResourceKey` and `ThemeDictionary` support aspects of resource lookup, particularly for resources and themes that are packaged with custom controls.</span></span> <span data-ttu-id="291a8-160">Další informace najdete v tématu [ComponentResourceKey – rozšíření značek](../../../../docs/framework/wpf/advanced/componentresourcekey-markup-extension.md), [ThemeDictionary – rozšíření značek](../../../../docs/framework/wpf/advanced/themedictionary-markup-extension.md), nebo [vytváření – Přehled ovládacího prvku](../../../../docs/framework/wpf/controls/control-authoring-overview.md).</span><span class="sxs-lookup"><span data-stu-id="291a8-160">For more information, see [ComponentResourceKey Markup Extension](../../../../docs/framework/wpf/advanced/componentresourcekey-markup-extension.md), [ThemeDictionary Markup Extension](../../../../docs/framework/wpf/advanced/themedictionary-markup-extension.md), or [Control Authoring Overview](../../../../docs/framework/wpf/controls/control-authoring-overview.md).</span></span>  
  
<a name="StarExtension"></a>   
## <a name="extension-classes"></a><span data-ttu-id="291a8-161">* Rozšíření třídy</span><span class="sxs-lookup"><span data-stu-id="291a8-161">*Extension Classes</span></span>  
 <span data-ttu-id="291a8-162">Pro obecné jazyk XAML i WPF konkrétní rozšíření značek, chování jednotlivých – rozšíření značek identifikovat procesor XAML prostřednictvím `*Extension` třídu odvozenou od <xref:System.Windows.Markup.MarkupExtension>a představuje implementaci objektu <xref:System.Windows.Markup.StaticExtension.ProvideValue%2A> Metoda.</span><span class="sxs-lookup"><span data-stu-id="291a8-162">For both the general XAML language and WPF-specific markup extensions, the behavior of each markup extension is identified to a XAML processor through a `*Extension` class that derives from <xref:System.Windows.Markup.MarkupExtension>, and provides an implementation of the <xref:System.Windows.Markup.StaticExtension.ProvideValue%2A> method.</span></span> <span data-ttu-id="291a8-163">Tato metoda pro každé rozšíření obsahuje objekt, který je vrácena, pokud je vyhodnocován rozšíření značek.</span><span class="sxs-lookup"><span data-stu-id="291a8-163">This method on each extension provides the object that is returned when the markup extension is evaluated.</span></span> <span data-ttu-id="291a8-164">Vráceného objektu obvykle vyhodnotí podle různých řetězec tokeny, které se budou předávat rozšíření značek.</span><span class="sxs-lookup"><span data-stu-id="291a8-164">The returned object is typically evaluated based on the various string tokens that are passed to the markup extension.</span></span>  
  
 <span data-ttu-id="291a8-165">Například <xref:System.Windows.StaticResourceExtension> třída poskytuje prostor implementace vyhledávání skutečné prostředků tak, aby jeho <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A> implementace vrátí objekt, který je požadovaný se vstupem této konkrétní implementace, právě řetězec, který se používá ke vyhledání prostředků pomocí jeho `x:Key`.</span><span class="sxs-lookup"><span data-stu-id="291a8-165">For example, the <xref:System.Windows.StaticResourceExtension> class provides the surface implementation of actual resource lookup so that its <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A> implementation returns the object that is requested, with the input of that particular implementation being a string that is used to look up the resource by its `x:Key`.</span></span> <span data-ttu-id="291a8-166">Velká část této implementaci jsou podrobně popsané není důležitý, pokud používáte stávající rozšíření značek.</span><span class="sxs-lookup"><span data-stu-id="291a8-166">Much of this implementation detail is unimportant if you are using an existing markup extension.</span></span>  
  
 <span data-ttu-id="291a8-167">Některé rozšíření značek nepoužívejte tokenu argumenty řetězce.</span><span class="sxs-lookup"><span data-stu-id="291a8-167">Some markup extensions do not use string token arguments.</span></span> <span data-ttu-id="291a8-168">Toto je vzhledem k tomu, že budou vracet hodnotu statickou nebo konzistentní, nebo protože kontext pro jaké je hodnota, je k dispozici prostřednictvím jedné ze služeb předána `serviceProvider` parametr.</span><span class="sxs-lookup"><span data-stu-id="291a8-168">This is either because they return a static or consistent value, or because context for what value should be returned is available through one of the services passed through the `serviceProvider` parameter.</span></span>  
  
 <span data-ttu-id="291a8-169">`*Extension` Vzoru pro pojmenovávání je kvůli pohodlí a konzistence.</span><span class="sxs-lookup"><span data-stu-id="291a8-169">The `*Extension` naming pattern is for convenience and consistency.</span></span> <span data-ttu-id="291a8-170">Není nutné, aby XAML procesoru k identifikaci této třídy, jako je podpora pro rozšíření značek.</span><span class="sxs-lookup"><span data-stu-id="291a8-170">It is not necessary in order for a XAML processor to identify that class as support for a markup extension.</span></span> <span data-ttu-id="291a8-171">Tak dlouho, dokud vaše codebase zahrnuje System.Xaml a používá implementace rozhraní .NET Framework XAML Services, všechny možnosti, které je potřeba rozpoznat jako přípona značky XAML je odvozena od <xref:System.Windows.Markup.MarkupExtension> a pro podporu vytváření syntaxe.</span><span class="sxs-lookup"><span data-stu-id="291a8-171">So long as your codebase includes System.Xaml and uses .NET Framework XAML Services implementations, all that is necessary to be recognized as a XAML markup extension is to derive from <xref:System.Windows.Markup.MarkupExtension> and to support a construction syntax.</span></span> <span data-ttu-id="291a8-172">WPF definuje povolení rozšíření třídy značek, které se neřídí `*Extension` pojmenování vzor, například <xref:System.Windows.Data.Binding>.</span><span class="sxs-lookup"><span data-stu-id="291a8-172">WPF defines markup extension-enabling classes that do not follow the `*Extension` naming pattern, for example <xref:System.Windows.Data.Binding>.</span></span> <span data-ttu-id="291a8-173">Obvykle důvodem je, že třída podporuje scénáře kromě čistý kód rozšíření podpory.</span><span class="sxs-lookup"><span data-stu-id="291a8-173">Typically the reason for this is that the class supports scenarios beyond pure markup extension support.</span></span> <span data-ttu-id="291a8-174">U <xref:System.Windows.Data.Binding>, že třída podporuje spuštění přístup k metody a vlastnosti objektu pro scénáře, které nemají co dělat s XAML.</span><span class="sxs-lookup"><span data-stu-id="291a8-174">In the case of <xref:System.Windows.Data.Binding>, that class supports run-time access to methods and properties of the object for scenarios that have nothing to do with XAML.</span></span>  
  
### <a name="extension-class-interpretation-of-initialization-text"></a><span data-ttu-id="291a8-175">Rozšíření třídy výklad inicializace textu</span><span class="sxs-lookup"><span data-stu-id="291a8-175">Extension Class Interpretation of Initialization Text</span></span>  
 <span data-ttu-id="291a8-176">Řetězec tokeny následující rozšíření značek název a stále do závorek, se interpretují procesorem XAML v jednom z následujících způsobů:</span><span class="sxs-lookup"><span data-stu-id="291a8-176">The string tokens following the markup extension name and still within the braces are interpreted by a XAML processor in one of the following ways:</span></span>  
  
-   <span data-ttu-id="291a8-177">Čárkou vždy představuje oddělovač nebo oddělovač jednotlivých tokenů.</span><span class="sxs-lookup"><span data-stu-id="291a8-177">A comma always represents the separator or delimiter of individual tokens.</span></span>  
  
-   <span data-ttu-id="291a8-178">Pokud jednotlivých oddělených tokenů neobsahují jakékoli projevy rovná, každý token, je zpracovaná jako argument konstruktoru.</span><span class="sxs-lookup"><span data-stu-id="291a8-178">If the individual separated tokens do not contain any equals signs, each token is treated as a constructor argument.</span></span> <span data-ttu-id="291a8-179">Každý parametr konstruktoru musí být zadána jako na typ očekávaný podle tohoto podpisu a ve správném pořadí očekávanou tento podpis.</span><span class="sxs-lookup"><span data-stu-id="291a8-179">Each constructor parameter must be given as the type expected by that signature, and in the proper order expected by that signature.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="291a8-180">Procesor XAML musí volat konstruktor, který odpovídá argument počet zadaný počet párů.</span><span class="sxs-lookup"><span data-stu-id="291a8-180">A XAML processor must call the constructor that matches the argument count of the number of pairs.</span></span> <span data-ttu-id="291a8-181">Z tohoto důvodu při implementaci rozšíření vlastních značek, neposkytují několik parametrů s stejný počet argumentů.</span><span class="sxs-lookup"><span data-stu-id="291a8-181">For this reason, if you are implementing a custom markup extension, do not provide multiple parameters with the same argument count.</span></span> <span data-ttu-id="291a8-182">Není definován chování chování procesor XAML, pokud existuje více než jednu cestu konstruktor rozšíření značek s stejný počet parametrů, ale měli předpokládáte, že procesor XAML je umožnit vyvolat výjimku na využití, pokud v této situaci existuje definice pro typ rozšíření značek.</span><span class="sxs-lookup"><span data-stu-id="291a8-182">The behavior for how a XAML processor behaves if more than one markup extension constructor path with the same parameter count exists is not defined, but you should anticipate that a XAML processor is permitted to throw an exception on usage if this situation exists in the markup extension type definitions.</span></span>  
  
-   <span data-ttu-id="291a8-183">Pokud jednotlivých oddělených tokenů obsahovat znak rovná se a potom procesor XAML nejprve volá výchozí konstruktor pro rozšíření značek.</span><span class="sxs-lookup"><span data-stu-id="291a8-183">If the individual separated tokens contain equals signs, then a XAML processor first calls the default constructor for the markup extension.</span></span> <span data-ttu-id="291a8-184">Potom každý dvojice název-hodnota = interpretována jako název vlastnosti, která existuje v rozšíření značek a hodnota pro přiřazení k dané vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="291a8-184">Then, each name=value pair is interpreted as a property name that exists on the markup extension, and a value to assign to that property.</span></span>  
  
-   <span data-ttu-id="291a8-185">Pokud je paralelní výsledek mezi konstruktor chování a vlastnost nastavení chování v rozšíření značek, nezáleží na tom, jaké chování používáte.</span><span class="sxs-lookup"><span data-stu-id="291a8-185">If there is a parallel result between the constructor behavior and the property setting behavior in a markup extension, it does not matter which behavior you use.</span></span> <span data-ttu-id="291a8-186">Je dnes běžné využití používat *vlastnost*`=`*hodnotu* páry pro rozšíření značek, které mají více než jednu nastavit vlastnost, pokud pouze, protože umožňuje váš kód více úmyslné a jste méně pravděpodobné, že omylem transponuje konstruktor parametry.</span><span class="sxs-lookup"><span data-stu-id="291a8-186">It is more common usage to use the *property*`=`*value* pairs for markup extensions that have more than one settable property, if only because it makes your markup more intentional and you are less likely to accidentally transpose constructor parameters.</span></span> <span data-ttu-id="291a8-187">(Pokud zadáte vlastnost = páry hodnota tyto vlastnosti mohou být v libovolném pořadí.) Navíc není zaručeno, že rozšíření značek poskytuje parametr konstruktor, který nastaví každých jeden z jeho nastavit vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="291a8-187">(When you specify property=value pairs, those properties may be in any order.) Also, there is no guarantee that a markup extension supplies a constructor parameter that sets every one of its settable properties.</span></span> <span data-ttu-id="291a8-188">Například <xref:System.Windows.Data.Binding> je rozšíření značek, s mnoha nastavitelné prostřednictvím rozšíření ve vlastnosti *vlastnost*`=`*hodnotu* formuláře, ale <xref:System.Windows.Data.Binding> podporuje pouze dva konstruktory: výchozí konstruktor a ten, který nastaví počáteční cestu.</span><span class="sxs-lookup"><span data-stu-id="291a8-188">For example, <xref:System.Windows.Data.Binding> is a markup extension, with many properties that are settable through the extension in *property*`=`*value* form, but <xref:System.Windows.Data.Binding> only supports two constructors: a default constructor, and one that sets an initial path.</span></span>  
  
-   <span data-ttu-id="291a8-189">Rozšíření značek bez escapement nelze předat literálu čárkami.</span><span class="sxs-lookup"><span data-stu-id="291a8-189">A literal comma cannot be passed to a markup extension without escapement.</span></span>  
  
<a name="EscapeSequences"></a>   
## <a name="escape-sequences-and-markup-extensions"></a><span data-ttu-id="291a8-190">Řídicí sekvence a rozšíření značek</span><span class="sxs-lookup"><span data-stu-id="291a8-190">Escape Sequences and Markup Extensions</span></span>  
 <span data-ttu-id="291a8-191">Atribut v jazyce XAML procesor používá složené závorky jako indikátory rozšíření pořadí značek.</span><span class="sxs-lookup"><span data-stu-id="291a8-191">Attribute handling in a XAML processor uses the curly braces as indicators of a markup extension sequence.</span></span> <span data-ttu-id="291a8-192">Je také možné vytvořit hodnota atributu literálu složené závorky znak, v případě potřeby tak, že zadáte v řídicí sekvenci pomocí dvojici prázdný složené závorky následované literálu složených závorek.</span><span class="sxs-lookup"><span data-stu-id="291a8-192">It is also possible to produce a literal curly brace character attribute value if necessary, by entering an escape sequence using an empty curly brace pair followed by the literal curly brace.</span></span> <span data-ttu-id="291a8-193">V tématu [řídicí sekvence {} – rozšíření značek](../../xaml-services/escape-sequence-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="291a8-193">See [{} Escape Sequence - Markup Extension](../../xaml-services/escape-sequence-markup-extension.md).</span></span>  
  
<a name="Nesting"></a>   
## <a name="nesting-markup-extensions-in-xaml-usage"></a><span data-ttu-id="291a8-194">Vnoření rozšíření značek v jazyce XAML využití</span><span class="sxs-lookup"><span data-stu-id="291a8-194">Nesting Markup Extensions in XAML Usage</span></span>  
 <span data-ttu-id="291a8-195">Je podporováno vnoření více rozšíření značek a každý – rozšíření značek vyhodnotí nejhlubší nejdřív.</span><span class="sxs-lookup"><span data-stu-id="291a8-195">Nesting of multiple markup extensions is supported, and each markup extension will be evaluated deepest first.</span></span> <span data-ttu-id="291a8-196">Zvažte například následující využití:</span><span class="sxs-lookup"><span data-stu-id="291a8-196">For example, consider the following usage:</span></span>  
  
```  
<Setter Property="Background"  
  Value="{DynamicResource {x:Static SystemColors.ControlBrushKey}}" />  
```  
  
 <span data-ttu-id="291a8-197">V této využití `x:Static` příkaz je první vyhodnocen a vrátí řetězec.</span><span class="sxs-lookup"><span data-stu-id="291a8-197">In this usage, the `x:Static` statement is evaluated first and returns a string.</span></span> <span data-ttu-id="291a8-198">Že se pak použije řetězec jako argument pro `DynamicResource`.</span><span class="sxs-lookup"><span data-stu-id="291a8-198">That string is then used as the argument for `DynamicResource`.</span></span>  
  
## <a name="markup-extensions-and-property-element-syntax"></a><span data-ttu-id="291a8-199">Vlastnost Element syntaxi a rozšíření značek</span><span class="sxs-lookup"><span data-stu-id="291a8-199">Markup Extensions and Property Element Syntax</span></span>  
 <span data-ttu-id="291a8-200">Když se použije jako objekt element, který vyplní celé element hodnotu vlastnosti, je vizuálně lišit od element typické podporovaný typ objektu, který lze použít v jazyce XAML třídu rozšíření značek.</span><span class="sxs-lookup"><span data-stu-id="291a8-200">When used as an object element that fills a property element value, a markup extension class is visually indistinguishable from a typical type-backed object element that can be used in XAML.</span></span> <span data-ttu-id="291a8-201">Praktické rozdíl mezi typické objekt elementu a rozšíření značek je, že rozšíření značek je buď vyhodnotit na hodnotu typu nebo odložení jako výraz.</span><span class="sxs-lookup"><span data-stu-id="291a8-201">The practical difference between a typical object element and a markup extension is that the markup extension is either evaluated to a typed value or deferred as an expression.</span></span> <span data-ttu-id="291a8-202">Mechanismy pro všechny možné typ chyby hodnot vlastností pro rozšíření značek proto bude jiný, podobně jako jak zpracovávají vlastnost pozdní vazba v jinými programovací modely.</span><span class="sxs-lookup"><span data-stu-id="291a8-202">Therefore the mechanisms for any possible type errors of property values for the markup extension will be different, similar to how a late-bound property is treated in other programming models.</span></span> <span data-ttu-id="291a8-203">Element obyčejnou objektu se vyhodnotí pro match typu pro vlastnost target, který je nastavení, když je analyzovat XAML.</span><span class="sxs-lookup"><span data-stu-id="291a8-203">An ordinary object element will be evaluated for type match against the target property it is setting when the XAML is parsed.</span></span>  
  
 <span data-ttu-id="291a8-204">Většina rozšíření značek, když se používá v syntaxe element objektu k vyplnění element vlastnost, nebude mít syntaxi element obsahu nebo dalších vlastností v rámci.</span><span class="sxs-lookup"><span data-stu-id="291a8-204">Most markup extensions, when used in object element syntax to fill a property element, would not have content or any further property element syntax within.</span></span> <span data-ttu-id="291a8-205">Proto by zavřete značky elementu objektu a poskytovat žádné podřízené elementy.</span><span class="sxs-lookup"><span data-stu-id="291a8-205">Thus you would close the object element tag, and provide no child elements.</span></span> <span data-ttu-id="291a8-206">Vždy, když libovolný element, objekt je zjištěna procesorem XAML, se nazývá v konstruktoru pro tuto třídu, která vytváří instanci objektu vytvořené z analyzovaných elementu.</span><span class="sxs-lookup"><span data-stu-id="291a8-206">Whenever any object element is encountered by a XAML processor, the constructor for that class is called, which instantiates the object created from the parsed element.</span></span> <span data-ttu-id="291a8-207">Rozšíření třídy značek se neliší: Pokud chcete, aby vaše – rozšíření značek možné používat v syntaxi element objekt, je nutné zadat výchozí konstruktor.</span><span class="sxs-lookup"><span data-stu-id="291a8-207">A markup extension class is no different: if you want your markup extension to be usable in object element syntax, you must provide a default constructor.</span></span> <span data-ttu-id="291a8-208">Některé stávající rozšíření značek mají alespoň jednu hodnotu požadovanou vlastnost, musí být zadané pro efektivní inicializace.</span><span class="sxs-lookup"><span data-stu-id="291a8-208">Some existing markup extensions have at least one required property value that must be specified for effective initialization.</span></span> <span data-ttu-id="291a8-209">Pokud ano, je hodnota této vlastnosti obvykle zadána jako atribut vlastnost v objektu elementu.</span><span class="sxs-lookup"><span data-stu-id="291a8-209">If so, that property value is typically given as a property attribute on the object element.</span></span> <span data-ttu-id="291a8-210">V [Namespace XAML (x:) Jazykové funkce](../../../../docs/framework/xaml-services/xaml-namespace-x-language-features.md) a [WPF XAML rozšíření](../../../../docs/framework/wpf/advanced/wpf-xaml-extensions.md) referenční stránky, kód bude zaznamenán rozšíření, které mají požadované vlastnosti (a názvy požadované vlastnosti).</span><span class="sxs-lookup"><span data-stu-id="291a8-210">In the [XAML Namespace (x:) Language Features](../../../../docs/framework/xaml-services/xaml-namespace-x-language-features.md) and [WPF XAML Extensions](../../../../docs/framework/wpf/advanced/wpf-xaml-extensions.md) reference pages, markup extensions that have required properties (and the names of required properties) will be noted.</span></span> <span data-ttu-id="291a8-211">— Referenční stránky bude Všimněte si také, pokud je zakázaná syntaxe objektu element nebo atribut syntaxe pro rozšíření konkrétní značek.</span><span class="sxs-lookup"><span data-stu-id="291a8-211">Reference pages will also note if either object element syntax or attribute syntax is disallowed for particular markup extensions.</span></span> <span data-ttu-id="291a8-212">Významné případem je [x: Array – rozšíření značek](../../../../docs/framework/xaml-services/x-array-markup-extension.md), který nepodporuje atribut syntaxe, protože obsah tohoto pole musí být určeny označování jako obsah.</span><span class="sxs-lookup"><span data-stu-id="291a8-212">A notable case is [x:Array Markup Extension](../../../../docs/framework/xaml-services/x-array-markup-extension.md), which cannot support attribute syntax because the contents of that array must be specified within the tagging as content.</span></span> <span data-ttu-id="291a8-213">Obsah pole jsou zpracovávány jako obecné objekty, proto je vhodná žádná výchozí typ převaděč pro atribut.</span><span class="sxs-lookup"><span data-stu-id="291a8-213">The array contents are handled as general objects, therefore no default type converter for the attribute is feasible.</span></span> <span data-ttu-id="291a8-214">Navíc [x: Array – rozšíření značek](../../../../docs/framework/xaml-services/x-array-markup-extension.md) vyžaduje `type` parametr.</span><span class="sxs-lookup"><span data-stu-id="291a8-214">Also, [x:Array Markup Extension](../../../../docs/framework/xaml-services/x-array-markup-extension.md) requires a `type` parameter.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="291a8-215">Viz také</span><span class="sxs-lookup"><span data-stu-id="291a8-215">See Also</span></span>  
 [<span data-ttu-id="291a8-216">Přehled XAML (WPF)</span><span class="sxs-lookup"><span data-stu-id="291a8-216">XAML Overview (WPF)</span></span>](../../../../docs/framework/wpf/advanced/xaml-overview-wpf.md)  
 [<span data-ttu-id="291a8-217">Jazykové funkce oboru názvů jazyka XAML (x:)</span><span class="sxs-lookup"><span data-stu-id="291a8-217">XAML Namespace (x:) Language Features</span></span>](../../../../docs/framework/xaml-services/xaml-namespace-x-language-features.md)  
 [<span data-ttu-id="291a8-218">Rozšíření WPF XAML</span><span class="sxs-lookup"><span data-stu-id="291a8-218">WPF XAML Extensions</span></span>](../../../../docs/framework/wpf/advanced/wpf-xaml-extensions.md)  
 [<span data-ttu-id="291a8-219">Rozšíření značek StaticResource</span><span class="sxs-lookup"><span data-stu-id="291a8-219">StaticResource Markup Extension</span></span>](../../../../docs/framework/wpf/advanced/staticresource-markup-extension.md)  
 [<span data-ttu-id="291a8-220">Rozšíření značek datové vazby</span><span class="sxs-lookup"><span data-stu-id="291a8-220">Binding Markup Extension</span></span>](../../../../docs/framework/wpf/advanced/binding-markup-extension.md)  
 [<span data-ttu-id="291a8-221">Rozšíření značek DynamicResource</span><span class="sxs-lookup"><span data-stu-id="291a8-221">DynamicResource Markup Extension</span></span>](../../../../docs/framework/wpf/advanced/dynamicresource-markup-extension.md)  
 [<span data-ttu-id="291a8-222">x:Type – rozšíření značek</span><span class="sxs-lookup"><span data-stu-id="291a8-222">x:Type Markup Extension</span></span>](../../../../docs/framework/xaml-services/x-type-markup-extension.md)
