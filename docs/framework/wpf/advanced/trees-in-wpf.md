---
title: "Stromy v subsystému WPF"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-wpf
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- logical tree [WPF]
- element tree [WPF]
- visual tree [WPF]
ms.assetid: e83f25e5-d66b-4fc7-92d2-50130c9a6649
caps.latest.revision: "20"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload: dotnet
ms.openlocfilehash: 73c34f8edfa735e361bf294f08cefd285be3e898
ms.sourcegitcommit: 16186c34a957fdd52e5db7294f291f7530ac9d24
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 12/22/2017
---
# <a name="trees-in-wpf"></a><span data-ttu-id="4c6f3-102">Stromy v subsystému WPF</span><span class="sxs-lookup"><span data-stu-id="4c6f3-102">Trees in WPF</span></span>
<span data-ttu-id="4c6f3-103">V mnoha technologií prvky a součásti jsou uspořádány do stromové struktury, kde vývojáři přímo upravit objekt uzly ve stromu ovlivnit vykreslování nebo chování aplikace.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-103">In many technologies, elements and components are organized in a tree structure where developers directly manipulate the object nodes in the tree to affect the rendering or behavior of an application.</span></span> [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)]<span data-ttu-id="4c6f3-104">definování vztahů mezi elementy program také používá několik metaphors struktura stromu.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-104"> also uses several tree structure metaphors to define relationships between program elements.</span></span> <span data-ttu-id="4c6f3-105">Ve většině případů WPF vývojáři můžete vytvořit aplikaci v kódu nebo definovat části aplikace v jazyce XAML při koncepčně zamyšlení jedná stromu objektu, ale bude volání rozhraní API konkrétní nebo pomocí konkrétní značek udělat tak místo některé obecné objekt stromu manipulaci API například můžete použít v modelu DOM. XML</span><span class="sxs-lookup"><span data-stu-id="4c6f3-105">For the most part WPF developers can create an application in code or define portions of the application in XAML while thinking conceptually about the object tree metaphor, but will be calling specific API or using specific markup to do so rather than some general object tree manipulation API such as you might use in XML DOM.</span></span> <span data-ttu-id="4c6f3-106">WPF zpřístupní dva pomocných tříd, které poskytují jedná je stromové zobrazení <xref:System.Windows.LogicalTreeHelper> a <xref:System.Windows.Media.VisualTreeHelper>.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-106">WPF exposes two helper classes that provide a tree metaphor view, <xref:System.Windows.LogicalTreeHelper> and <xref:System.Windows.Media.VisualTreeHelper>.</span></span> <span data-ttu-id="4c6f3-107">Vizuálním stromu podmínky a logickém stromu používají také v dokumentaci k WPF vzhledem k tomu, že tyto stejné struktury jsou užitečné pro seznámení s chováním některých klíčových funkcí WPF.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-107">The terms visual tree and logical tree are also used in the WPF documentation because these same trees are useful for understanding the behavior of certain key WPF features.</span></span> <span data-ttu-id="4c6f3-108">Toto téma definuje, co představují vizuální strojové struktuře a logickém stromu, popisuje, jak takový stromy vztahují k celkové stromu koncepce objektu a zavádí <xref:System.Windows.LogicalTreeHelper> a <xref:System.Windows.Media.VisualTreeHelper>s.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-108">This topic defines what the visual tree and logical tree represent, discusses how such trees relate to an overall object tree concept, and introduces <xref:System.Windows.LogicalTreeHelper> and <xref:System.Windows.Media.VisualTreeHelper>s.</span></span>  
  

  
<a name="element_tree"></a>   
## <a name="trees-in-wpf"></a><span data-ttu-id="4c6f3-109">Stromy v subsystému WPF</span><span class="sxs-lookup"><span data-stu-id="4c6f3-109">Trees in WPF</span></span>  
 <span data-ttu-id="4c6f3-110">Nejúplnější stromové struktury v [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] je stromu objektů.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-110">The most complete tree structure in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] is the object tree.</span></span> <span data-ttu-id="4c6f3-111">Pokud definujete stránku aplikace v [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] a pak můžete načíst [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], stromová struktura je založeno na vnoření relaci elementů do kódu.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-111">If you define an application page in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] and then load the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], the tree structure is created based on the nesting relationships of the elements in the markup.</span></span> <span data-ttu-id="4c6f3-112">Pokud definujete aplikace nebo je vytvořena část v kódu aplikace, pak se stromovou strukturu založená na tom, jak přiřadit hodnoty vlastností pro vlastnosti, které implementují modelu obsahu pro daný objekt.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-112">If you define an application or a portion of the application in code, then the tree structure is created based on how you assign property values for properties that implement the content model for a given object.</span></span> <span data-ttu-id="4c6f3-113">V [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)], existují dva způsoby, které stromu kompletní objekt je conceptualized a mohou být oznámeny jeho veřejné rozhraní API: jako logického stromu a jako vizuálním stromu.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-113">In [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)], there are two ways that the complete object tree is conceptualized and can be reported to its public API: as the logical tree and as the visual tree.</span></span> <span data-ttu-id="4c6f3-114">Rozdíly mezi logického stromu a vizuálním stromu vždy nejsou nezbytně důležité, ale někdy se může způsobit problémy s určité [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] subsystémy a vliv možností, které provedete v kód.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-114">The distinctions between logical tree and visual tree are not always necessarily important, but they can occasionally cause issues with certain [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] subsystems and affect choices you make in markup or code.</span></span>  
  
 <span data-ttu-id="4c6f3-115">I když není vždy pracovat s logického stromu nebo vizuálním stromu přímo, seznámení s koncepty interakci stromy je užitečné pro pochopení WPF technologií.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-115">Even though you do not always manipulate either the logical tree or the visual tree directly, understanding the concepts of how the trees interact is useful for understanding WPF as a technology.</span></span> <span data-ttu-id="4c6f3-116">Myslíme WPF jako strom jedná určitého druhu je také velmi důležitý k pochopení, jak se dědičnost vlastnosti a události směrování fungují v [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="4c6f3-116">Thinking of WPF as a tree metaphor of some kind is also crucial to understanding how property inheritance and event routing work in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="4c6f3-117">Strom objektů je více koncept než skutečná rozhraní API, a proto je jiný způsob, jak si můžete představit koncept jako grafu objektu.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-117">Because the object tree is more of a concept than an actual API, another way to think of the concept is as an object graph.</span></span> <span data-ttu-id="4c6f3-118">V praxi existují vztahy mezi objekty v době běhu, kde bude rozdělíme jedná stromu.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-118">In practice, there are relationships between objects at run time where the tree metaphor will break down.</span></span> <span data-ttu-id="4c6f3-119">Zejména pomocí uživatelského rozhraní definované XAML, je nicméně dostatečně relevantní, že většina dokumentace WPF použije stromu objektů termín při odkazování na tento koncept obecné jedná stromu.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-119">Nevertheless, particularly with XAML-defined UI, the tree metaphor is relevant enough that most WPF documentation will use the term object tree when referencing this general concept.</span></span>  
  
<a name="logical_tree"></a>   
## <a name="the-logical-tree"></a><span data-ttu-id="4c6f3-120">Logickém stromu.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-120">The Logical Tree</span></span>  
 <span data-ttu-id="4c6f3-121">V [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], přidejte obsah k elementům uživatelského rozhraní nastavením vlastnosti objektů, které zálohují těchto elementů.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-121">In [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], you add content to UI elements by setting properties of the objects that back those elements.</span></span> <span data-ttu-id="4c6f3-122">Například můžete přidat položky do <xref:System.Windows.Controls.ListBox> řízení manipulací s jeho <xref:System.Windows.Controls.ItemsControl.Items%2A> vlastnost.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-122">For example, you add items to a <xref:System.Windows.Controls.ListBox> control by manipulating its <xref:System.Windows.Controls.ItemsControl.Items%2A> property.</span></span> <span data-ttu-id="4c6f3-123">Díky tomu jsou umístění položky do <xref:System.Windows.Controls.ItemCollection> to znamená <xref:System.Windows.Controls.ItemsControl.Items%2A> hodnotu vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-123">By doing this, you are placing items into the <xref:System.Windows.Controls.ItemCollection> that is the <xref:System.Windows.Controls.ItemsControl.Items%2A> property value.</span></span> <span data-ttu-id="4c6f3-124">Podobně, chcete-li přidat objekty do <xref:System.Windows.Controls.DockPanel>, pracovat s jeho <xref:System.Windows.Controls.Panel.Children%2A> hodnotu vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-124">Similarly, to add objects to a <xref:System.Windows.Controls.DockPanel>, you manipulate its <xref:System.Windows.Controls.Panel.Children%2A> property value.</span></span> <span data-ttu-id="4c6f3-125">Zde jsou přidávání objektů do <xref:System.Windows.Controls.UIElementCollection>.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-125">Here, you are adding objects to the <xref:System.Windows.Controls.UIElementCollection>.</span></span> <span data-ttu-id="4c6f3-126">Příklad kódu, najdete v části [k elementu dynamicky přidat](http://msdn.microsoft.com/en-us/d00f258a-7973-4de7-bc54-a3fc1f638419).</span><span class="sxs-lookup"><span data-stu-id="4c6f3-126">For a code example, see [Add an Element Dynamically](http://msdn.microsoft.com/en-us/d00f258a-7973-4de7-bc54-a3fc1f638419).</span></span>  
  
 <span data-ttu-id="4c6f3-127">V [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)], při umístění položky v seznamu <xref:System.Windows.Controls.ListBox> nebo ovládací prvky nebo jiných prvků uživatelského rozhraní <xref:System.Windows.Controls.DockPanel>, můžete také použít <xref:System.Windows.Controls.ItemsControl.Items%2A> a <xref:System.Windows.Controls.Panel.Children%2A> vlastnosti, explicitně nebo implicitně, jako v následujícím příkladu.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-127">In [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)], when you place list items in a <xref:System.Windows.Controls.ListBox> or controls or other UI elements in a <xref:System.Windows.Controls.DockPanel>, you also use the <xref:System.Windows.Controls.ItemsControl.Items%2A> and <xref:System.Windows.Controls.Panel.Children%2A> properties, either explicitly or implicitly, as in the following example.</span></span>  
  
 [!code-xaml[TreeOvwsSupport#AllCode](../../../../samples/snippets/csharp/VS_Snippets_Wpf/TreeOvwsSupport/CS/page1.xaml#allcode)]  
  
 <span data-ttu-id="4c6f3-128">Pokud jste při zpracování této XAML ve formátu XML v rámci modelu objektu dokumentu, a pokud měl zahrnuté značky komentář out jako implicitní (který by byl právní), pak by mohl obsahovat výsledný strom CODEDOM XML prvky pro `<ListBox.Items>` a další implicitní položky.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-128">If you were to process this XAML as XML under a document object model, and if you had included the tags commented out as implicit (which would have been legal), then the resulting XML DOM tree would have included elements for `<ListBox.Items>` and the other implicit items.</span></span> <span data-ttu-id="4c6f3-129">Ale XAML nezpracovává tímto způsobem, pokud je kód pro čtení a zápis objektů, výsledný objekt grafu neobsahuje oznámena `ListBox.Items`.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-129">But XAML does not process that way when you read the markup and write to objects, the resulting object graph does not literally include `ListBox.Items`.</span></span> <span data-ttu-id="4c6f3-130">Ale mít <xref:System.Windows.Controls.ListBox> vlastnost s názvem `Items` obsahující <xref:System.Windows.Controls.ItemCollection>a že <xref:System.Windows.Controls.ItemCollection> je inicializován, ale prázdný, když <xref:System.Windows.Controls.ListBox> zpracování XAML.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-130">It does however have a <xref:System.Windows.Controls.ListBox> property named `Items` that contains a <xref:System.Windows.Controls.ItemCollection>, and that <xref:System.Windows.Controls.ItemCollection> is initialized but empty when the <xref:System.Windows.Controls.ListBox> XAML is processed.</span></span> <span data-ttu-id="4c6f3-131">Potom každý podřízený objekt element, který existuje jako obsah pro <xref:System.Windows.Controls.ListBox> je přidán do <xref:System.Windows.Controls.ItemCollection> voláním analyzátor `ItemCollection.Add`.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-131">Then, each child object element that exists as content for the <xref:System.Windows.Controls.ListBox> is added to the <xref:System.Windows.Controls.ItemCollection> by parser calls to `ItemCollection.Add`.</span></span> <span data-ttu-id="4c6f3-132">Tady je příklad zpracování XAML do stromu k objektu je dosavadní zdánlivě příklad kde stromu vytvořený objekt je v podstatě logickém stromu.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-132">This example of processing XAML into an object tree is so far seemingly an example where the created object tree is basically the logical tree.</span></span>  
  
 <span data-ttu-id="4c6f3-133">Logického stromu však není grafu celý objekt, který pro aplikace, které se promítnou uživatelského rozhraní v době běhu, i s položkami implicitní syntaxe XAML se existuje. Hlavním důvodem je vizuály a šablony.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-133">However, the logical tree is not the entire object graph that exists for your application UI at run time, even with the XAML implicit syntax items factored out. The main reason for this is visuals and templates.</span></span> <span data-ttu-id="4c6f3-134">Představte si třeba <xref:System.Windows.Controls.Button>.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-134">For example, consider the <xref:System.Windows.Controls.Button>.</span></span> <span data-ttu-id="4c6f3-135">Logickém stromu sestavy <xref:System.Windows.Controls.Button> objekt a taky její řetězec `Content`.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-135">The logical tree reports the <xref:System.Windows.Controls.Button> object and also its string `Content`.</span></span> <span data-ttu-id="4c6f3-136">Ale existuje další na toto tlačítko ve stromové struktuře běhového objektu.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-136">But there is more to this button in the run-time object tree.</span></span> <span data-ttu-id="4c6f3-137">Konkrétně na tlačítko se zobrazí pouze na obrazovce způsobem používaným protože konkrétní <xref:System.Windows.Controls.Button> byla použita šablona ovládacího prvku.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-137">In particular, the button only appears on screen the way it does because a specific <xref:System.Windows.Controls.Button> control template was applied.</span></span> <span data-ttu-id="4c6f3-138">Vizuální prvky, které pocházejí z použité šablony (například definované šablony <xref:System.Windows.Controls.Border> tmavý šedé kolem visual tlačítka) nejsou hlášené v logickém stromu, i když hledáte v logickém stromu. při běhu (například zpracovává vstupní událost z viditelné uživatelského rozhraní a pak se čte logického stromu).</span><span class="sxs-lookup"><span data-stu-id="4c6f3-138">The visuals that come from an applied template (such as the template-defined <xref:System.Windows.Controls.Border> of dark gray around the visual button) are not reported in the logical tree, even if you are looking at the logical tree during run time (such as handling an input event from the visible UI and then reading the logical tree).</span></span> <span data-ttu-id="4c6f3-139">Najít vizuální prvky šablony, místo toho potřebovali byste prozkoumat vizuálním stromu.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-139">To find the template visuals, you would instead need to examine the visual tree.</span></span>  
  
 <span data-ttu-id="4c6f3-140">Další informace o tom, [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] syntaxe mapuje vytvořený objekt grafu a implicitní syntaxe v jazyce XAML, najdete v části [XAML syntaxe v podrobností](../../../../docs/framework/wpf/advanced/xaml-syntax-in-detail.md) nebo [přehled XAML (WPF)](../../../../docs/framework/wpf/advanced/xaml-overview-wpf.md).</span><span class="sxs-lookup"><span data-stu-id="4c6f3-140">For more information about how [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] syntax maps to the created object graph, and implicit syntax in XAML, see [XAML Syntax In Detail](../../../../docs/framework/wpf/advanced/xaml-syntax-in-detail.md) or [XAML Overview (WPF)](../../../../docs/framework/wpf/advanced/xaml-overview-wpf.md).</span></span>  
  
<a name="tree_property_inheritance_event_routing"></a>   
### <a name="the-purpose-of-the-logical-tree"></a><span data-ttu-id="4c6f3-141">Účelem logickém stromu.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-141">The Purpose of the Logical Tree</span></span>  
 <span data-ttu-id="4c6f3-142">Logického stromu existuje, tak, aby obsahu modely můžete snadno iterace v jejich možné podřízené objekty a tak, aby modely obsahu může být extensible.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-142">The logical tree exists so that content models can readily iterate over their possible child objects, and so that content models can be extensible.</span></span> <span data-ttu-id="4c6f3-143">Navíc logickém stromu. poskytuje rozhraní pro určité oznámení, například když jsou načteny všechny objekty v logickém stromu.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-143">Also, the logical tree provides a framework for certain notifications, such as when all objects in the logical tree are loaded.</span></span> <span data-ttu-id="4c6f3-144">V podstatě logického stromu je sblížení graf běhu objekt na úrovni framework, který vyloučí vizuální prvky, ale je dostačující pro mnoho dotazování operace proti složení vlastní běhu aplikace.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-144">Basically, the logical tree is an approximation of a run time object graph at the framework level, which excludes visuals, but is adequate for many querying operations against your own run time application's composition.</span></span>  
  
 <span data-ttu-id="4c6f3-145">Kromě toho se vyřeší hledání směrem nahoru v logickém stromu pro oba odkazy statické a dynamické prostředků <xref:System.Windows.FrameworkElement.Resources%2A> kolekce na počáteční žádajícího objektu a poté pokračovat nahoru k logické a zkontrolujete jednotlivé <xref:System.Windows.FrameworkElement> (nebo <xref:System.Windows.FrameworkContentElement>) pro jinou `Resources` hodnotu, která obsahuje <xref:System.Windows.ResourceDictionary>, případně obsahující klíči.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-145">In addition, both static and dynamic resource references are resolved by looking upwards through the logical tree for <xref:System.Windows.FrameworkElement.Resources%2A> collections on the initial requesting object, and then continuing up the logical tree and checking each <xref:System.Windows.FrameworkElement> (or <xref:System.Windows.FrameworkContentElement>) for another `Resources` value that contains a <xref:System.Windows.ResourceDictionary>, possibly containing that key.</span></span> <span data-ttu-id="4c6f3-146">Logickém stromu. slouží k vyhledávání prostředků, pokud existuje logického stromu a vizuálním stromu.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-146">The logical tree is used for resource lookup when both the logical tree and the visual tree are present.</span></span> <span data-ttu-id="4c6f3-147">Další informace o slovnících prostředků a vyhledávání naleznete v tématu [XAML prostředky](../../../../docs/framework/wpf/advanced/xaml-resources.md).</span><span class="sxs-lookup"><span data-stu-id="4c6f3-147">For more information on resource dictionaries and lookup, see [XAML Resources](../../../../docs/framework/wpf/advanced/xaml-resources.md).</span></span>  
  
<a name="composition"></a>   
### <a name="composition-of-the-logical-tree"></a><span data-ttu-id="4c6f3-148">Složení logickém stromu.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-148">Composition of the Logical Tree</span></span>  
 <span data-ttu-id="4c6f3-149">Logickém stromu. je definovaný na WPF framework úrovni, což znamená, že WPF základní elementu, který je nejdůležitější pro operace logickém stromu. je buď <xref:System.Windows.FrameworkElement> nebo <xref:System.Windows.FrameworkContentElement>.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-149">The logical tree is defined at the WPF framework-level, which means that the WPF base element that is most relevant for logical tree operations is either <xref:System.Windows.FrameworkElement> or <xref:System.Windows.FrameworkContentElement>.</span></span> <span data-ttu-id="4c6f3-150">Ale, jako je uvidí Pokud skutečně používáte <xref:System.Windows.LogicalTreeHelper> rozhraní API, logickém stromu. někdy obsahuje uzly, které nejsou buď <xref:System.Windows.FrameworkElement> nebo <xref:System.Windows.FrameworkContentElement>.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-150">However, as you can see if you actually use the <xref:System.Windows.LogicalTreeHelper> API, the logical tree sometimes contains nodes that are not either <xref:System.Windows.FrameworkElement> or <xref:System.Windows.FrameworkContentElement>.</span></span> <span data-ttu-id="4c6f3-151">Pro instanci logického stromu sestavy <xref:System.Windows.Controls.TextBlock.Text%2A> hodnotu <xref:System.Windows.Controls.TextBlock>, což je řetězec.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-151">For instance, the logical tree reports the <xref:System.Windows.Controls.TextBlock.Text%2A> value of a <xref:System.Windows.Controls.TextBlock>, which is a string.</span></span>  
  
<a name="override_logical_tree"></a>   
### <a name="overriding-the-logical-tree"></a><span data-ttu-id="4c6f3-152">Přepsání logickém stromu.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-152">Overriding the Logical Tree</span></span>  
 <span data-ttu-id="4c6f3-153">Řízení rozšířené autorům můžete přepsat logického stromu pomocí přepsání několik [!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)] které definují, jak obecné objekt nebo model obsahu přidá nebo odebere objekty v logickém stromu.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-153">Advanced control authors can override the logical tree by overriding several [!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)] that define how a general object or content model adds or removes objects within the logical tree.</span></span> <span data-ttu-id="4c6f3-154">Příklad postupu přepsání logického stromu, naleznete v části [přepsat logického stromu](../../../../docs/framework/wpf/advanced/how-to-override-the-logical-tree.md).</span><span class="sxs-lookup"><span data-stu-id="4c6f3-154">For an example of how to override the logical tree, see [Override the Logical Tree](../../../../docs/framework/wpf/advanced/how-to-override-the-logical-tree.md).</span></span>  
  
<a name="pvi"></a>   
### <a name="property-value-inheritance"></a><span data-ttu-id="4c6f3-155">Dědičnost hodnoty vlastnosti</span><span class="sxs-lookup"><span data-stu-id="4c6f3-155">Property Value Inheritance</span></span>  
 <span data-ttu-id="4c6f3-156">Dědičnost vlastnosti hodnotu funguje prostřednictvím hybridní stromu.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-156">Property value inheritance operates through a hybrid tree.</span></span> <span data-ttu-id="4c6f3-157">Skutečné metadata, která obsahuje <xref:System.Windows.FrameworkPropertyMetadata.Inherits%2A> vlastnost, která umožňuje dědičnost vlastnosti je WPF úrovni rozhraní <xref:System.Windows.FrameworkPropertyMetadata> třídy.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-157">The actual metadata that contains the <xref:System.Windows.FrameworkPropertyMetadata.Inherits%2A> property that enables property inheritance is the WPF framework-level <xref:System.Windows.FrameworkPropertyMetadata> class.</span></span> <span data-ttu-id="4c6f3-158">Proto nadřazeného objektu, který obsahuje původní hodnotu a podřízený objekt, který dědí tato hodnota musí být <xref:System.Windows.FrameworkElement> nebo <xref:System.Windows.FrameworkContentElement>, a musí oba být součástí některých logickém stromu.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-158">Therefore, both the parent that holds the original value and the child object that inherits that value must both be <xref:System.Windows.FrameworkElement> or <xref:System.Windows.FrameworkContentElement>, and they must both be part of some logical tree.</span></span> <span data-ttu-id="4c6f3-159">Pro existující grafického subsystému WPF vlastnosti, které podporují dědičnost vlastnosti, je však možné perpetuate prostřednictvím použité objekt, který není v logickém stromu dědičnosti hodnotu vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-159">However, for existing WPF properties that support property inheritance, property value inheritance is able to perpetuate through an intervening object that is not in the logical tree.</span></span> <span data-ttu-id="4c6f3-160">Hlavně to je důležité pro s prvky šablonu použít libovolné hodnoty zděděnou vlastnost, nastavte buď u instance, který je podle šablony, nebo na úrovni stránky složení stále vyšší úrovně a proto vyšší v logickém stromu.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-160">Mainly this is relevant for having template elements use any inherited property values set either on the instance that is templated, or at still higher levels of page-level composition and therefore higher in the logical tree.</span></span> <span data-ttu-id="4c6f3-161">Aby dědičnost hodnotu vlastnosti konzistentně fungovat na všech těchto hranici vlastnost dědičných musí být registrován jako přidružená vlastnost a tento vzor byste měli postupovat, pokud chcete definovat vlastní závislosti vlastnost s vlastností dědičnost chování.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-161">In order for property value inheritance to work consistently across such a boundary, the inheriting property must be registered as an attached property, and you should follow this pattern if you intend to define a custom dependency property with property inheritance behavior.</span></span> <span data-ttu-id="4c6f3-162">Přesný stromu používá pro dědičnost vlastnosti nemůže být očekává zcela metody nástrojů pomocná třída, i v době běhu.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-162">The exact tree used for property inheritance cannot be entirely anticipated by a helper class utility method, even at run time.</span></span> <span data-ttu-id="4c6f3-163">Další informace najdete v tématu [dědičnost hodnotu vlastnosti](../../../../docs/framework/wpf/advanced/property-value-inheritance.md).</span><span class="sxs-lookup"><span data-stu-id="4c6f3-163">For more information, see [Property Value Inheritance](../../../../docs/framework/wpf/advanced/property-value-inheritance.md).</span></span>  
  
<a name="two_trees"></a>   
## <a name="the-visual-tree"></a><span data-ttu-id="4c6f3-164">Vizuálním stromu</span><span class="sxs-lookup"><span data-stu-id="4c6f3-164">The Visual Tree</span></span>  
 <span data-ttu-id="4c6f3-165">Kromě konceptu logického stromu, k dispozici je také koncepci visual tree v [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="4c6f3-165">In addition to the concept of the logical tree, there is also the concept of the visual tree in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span></span> <span data-ttu-id="4c6f3-166">Vizuální strojové struktuře popisuje strukturu vizuální objekty reprezentovaná <xref:System.Windows.Media.Visual> základní třídy.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-166">The visual tree describes the structure of visual objects, as represented by the <xref:System.Windows.Media.Visual> base class.</span></span> <span data-ttu-id="4c6f3-167">Když píšete šablonu pro ovládací prvek, je definování nebo opětovná definice visual stromové struktury, která platí pro ovládací prvek.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-167">When you write a template for a control, you are defining or redefining the visual tree that applies for that control.</span></span> <span data-ttu-id="4c6f3-168">Vizuální strojové struktuře je také zajímat vývojáře, kteří mají nižší úrovně kontrolu nad kreslení z důvodů výkonu a optimalizace.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-168">The visual tree is also of interest to developers who want lower-level control over drawing for performance and optimization reasons.</span></span> <span data-ttu-id="4c6f3-169">Jeden úniku vizuálním stromu jako součást konvenční [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] programování aplikací je, že událost trasy pro směrované události nejčastěji cestují podél vizuálním stromu, není logickém stromu.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-169">One exposure of the visual tree as part of conventional [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] application programming is that event routes for a routed event mostly travel along the visual tree, not the logical tree.</span></span> <span data-ttu-id="4c6f3-170">Tento subtlety chování směrované události nemusí být hned zjevné, pokud si nejste autora ovládacího prvku.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-170">This subtlety of routed event behavior might not be immediately apparent unless you are a control author.</span></span> <span data-ttu-id="4c6f3-171">Ovládací prvky, které implementují složení visual úrovni zpracování událostí nebo vytvořit událost setter směrování události prostřednictvím vizuální strojové struktuře umožní.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-171">Routing events through the visual tree enables controls that implement composition at the visual level to handle events or create event setters.</span></span>  
  
<a name="trees_content"></a>   
## <a name="trees-content-elements-and-content-hosts"></a><span data-ttu-id="4c6f3-172">Stromy, prvků obsahu a obsahu hostitele</span><span class="sxs-lookup"><span data-stu-id="4c6f3-172">Trees, Content Elements, and Content Hosts</span></span>  
 <span data-ttu-id="4c6f3-173">Obsahu elementy (třídy, které jsou odvozeny od <xref:System.Windows.ContentElement>) nejsou součástí vizuálním stromu; nedědí z <xref:System.Windows.Media.Visual> a nemají vizuální reprezentace.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-173">Content elements (classes that derive from <xref:System.Windows.ContentElement>) are not part of the visual tree; they do not inherit from <xref:System.Windows.Media.Visual> and do not have a visual representation.</span></span> <span data-ttu-id="4c6f3-174">Chcete-li zobrazit v uživatelském rozhraní na všech <xref:System.Windows.ContentElement> musí být hostované v hostiteli obsahu, který je i <xref:System.Windows.Media.Visual> a účastník logickém stromu.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-174">In order to appear in a UI at all, a <xref:System.Windows.ContentElement> must be hosted in a content host that is both a <xref:System.Windows.Media.Visual> and a logical tree participant.</span></span> <span data-ttu-id="4c6f3-175">Obvykle je takového objektu <xref:System.Windows.FrameworkElement>.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-175">Usually such an object is a <xref:System.Windows.FrameworkElement>.</span></span> <span data-ttu-id="4c6f3-176">Můžete conceptualize, že hostitel obsahu je něco jako "prohlížeče" pro obsah a vybere způsob zobrazení tohoto obsahu v rámci oblasti obrazovky, který řídí hostitele.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-176">You can conceptualize that the content host is somewhat like a "browser" for the content and chooses how to display that content within the screen region that the host controls.</span></span> <span data-ttu-id="4c6f3-177">Pokud je zároveň hostitelem obsahu, můžete obsah se účastnit některé stromu procesy, které obvykle souvisejí s vizuálním stromu.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-177">When the content is hosted, the content can be made a participant in certain tree processes that are normally associated with the visual tree.</span></span> <span data-ttu-id="4c6f3-178">Obecně platí <xref:System.Windows.FrameworkElement> třída hostitele zahrnuje implementace kód, který přidá všechny hostované <xref:System.Windows.ContentElement> trasu událostí prostřednictvím podřízených uzlů obsahu logického stromu, i když hostované obsah není součástí true vizuálním stromu.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-178">Generally, the <xref:System.Windows.FrameworkElement> host class includes implementation code that adds any hosted <xref:System.Windows.ContentElement> to the event route through subnodes of the content logical tree, even though the hosted content is not part of the true visual tree.</span></span> <span data-ttu-id="4c6f3-179">To je nezbytné, aby <xref:System.Windows.ContentElement> zdrojem může být směrované události, který směruje na libovolný element, než na sebe.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-179">This is necessary so that a <xref:System.Windows.ContentElement> can source a routed event that routes to any element other than itself.</span></span>  
  
<a name="tree_traversal"></a>   
## <a name="tree-traversal"></a><span data-ttu-id="4c6f3-180">Traversal stromu</span><span class="sxs-lookup"><span data-stu-id="4c6f3-180">Tree Traversal</span></span>  
 <span data-ttu-id="4c6f3-181"><xref:System.Windows.LogicalTreeHelper> Třída poskytuje <xref:System.Windows.LogicalTreeHelper.GetChildren%2A>, <xref:System.Windows.LogicalTreeHelper.GetParent%2A>, a <xref:System.Windows.LogicalTreeHelper.FindLogicalNode%2A> metody pro traversal logickém stromu.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-181">The <xref:System.Windows.LogicalTreeHelper> class provides the <xref:System.Windows.LogicalTreeHelper.GetChildren%2A>, <xref:System.Windows.LogicalTreeHelper.GetParent%2A>, and <xref:System.Windows.LogicalTreeHelper.FindLogicalNode%2A> methods for logical tree traversal.</span></span> <span data-ttu-id="4c6f3-182">Ve většině případů by neměl máte procházení logického stromu existujících ovládacích prvků, protože tyto ovládací prvky téměř vždy vystavit jejich logické podřízených elementů v vlastnosti vyhrazené kolekce, která podporuje přístup kolekce, jako `Add`, indexeru, a tak dále.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-182">In most cases, you should not have to traverse the logical tree of existing controls, because these controls almost always expose their logical child elements as a dedicated collection property that supports collection access such as `Add`, an indexer, and so on.</span></span> <span data-ttu-id="4c6f3-183">Především scénáře, který se používá autory řízení, kteří se rozhodnou není odvozena od vzory určený ovládacích prvků, jako je stromu traversal <xref:System.Windows.Controls.ItemsControl> nebo <xref:System.Windows.Controls.Panel> kde jsou již definováni vlastnosti kolekce a který chcete zadat své vlastní kolekce Podpora vlastnost.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-183">Tree traversal is mainly a scenario that is used by control authors who choose not to derive from intended control patterns such as <xref:System.Windows.Controls.ItemsControl> or <xref:System.Windows.Controls.Panel> where collection properties are already defined, and who intend to provide their own collection property support.</span></span>  
  
 <span data-ttu-id="4c6f3-184">Vizuální strojové struktuře také podporuje pomocná třída pro vizuálním stromu traversal <xref:System.Windows.Media.VisualTreeHelper>.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-184">The visual tree also supports a helper class for visual tree traversal, <xref:System.Windows.Media.VisualTreeHelper>.</span></span> <span data-ttu-id="4c6f3-185">Vizuální strojové struktuře nebude vystavena, jako pohodlně prostřednictvím vlastnosti specifické pro ovládací prvek, proto <xref:System.Windows.Media.VisualTreeHelper> třída je doporučeným způsobem, jak je v případě potřeby pro váš scénář programovací procházení vizuálním stromu.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-185">The visual tree is not exposed as conveniently through control-specific properties, so the <xref:System.Windows.Media.VisualTreeHelper> class is the recommended way to traverse the visual tree if that is necessary for your programming scenario.</span></span> <span data-ttu-id="4c6f3-186">Další informace najdete v tématu [vykreslování přehled grafiky WPF](../../../../docs/framework/wpf/graphics-multimedia/wpf-graphics-rendering-overview.md).</span><span class="sxs-lookup"><span data-stu-id="4c6f3-186">For more information, see [WPF Graphics Rendering Overview](../../../../docs/framework/wpf/graphics-multimedia/wpf-graphics-rendering-overview.md).</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="4c6f3-187">V některých případech je potřeba zkontrolovat vizuálním stromu použité šablony.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-187">Sometimes it is necessary to examine the visual tree of an applied template.</span></span> <span data-ttu-id="4c6f3-188">Byste měli být opatrní při použití této techniky.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-188">You should be careful when using this technique.</span></span> <span data-ttu-id="4c6f3-189">I když jsou procházení vizuálním stromu ovládacího prvku, kde můžete definovat šablony, příjemci ovládacího prvku můžete kdykoli změnit šablonu nastavením <xref:System.Windows.Controls.Control.Template%2A> vlastnost instancí a i koncoví uživatelé mohou mít vliv na šabloně použité změnou motiv systému.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-189">Even if you are traversing a visual tree for a control where you define the template, consumers of your control can always change the template by setting the <xref:System.Windows.Controls.Control.Template%2A> property on instances, and even the end user can influence the applied template by changing the system theme.</span></span>  
  
<a name="routes"></a>   
## <a name="routes-for-routed-events-as-a-tree"></a><span data-ttu-id="4c6f3-190">Trasy pro směrované události jako "Stromu"</span><span class="sxs-lookup"><span data-stu-id="4c6f3-190">Routes for Routed Events as a "Tree"</span></span>  
 <span data-ttu-id="4c6f3-191">Jak je uvedeno nahoře, trasa jakékoli dané směrované události přenáší podél jedné a předem určený cesty stromu, který je hybridní reprezentace visual a logické stromu.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-191">As mentioned before, the route of any given routed event travels along a single and predetermined path of a tree that is a hybrid of the visual and logical tree representations.</span></span> <span data-ttu-id="4c6f3-192">Událost trasy, která mohou projít buď v nahoru nebo dolů pokynů v rámci stromu v závislosti na tom, jestli je tunelové propojení nebo jejich směrované události.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-192">The event route can travel either in the up or down directions within the tree depending on whether it is a tunneling or bubbling routed event.</span></span> <span data-ttu-id="4c6f3-193">Koncept trasy událostí nemá přímo podpůrné pomocná třída, která by bylo možné "vás" události trasy nezávisle na vyvolá událost, která ve skutečnosti tras.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-193">The event route concept does not have a directly supporting helper class that could be used to "walk" the event route independently of raising an event that actually routes.</span></span> <span data-ttu-id="4c6f3-194">Je třída, která představuje trasy, <xref:System.Windows.EventRoute>, ale metody této třídy jsou obecně jen pro interní použití.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-194">There is a class that represents the route, <xref:System.Windows.EventRoute>, but the methods of that class are generally for internal use only.</span></span>  
  
<a name="resourcesandtrees"></a>   
## <a name="resource-dictionaries-and-trees"></a><span data-ttu-id="4c6f3-195">Slovnících prostředků a stromů</span><span class="sxs-lookup"><span data-stu-id="4c6f3-195">Resource Dictionaries and Trees</span></span>  
 <span data-ttu-id="4c6f3-196">Vyhledávání prostředků slovník pro všechny `Resources` definované na stránce prochází v podstatě logickém stromu.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-196">Resource dictionary lookup for all `Resources` defined in a page traverses basically the logical tree.</span></span> <span data-ttu-id="4c6f3-197">Objekty, které nejsou v logickém stromu může odkazovat na prostředky s klíčem, ale pořadí vyhledávání prostředků začíná v okamžiku, kterých je tento objekt připojený k logickém stromu.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-197">Objects that are not in the logical tree can reference keyed resources, but the resource lookup sequence begins at the point where that object is connected to the logical tree.</span></span> <span data-ttu-id="4c6f3-198">V grafickém subsystému WPF, může mít pouze uzly logického stromu `Resources` vlastnost, která obsahuje <xref:System.Windows.ResourceDictionary>, proto nepřináší žádný užitek ve vizuálním stromu hledá s klíčem prostředky z procházení <xref:System.Windows.ResourceDictionary>.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-198">In WPF, only logical tree nodes can have a `Resources` property that contains a <xref:System.Windows.ResourceDictionary>, therefore there is no benefit in traversing the visual tree looking for keyed resources from a <xref:System.Windows.ResourceDictionary>.</span></span>  
  
 <span data-ttu-id="4c6f3-199">Vyhledávání prostředků můžete také rozšířit nad rámec okamžitou logickém stromu.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-199">However, resource lookup can also extend beyond the immediate logical tree.</span></span> <span data-ttu-id="4c6f3-200">Pro kód aplikace vyhledávání prostředků můžete pokračujte dále slovnících prostředků na úrovni aplikace a klikněte na motiv podporu a systému hodnoty, které je odkazováno jako statické vlastnosti nebo klíče.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-200">For application markup, the resource lookup can then continue onward to application-level resource dictionaries and then to theme support and system values that are referenced as static properties or keys.</span></span> <span data-ttu-id="4c6f3-201">Motivy, sami můžete také odkazu hodnoty systému mimo logického stromu motiv, pokud odkazy prostředků musí být dynamické.</span><span class="sxs-lookup"><span data-stu-id="4c6f3-201">Themes themselves can also reference system values outside of the theme logical tree if the resource references are dynamic.</span></span> <span data-ttu-id="4c6f3-202">Další informace o slovnících prostředků a logiku vyhledávání, najdete v části [XAML prostředky](../../../../docs/framework/wpf/advanced/xaml-resources.md).</span><span class="sxs-lookup"><span data-stu-id="4c6f3-202">For more information on resource dictionaries and the lookup logic, see [XAML Resources](../../../../docs/framework/wpf/advanced/xaml-resources.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="4c6f3-203">Viz také</span><span class="sxs-lookup"><span data-stu-id="4c6f3-203">See Also</span></span>  
 [<span data-ttu-id="4c6f3-204">Přehled vstupu</span><span class="sxs-lookup"><span data-stu-id="4c6f3-204">Input Overview</span></span>](../../../../docs/framework/wpf/advanced/input-overview.md)  
 [<span data-ttu-id="4c6f3-205">Přehled vykreslování grafiky WPF</span><span class="sxs-lookup"><span data-stu-id="4c6f3-205">WPF Graphics Rendering Overview</span></span>](../../../../docs/framework/wpf/graphics-multimedia/wpf-graphics-rendering-overview.md)  
 [<span data-ttu-id="4c6f3-206">Přehled směrovaných událostí</span><span class="sxs-lookup"><span data-stu-id="4c6f3-206">Routed Events Overview</span></span>](../../../../docs/framework/wpf/advanced/routed-events-overview.md)  
 [<span data-ttu-id="4c6f3-207">Inicializace elementů objektu, které nejsou ve stromu objektů</span><span class="sxs-lookup"><span data-stu-id="4c6f3-207">Initialization for Object Elements Not in an Object Tree</span></span>](../../../../docs/framework/wpf/advanced/initialization-for-object-elements-not-in-an-object-tree.md)  
 [<span data-ttu-id="4c6f3-208">Architektura WPF</span><span class="sxs-lookup"><span data-stu-id="4c6f3-208">WPF Architecture</span></span>](../../../../docs/framework/wpf/advanced/wpf-architecture.md)
