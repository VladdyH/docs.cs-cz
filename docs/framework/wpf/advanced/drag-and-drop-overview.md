---
title: Přehled přetažení
ms.custom: ''
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: ''
ms.suite: ''
ms.technology:
- dotnet-wpf
ms.tgt_pltfrm: ''
ms.topic: article
dev_langs:
- csharp
- vb
helpviewer_keywords:
- drag-and-drop [WPF], implementing
- drag sources [WPF], drag-and-drop
- data transfer [WPF], drag-and-drop
- drag-and-drop [WPF], about
- drag-and-drop [WPF], events
- drop targets [WPF], drag-and-drop
ms.assetid: 1a5b27b0-0ac5-4cdf-86c0-86ac0271fa64
caps.latest.revision: 31
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload:
- dotnet
ms.openlocfilehash: fe34933c19e7f8a50d144cad99b99decbd501965
ms.sourcegitcommit: 2042de78fcdceebb6b8ac4b7a292b93e8782cbf5
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 04/27/2018
---
# <a name="drag-and-drop-overview"></a><span data-ttu-id="bbcf6-102">Přehled přetažení</span><span class="sxs-lookup"><span data-stu-id="bbcf6-102">Drag and Drop Overview</span></span>
<span data-ttu-id="bbcf6-103">Toto téma obsahuje přehled podpory přetažení myší v [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] aplikace.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-103">This topic provides an overview of drag-and-drop support in [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] applications.</span></span> <span data-ttu-id="bbcf6-104">Přetažení myší běžně odkazuje na metodu přenosu dat, který zahrnuje pomocí myši (nebo jiné polohovací zařízení) a vyberte jeden nebo více objektů, přetáhněte tyto objekty přes cíle některé požadované přetažení v [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)]a jejich vyřazení.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-104">Drag-and-drop commonly refers to a method of data transfer that involves using a mouse (or some other pointing device) to select one or more objects, dragging these objects over some desired drop target in the [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)], and dropping them.</span></span>  
  
  
<a name="Drag_and_Drop_Support"></a>   
## <a name="drag-and-drop-support-in-wpf"></a><span data-ttu-id="bbcf6-105">Podpora přetažení myší v grafickém subsystému WPF</span><span class="sxs-lookup"><span data-stu-id="bbcf6-105">Drag-and-Drop Support in WPF</span></span>  
 <span data-ttu-id="bbcf6-106">Operací přetažení myší obvykle zahrnuje dvě strany: přetažení zdroj, ze které pochází objekt taženou a cíle přetažení, která přijímá objekt vynechaných.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-106">Drag-and-drop operations typically involve two parties: a drag source from which the dragged object originates and a drop target which receives the dropped object.</span></span>  <span data-ttu-id="bbcf6-107">Přetáhněte zdroje a drop cíl může být prvky uživatelského rozhraní na stejnou aplikaci nebo v jiné aplikaci.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-107">The drag source and drop target may be UI elements in the same application or a different application.</span></span>  
  
 <span data-ttu-id="bbcf6-108">Je zcela libovolný typ a počet objektů, které smí uživatel manipulovat s přetažení myší.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-108">The type and number of objects that can be manipulated with drag-and-drop is completely arbitrary.</span></span> <span data-ttu-id="bbcf6-109">Například soubory, složky a výběr obsahu jsou některé z běžnějších objektů s nimi manipulovat, prostřednictvím operací přetažení myší.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-109">For example, files, folders, and selections of content are some of the more common objects manipulated through drag-and-drop operations.</span></span>  
  
 <span data-ttu-id="bbcf6-110">Konkrétní akce prováděné během operace přetažení myší jsou aplikace konkrétní a často určenému kontextu.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-110">The particular actions performed during a drag-and-drop operation are application specific, and often determined by context.</span></span>  <span data-ttu-id="bbcf6-111">Například přetažení výběru souborů z jedné složky do jiné na stejném zařízení úložiště přesune soubory ve výchozím nastavení, že přetáhnete soubory z [!INCLUDE[TLA#tla_unc](../../../../includes/tlasharptla-unc-md.md)] sdílenou složku do místní složky zkopíruje soubory ve výchozím nastavení.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-111">For example, dragging a selection of files from one folder to another on the same storage device moves the files by default, whereas dragging files from a [!INCLUDE[TLA#tla_unc](../../../../includes/tlasharptla-unc-md.md)] share to a local folder copies the files by default.</span></span>  
  
 <span data-ttu-id="bbcf6-112">Přetažení myší poskytované systémem [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] jsou navržené jako vysoce flexibilní a přizpůsobitelné podporuje celou řadu scénářů přetažení myší.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-112">The drag-and-drop facilities provided by [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] are designed to be highly flexible and customizable to support a wide variety of drag-and-drop scenarios.</span></span>  <span data-ttu-id="bbcf6-113">Přetažení myší podporuje práci s objekty v rámci jedné aplikace, nebo mezi různými aplikacemi.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-113">Drag-and-drop supports manipulating objects within a single application, or between different applications.</span></span> <span data-ttu-id="bbcf6-114">Přetahování a uvolnění mezi [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] také plně podporuje aplikace a další aplikace systému Windows.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-114">Dragging-and-dropping between [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] applications and other Windows applications is also fully supported.</span></span>  
  
 <span data-ttu-id="bbcf6-115">V [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], jakékoliv <xref:System.Windows.UIElement> nebo <xref:System.Windows.ContentElement> mohl účastnit přetažení myší.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-115">In [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], any <xref:System.Windows.UIElement> or <xref:System.Windows.ContentElement> can participate in drag-and-drop.</span></span> <span data-ttu-id="bbcf6-116">Události a metody potřebné pro operací přetažení myší jsou definovány v <xref:System.Windows.DragDrop> třídy.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-116">The events and methods required for drag-and-drop operations are defined in the <xref:System.Windows.DragDrop> class.</span></span> <span data-ttu-id="bbcf6-117"><xref:System.Windows.UIElement> a <xref:System.Windows.ContentElement> třídy obsahovat aliasy pro <xref:System.Windows.DragDrop> přidružené události tak, aby události se zobrazí ve třídě seznam členů, kdy <xref:System.Windows.UIElement> nebo <xref:System.Windows.ContentElement> zdědí jako základní prvek.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-117">The <xref:System.Windows.UIElement> and <xref:System.Windows.ContentElement> classes contain aliases for the <xref:System.Windows.DragDrop> attached events so that the events appear in the class members list when a <xref:System.Windows.UIElement> or <xref:System.Windows.ContentElement> is inherited as a base element.</span></span> <span data-ttu-id="bbcf6-118">Obslužné rutiny událostí, které jsou připojené k tyto události jsou připojené k základní <xref:System.Windows.DragDrop> přidružená událost a přijímat stejné instance dat události.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-118">Event handlers that are attached to these events are attached to the underlying <xref:System.Windows.DragDrop> attached event and receive the same event data instance.</span></span> <span data-ttu-id="bbcf6-119">Další informace najdete v tématu <xref:System.Windows.UIElement.Drop?displayProperty=nameWithType> událostí.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-119">For more information, see the <xref:System.Windows.UIElement.Drop?displayProperty=nameWithType> event.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="bbcf6-120">OLE a přetažení nefunguje v zóně Internet.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-120">OLE drag-and-drop does not work while in the Internet zone.</span></span>  
  
<a name="Data_Transfer"></a>   
## <a name="data-transfer"></a><span data-ttu-id="bbcf6-121">Přenos dat</span><span class="sxs-lookup"><span data-stu-id="bbcf6-121">Data Transfer</span></span>  
 <span data-ttu-id="bbcf6-122">Přetažení myší je součástí oblasti obecnější přenosu dat.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-122">Drag-and-drop is part of the more general area of data transfer.</span></span> <span data-ttu-id="bbcf6-123">Přenos dat zahrnuje operace přetahování myší a kopírování a vkládání.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-123">Data transfer includes drag-and-drop and copy-and-paste operations.</span></span> <span data-ttu-id="bbcf6-124">Operaci přetažení myší je podobná operace kopírování a vkládání nebo vyjímání a vkládání, který se používá k přenosu dat z jednoho objektu nebo aplikací na jiný pomocí schránky systému.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-124">A drag-and-drop operation is analogous to a copy-and-paste or cut-and-paste operation that is used to transfer data from one object or application to another by using the system clipboard.</span></span> <span data-ttu-id="bbcf6-125">Oba typy operací vyžadují:</span><span class="sxs-lookup"><span data-stu-id="bbcf6-125">Both types of operations require:</span></span>  
  
-   <span data-ttu-id="bbcf6-126">Zdrojový objekt, který poskytuje data.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-126">A source object that provides the data.</span></span>  
  
-   <span data-ttu-id="bbcf6-127">Způsob, jak dočasně uložit přenášená data.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-127">A way to temporarily store the transferred data.</span></span>  
  
-   <span data-ttu-id="bbcf6-128">Cílový objekt, který přijímá data.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-128">A target object that receives the data.</span></span>  
  
 <span data-ttu-id="bbcf6-129">V operaci kopírování a vkládání do schránky systému se používá k dočasnému uložení přenášených dat; v operaci přetažení myší <xref:System.Windows.DataObject> se používá k ukládání dat.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-129">In a copy-and-paste operation, the system clipboard is used to temporarily store the transferred data; in a drag-and-drop operation, a <xref:System.Windows.DataObject> is used to store the data.</span></span> <span data-ttu-id="bbcf6-130">Koncepčně, obsahuje jeden nebo více páry datový objekt <xref:System.Object> skutečná data a odpovídající identifikátor formát dat, který obsahuje.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-130">Conceptually, a data object consists of one or more pairs of an <xref:System.Object> that contains the actual data, and a corresponding data format identifier.</span></span>  
  
 <span data-ttu-id="bbcf6-131">Zdroje operace přetažení zahájí operaci přetažení myší pomocí volání statických <xref:System.Windows.DragDrop.DoDragDrop%2A?displayProperty=nameWithType> metoda a předání přenášených dat do ní.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-131">The drag source initiates a drag-and-drop operation by calling the static <xref:System.Windows.DragDrop.DoDragDrop%2A?displayProperty=nameWithType> method and passing the transferred data to it.</span></span> <span data-ttu-id="bbcf6-132"><xref:System.Windows.DragDrop.DoDragDrop%2A> Metoda budou automaticky zahrnovat data v <xref:System.Windows.DataObject> v případě potřeby.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-132">The <xref:System.Windows.DragDrop.DoDragDrop%2A> method will automatically wrap the data in a <xref:System.Windows.DataObject> if necessary.</span></span> <span data-ttu-id="bbcf6-133">Pro větší kontrolu nad formát dat, může obtékat data v <xref:System.Windows.DataObject> před předáním na <xref:System.Windows.DragDrop.DoDragDrop%2A> metoda.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-133">For greater control over the data format, you can wrap the data in a <xref:System.Windows.DataObject> before passing it to the <xref:System.Windows.DragDrop.DoDragDrop%2A> method.</span></span> <span data-ttu-id="bbcf6-134">Cíle přetažení zodpovídá za extrahování dat z <xref:System.Windows.DataObject>.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-134">The drop target is responsible for extracting the data from the <xref:System.Windows.DataObject>.</span></span> <span data-ttu-id="bbcf6-135">Další informace o práci s objekty dat najdete v tématu [datových objektů a dat](../../../../docs/framework/wpf/advanced/data-and-data-objects.md).</span><span class="sxs-lookup"><span data-stu-id="bbcf6-135">For more information about working with data objects, see [Data and Data Objects](../../../../docs/framework/wpf/advanced/data-and-data-objects.md).</span></span>  
  
 <span data-ttu-id="bbcf6-136">Zdrojové a cílové operací přetažení myší jsou prvky uživatelského rozhraní; data, která je ve skutečnosti přenášení obvykle nemá vizuální reprezentace.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-136">The source and target of a drag-and-drop operation are UI elements; however, the data that is actually being transferred typically does not have a visual representation.</span></span> <span data-ttu-id="bbcf6-137">Můžete napsat kód zajistit vizuální znázornění dat, která je přetáhnout, jako například nastane, když přetahování souborů v Průzkumníku Windows.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-137">You can write code to provide a visual representation of the data that is dragged, such as occurs when dragging files in Windows Explorer.</span></span> <span data-ttu-id="bbcf6-138">Ve výchozím nastavení poskytnutí zpětné vazby pro uživatele tak, že změníte kurzor představují o tom, že bude mít operaci přetažení myší na data, například zda budou data přesunout ani zkopírovat.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-138">By default, feedback is provided to the user by changing the cursor to represent the effect that the drag-and-drop operation will have on the data, such as whether the data will be moved or copied.</span></span>  
  
### <a name="drag-and-drop-effects"></a><span data-ttu-id="bbcf6-139">Účinky přetažení myší</span><span class="sxs-lookup"><span data-stu-id="bbcf6-139">Drag-and-Drop Effects</span></span>  
 <span data-ttu-id="bbcf6-140">Jiný vliv na přenášených dat může mít operací přetažení myší.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-140">Drag-and-drop operations can have different effects on the transferred data.</span></span> <span data-ttu-id="bbcf6-141">Například můžete zkopírovat data nebo můžete přesunout data.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-141">For example, you can copy the data or you can move the data.</span></span> [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]<span data-ttu-id="bbcf6-142"> definuje <xref:System.Windows.DragDropEffects> výčet, který můžete použít k určení vliv operací přetažení myší.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-142"> defines a <xref:System.Windows.DragDropEffects> enumeration that you can use to specify the effect of a drag-and-drop operation.</span></span> <span data-ttu-id="bbcf6-143">V zdroje operace přetažení, můžete zadat účinky, které vám umožní zdroji v <xref:System.Windows.DragDrop.DoDragDrop%2A> metoda.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-143">In the drag source, you can specify the effects that the source will allow in the <xref:System.Windows.DragDrop.DoDragDrop%2A> method.</span></span> <span data-ttu-id="bbcf6-144">V cíle přetažení, můžete zadat o tom, že cíl chce <xref:System.Windows.DragEventArgs.Effects%2A> vlastnost <xref:System.Windows.DragEventArgs> třídy.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-144">In the drop target, you can specify the effect that the target intends in the <xref:System.Windows.DragEventArgs.Effects%2A> property of the <xref:System.Windows.DragEventArgs> class.</span></span> <span data-ttu-id="bbcf6-145">Když cíle přetažení určuje jeho dopad určený v <xref:System.Windows.DragDrop.DragOver> událostí, které se předávají informace zpět do zdroje operace přetažení ve <xref:System.Windows.DragDrop.GiveFeedback> událostí.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-145">When the drop target specifies its intended effect in the <xref:System.Windows.DragDrop.DragOver> event, that information is passed back to the drag source in the <xref:System.Windows.DragDrop.GiveFeedback> event.</span></span> <span data-ttu-id="bbcf6-146">Zdroje operace přetažení používá tuto informaci k informovat uživatele o tom, jaký vliv má cíle přetažení chtít mít na data.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-146">The drag source uses this information to inform the user what effect the drop target intends to have on the data.</span></span> <span data-ttu-id="bbcf6-147">Při umístění dat cíle přetažení určuje skutečné účinek <xref:System.Windows.DragDrop.Drop> událostí.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-147">When the data is dropped, the drop target specifies its actual effect in the <xref:System.Windows.DragDrop.Drop> event.</span></span> <span data-ttu-id="bbcf6-148">Aby se předávají informace zpět do zdroje operace přetažení jako návratová hodnota <xref:System.Windows.DragDrop.DoDragDrop%2A> metoda.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-148">That information is passed back to the drag source as the return value of the <xref:System.Windows.DragDrop.DoDragDrop%2A> method.</span></span> <span data-ttu-id="bbcf6-149">Pokud cíle přetažení vrátí efektu, který není v seznamu zdroje přetažení `allowedEffects`, přetažení myší operace byla zrušena, bez jakékoli přenos dat, ke kterým dochází.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-149">If the drop target returns an effect that is not in the drag sources list of `allowedEffects`, the drag-and-drop operation is cancelled without any data transfer occurring.</span></span>  
  
 <span data-ttu-id="bbcf6-150">Je důležité si pamatovat, že v [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], <xref:System.Windows.DragDropEffects> hodnoty se používají jenom pro komunikaci mezi zdroje operace přetažení a cíle přetažení o důsledcích operaci přetažení myší.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-150">It is important to remember that in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], the <xref:System.Windows.DragDropEffects> values are only used to provide communication between the drag source and the drop target regarding the effects of the drag-and-drop operation.</span></span> <span data-ttu-id="bbcf6-151">Skutečný výsledek operace přetažení myší závisí na vás bude psaní příslušný kód ve vaší aplikaci.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-151">The actual effect of the drag-and-drop operation depends on you to write the appropriate code in your application.</span></span>  
  
 <span data-ttu-id="bbcf6-152">Cíle přetažení například mohla uvádět, že účinek vyřazení dat na něm je přesouvat data.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-152">For example, the drop target might specify that the effect of dropping data on it is to move the data.</span></span> <span data-ttu-id="bbcf6-153">Ale pokud chcete přesunout data, musí být jak přidat do cílového elementu a odebrat z source element.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-153">However, to move the data, it must be both added to the target element and removed from the source element.</span></span> <span data-ttu-id="bbcf6-154">Source element může znamenat, že umožňuje přesun dat, ale pokud nezadáte kód, který odeberte data ze zdrojového prvku, konečný výsledek bude, že data jsou zkopírovány a není přesunut.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-154">The source element might indicate that it allows moving the data, but if you do not provide the code to remove the data from the source element, the end result will be that the data is copied, and not moved.</span></span>  
  
<a name="Drag_and_Drop_Events"></a>   
## <a name="drag-and-drop-events"></a><span data-ttu-id="bbcf6-155">Události a přetažení</span><span class="sxs-lookup"><span data-stu-id="bbcf6-155">Drag-and-Drop Events</span></span>  
 <span data-ttu-id="bbcf6-156">Operací přetažení myší podporovat model řízených událostmi.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-156">Drag-and-drop operations support an event driven model.</span></span>  <span data-ttu-id="bbcf6-157">Zdroje operace přetažení a cíle přetažení použijte standardní sadu událostí, které pro zpracování operací přetažení myší.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-157">Both the drag source and the drop target use a standard set of events to handle drag-and-drop operations.</span></span>  <span data-ttu-id="bbcf6-158">Následující tabulka představuje souhrn standardní události přetažení myší.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-158">The following tables summarize the standard drag-and-drop events.</span></span> <span data-ttu-id="bbcf6-159">Tyto jsou přidružené události na <xref:System.Windows.DragDrop> třídy.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-159">These are attached events on the <xref:System.Windows.DragDrop> class.</span></span> <span data-ttu-id="bbcf6-160">Další informace o přidružené události najdete v tématu [připojen přehled událostí](../../../../docs/framework/wpf/advanced/attached-events-overview.md).</span><span class="sxs-lookup"><span data-stu-id="bbcf6-160">For more information about attached events, see [Attached Events Overview](../../../../docs/framework/wpf/advanced/attached-events-overview.md).</span></span>  
  
### <a name="drag-source-events"></a><span data-ttu-id="bbcf6-161">Události zdroje přetažení</span><span class="sxs-lookup"><span data-stu-id="bbcf6-161">Drag Source Events</span></span>  
  
|<span data-ttu-id="bbcf6-162">Událost</span><span class="sxs-lookup"><span data-stu-id="bbcf6-162">Event</span></span>|<span data-ttu-id="bbcf6-163">Souhrn</span><span class="sxs-lookup"><span data-stu-id="bbcf6-163">Summary</span></span>|  
|-----------|-------------|  
|<xref:System.Windows.DragDrop.GiveFeedback>|<span data-ttu-id="bbcf6-164">Tato událost nastane nepřetržitě během operace přetahování myší a umožňuje zdroj vynechání poskytnout zpětnou vazbu informací uživateli.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-164">This event occurs continuously during a drag-and-drop operation, and enables the drop source to give feedback information to the user.</span></span> <span data-ttu-id="bbcf6-165">Tato běžně zpětné změnou vzhled ukazatele myši k označení důsledky povolenou cíle přetažení.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-165">This feedback is commonly given by changing the appearance of the mouse pointer to indicate the effects allowed by the drop target.</span></span>  <span data-ttu-id="bbcf6-166">Toto je probublávání událost.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-166">This is a bubbling event.</span></span>|  
|<xref:System.Windows.DragDrop.QueryContinueDrag>|<span data-ttu-id="bbcf6-167">K této události dojde, když dojde ke změně v klávesnici nebo tlačítko myši stavy během operace přetahování myší a umožňuje zdroj vynechání ke zrušení operace přetažení myší v závislosti na klíč nebo tlačítko stavy.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-167">This event occurs when there is a change in the keyboard or mouse button states during a drag-and-drop operation, and enables the drop source to cancel the drag-and-drop operation depending on the key/button states.</span></span> <span data-ttu-id="bbcf6-168">Toto je probublávání událost.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-168">This is a bubbling event.</span></span>|  
|<xref:System.Windows.DragDrop.PreviewGiveFeedback>|<span data-ttu-id="bbcf6-169">Tunelové verzi <xref:System.Windows.DragDrop.GiveFeedback>.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-169">Tunneling version of <xref:System.Windows.DragDrop.GiveFeedback>.</span></span>|  
|<xref:System.Windows.DragDrop.PreviewQueryContinueDrag>|<span data-ttu-id="bbcf6-170">Tunelové verzi <xref:System.Windows.DragDrop.QueryContinueDrag>.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-170">Tunneling version of <xref:System.Windows.DragDrop.QueryContinueDrag>.</span></span>|  
  
### <a name="drop-target-events"></a><span data-ttu-id="bbcf6-171">Cíl události</span><span class="sxs-lookup"><span data-stu-id="bbcf6-171">Drop Target Events</span></span>  
  
|<span data-ttu-id="bbcf6-172">Událost</span><span class="sxs-lookup"><span data-stu-id="bbcf6-172">Event</span></span>|<span data-ttu-id="bbcf6-173">Souhrn</span><span class="sxs-lookup"><span data-stu-id="bbcf6-173">Summary</span></span>|  
|-----------|-------------|  
|<xref:System.Windows.DragDrop.DragEnter>|<span data-ttu-id="bbcf6-174">K této události dojde, když je objekt přetažen cíle přetažení hranic.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-174">This event occurs when an object is dragged into the drop target's boundary.</span></span> <span data-ttu-id="bbcf6-175">Toto je probublávání událost.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-175">This is a bubbling event.</span></span>|  
|<xref:System.Windows.DragDrop.DragLeave>|<span data-ttu-id="bbcf6-176">K této události dojde, když objekt ocitne mimo hranice cíle přetažení.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-176">This event occurs when an object is dragged out of the drop target's boundary.</span></span>  <span data-ttu-id="bbcf6-177">Toto je probublávání událost.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-177">This is a bubbling event.</span></span>|  
|<xref:System.Windows.DragDrop.DragOver>|<span data-ttu-id="bbcf6-178">Průběžně, pokud je objekt přetáhnout (přesunutý) v rámci hranice cíle přetažení dojde k této události.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-178">This event occurs continuously while an object is dragged (moved) within the drop target's boundary.</span></span> <span data-ttu-id="bbcf6-179">Toto je probublávání událost.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-179">This is a bubbling event.</span></span>|  
|<xref:System.Windows.DragDrop.Drop>|<span data-ttu-id="bbcf6-180">K této události dojde, když objektu je vyřazeno na cíle přetažení.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-180">This event occurs when an object is dropped on the drop target.</span></span>  <span data-ttu-id="bbcf6-181">Toto je probublávání událost.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-181">This is a bubbling event.</span></span>|  
|<xref:System.Windows.DragDrop.PreviewDragEnter>|<span data-ttu-id="bbcf6-182">Tunelové verzi <xref:System.Windows.DragDrop.DragEnter>.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-182">Tunneling version of <xref:System.Windows.DragDrop.DragEnter>.</span></span>|  
|<xref:System.Windows.DragDrop.PreviewDragLeave>|<span data-ttu-id="bbcf6-183">Tunelové verzi <xref:System.Windows.DragDrop.DragLeave>.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-183">Tunneling version of <xref:System.Windows.DragDrop.DragLeave>.</span></span>|  
|<xref:System.Windows.DragDrop.PreviewDragOver>|<span data-ttu-id="bbcf6-184">Tunelové verzi <xref:System.Windows.DragDrop.DragOver>.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-184">Tunneling version of <xref:System.Windows.DragDrop.DragOver>.</span></span>|  
|<xref:System.Windows.DragDrop.PreviewDrop>|<span data-ttu-id="bbcf6-185">Tunelové verzi <xref:System.Windows.DragDrop.Drop>.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-185">Tunneling version of <xref:System.Windows.DragDrop.Drop>.</span></span>|  
  
 <span data-ttu-id="bbcf6-186">Zpracování událostí a přetažení pro instance objektu, přidejte obslužné rutiny pro události uvedené v předchozích tabulkách.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-186">To handle drag-and-drop events for instances of an object, add handlers for the events listed in the preceding tables.</span></span> <span data-ttu-id="bbcf6-187">Zpracování událostí přetažení myší na úrovni třídy, přepsání odpovídající virtuální na * události a na\*PreviewEvent metody.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-187">To handle drag-and-drop events at the class level, override the corresponding virtual On*Event and On\*PreviewEvent methods.</span></span> <span data-ttu-id="bbcf6-188">Další informace najdete v tématu [– třída zpracování o směrované události podle základní třídy ovládacích prvků](../../../../docs/framework/wpf/advanced/marking-routed-events-as-handled-and-class-handling.md#Class_Handling_of_Routed_Events).</span><span class="sxs-lookup"><span data-stu-id="bbcf6-188">For more information, see [Class Handling of Routed Events by Control Base Classes](../../../../docs/framework/wpf/advanced/marking-routed-events-as-handled-and-class-handling.md#Class_Handling_of_Routed_Events).</span></span>  
  
<a name="Implementing_Drag_And_Drop"></a>   
## <a name="implementing-drag-and-drop"></a><span data-ttu-id="bbcf6-189">Implementace a přetažení</span><span class="sxs-lookup"><span data-stu-id="bbcf6-189">Implementing Drag-and-Drop</span></span>  
 <span data-ttu-id="bbcf6-190">Element uživatelského rozhraní lze zdroje operace přetažení, cíle přetažení nebo obojí.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-190">A UI element can be a drag source, a drop target, or both.</span></span> <span data-ttu-id="bbcf6-191">K implementaci základní přetahování myší, můžete napsat kód pro zahájení operace přetahování myší a zpracování vynechaných data.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-191">To implement basic drag-and-drop, you write code to initiate the drag-and-drop operation and to process the dropped data.</span></span> <span data-ttu-id="bbcf6-192">Přetažení myší prostředí můžete vylepšit zpracování události volitelné přetažení myší.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-192">You can enhance the drag-and-drop experience by handling optional drag-and-drop events.</span></span>  
  
 <span data-ttu-id="bbcf6-193">K implementaci základní přetahování myší, dokončí následující úkoly:</span><span class="sxs-lookup"><span data-stu-id="bbcf6-193">To implement basic drag-and-drop, you will complete the following tasks:</span></span>  
  
-   <span data-ttu-id="bbcf6-194">Identifikujte elementu, který bude zdroje operace přetažení.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-194">Identify the element that will be a drag source.</span></span> <span data-ttu-id="bbcf6-195">Může být zdroje operace přetažení <xref:System.Windows.UIElement> nebo <xref:System.Windows.ContentElement>.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-195">A drag source can be a <xref:System.Windows.UIElement> or a <xref:System.Windows.ContentElement>.</span></span>  
  
-   <span data-ttu-id="bbcf6-196">Vytvořte obslužnou rutinu události na zdroje operace přetažení, která zahájí operaci přetažení myší.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-196">Create an event handler on the drag source that will initiate the drag-and-drop operation.</span></span> <span data-ttu-id="bbcf6-197">Událost je obvykle <xref:System.Windows.UIElement.MouseMove> událostí.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-197">The event is typically the <xref:System.Windows.UIElement.MouseMove> event.</span></span>  
  
-   <span data-ttu-id="bbcf6-198">V obslužné rutině události zdroje přetažení volání <xref:System.Windows.DragDrop.DoDragDrop%2A> metoda inicializace operace přetažení myší.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-198">In the drag source event handler, call the <xref:System.Windows.DragDrop.DoDragDrop%2A> method to initiate the drag-and-drop operation.</span></span> <span data-ttu-id="bbcf6-199">V <xref:System.Windows.DragDrop.DoDragDrop%2A> volat funkci, zadejte zdroje operace přetažení, přenos dat a povolených důsledky.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-199">In the <xref:System.Windows.DragDrop.DoDragDrop%2A> call, specify the drag source, the data to be transferred, and the allowed effects.</span></span>  
  
-   <span data-ttu-id="bbcf6-200">Identifikujte elementu, který bude cíle přetažení.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-200">Identify the element that will be a drop target.</span></span> <span data-ttu-id="bbcf6-201">Může být cíle přetažení <xref:System.Windows.UIElement> nebo <xref:System.Windows.ContentElement>.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-201">A drop target can be <xref:System.Windows.UIElement> or a <xref:System.Windows.ContentElement>.</span></span>  
  
-   <span data-ttu-id="bbcf6-202">Na cíle přetažení nastavená <xref:System.Windows.UIElement.AllowDrop%2A> vlastnost `true`.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-202">On the drop target, set the <xref:System.Windows.UIElement.AllowDrop%2A> property to `true`.</span></span>  
  
-   <span data-ttu-id="bbcf6-203">V cíle přetažení, vytvořte <xref:System.Windows.DragDrop.Drop> obslužné rutiny události ke zpracování vynechaných data.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-203">In the drop target, create a <xref:System.Windows.DragDrop.Drop> event handler to process the dropped data.</span></span>  
  
-   <span data-ttu-id="bbcf6-204">V <xref:System.Windows.DragDrop.Drop> obslužné rutiny události, extrahovat data z <xref:System.Windows.DragEventArgs> pomocí <xref:System.Windows.DataObject.GetDataPresent%2A> a <xref:System.Windows.DataObject.GetData%2A> metody.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-204">In the <xref:System.Windows.DragDrop.Drop> event handler, extract the data from the <xref:System.Windows.DragEventArgs> by using the <xref:System.Windows.DataObject.GetDataPresent%2A> and <xref:System.Windows.DataObject.GetData%2A> methods.</span></span>  
  
-   <span data-ttu-id="bbcf6-205">V <xref:System.Windows.DragDrop.Drop> obslužné rutiny události, data použít k provedení požadované operace přetažení myší.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-205">In the <xref:System.Windows.DragDrop.Drop> event handler, use the data to perform the desired drag-and-drop operation.</span></span>  
  
 <span data-ttu-id="bbcf6-206">Implementace přetažení myší můžete vylepšit tak, že vytvoříte vlastní <xref:System.Windows.DataObject> a ve zpracování volitelné přetáhněte zdroje a drop cíl události, jak je znázorněno v následující úlohy:</span><span class="sxs-lookup"><span data-stu-id="bbcf6-206">You can enhance your drag-and-drop implementation by creating a custom <xref:System.Windows.DataObject> and by handling optional drag source and drop target events, as shown in the following tasks:</span></span>  
  
-   <span data-ttu-id="bbcf6-207">Pro přenos vlastních dat nebo více datových položek, vytvořit <xref:System.Windows.DataObject> mají být předány <xref:System.Windows.DragDrop.DoDragDrop%2A> metoda.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-207">To transfer custom data or multiple data items, create a <xref:System.Windows.DataObject> to pass to the <xref:System.Windows.DragDrop.DoDragDrop%2A> method.</span></span>  
  
-   <span data-ttu-id="bbcf6-208">K provedení dalších akcí během přetažení, zpracování <xref:System.Windows.DragDrop.DragEnter>, <xref:System.Windows.DragDrop.DragOver>, a <xref:System.Windows.DragDrop.DragLeave> události na cíle přetažení.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-208">To perform additional actions during a drag, handle the <xref:System.Windows.DragDrop.DragEnter>, <xref:System.Windows.DragDrop.DragOver>, and <xref:System.Windows.DragDrop.DragLeave> events on the drop target.</span></span>  
  
-   <span data-ttu-id="bbcf6-209">Chcete-li změnit vzhled ukazatele myši, zpracování <xref:System.Windows.DragDrop.GiveFeedback> událostí na zdroje operace přetažení.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-209">To change the appearance of the mouse pointer, handle the <xref:System.Windows.DragDrop.GiveFeedback> event on the drag source.</span></span>  
  
-   <span data-ttu-id="bbcf6-210">Pokud chcete změnit, jak zrušit operaci přetažení myší, zpracování <xref:System.Windows.DragDrop.QueryContinueDrag> událostí na zdroje operace přetažení.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-210">To change how the drag-and-drop operation is canceled, handle the <xref:System.Windows.DragDrop.QueryContinueDrag> event on the drag source.</span></span>  
  
<a name="Drag_And_Drop_Example"></a>   
## <a name="drag-and-drop-example"></a><span data-ttu-id="bbcf6-211">Příklad přetažení myší</span><span class="sxs-lookup"><span data-stu-id="bbcf6-211">Drag-and-Drop Example</span></span>  
 <span data-ttu-id="bbcf6-212">Tato část popisuje, jak implementovat přetažení myší pro <xref:System.Windows.Shapes.Ellipse> elementu.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-212">This section describes how to implement drag-and-drop for an <xref:System.Windows.Shapes.Ellipse> element.</span></span> <span data-ttu-id="bbcf6-213"><xref:System.Windows.Shapes.Ellipse> Zdroje operace přetažení a cíle přetažení.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-213">The <xref:System.Windows.Shapes.Ellipse> is both a drag source and a drop target.</span></span> <span data-ttu-id="bbcf6-214">Přenášených dat je řetězcová reprezentace se třemi tečkami <xref:System.Windows.Shapes.Shape.Fill%2A> vlastnost.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-214">The transferred data is the string representation of the ellipse’s <xref:System.Windows.Shapes.Shape.Fill%2A> property.</span></span> <span data-ttu-id="bbcf6-215">Následující XAML ukazuje <xref:System.Windows.Shapes.Ellipse> elementu a přetažení myší související události, které zpracovává.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-215">The following XAML shows the <xref:System.Windows.Shapes.Ellipse> element and the drag-and-drop related events that it handles.</span></span> <span data-ttu-id="bbcf6-216">Úplné kroky pro implementaci přetahování myší, najdete v části [návod: povolení přetáhněte a Drop na uživatelský ovládací prvek](../../../../docs/framework/wpf/advanced/walkthrough-enabling-drag-and-drop-on-a-user-control.md).</span><span class="sxs-lookup"><span data-stu-id="bbcf6-216">For complete steps on how to implement drag-and-drop, see [Walkthrough: Enabling Drag and Drop on a User Control](../../../../docs/framework/wpf/advanced/walkthrough-enabling-drag-and-drop-on-a-user-control.md).</span></span>  
  
 [!code-xaml[DragDropSnippets#EllipseXaml](../../../../samples/snippets/csharp/VS_Snippets_Wpf/dragdropsnippets/cs/mainwindow.xaml#ellipsexaml)]  
  
### <a name="enabling-an-element-to-be-a-drag-source"></a><span data-ttu-id="bbcf6-217">Povolení elementu jako zdroje operace přetažení</span><span class="sxs-lookup"><span data-stu-id="bbcf6-217">Enabling an Element to be a Drag Source</span></span>  
 <span data-ttu-id="bbcf6-218">Objekt, který je zdroje operace přetažení zodpovídá za:</span><span class="sxs-lookup"><span data-stu-id="bbcf6-218">An object that is a drag source is responsible for:</span></span>  
  
-   <span data-ttu-id="bbcf6-219">Identifikace, když dojde přetažení.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-219">Identifying when a drag occurs.</span></span>  
  
-   <span data-ttu-id="bbcf6-220">Probíhá inicializace operaci přetažení myší.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-220">Initiating the drag-and-drop operation.</span></span>  
  
-   <span data-ttu-id="bbcf6-221">Určení dat, které se mají přenést.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-221">Identifying the data to be transferred.</span></span>  
  
-   <span data-ttu-id="bbcf6-222">Zadání účinky, které mají na přenášených dat je povoleno operaci přetažení myší.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-222">Specifying the effects that the drag-and-drop operation is allowed to have on the transferred data.</span></span>  
  
 <span data-ttu-id="bbcf6-223">Zdroje operace přetažení může také váš názor uživateli ohledně povolených akcí (přesunout, kopírovat, none) a můžete zrušit operaci přetažení myší na další uživatelský vstup, jako je například stisknutí klávesy ESC při tažení základě.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-223">The drag source may also give feedback to the user regarding the allowed actions (move, copy, none), and can cancel the drag-and-drop operation based on additional user input, such as pressing the ESC key during the drag.</span></span>  
  
 <span data-ttu-id="bbcf6-224">Je zodpovědností aplikace k určení, kdy dojde k přetáhněte, a poté operaci spustit přetažení myší pomocí volání <xref:System.Windows.DragDrop.DoDragDrop%2A> metoda.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-224">It is the responsibility of your application to determine when a drag occurs, and then initiate the drag-and-drop operation by calling the <xref:System.Windows.DragDrop.DoDragDrop%2A> method.</span></span> <span data-ttu-id="bbcf6-225">Obvykle se jedná, kdy <xref:System.Windows.UIElement.MouseMove> přes element přetáhnout při stisknutí tlačítka myši dojde k události.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-225">Typically, this is when a <xref:System.Windows.UIElement.MouseMove> event occurs over the element to be dragged while a mouse button is pressed.</span></span> <span data-ttu-id="bbcf6-226">Následující příklad ukazuje, jak zahájit operaci přetažení myší z <xref:System.Windows.UIElement.MouseMove> obslužnou rutinu události <xref:System.Windows.Shapes.Ellipse> element aby zdroje operace přetažení.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-226">The following example shows how to initiate a drag-and-drop operation from the <xref:System.Windows.UIElement.MouseMove> event handler of an <xref:System.Windows.Shapes.Ellipse> element to make it a drag source.</span></span> <span data-ttu-id="bbcf6-227">Přenášených dat je řetězcová reprezentace se třemi tečkami <xref:System.Windows.Shapes.Shape.Fill%2A> vlastnost.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-227">The transferred data is the string representation of the ellipse’s <xref:System.Windows.Shapes.Shape.Fill%2A> property.</span></span>  
  
 [!code-csharp[DragDropSnippets#DoDragDrop](../../../../samples/snippets/csharp/VS_Snippets_Wpf/dragdropsnippets/cs/mainwindow.xaml.cs#dodragdrop)]
 [!code-vb[DragDropSnippets#DoDragDrop](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/dragdropsnippets/vb/mainwindow.xaml.vb#dodragdrop)]  
  
 <span data-ttu-id="bbcf6-228">Uvnitř <xref:System.Windows.UIElement.MouseMove> obslužné rutiny události, volání <xref:System.Windows.DragDrop.DoDragDrop%2A> metoda inicializace operace přetažení myší.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-228">Inside of the <xref:System.Windows.UIElement.MouseMove> event handler, call the <xref:System.Windows.DragDrop.DoDragDrop%2A> method to initiate the drag-and-drop operation.</span></span> <span data-ttu-id="bbcf6-229"><xref:System.Windows.DragDrop.DoDragDrop%2A> Metoda přijímá tři parametry:</span><span class="sxs-lookup"><span data-stu-id="bbcf6-229">The <xref:System.Windows.DragDrop.DoDragDrop%2A> method takes three parameters:</span></span>  
  
-   <span data-ttu-id="bbcf6-230">`dragSource` – Odkaz na objekt závislostí, který je zdrojem přenášených dat; Toto je obvykle zdroj <xref:System.Windows.UIElement.MouseMove> událostí.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-230">`dragSource` – A reference to the dependency object that is the source of the transferred data; this is typically the source of the <xref:System.Windows.UIElement.MouseMove> event.</span></span>  
  
-   <span data-ttu-id="bbcf6-231">`data` -Objekt, který obsahuje přenášených dat, uzavřen do <xref:System.Windows.DataObject>.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-231">`data` - An object that contains the transferred data, wrapped in a <xref:System.Windows.DataObject>.</span></span>  
  
-   <span data-ttu-id="bbcf6-232">`allowedEffects` -Jedním z <xref:System.Windows.DragDropEffects> hodnot výčtu, která určuje povolené důsledky operaci přetažení myší.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-232">`allowedEffects` - One of the <xref:System.Windows.DragDropEffects> enumeration values that specifies the permitted effects of the drag-and-drop operation.</span></span>  
  
 <span data-ttu-id="bbcf6-233">Jakýkoli serializovatelný objekt lze předat ve `data` parametr.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-233">Any serializable object can be passed in the `data` parameter.</span></span> <span data-ttu-id="bbcf6-234">Pokud data není již uzavřen do <xref:System.Windows.DataObject>, bude automaticky zalomit v nové <xref:System.Windows.DataObject>.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-234">If the data is not already wrapped in a <xref:System.Windows.DataObject>, it will automatically be wrapped in a new <xref:System.Windows.DataObject>.</span></span> <span data-ttu-id="bbcf6-235">Pokud chcete předat více datových položek, musíte vytvořit <xref:System.Windows.DataObject> sami, možností a předejte ji do <xref:System.Windows.DragDrop.DoDragDrop%2A> metoda.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-235">To pass multiple data items, you must create the <xref:System.Windows.DataObject> yourself, and pass it to the <xref:System.Windows.DragDrop.DoDragDrop%2A> method.</span></span> <span data-ttu-id="bbcf6-236">Další informace najdete v tématu [datových objektů a dat](../../../../docs/framework/wpf/advanced/data-and-data-objects.md).</span><span class="sxs-lookup"><span data-stu-id="bbcf6-236">For more information, see [Data and Data Objects](../../../../docs/framework/wpf/advanced/data-and-data-objects.md).</span></span>  
  
 <span data-ttu-id="bbcf6-237">`allowedEffects` Parametr se používá k určení, co bude zdroje operace přetažení povolit cíle přetažení dělat s přenášená data.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-237">The `allowedEffects` parameter is used to specify what the drag source will allow the drop target to do with the transferred data.</span></span> <span data-ttu-id="bbcf6-238">Běžné hodnoty pro zdroje operace přetažení jsou <xref:System.Windows.DragDropEffects.Copy>, <xref:System.Windows.DragDropEffects.Move>, a <xref:System.Windows.DragDropEffects.All>.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-238">The common values for a drag source are <xref:System.Windows.DragDropEffects.Copy>, <xref:System.Windows.DragDropEffects.Move>, and <xref:System.Windows.DragDropEffects.All>.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="bbcf6-239">Cíle přetažení je také možné zadat jaké důsledky hodlá v reakci na vynechaných data.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-239">The drop target is also able to specify what effects it intends in response to the dropped data.</span></span> <span data-ttu-id="bbcf6-240">Například pokud cíle přetažení nebyl rozpoznán typ dat chcete vyřadit, ho můžete odmítnout data nastavením jeho povolené účinky na <xref:System.Windows.DragDropEffects.None>.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-240">For example, if the drop target does not recognize the data type to be dropped, it can refuse the data by setting its allowed effects to <xref:System.Windows.DragDropEffects.None>.</span></span> <span data-ttu-id="bbcf6-241">Obvykle dělá to jeho <xref:System.Windows.DragDrop.DragOver> obslužné rutiny události.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-241">It typically does this in its <xref:System.Windows.DragDrop.DragOver> event handler.</span></span>  
  
 <span data-ttu-id="bbcf6-242">Volitelně může zpracovat zdroje operace přetažení <xref:System.Windows.DragDrop.GiveFeedback> a <xref:System.Windows.DragDrop.QueryContinueDrag> události.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-242">A drag source can optionally handle the <xref:System.Windows.DragDrop.GiveFeedback> and <xref:System.Windows.DragDrop.QueryContinueDrag> events.</span></span> <span data-ttu-id="bbcf6-243">Tyto události mít výchozí obslužné rutiny, které se používají, pokud označíte události jako zpracování.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-243">These events have default handlers that are used unless you mark the events as handled.</span></span> <span data-ttu-id="bbcf6-244">Tyto události bude obvykle ignorovat, pokud máte konkrétní potřebu změnit jejich výchozí chování.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-244">You will typically ignore these events unless you have a specific need to change their default behavior.</span></span>  
  
 <span data-ttu-id="bbcf6-245"><xref:System.Windows.DragDrop.GiveFeedback> Událost se vyvolá nepřetržitě při přetažení zdroje operace přetažení.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-245">The <xref:System.Windows.DragDrop.GiveFeedback> event is raised continuously while the drag source is being dragged.</span></span> <span data-ttu-id="bbcf6-246">Výchozí obslužnou rutinu pro tuto událost, zkontroluje, jestli zdroje operace přetažení přes cíle přetažení platný.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-246">The default handler for this event checks whether the drag source is over a valid drop target.</span></span> <span data-ttu-id="bbcf6-247">Pokud se jedná, zkontroluje povolený důsledky cíle přetažení.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-247">If it is, it checks the allowed effects of the drop target.</span></span> <span data-ttu-id="bbcf6-248">Poté přiřadí zpětnou vazbu pro koncového uživatele o důsledky povolené rozevírací.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-248">It then gives feedback to the end user regarding the allowed drop effects.</span></span> <span data-ttu-id="bbcf6-249">To se obvykle provádí změna myší na Ne pokles, kopírování nebo přesunutí kurzoru.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-249">This is typically done by changing the mouse cursor to a no-drop, copy, or move cursor.</span></span> <span data-ttu-id="bbcf6-250">Tato událost by měla řídit jenom v případě budete muset použít vlastní kurzory k poskytnutí zpětné vazby pro uživatele.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-250">You should only handle this event if you need to use custom cursors to provide feedback to the user.</span></span> <span data-ttu-id="bbcf6-251">Pokud tuto událost zpracovat, je nutné označit ji jako zpracování tak, aby obslužná rutina výchozí nepřepisuje vaší obslužné rutiny.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-251">If you handle this event, be sure to mark it as handled so that the default handler does not override your handler.</span></span>  
  
 <span data-ttu-id="bbcf6-252"><xref:System.Windows.DragDrop.QueryContinueDrag> Událost se vyvolá nepřetržitě při přetažení zdroje operace přetažení.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-252">The <xref:System.Windows.DragDrop.QueryContinueDrag> event is raised continuously while the drag source is being dragged.</span></span> <span data-ttu-id="bbcf6-253">Dokáže zpracovat tuto událost, chcete-li určit, jakou akci ukončí operaci přetažení myší podle stavu ESC, SHIFT, CTRL a ALT – klávesy, jakož i stav tlačítka myši.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-253">You can handle this event to determine what action ends the drag-and-drop operation based on the state of the ESC, SHIFT, CTRL, and ALT keys, as well as the state of the mouse buttons.</span></span> <span data-ttu-id="bbcf6-254">Operaci přetažení myší výchozí obslužnou rutinu pro tuto událost zruší, pokud stisknutí klávesy ESC a zahodí data, pokud uvolnění tlačítka myši.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-254">The default handler for this event cancels the drag-and-drop operation if the ESC key is pressed, and drops the data if the mouse button is released.</span></span>  
  
> [!CAUTION]
>  <span data-ttu-id="bbcf6-255">Tyto události jsou vyvolány nepřetržitě během operace přetažení myší.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-255">These events are raised continuously during the drag-and-drop operation.</span></span> <span data-ttu-id="bbcf6-256">Proto byste neměli náročných úloh v obslužné rutiny událostí.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-256">Therefore, you should avoid resource-intensive tasks in the event handlers.</span></span>  <span data-ttu-id="bbcf6-257">Například v mezipaměti kurzoru použít místo vytvoření nové kurzoru pokaždé, když <xref:System.Windows.DragDrop.GiveFeedback> událost se vyvolá.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-257">For example, use a cached cursor instead of creating a new cursor each time the <xref:System.Windows.DragDrop.GiveFeedback> event is raised.</span></span>  
  
### <a name="enabling-an-element-to-be-a-drop-target"></a><span data-ttu-id="bbcf6-258">Povolení elementu jako cíl vyřadit</span><span class="sxs-lookup"><span data-stu-id="bbcf6-258">Enabling an Element to be a Drop Target</span></span>  
 <span data-ttu-id="bbcf6-259">Objekt, který je cíle přetažení zodpovídá za:</span><span class="sxs-lookup"><span data-stu-id="bbcf6-259">An object that is a drop target is responsible for:</span></span>  
  
-   <span data-ttu-id="bbcf6-260">Určení, že se jedná o cíle přetažení platný.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-260">Specifying that it is a valid drop target.</span></span>  
  
-   <span data-ttu-id="bbcf6-261">Odpovídá na požadavky zdroje operace přetažení, když se nastavuje tažením přes cíl.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-261">Responding to the drag source when it drags over the target.</span></span>  
  
-   <span data-ttu-id="bbcf6-262">Kontroluje, že přenášených dat je ve formátu, který může přijímat.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-262">Checking that the transferred data is in a format that it can receive.</span></span>  
  
-   <span data-ttu-id="bbcf6-263">Zpracování vynechaných data.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-263">Processing the dropped data.</span></span>  
  
 <span data-ttu-id="bbcf6-264">Chcete-li určit, že je element cíle přetažení, nastavíte jeho <xref:System.Windows.UIElement.AllowDrop%2A> vlastnost `true`.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-264">To specify that an element is a drop target, you set its <xref:System.Windows.UIElement.AllowDrop%2A> property to `true`.</span></span> <span data-ttu-id="bbcf6-265">Cíl události rozevírací pak bude vydána v elementu tak, aby bylo možné zpracovat, je.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-265">The drop target events will then be raised on the element so that you can handle them.</span></span> <span data-ttu-id="bbcf6-266">Během operace přetahování myší dojde k následujícímu pořadí událostí na cíle přetažení:</span><span class="sxs-lookup"><span data-stu-id="bbcf6-266">During a drag-and-drop operation, the following sequence of events occurs on the drop target:</span></span>  
  
1.  <xref:System.Windows.DragDrop.DragEnter>  
  
2.  <xref:System.Windows.DragDrop.DragOver>  
  
3.  <span data-ttu-id="bbcf6-267"><xref:System.Windows.DragDrop.DragLeave> Nebo <xref:System.Windows.DragDrop.Drop></span><span class="sxs-lookup"><span data-stu-id="bbcf6-267"><xref:System.Windows.DragDrop.DragLeave> or <xref:System.Windows.DragDrop.Drop></span></span>  
  
 <span data-ttu-id="bbcf6-268"><xref:System.Windows.DragDrop.DragEnter> Události dojde, když data je přetáhnout do cíle přetažení hranic.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-268">The <xref:System.Windows.DragDrop.DragEnter> event occurs when the data is dragged into the drop target's boundary.</span></span> <span data-ttu-id="bbcf6-269">Tuto událost zajistit náhled důsledky operace přetahování myší, je obvykle zpracovat, pokud je to vhodné pro vaši aplikaci.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-269">You typically handle this event to provide a preview of the effects of the drag-and-drop operation, if appropriate for your application.</span></span> <span data-ttu-id="bbcf6-270">Nenastavujte <xref:System.Windows.DragEventArgs.Effects%2A?displayProperty=nameWithType> vlastnost <xref:System.Windows.DragDrop.DragEnter> událostí, jak se budou přepsány v <xref:System.Windows.DragDrop.DragOver> událostí.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-270">Do not set the <xref:System.Windows.DragEventArgs.Effects%2A?displayProperty=nameWithType> property in the <xref:System.Windows.DragDrop.DragEnter> event, as it will be overwritten in the <xref:System.Windows.DragDrop.DragOver> event.</span></span>  
  
 <span data-ttu-id="bbcf6-271">Následující příklad ukazuje <xref:System.Windows.DragDrop.DragEnter> obslužné rutiny události pro <xref:System.Windows.Shapes.Ellipse> elementu.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-271">The following example shows the <xref:System.Windows.DragDrop.DragEnter> event handler for an <xref:System.Windows.Shapes.Ellipse> element.</span></span> <span data-ttu-id="bbcf6-272">Tento kód zobrazí důsledky operaci přetažení myší náhled uložením aktuální <xref:System.Windows.Shapes.Shape.Fill%2A> štětce.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-272">This code previews the effects of the drag-and-drop operation by saving the current <xref:System.Windows.Shapes.Shape.Fill%2A> brush.</span></span> <span data-ttu-id="bbcf6-273">Poté použije <xref:System.Windows.DataObject.GetDataPresent%2A> metoda zkontrolujte zda <xref:System.Windows.DataObject> přes se třemi tečkami přetažen obsahuje řetězec data, která lze převést na <xref:System.Windows.Media.Brush>.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-273">It then uses the <xref:System.Windows.DataObject.GetDataPresent%2A> method to check whether the <xref:System.Windows.DataObject> being dragged over the ellipse contains string data that can be converted to a <xref:System.Windows.Media.Brush>.</span></span> <span data-ttu-id="bbcf6-274">Pokud ano, data jsou extrahována pomocí <xref:System.Windows.DataObject.GetData%2A> metoda.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-274">If so, the data is extracted using the <xref:System.Windows.DataObject.GetData%2A> method.</span></span> <span data-ttu-id="bbcf6-275">Pak je převést na <xref:System.Windows.Media.Brush> a použity na se třemi tečkami.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-275">It is then converted to a <xref:System.Windows.Media.Brush> and applied to the ellipse.</span></span> <span data-ttu-id="bbcf6-276">Změna je vrácen v <xref:System.Windows.DragDrop.DragLeave> obslužné rutiny události.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-276">The change is reverted in the <xref:System.Windows.DragDrop.DragLeave> event handler.</span></span> <span data-ttu-id="bbcf6-277">Pokud data nelze převést na <xref:System.Windows.Media.Brush>, neprovede se žádná akce.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-277">If the data cannot be converted to a <xref:System.Windows.Media.Brush>, no action is performed.</span></span>  
  
 [!code-csharp[DragDropSnippets#DragEnter](../../../../samples/snippets/csharp/VS_Snippets_Wpf/dragdropsnippets/cs/mainwindow.xaml.cs#dragenter)]
 [!code-vb[DragDropSnippets#DragEnter](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/dragdropsnippets/vb/mainwindow.xaml.vb#dragenter)]  
  
 <span data-ttu-id="bbcf6-278"><xref:System.Windows.DragDrop.DragOver> Nepřetržitě při přetažení data přes cíle přetažení dojde k události.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-278">The <xref:System.Windows.DragDrop.DragOver> event occurs continuously while the data is dragged over the drop target.</span></span> <span data-ttu-id="bbcf6-279">Tato událost je spárován s <xref:System.Windows.DragDrop.GiveFeedback> událostí na zdroje operace přetažení.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-279">This event is paired with the <xref:System.Windows.DragDrop.GiveFeedback> event on the drag source.</span></span> <span data-ttu-id="bbcf6-280">V <xref:System.Windows.DragDrop.DragOver> obslužné rutiny události, obvykle použijete <xref:System.Windows.DataObject.GetDataPresent%2A> a <xref:System.Windows.DataObject.GetData%2A> metody a zkontrolujte, zda přenášených dat ve formátu, který může zpracovat cíle přetažení.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-280">In the <xref:System.Windows.DragDrop.DragOver> event handler, you typically use the <xref:System.Windows.DataObject.GetDataPresent%2A> and <xref:System.Windows.DataObject.GetData%2A> methods to check whether the transferred data is in a format that the drop target can process.</span></span> <span data-ttu-id="bbcf6-281">Můžete také zkontrolovat, zda všechny modifikátor stisknutí kláves, což obvykle označí, zda uživatel má v úmyslu akce přesunutí nebo kopírování.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-281">You can also check whether any modifier keys are pressed, which will typically indicate whether the user intends a move or copy action.</span></span> <span data-ttu-id="bbcf6-282">Po těchto ověřování, je třeba nastavit <xref:System.Windows.DragEventArgs.Effects%2A?displayProperty=nameWithType> vlastnost oznámit přetahování zdroje, jaký vliv má vyřazení dat bude mít.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-282">After these checks are performed, you set the <xref:System.Windows.DragEventArgs.Effects%2A?displayProperty=nameWithType> property to notify the drag source what effect dropping the data will have.</span></span> <span data-ttu-id="bbcf6-283">Zdroje operace přetažení obdrží tyto informace <xref:System.Windows.DragDrop.GiveFeedback> argumentů události a můžete nastavit v příslušné kurzor poskytněte zpětnou vazbu pro uživatele.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-283">The drag source receives this information in the <xref:System.Windows.DragDrop.GiveFeedback> event args, and can set an appropriate cursor to give feedback to the user.</span></span>  
  
 <span data-ttu-id="bbcf6-284">Následující příklad ukazuje <xref:System.Windows.DragDrop.DragOver> obslužné rutiny události pro <xref:System.Windows.Shapes.Ellipse> elementu.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-284">The following example shows the <xref:System.Windows.DragDrop.DragOver> event handler for an <xref:System.Windows.Shapes.Ellipse> element.</span></span> <span data-ttu-id="bbcf6-285">Tento kód zkontroluje, zda <xref:System.Windows.DataObject> přes se třemi tečkami přetažen obsahuje řetězec data, která lze převést na <xref:System.Windows.Media.Brush>.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-285">This code checks to see if the <xref:System.Windows.DataObject> being dragged over the ellipse contains string data that can be converted to a <xref:System.Windows.Media.Brush>.</span></span> <span data-ttu-id="bbcf6-286">Pokud ano, nastaví <xref:System.Windows.DragEventArgs.Effects%2A?displayProperty=nameWithType> vlastnost <xref:System.Windows.DragDropEffects.Copy>.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-286">If so, it sets the <xref:System.Windows.DragEventArgs.Effects%2A?displayProperty=nameWithType> property to <xref:System.Windows.DragDropEffects.Copy>.</span></span> <span data-ttu-id="bbcf6-287">To znamená na zdroje operace přetažení, že data je možné zkopírovat do se třemi tečkami.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-287">This indicates to the drag source that the data can be copied to the ellipse.</span></span> <span data-ttu-id="bbcf6-288">Pokud data nelze převést na <xref:System.Windows.Media.Brush>, <xref:System.Windows.DragEventArgs.Effects%2A?displayProperty=nameWithType> je nastavena na <xref:System.Windows.DragDropEffects.None>.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-288">If the data cannot be converted to a <xref:System.Windows.Media.Brush>, the <xref:System.Windows.DragEventArgs.Effects%2A?displayProperty=nameWithType> property is set to <xref:System.Windows.DragDropEffects.None>.</span></span> <span data-ttu-id="bbcf6-289">To znamená na zdroje operace přetažení se třemi tečkami není cíle přetažení platná data.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-289">This indicates to the drag source that the ellipse is not a valid drop target for the data.</span></span>  
  
 [!code-csharp[DragDropSnippets#DragOver](../../../../samples/snippets/csharp/VS_Snippets_Wpf/dragdropsnippets/cs/mainwindow.xaml.cs#dragover)]
 [!code-vb[DragDropSnippets#DragOver](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/dragdropsnippets/vb/mainwindow.xaml.vb#dragover)]  
  
 <span data-ttu-id="bbcf6-290"><xref:System.Windows.DragDrop.DragLeave> Události dojde, když data bez vyřazována ocitne mimo hranice cílové složky.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-290">The <xref:System.Windows.DragDrop.DragLeave> event occurs when the data is dragged out of the target's boundary without being dropped.</span></span> <span data-ttu-id="bbcf6-291">Zpracování této události všechno, co jste to udělali v vrátit zpět <xref:System.Windows.DragDrop.DragEnter> obslužné rutiny události.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-291">You handle this event to undo anything that you did in the <xref:System.Windows.DragDrop.DragEnter> event handler.</span></span>  
  
 <span data-ttu-id="bbcf6-292">Následující příklad ukazuje <xref:System.Windows.DragDrop.DragLeave> obslužné rutiny události pro <xref:System.Windows.Shapes.Ellipse> elementu.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-292">The following example shows the <xref:System.Windows.DragDrop.DragLeave> event handler for an <xref:System.Windows.Shapes.Ellipse> element.</span></span> <span data-ttu-id="bbcf6-293">Tento kód vrátí zpět ve verzi preview prováděla <xref:System.Windows.DragDrop.DragEnter> obslužné rutiny události použitím uložené <xref:System.Windows.Media.Brush> k se třemi tečkami.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-293">This code undoes the preview performed in the <xref:System.Windows.DragDrop.DragEnter> event handler by applying the saved <xref:System.Windows.Media.Brush> to the ellipse.</span></span>  
  
 [!code-csharp[DragDropSnippets#DragLeave](../../../../samples/snippets/csharp/VS_Snippets_Wpf/dragdropsnippets/cs/mainwindow.xaml.cs#dragleave)]
 [!code-vb[DragDropSnippets#DragLeave](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/dragdropsnippets/vb/mainwindow.xaml.vb#dragleave)]  
  
 <span data-ttu-id="bbcf6-294"><xref:System.Windows.DragDrop.Drop> Události dojde, když je vyřazeno data přes cíle přetažení; ve výchozím nastavení, to se stane, když uvolnění tlačítka myši.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-294">The <xref:System.Windows.DragDrop.Drop> event occurs when the data is dropped over the drop target; by default, this happens when the mouse button is released.</span></span> <span data-ttu-id="bbcf6-295">V <xref:System.Windows.DragDrop.Drop> obslužné rutiny události, můžete použít <xref:System.Windows.DataObject.GetData%2A> metoda extrahování přenášených dat z <xref:System.Windows.DataObject> a provádět všechny zpracování dat, která vaše aplikace vyžaduje.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-295">In the <xref:System.Windows.DragDrop.Drop> event handler, you use the <xref:System.Windows.DataObject.GetData%2A> method to extract the transferred data from the <xref:System.Windows.DataObject> and perform any data processing that your application requires.</span></span> <span data-ttu-id="bbcf6-296"><xref:System.Windows.DragDrop.Drop> Událostí ukončí operaci přetažení myší.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-296">The <xref:System.Windows.DragDrop.Drop> event ends the drag-and-drop operation.</span></span>  
  
 <span data-ttu-id="bbcf6-297">Následující příklad ukazuje <xref:System.Windows.DragDrop.Drop> obslužné rutiny události pro <xref:System.Windows.Shapes.Ellipse> elementu.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-297">The following example shows the <xref:System.Windows.DragDrop.Drop> event handler for an <xref:System.Windows.Shapes.Ellipse> element.</span></span> <span data-ttu-id="bbcf6-298">Tento kód používá důsledky operaci přetažení myší a je podobný kódu v <xref:System.Windows.DragDrop.DragEnter> obslužné rutiny události.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-298">This code applies the effects of the drag-and-drop operation, and is similar to the code in the <xref:System.Windows.DragDrop.DragEnter> event handler.</span></span> <span data-ttu-id="bbcf6-299">Kontroluje, zda <xref:System.Windows.DataObject> přes se třemi tečkami přetažen obsahuje řetězec data, která lze převést na <xref:System.Windows.Media.Brush>.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-299">It checks to see if the <xref:System.Windows.DataObject> being dragged over the ellipse contains string data that can be converted to a <xref:System.Windows.Media.Brush>.</span></span> <span data-ttu-id="bbcf6-300">Pokud ano, <xref:System.Windows.Media.Brush> se použije pro se třemi tečkami.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-300">If so, the <xref:System.Windows.Media.Brush> is applied to the ellipse.</span></span> <span data-ttu-id="bbcf6-301">Pokud data nelze převést na <xref:System.Windows.Media.Brush>, neprovede se žádná akce.</span><span class="sxs-lookup"><span data-stu-id="bbcf6-301">If the data cannot be converted to a <xref:System.Windows.Media.Brush>, no action is performed.</span></span>  
  
 [!code-csharp[DragDropSnippets#Drop](../../../../samples/snippets/csharp/VS_Snippets_Wpf/dragdropsnippets/cs/mainwindow.xaml.cs#drop)]
 [!code-vb[DragDropSnippets#Drop](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/dragdropsnippets/vb/mainwindow.xaml.vb#drop)]  
  
## <a name="see-also"></a><span data-ttu-id="bbcf6-302">Viz také</span><span class="sxs-lookup"><span data-stu-id="bbcf6-302">See Also</span></span>  
 <xref:System.Windows.Clipboard>  
 [<span data-ttu-id="bbcf6-303">Návod: Povolení přetahování pomocí myši na uživatelském ovládacím prvku</span><span class="sxs-lookup"><span data-stu-id="bbcf6-303">Walkthrough: Enabling Drag and Drop on a User Control</span></span>](../../../../docs/framework/wpf/advanced/walkthrough-enabling-drag-and-drop-on-a-user-control.md)  
 [<span data-ttu-id="bbcf6-304">Témata s postupy</span><span class="sxs-lookup"><span data-stu-id="bbcf6-304">How-to Topics</span></span>](../../../../docs/framework/wpf/advanced/drag-and-drop-how-to-topics.md)  
 [<span data-ttu-id="bbcf6-305">Přetažení</span><span class="sxs-lookup"><span data-stu-id="bbcf6-305">Drag and Drop</span></span>](../../../../docs/framework/wpf/advanced/drag-and-drop.md)
