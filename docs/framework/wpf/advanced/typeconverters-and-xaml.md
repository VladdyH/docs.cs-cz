---
title: TypeConverters a XAML
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-wpf
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords: XAML [WPF], TypeConverter class
ms.assetid: f6313e4d-e89d-497d-ac87-b43511a1ae4b
caps.latest.revision: "13"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.openlocfilehash: 073730382f98a6c3d61ebdadf4f1f74411ba4e63
ms.sourcegitcommit: 4f3fef493080a43e70e951223894768d36ce430a
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 11/21/2017
---
# <a name="typeconverters-and-xaml"></a><span data-ttu-id="10c6a-102">TypeConverters a XAML</span><span class="sxs-lookup"><span data-stu-id="10c6a-102">TypeConverters and XAML</span></span>
<span data-ttu-id="10c6a-103">Toto téma představuje účelem převodu typu z řetězce jako obecné funkce jazyka XAML.</span><span class="sxs-lookup"><span data-stu-id="10c6a-103">This topic introduces the purpose of type conversion from string as a general XAML language feature.</span></span> <span data-ttu-id="10c6a-104">V rozhraní .NET Framework <xref:System.ComponentModel.TypeConverter> třída slouží jako součást implementace pro spravované vlastní třídu, která lze použít jako hodnoty vlastností v použití atributu XAML určitý účel.</span><span class="sxs-lookup"><span data-stu-id="10c6a-104">In the .NET Framework, the <xref:System.ComponentModel.TypeConverter> class serves a particular purpose as part of the implementation for a managed custom class that can be used as a property value in XAML attribute usage.</span></span> <span data-ttu-id="10c6a-105">Pokud můžete psát vlastní třídu a chcete instancí vaší třídy možné používat jako hodnoty nastavit atribut XAML, může se mají použít <xref:System.ComponentModel.TypeConverterAttribute> na třídu, zápis vlastní <xref:System.ComponentModel.TypeConverter> třídy, nebo obojí.</span><span class="sxs-lookup"><span data-stu-id="10c6a-105">If you write a custom class, and you want instances of your class to be usable as XAML settable attribute values, you might need to apply a <xref:System.ComponentModel.TypeConverterAttribute> to your class, write a custom <xref:System.ComponentModel.TypeConverter> class, or both.</span></span>  
  

  
## <a name="type-conversion-concepts"></a><span data-ttu-id="10c6a-106">Koncepty převody typu</span><span class="sxs-lookup"><span data-stu-id="10c6a-106">Type Conversion Concepts</span></span>  
  
### <a name="xaml-and-string-values"></a><span data-ttu-id="10c6a-107">XAML a hodnotami řetězců</span><span class="sxs-lookup"><span data-stu-id="10c6a-107">XAML and String Values</span></span>  
 <span data-ttu-id="10c6a-108">Když nastavíte hodnotu atributu v souboru XAML, počáteční typ této hodnoty je řetězec v čistě textovým.</span><span class="sxs-lookup"><span data-stu-id="10c6a-108">When you set an attribute value in a XAML file, the initial type of that value is a string in pure text.</span></span> <span data-ttu-id="10c6a-109">I další primitiv jako <xref:System.Double> jsou původně textové řetězce pro procesor XAML.</span><span class="sxs-lookup"><span data-stu-id="10c6a-109">Even other primitives such as <xref:System.Double> are initially text strings to a XAML processor.</span></span>  
  
 <span data-ttu-id="10c6a-110">Procesor XAML musí dva druhy údajů aby bylo možné zpracovat hodnotu atributu.</span><span class="sxs-lookup"><span data-stu-id="10c6a-110">A XAML processor needs two pieces of information in order to process an attribute value.</span></span> <span data-ttu-id="10c6a-111">První část informace je typ hodnoty vlastnosti, která je nastavena.</span><span class="sxs-lookup"><span data-stu-id="10c6a-111">The first piece of information is the value type of the property that is being set.</span></span> <span data-ttu-id="10c6a-112">Libovolný řetězec, který definuje hodnotu atributu a který zpracovává v jazyce XAML musí být nakonec převést nebo byl přeložen na hodnotu daného typu.</span><span class="sxs-lookup"><span data-stu-id="10c6a-112">Any string that defines an attribute value and that is processed in XAML must ultimately be converted or resolved to a value of that type.</span></span> <span data-ttu-id="10c6a-113">Pokud je hodnota Primitivum, které se rozumí analyzátor jazyka XAML (například číselnou hodnotu), dojde k pokusu o přímé převod řetězce.</span><span class="sxs-lookup"><span data-stu-id="10c6a-113">If the value is a primitive that is understood by the XAML parser (such as a numeric value), a direct conversion of the string is attempted.</span></span> <span data-ttu-id="10c6a-114">Pokud je hodnota výčtu, řetězec se používá ke kontrole shody název pojmenovaného konstantu tohoto výčtu.</span><span class="sxs-lookup"><span data-stu-id="10c6a-114">If the value is an enumeration, the string is used to check for a name match to a named constant in that enumeration.</span></span> <span data-ttu-id="10c6a-115">Pokud je hodnota ani rozumí analyzátor primitivní ani výčet a pak v typu musí být schopen poskytnout instance typu nebo hodnotu, na základě převedený řetězce.</span><span class="sxs-lookup"><span data-stu-id="10c6a-115">If the value is neither a parser-understood primitive nor an enumeration, then the type in question must be able to provide an instance of the type, or a value, based on a converted string.</span></span> <span data-ttu-id="10c6a-116">Děje se tak, že zadáte třídu typ převaděče.</span><span class="sxs-lookup"><span data-stu-id="10c6a-116">This is done by indicating a type converter class.</span></span> <span data-ttu-id="10c6a-117">Převaděče typů je efektivně pomocná třída pro zajištění hodnoty jiné třídy, pro scénář XAML a potenciálně také pro volání kódu v rozhraní .NET kódu.</span><span class="sxs-lookup"><span data-stu-id="10c6a-117">The type converter is effectively a helper class for providing values of another class, both for the XAML scenario and also potentially for code calls in .NET code.</span></span>  
  
### <a name="using-existing-type-conversion-behavior-in-xaml"></a><span data-ttu-id="10c6a-118">Pomocí chování převod existující typ v jazyce XAML</span><span class="sxs-lookup"><span data-stu-id="10c6a-118">Using Existing Type Conversion Behavior in XAML</span></span>  
 <span data-ttu-id="10c6a-119">V závislosti na vaší znalost základní koncepty XAML již používáte typ převodu chování v základní aplikace XAML bez porozumění ho.</span><span class="sxs-lookup"><span data-stu-id="10c6a-119">Depending on your familiarity with the underlying XAML concepts, you may already be using type conversion behavior in basic application XAML without realizing it.</span></span> <span data-ttu-id="10c6a-120">Například WPF definuje oznámena stovky vlastnosti, které trvat hodnotu typu <xref:System.Windows.Point>.</span><span class="sxs-lookup"><span data-stu-id="10c6a-120">For instance, WPF defines literally hundreds of properties that take a value of type <xref:System.Windows.Point>.</span></span> <span data-ttu-id="10c6a-121">A <xref:System.Windows.Point> je hodnota, která popisuje souřadnice v dvojrozměrném prostoru souřadnic a pouze má dvě důležité vlastnosti: <xref:System.Windows.Point.X%2A> a <xref:System.Windows.Point.Y%2A>.</span><span class="sxs-lookup"><span data-stu-id="10c6a-121">A <xref:System.Windows.Point> is a value that describes a coordinate in a two-dimensional coordinate space, and it really just has two important properties: <xref:System.Windows.Point.X%2A> and <xref:System.Windows.Point.Y%2A>.</span></span> <span data-ttu-id="10c6a-122">Pokud určíte bod v jazyce XAML, můžete je zadat jako řetězec s oddělovačem (obvykle čárkou) mezi <xref:System.Windows.Point.X%2A> a <xref:System.Windows.Point.Y%2A> hodnoty, které zadáte.</span><span class="sxs-lookup"><span data-stu-id="10c6a-122">When you specify a point in XAML, you specify it as a string with a delimiter (typically a comma) between the <xref:System.Windows.Point.X%2A> and <xref:System.Windows.Point.Y%2A> values you provide.</span></span> <span data-ttu-id="10c6a-123">Příklad: `<LinearGradientBrush StartPoint="0,0" EndPoint="1,1">`.</span><span class="sxs-lookup"><span data-stu-id="10c6a-123">For example: `<LinearGradientBrush StartPoint="0,0" EndPoint="1,1">`.</span></span>  
  
 <span data-ttu-id="10c6a-124">I tento jednoduchý typ <xref:System.Windows.Point> a jeho jednoduché využití v jazyce XAML zahrnovat převaděče typů.</span><span class="sxs-lookup"><span data-stu-id="10c6a-124">Even this simple type of <xref:System.Windows.Point> and its simple usage in XAML involve a type converter.</span></span> <span data-ttu-id="10c6a-125">V takovém případě se třída <xref:System.Windows.PointConverter>.</span><span class="sxs-lookup"><span data-stu-id="10c6a-125">In this case that is the class <xref:System.Windows.PointConverter>.</span></span>  
  
 <span data-ttu-id="10c6a-126">Převaděč typů pro <xref:System.Windows.Point> definované na úrovni zjednodušuje třída použití značek všech vlastností, které provést <xref:System.Windows.Point>.</span><span class="sxs-lookup"><span data-stu-id="10c6a-126">The type converter for <xref:System.Windows.Point> defined at the class level streamlines the markup usages of all properties that take <xref:System.Windows.Point>.</span></span> <span data-ttu-id="10c6a-127">Bez převaděče typu zde, je nutné následující mnohem podrobnější kód pro příkladě uvedený výše:</span><span class="sxs-lookup"><span data-stu-id="10c6a-127">Without a type converter here, you would need the following much more verbose markup for the same example shown previously:</span></span>  
  
 `<LinearGradientBrush>`  
  
 `<LinearGradientBrush.StartPoint>`  
  
 `<Point X="0" Y="0"/>`  
  
 `</LinearGradientBrush.StartPoint>`  
  
 `<LinearGradientBrush.EndPoint>`  
  
 `<Point X="1" Y="1"/>`  
  
 `</LinearGradientBrush.EndPoint>`  
  
 `<LinearGradientBrush>`  
  
 <span data-ttu-id="10c6a-128">Jestli se má použít převod řetězce typu nebo podrobnější ekvivalentní syntaxe je obecně kódování volba stylu.</span><span class="sxs-lookup"><span data-stu-id="10c6a-128">Whether to use the type conversion string or a more verbose equivalent syntax is generally a coding style choice.</span></span> <span data-ttu-id="10c6a-129">Pracovní postup nástrojů XAML, můžou také ovlivnit jak hodnoty jsou nastavené.</span><span class="sxs-lookup"><span data-stu-id="10c6a-129">Your XAML tooling workflow might also influence how values are set.</span></span> <span data-ttu-id="10c6a-130">Některé nástroje XAML zpravidla emitování nejpodrobnější formu kód, protože je jednodušší operace round-trip pro návrháře zobrazení nebo svůj vlastní mechanismu serializace.</span><span class="sxs-lookup"><span data-stu-id="10c6a-130">Some XAML tools tend to emit the most verbose form of the markup because it is easier to round-trip to designer views or its own serialization mechanism.</span></span>  
  
 <span data-ttu-id="10c6a-131">Existující převaděče typů můžete zjistit obecně na typy WPF a rozhraní .NET Framework – třída (nebo vlastnost) vyhledáním přítomnost použité <xref:System.ComponentModel.TypeConverterAttribute>.</span><span class="sxs-lookup"><span data-stu-id="10c6a-131">Existing type converters can generally be discovered on WPF and .NET Framework types by checking a class (or property) for the presence of an applied <xref:System.ComponentModel.TypeConverterAttribute>.</span></span> <span data-ttu-id="10c6a-132">Tento atribut bude název třída, která je podpůrné převaděč typů pro hodnoty tohoto typu, pro účely XAML a také potenciálně jiné účely.</span><span class="sxs-lookup"><span data-stu-id="10c6a-132">This attribute will name the class that is the supporting type converter for values of that type, for XAML purposes as well as potentially other purposes.</span></span>  
  
### <a name="type-converters-and-markup-extensions"></a><span data-ttu-id="10c6a-133">Převaděče typů a rozšíření značek</span><span class="sxs-lookup"><span data-stu-id="10c6a-133">Type Converters and Markup Extensions</span></span>  
 <span data-ttu-id="10c6a-134">Rozšíření a typ převaděče značek plnění ortogonální rolí z hlediska chování procesoru XAML a scénáře, které se použijí pro.</span><span class="sxs-lookup"><span data-stu-id="10c6a-134">Markup extensions and type converters fill orthogonal roles in terms of XAML processor behavior and the scenarios that they are applied to.</span></span> <span data-ttu-id="10c6a-135">I když kontext je k dispozici pro použití rozšíření značek, chování převodu typu vlastností, kde rozšíření značek poskytuje že hodnotu je obecně kontrolována v implementacích rozšíření značek.</span><span class="sxs-lookup"><span data-stu-id="10c6a-135">Although context is available for markup extension usages, type conversion behavior of properties where a markup extension provides a value is generally is not checked in the markup extension implementations.</span></span> <span data-ttu-id="10c6a-136">Jinými slovy i v případě, že rozšíření značek vrátí textový řetězec jako jeho `ProvideValue` výstup, není-li vyvolána typ převodu chování na tento řetězec jako použít pro určitou vlastnost nebo typ hodnoty vlastnosti, obecně, účelem rozšíření značek je zpracovat řetězec a vrátí objekt bez jakékoli převaděče typů související se situací.</span><span class="sxs-lookup"><span data-stu-id="10c6a-136">In other words, even if a markup extension returns a text string as its `ProvideValue` output, type conversion behavior on that string as applied to a specific property or property value type is not invoked, Generally, the purpose of a markup extension is to process a string and return an object without any type converter involved.</span></span>  
  
 <span data-ttu-id="10c6a-137">Jeden běžné situaci, kde je nutné místo převaděče typů rozšíření značek je odkaz na objekt, který již existuje.</span><span class="sxs-lookup"><span data-stu-id="10c6a-137">One common situation where a markup extension is necessary rather than a type converter is to make a reference to an object that already exists.</span></span> <span data-ttu-id="10c6a-138">Převaděč bezstavové typu, může generovat jenom novou instanci, která nemusí být žádoucí.</span><span class="sxs-lookup"><span data-stu-id="10c6a-138">At best, a stateless type converter could only generate a new instance, which might not be desirable.</span></span> <span data-ttu-id="10c6a-139">Další informace o rozšíření značek v tématu [rozšíření značek a WPF XAML](../../../../docs/framework/wpf/advanced/markup-extensions-and-wpf-xaml.md).</span><span class="sxs-lookup"><span data-stu-id="10c6a-139">For more information on markup extensions, see [Markup Extensions and WPF XAML](../../../../docs/framework/wpf/advanced/markup-extensions-and-wpf-xaml.md).</span></span>  
  
### <a name="native-type-converters"></a><span data-ttu-id="10c6a-140">Převaděče nativním typu</span><span class="sxs-lookup"><span data-stu-id="10c6a-140">Native Type Converters</span></span>  
 <span data-ttu-id="10c6a-141">Implementace WPF a rozhraní .NET Framework XAML analyzátor existují určité typy, které mají nativní typ převodu zpracování, ještě nejsou typy, které může být obvykle považovat za primitiv.</span><span class="sxs-lookup"><span data-stu-id="10c6a-141">In the WPF and .NET Framework implementation of the XAML parser, there are certain types that have native type conversion handling, yet are not types that might conventionally be thought of as primitives.</span></span> <span data-ttu-id="10c6a-142">Příkladem takového typu je <xref:System.DateTime>.</span><span class="sxs-lookup"><span data-stu-id="10c6a-142">An example of such a type is <xref:System.DateTime>.</span></span> <span data-ttu-id="10c6a-143">Důvodem je založena na tom, jak funguje Architektura rozhraní .NET Framework: typ <xref:System.DateTime> je definována v mscorlib, nejzákladnější knihovny v rozhraní .NET.</span><span class="sxs-lookup"><span data-stu-id="10c6a-143">The reason for this is based on how the .NET Framework architecture works: the type <xref:System.DateTime> is defined in mscorlib, the most basic library in .NET.</span></span> <span data-ttu-id="10c6a-144"><xref:System.DateTime>nemá oprávnění k být opatřená atribut, který pochází z jiného sestavení, které představuje závislost (<xref:System.ComponentModel.TypeConverterAttribute> je ze systému), mechanismus obvyklé typ převaděče zjišťování pomocí zapisujících nemůže být podporováno.</span><span class="sxs-lookup"><span data-stu-id="10c6a-144"><xref:System.DateTime> is not permitted to be attributed with an attribute that comes from another assembly that introduces a dependency (<xref:System.ComponentModel.TypeConverterAttribute> is from System) so the usual type converter discovery mechanism by attributing cannot be supported.</span></span> <span data-ttu-id="10c6a-145">Místo toho analyzátor jazyka XAML má seznam typů, které je třeba tyto nativní zpracování a stejně tak, aby zpracování true primitiv zpracovává.</span><span class="sxs-lookup"><span data-stu-id="10c6a-145">Instead, the XAML parser has a list of types that need such native processing and processes these similarly to how the true primitives are processed.</span></span> <span data-ttu-id="10c6a-146">(U <xref:System.DateTime> to zahrnuje volání <xref:System.DateTime.Parse%2A>.)</span><span class="sxs-lookup"><span data-stu-id="10c6a-146">(In the case of <xref:System.DateTime> this involves a call to <xref:System.DateTime.Parse%2A>.)</span></span>  
  
<a name="Implementing_a_Type_Converter"></a>   
## <a name="implementing-a-type-converter"></a><span data-ttu-id="10c6a-147">Implementace převaděče typů</span><span class="sxs-lookup"><span data-stu-id="10c6a-147">Implementing a Type Converter</span></span>  
  
### <a name="typeconverter"></a><span data-ttu-id="10c6a-148">TypeConverter</span><span class="sxs-lookup"><span data-stu-id="10c6a-148">TypeConverter</span></span>  
 <span data-ttu-id="10c6a-149">V <xref:System.Windows.Point> příklad dřív zadána třída <xref:System.Windows.PointConverter> jsme mluvili.</span><span class="sxs-lookup"><span data-stu-id="10c6a-149">In the <xref:System.Windows.Point> example given previously, the class <xref:System.Windows.PointConverter> was mentioned.</span></span> <span data-ttu-id="10c6a-150">Pro implementace rozhraní .NET XAML, jsou všechny převaděče typů, které se používají pro účely XAML třídy, které jsou odvozeny od základní třídy <xref:System.ComponentModel.TypeConverter>.</span><span class="sxs-lookup"><span data-stu-id="10c6a-150">For .NET implementations of XAML, all type converters that are used for XAML purposes are classes that derive from the base class <xref:System.ComponentModel.TypeConverter>.</span></span> <span data-ttu-id="10c6a-151"><xref:System.ComponentModel.TypeConverter> Třída existovaly ve verzích rozhraní .NET Framework, které předcházet existenci XAML; byl jeden z jeho původní použití zajistit převod řetězce pro vlastnost dialogová okna v vizuální nástroje.</span><span class="sxs-lookup"><span data-stu-id="10c6a-151">The <xref:System.ComponentModel.TypeConverter> class existed in versions of .NET Framework that precede the existence of XAML; one of its original usages was to provide string conversion for property dialogs in visual designers.</span></span> <span data-ttu-id="10c6a-152">Pro jazyk XAML, role <xref:System.ComponentModel.TypeConverter> je rozšířit, aby obsahovaly se základní třídu pro na řetězec a z řetězce převody, které umožňují analýzy řetězcovou hodnotu atributu a pravděpodobně zpět do řetězce pro zpracování hodnota doby běhu vlastnosti konkrétního objektu serializace jako atribut.</span><span class="sxs-lookup"><span data-stu-id="10c6a-152">For XAML, the role of <xref:System.ComponentModel.TypeConverter> is expanded to include being the base class for to-string and from-string conversions that enable parsing a string attribute value, and possibly processing a run-time value of a particular object property back into a string for serialization as an attribute.</span></span>  
  
 <span data-ttu-id="10c6a-153"><xref:System.ComponentModel.TypeConverter>definuje čtyři členy, které jsou relevantní pro převod na a z řetězce pro zpracování XAML pro účely:</span><span class="sxs-lookup"><span data-stu-id="10c6a-153"><xref:System.ComponentModel.TypeConverter> defines four members that are relevant for converting to and from strings for XAML processing purposes:</span></span>  
  
-   <xref:System.ComponentModel.TypeConverter.CanConvertTo%2A>  
  
-   <xref:System.ComponentModel.TypeConverter.CanConvertFrom%2A>  
  
-   <xref:System.ComponentModel.TypeConverter.ConvertTo%2A>  
  
-   <xref:System.ComponentModel.TypeConverter.ConvertFrom%2A>  
  
 <span data-ttu-id="10c6a-154">Z těchto, je nejdůležitější metody <xref:System.ComponentModel.TypeConverter.ConvertFrom%2A>.</span><span class="sxs-lookup"><span data-stu-id="10c6a-154">Of these, the most important method is <xref:System.ComponentModel.TypeConverter.ConvertFrom%2A>.</span></span> <span data-ttu-id="10c6a-155">Tato metoda převede vstupní řetězec na typ požadovaný objekt.</span><span class="sxs-lookup"><span data-stu-id="10c6a-155">This method converts the input string to the required object type.</span></span> <span data-ttu-id="10c6a-156">Přesněji řečeno <xref:System.ComponentModel.TypeConverter.ConvertFrom%2A> může být implementována metoda mnohem širší rozsah typy převést na typ určený cíle tento převaděč, a proto slouží k účelům, které přesahují XAML, jako je podpora převody spuštění, ale pro účely XAML je pouze kódová cesta, která může zpracovat <xref:System.String> vstup, záleží.</span><span class="sxs-lookup"><span data-stu-id="10c6a-156">Strictly speaking, the <xref:System.ComponentModel.TypeConverter.ConvertFrom%2A> method could be implemented to convert a much wider range of types into the converter's intended destination type, and thus serve purposes that extend beyond XAML such as supporting run-time conversions, but for XAML purposes it is only the code path that can process a <xref:System.String> input that matters.</span></span>  
  
 <span data-ttu-id="10c6a-157">Další metodou nejdůležitější je <xref:System.ComponentModel.TypeConverter.ConvertTo%2A>.</span><span class="sxs-lookup"><span data-stu-id="10c6a-157">The next most important method is <xref:System.ComponentModel.TypeConverter.ConvertTo%2A>.</span></span> <span data-ttu-id="10c6a-158">Pokud aplikace jsou převedeny na znázornění značek (například pokud je uložen do XAML jako soubor), <xref:System.ComponentModel.TypeConverter.ConvertTo%2A> zodpovídá za vytvoření znázornění značek.</span><span class="sxs-lookup"><span data-stu-id="10c6a-158">If an application is converted to a markup representation (for instance, if it is saved to XAML as a file), <xref:System.ComponentModel.TypeConverter.ConvertTo%2A> is responsible for producing a markup representation.</span></span> <span data-ttu-id="10c6a-159">V takovém případě je kód cestu, která záleží pro jazyk XAML při předání `destinationType` z <xref:System.String> .</span><span class="sxs-lookup"><span data-stu-id="10c6a-159">In this case, the code path that matters for XAML is when you pass a `destinationType` of <xref:System.String> .</span></span>  
  
 <span data-ttu-id="10c6a-160"><xref:System.ComponentModel.TypeConverter.CanConvertTo%2A>a <xref:System.ComponentModel.TypeConverter.CanConvertFrom%2A> podporu metod, které se použijí při služby dotazuje možnosti <xref:System.ComponentModel.TypeConverter> implementace.</span><span class="sxs-lookup"><span data-stu-id="10c6a-160"><xref:System.ComponentModel.TypeConverter.CanConvertTo%2A> and <xref:System.ComponentModel.TypeConverter.CanConvertFrom%2A> are support methods that are used when a service queries the capabilities of the <xref:System.ComponentModel.TypeConverter> implementation.</span></span> <span data-ttu-id="10c6a-161">Je nutné implementovat tyto metody vrátit `true` pro konkrétní typ případů, které podporují převod ekvivalentní metody vaší převaděč.</span><span class="sxs-lookup"><span data-stu-id="10c6a-161">You must implement these methods to return `true` for type-specific cases that the equivalent conversion methods of your converter support.</span></span> <span data-ttu-id="10c6a-162">Pro účely XAML to obvykle znamená <xref:System.String> typu.</span><span class="sxs-lookup"><span data-stu-id="10c6a-162">For XAML purposes, this generally means the <xref:System.String> type.</span></span>  
  
### <a name="culture-information-and-type-converters-for-xaml"></a><span data-ttu-id="10c6a-163">Informace o jazykové verzi, převaděčů typů pro jazyk XAML</span><span class="sxs-lookup"><span data-stu-id="10c6a-163">Culture Information and Type Converters for XAML</span></span>  
 <span data-ttu-id="10c6a-164">Každý <xref:System.ComponentModel.TypeConverter> implementace může mít svůj vlastní výklad co se považuje za platný řetězec pro převod a můžete také použít nebo ignorovat popis typu předány jako parametry.</span><span class="sxs-lookup"><span data-stu-id="10c6a-164">Each <xref:System.ComponentModel.TypeConverter> implementation can have its own interpretation of what constitutes a valid string for a conversion, and can also use or ignore the type description passed as parameters.</span></span> <span data-ttu-id="10c6a-165">Je důležitý faktor s ohledem na jazykovou verzi a převod typů XAML.</span><span class="sxs-lookup"><span data-stu-id="10c6a-165">There is an important consideration with regard to culture and XAML type conversion.</span></span> <span data-ttu-id="10c6a-166">Pomocí možnosti lokalizace řetězce jako hodnoty atributů zcela podporuje XAML.</span><span class="sxs-lookup"><span data-stu-id="10c6a-166">Using localizable strings as attribute values is entirely supported by XAML.</span></span> <span data-ttu-id="10c6a-167">Ale pomocí tohoto lokalizovatelný řetězce jako vstupní typ převaděče s požadavky na konkrétní jazykové verze není podporována, převaděčů typů pro hodnoty atributu XAML totiž analýzy chování nutně pevné jazyk, pomocí `en-US` jazykovou verzi.</span><span class="sxs-lookup"><span data-stu-id="10c6a-167">But using that localizable string as type converter input with specific culture requirements is not supported, because type converters for XAML attribute values involve a necessarily fixed-language parsing behavior, using `en-US` culture.</span></span> <span data-ttu-id="10c6a-168">Další informace o návrhu důvody pro toto omezení by se měli obrátit specifikace jazyka XAML ([\[MS-XAML\]](http://go.microsoft.com/fwlink/?LinkId=114525)).</span><span class="sxs-lookup"><span data-stu-id="10c6a-168">For more information on the design reasons for this restriction, you should consult the XAML language specification ([\[MS-XAML\]](http://go.microsoft.com/fwlink/?LinkId=114525)).</span></span>  
  
 <span data-ttu-id="10c6a-169">Jako příklad, kdy jazykovou verzi může být problém některé jazykové verze použít čárku jako jejich oddělovač desetinných čísel.</span><span class="sxs-lookup"><span data-stu-id="10c6a-169">As an example where culture can be an issue, some cultures use a comma as their decimal point delimiter for numbers.</span></span> <span data-ttu-id="10c6a-170">To bude v konfliktu s chování, které máte spoustu převaděče typů WPF XAML, který má používat jako oddělovač čárkou (založená na historické vstupních hodnot, jako je například běžné X, Y formuláře nebo čárkami oddělený seznamy).</span><span class="sxs-lookup"><span data-stu-id="10c6a-170">This will collide with the behavior that many of the WPF XAML type converters have, which is to use a comma as a delimiter (based on historical precedents such as the common X,Y form, or comma delimited lists).</span></span> <span data-ttu-id="10c6a-171">I předávání jazykovou verzi v okolního XAML (nastavení `Language` nebo `xml:lang` k `sl-SI` jazykovou verzi, příklad jazykovou verzi, která používá jako decimal tímto způsobem) problém nevyřeší.</span><span class="sxs-lookup"><span data-stu-id="10c6a-171">Even passing a culture in the surrounding XAML (setting `Language` or `xml:lang` to the `sl-SI` culture, an example of a culture that uses a comma for decimal in this way) does not solve the issue.</span></span>  
  
### <a name="implementing-convertfrom"></a><span data-ttu-id="10c6a-172">Implementace ConvertFrom</span><span class="sxs-lookup"><span data-stu-id="10c6a-172">Implementing ConvertFrom</span></span>  
 <span data-ttu-id="10c6a-173">Možné používat jako <xref:System.ComponentModel.TypeConverter> implementace, která podporuje XAML, <xref:System.ComponentModel.TypeConverter.ConvertFrom%2A> metodu pro tento převaděč musí přijmout řetězec jako `value` parametr.</span><span class="sxs-lookup"><span data-stu-id="10c6a-173">To be usable as a <xref:System.ComponentModel.TypeConverter> implementation that supports XAML, the <xref:System.ComponentModel.TypeConverter.ConvertFrom%2A> method for that converter must accept a string as the `value` parameter.</span></span> <span data-ttu-id="10c6a-174">Pokud řetězec byl v platné, formátování a mohou být pomocí převedeny <xref:System.ComponentModel.TypeConverter> implementace pak vráceného objektu musí podporovat přetypování na typ očekávaný vlastností.</span><span class="sxs-lookup"><span data-stu-id="10c6a-174">If the string was in valid format, and can be converted by the <xref:System.ComponentModel.TypeConverter> implementation, then the returned object must support a cast to the type expected by the property.</span></span> <span data-ttu-id="10c6a-175">Jinak <xref:System.ComponentModel.TypeConverter.ConvertFrom%2A> musí vracet implementace `null`.</span><span class="sxs-lookup"><span data-stu-id="10c6a-175">Otherwise, the <xref:System.ComponentModel.TypeConverter.ConvertFrom%2A> implementation must return `null`.</span></span>  
  
 <span data-ttu-id="10c6a-176">Každý <xref:System.ComponentModel.TypeConverter> implementace může mít svůj vlastní výklad co se považuje za platný řetězec pro převod a můžete také použít nebo ignorovat typ popis nebo jazykovou verzi kontexty předány jako parametry.</span><span class="sxs-lookup"><span data-stu-id="10c6a-176">Each <xref:System.ComponentModel.TypeConverter> implementation can have its own interpretation of what constitutes a valid string for a conversion, and can also use or ignore the type description or culture contexts passed as parameters.</span></span> <span data-ttu-id="10c6a-177">Však nemusí předat hodnoty do kontextu popis typu ve všech případech XAML WPF zpracování a nemusí předat také jazykovou verzi na základě `xml:lang`.</span><span class="sxs-lookup"><span data-stu-id="10c6a-177">However, the WPF XAML processing might not pass values to the type description context in all cases, and also might not pass culture based on `xml:lang`.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="10c6a-178">Nepoužívejte znaky složené závorky, zejména {, jako element možné vámi řetězec formátu.</span><span class="sxs-lookup"><span data-stu-id="10c6a-178">Do not use the curly brace characters, particularly {, as a possible element of your string format.</span></span> <span data-ttu-id="10c6a-179">Tyto znaky jsou vyhrazené jako vstup a výstup pro rozšíření pořadí značek.</span><span class="sxs-lookup"><span data-stu-id="10c6a-179">These characters are reserved as the entry and exit for a markup extension sequence.</span></span>  
  
### <a name="implementing-convertto"></a><span data-ttu-id="10c6a-180">Implementace ConvertTo</span><span class="sxs-lookup"><span data-stu-id="10c6a-180">Implementing ConvertTo</span></span>  
 <span data-ttu-id="10c6a-181"><xref:System.ComponentModel.TypeConverter.ConvertTo%2A>potenciálně se používá pro podporu serializace.</span><span class="sxs-lookup"><span data-stu-id="10c6a-181"><xref:System.ComponentModel.TypeConverter.ConvertTo%2A> is potentially used for serialization support.</span></span> <span data-ttu-id="10c6a-182">Podpora serializace prostřednictvím <xref:System.ComponentModel.TypeConverter.ConvertTo%2A> pro vlastní typ a jeho typ není převaděč absolutní požadavek.</span><span class="sxs-lookup"><span data-stu-id="10c6a-182">Serialization support through <xref:System.ComponentModel.TypeConverter.ConvertTo%2A> for your custom type and its type converter is not an absolute requirement.</span></span> <span data-ttu-id="10c6a-183">Ale pokud jsou implementaci ovládacího prvku, nebo pomocí serializace jako součást funkce nebo návrh vaší třídy, měli byste implementovat <xref:System.ComponentModel.TypeConverter.ConvertTo%2A>.</span><span class="sxs-lookup"><span data-stu-id="10c6a-183">However, if you are implementing a control, or using serialization of as part of the features or design of your class, you should implement <xref:System.ComponentModel.TypeConverter.ConvertTo%2A>.</span></span>  
  
 <span data-ttu-id="10c6a-184">Možné používat jako <xref:System.ComponentModel.TypeConverter> implementace, která podporuje XAML, <xref:System.ComponentModel.TypeConverter.ConvertTo%2A> metodu pro tento převaděč musí přijmout instanci typu (nebo hodnotu) není podporována, jako `value` parametr.</span><span class="sxs-lookup"><span data-stu-id="10c6a-184">To be usable as a <xref:System.ComponentModel.TypeConverter> implementation that supports XAML, the <xref:System.ComponentModel.TypeConverter.ConvertTo%2A> method for that converter must accept an instance of the type (or a value) being supported as the `value` parameter.</span></span> <span data-ttu-id="10c6a-185">Když `destinationType` parametr je typ <xref:System.String>, pak vráceného objektu musí být schopen převést jako <xref:System.String>.</span><span class="sxs-lookup"><span data-stu-id="10c6a-185">When the `destinationType` parameter is the type <xref:System.String>, then the returned object must be able to be cast as <xref:System.String>.</span></span> <span data-ttu-id="10c6a-186">Vrácený řetězec musí představovat serializovaná hodnota `value`.</span><span class="sxs-lookup"><span data-stu-id="10c6a-186">The returned string must represent a serialized value of `value`.</span></span> <span data-ttu-id="10c6a-187">V ideálním případě by mělo být možno generování stejnou hodnotu, pokud bylo předáno tento řetězec formát serializace zvolíte <xref:System.ComponentModel.TypeConverter.ConvertFrom%2A> implementace stejné převaděč bez významné ztrátě informací.</span><span class="sxs-lookup"><span data-stu-id="10c6a-187">Ideally, the serialization format you choose should be capable of generating the same value if that string were passed to the <xref:System.ComponentModel.TypeConverter.ConvertFrom%2A> implementation of the same converter, without significant loss of information.</span></span>  
  
 <span data-ttu-id="10c6a-188">Pokud hodnota nemůže být serializován nebo převaděč nepodporuje serializaci, <xref:System.ComponentModel.TypeConverter.ConvertTo%2A> musí vracet implementace `null`a je umožnit v tomto případě vyvolat výjimku.</span><span class="sxs-lookup"><span data-stu-id="10c6a-188">If the value cannot be serialized, or the converter does not support serialization, the <xref:System.ComponentModel.TypeConverter.ConvertTo%2A> implementation must return `null`, and is permitted to throw an exception in this case.</span></span> <span data-ttu-id="10c6a-189">Ale pokud generování výjimek, byste měli hlásit nemožnost použít tento převod jako součást vaší <xref:System.ComponentModel.TypeConverter.CanConvertTo%2A> implementace tak, aby osvědčený postup, kontrola s <xref:System.ComponentModel.TypeConverter.CanConvertTo%2A> nejprve vyhnout výjimky se podporuje.</span><span class="sxs-lookup"><span data-stu-id="10c6a-189">But if you do throw exceptions, you should report the inability to use that conversion as part of your <xref:System.ComponentModel.TypeConverter.CanConvertTo%2A> implementation so that the best practice of checking with <xref:System.ComponentModel.TypeConverter.CanConvertTo%2A> first to avoid exceptions is supported.</span></span>  
  
 <span data-ttu-id="10c6a-190">Pokud `destinationType` parametr není typu <xref:System.String>, můžete zvolit vlastní převaděč zpracování.</span><span class="sxs-lookup"><span data-stu-id="10c6a-190">If `destinationType` parameter is not of type <xref:System.String>, you can choose your own converter handling.</span></span> <span data-ttu-id="10c6a-191">Obvykle se vrátit k základní implementaci zpracování, které v basemost <xref:System.ComponentModel.TypeConverter.ConvertTo%2A> vyvolá určité výjimky.</span><span class="sxs-lookup"><span data-stu-id="10c6a-191">Typically, you would revert to base implementation handling, which in the basemost <xref:System.ComponentModel.TypeConverter.ConvertTo%2A> raises a specific exception.</span></span>  
  
### <a name="implementing-canconvertto"></a><span data-ttu-id="10c6a-192">Implementace CanConvertTo</span><span class="sxs-lookup"><span data-stu-id="10c6a-192">Implementing CanConvertTo</span></span>  
 <span data-ttu-id="10c6a-193">Vaše <xref:System.ComponentModel.TypeConverter.CanConvertTo%2A> by měla vrátit implementace `true` pro `destinationType` typu <xref:System.String>a jinak odložení základní implementaci.</span><span class="sxs-lookup"><span data-stu-id="10c6a-193">Your <xref:System.ComponentModel.TypeConverter.CanConvertTo%2A> implementation should return `true` for `destinationType` of type <xref:System.String>, and otherwise defer to the base implementation.</span></span>  
  
### <a name="implementing-canconvertfrom"></a><span data-ttu-id="10c6a-194">Implementace CanConvertFrom</span><span class="sxs-lookup"><span data-stu-id="10c6a-194">Implementing CanConvertFrom</span></span>  
 <span data-ttu-id="10c6a-195">Vaše <xref:System.ComponentModel.TypeConverter.CanConvertFrom%2A> by měla vrátit implementace `true` pro `sourceType` typu <xref:System.String>a jinak odložení základní implementaci.</span><span class="sxs-lookup"><span data-stu-id="10c6a-195">Your <xref:System.ComponentModel.TypeConverter.CanConvertFrom%2A> implementation should return `true` for `sourceType` of type <xref:System.String>, and otherwise defer to the base implementation.</span></span>  
  
<a name="Applying_the_TypeConverterAttribute"></a>   
## <a name="applying-the-typeconverterattribute"></a><span data-ttu-id="10c6a-196">Použití TypeConverterAttribute</span><span class="sxs-lookup"><span data-stu-id="10c6a-196">Applying the TypeConverterAttribute</span></span>  
 <span data-ttu-id="10c6a-197">Aby vaše vlastní typ převaděče má být použit jako funguje převaděč typů pro vlastní třídu s procesorem XAML, musíte použít [!INCLUDE[TLA#tla_netframewkattr](../../../../includes/tlasharptla-netframewkattr-md.md)] <xref:System.ComponentModel.TypeConverterAttribute> do vaší definice třídy.</span><span class="sxs-lookup"><span data-stu-id="10c6a-197">In order for your custom type converter to be used as the acting type converter for a custom class by a XAML processor, you must apply the [!INCLUDE[TLA#tla_netframewkattr](../../../../includes/tlasharptla-netframewkattr-md.md)] <xref:System.ComponentModel.TypeConverterAttribute> to your class definition.</span></span> <span data-ttu-id="10c6a-198"><xref:System.ComponentModel.TypeConverterAttribute.ConverterTypeName%2A> Zadáte prostřednictvím atributu musí být název typu vaše vlastní typ převaděče.</span><span class="sxs-lookup"><span data-stu-id="10c6a-198">The <xref:System.ComponentModel.TypeConverterAttribute.ConverterTypeName%2A> that you specify through the attribute must be the type name of your custom type converter.</span></span> <span data-ttu-id="10c6a-199">K tomuto atributu se použije když XAML procesor zpracovává hodnoty, kde typ vlastnosti používá typ vaše vlastní třídy, může vstup řetězce a vrátí instance objektů.</span><span class="sxs-lookup"><span data-stu-id="10c6a-199">With this attribute applied, when a XAML processor handles values where the property type uses your custom class type, it can input strings and return object instances.</span></span>  
  
 <span data-ttu-id="10c6a-200">Převaděče typů můžete zadat taky na jednotlivých vlastností.</span><span class="sxs-lookup"><span data-stu-id="10c6a-200">You can also provide a type converter on a per-property basis.</span></span> <span data-ttu-id="10c6a-201">Místo použití [!INCLUDE[TLA#tla_netframewkattr](../../../../includes/tlasharptla-netframewkattr-md.md)] <xref:System.ComponentModel.TypeConverterAttribute> v definici třídy použijte ho pro definici vlastnosti (hlavní definice není `get` / `set` implementace v něm).</span><span class="sxs-lookup"><span data-stu-id="10c6a-201">Instead of applying a [!INCLUDE[TLA#tla_netframewkattr](../../../../includes/tlasharptla-netframewkattr-md.md)] <xref:System.ComponentModel.TypeConverterAttribute> to the class definition, apply it to a property definition (the main definition, not the `get`/`set` implementations within it).</span></span> <span data-ttu-id="10c6a-202">Typ vlastnosti musí odpovídat typ, který zpracovává vaše vlastní typ převaděče.</span><span class="sxs-lookup"><span data-stu-id="10c6a-202">The type of the property must match the type that is processed by your custom type converter.</span></span> <span data-ttu-id="10c6a-203">K tomuto atributu se použije když XAMLprocessor zpracovává hodnoty této vlastnosti, může zpracovat vstupní řetězce a vrátí instance objektů.</span><span class="sxs-lookup"><span data-stu-id="10c6a-203">With this attribute applied, when a XAMLprocessor handles values of that property, it can process input strings and return object instances.</span></span> <span data-ttu-id="10c6a-204">Postup pro vlastnosti typu převaděč je zvláště užitečné, pokud chcete použít typ vlastnosti z [!INCLUDE[TLA#tla_netframewk](../../../../includes/tlasharptla-netframewk-md.md)] nebo z některé jiné knihovny, kde nemůže ovládat definice třídy a nelze použít <xref:System.ComponentModel.TypeConverterAttribute> existuje.</span><span class="sxs-lookup"><span data-stu-id="10c6a-204">The per-property type converter technique is particularly useful if you choose to use a property type from [!INCLUDE[TLA#tla_netframewk](../../../../includes/tlasharptla-netframewk-md.md)] or from some other library where you cannot control the class definition and cannot apply a <xref:System.ComponentModel.TypeConverterAttribute> there.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="10c6a-205">Viz také</span><span class="sxs-lookup"><span data-stu-id="10c6a-205">See Also</span></span>  
 <xref:System.ComponentModel.TypeConverter>  
 [<span data-ttu-id="10c6a-206">Přehled XAML (WPF)</span><span class="sxs-lookup"><span data-stu-id="10c6a-206">XAML Overview (WPF)</span></span>](../../../../docs/framework/wpf/advanced/xaml-overview-wpf.md)  
 [<span data-ttu-id="10c6a-207">Rozšíření značek a WPF XAML</span><span class="sxs-lookup"><span data-stu-id="10c6a-207">Markup Extensions and WPF XAML</span></span>](../../../../docs/framework/wpf/advanced/markup-extensions-and-wpf-xaml.md)  
 [<span data-ttu-id="10c6a-208">Syntaxe jazyka XAML podrobně</span><span class="sxs-lookup"><span data-stu-id="10c6a-208">XAML Syntax In Detail</span></span>](../../../../docs/framework/wpf/advanced/xaml-syntax-in-detail.md)
