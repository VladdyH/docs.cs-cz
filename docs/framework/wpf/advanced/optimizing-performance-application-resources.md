---
title: "Optimalizace výkonu: Zdroje aplikace"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-wpf
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- application resources [WPF], performance
- resources [WPF], performance
- static resources [WPF]
- sharing resources [WPF]
- brushes [WPF], performance
- sharing brushes without copying [WPF]
ms.assetid: 62b88488-c08e-4804-b7de-a1c34fbe929c
caps.latest.revision: "6"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload: dotnet
ms.openlocfilehash: c0a7c9920b321f15f3f01a64fbfc80693042a025
ms.sourcegitcommit: 16186c34a957fdd52e5db7294f291f7530ac9d24
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 12/22/2017
---
# <a name="optimizing-performance-application-resources"></a><span data-ttu-id="6f977-102">Optimalizace výkonu: Zdroje aplikace</span><span class="sxs-lookup"><span data-stu-id="6f977-102">Optimizing Performance: Application Resources</span></span>
[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]<span data-ttu-id="6f977-103">Umožňuje sdílet prostředky aplikace, takže může podporovat konzistentní vzhled a chování napříč podobné typované elementy.</span><span class="sxs-lookup"><span data-stu-id="6f977-103"> allows you to share application resources so that you can support a consistent look or behavior across similar-typed elements.</span></span> <span data-ttu-id="6f977-104">Toto téma obsahuje několik doporučení v této oblasti, která vám může pomoct zlepšit výkon aplikací.</span><span class="sxs-lookup"><span data-stu-id="6f977-104">This topic provides a few recommendations in this area that can help you improve the performance of your applications.</span></span>  
  
 <span data-ttu-id="6f977-105">Další informace o prostředcích, najdete v části [XAML prostředky](../../../../docs/framework/wpf/advanced/xaml-resources.md).</span><span class="sxs-lookup"><span data-stu-id="6f977-105">For more information on resources, see [XAML Resources](../../../../docs/framework/wpf/advanced/xaml-resources.md).</span></span>  
  
## <a name="sharing-resources"></a><span data-ttu-id="6f977-106">Sdílení prostředků</span><span class="sxs-lookup"><span data-stu-id="6f977-106">Sharing resources</span></span>  
 <span data-ttu-id="6f977-107">Pokud vaše aplikace používá vlastní ovládací prvky a definuje prostředky v <xref:System.Windows.ResourceDictionary> (nebo uzlu XAML prostředky), se doporučuje buď definovat prostředky na <xref:System.Windows.Application> nebo <xref:System.Windows.Window> objekt úroveň, nebo definovat ve výchozí motiv při vlastní ovládací prvky.</span><span class="sxs-lookup"><span data-stu-id="6f977-107">If your application uses custom controls and defines resources in a <xref:System.Windows.ResourceDictionary> (or XAML Resources node), it is recommended that you either define the resources at the <xref:System.Windows.Application> or <xref:System.Windows.Window> object level, or define them in the default theme for the custom controls.</span></span> <span data-ttu-id="6f977-108">Definování prostředky v vlastního ovládacího prvku <xref:System.Windows.ResourceDictionary> ukládá dopad na výkon pro každou instanci tohoto ovládacího prvku.</span><span class="sxs-lookup"><span data-stu-id="6f977-108">Defining resources in a custom control's <xref:System.Windows.ResourceDictionary> imposes a performance impact for every instance of that control.</span></span> <span data-ttu-id="6f977-109">Například pokud máte operace náročné na výkon štětce definované jako součást definice prostředků vlastního ovládacího prvku a počet instancí vlastního ovládacího prvku, aplikace pracovní sady se výrazně zvýšit.</span><span class="sxs-lookup"><span data-stu-id="6f977-109">For example, if you have performance-intensive brush operations defined as part of the resource definition of a custom control and many instances of the custom control, the application's working set will increase significantly.</span></span>  
  
 <span data-ttu-id="6f977-110">Pro ilustraci tohoto bodu, zvažte následující.</span><span class="sxs-lookup"><span data-stu-id="6f977-110">To illustrate this point, consider the following.</span></span> <span data-ttu-id="6f977-111">Řekněme, že při vývoji karty herní pomocí [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="6f977-111">Let's say you are developing a card game using [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span></span> <span data-ttu-id="6f977-112">Pro většinu karty hry budete potřebovat 52 karet s 52 jiné řezy.</span><span class="sxs-lookup"><span data-stu-id="6f977-112">For most card games, you need 52 cards with 52 different faces.</span></span> <span data-ttu-id="6f977-113">Můžete rozhodnout k implementaci vlastního ovládacího prvku karta a definovat 52 štětce (každý představuje řez karty) v prostředcích vlastního ovládacího prvku karta.</span><span class="sxs-lookup"><span data-stu-id="6f977-113">You decide to implement a card custom control and you define 52 brushes (each representing a card face) in the resources of your card custom control.</span></span> <span data-ttu-id="6f977-114">V hlavní aplikaci vytvořte nejdřív 52 instance tohoto ovládacího prvku karta vlastní.</span><span class="sxs-lookup"><span data-stu-id="6f977-114">In your main application, you initially create 52 instances of this card custom control.</span></span> <span data-ttu-id="6f977-115">Každou instanci vlastního ovládacího prvku karta generuje 52 instance <xref:System.Windows.Media.Brush> objekty, které vám dává celkem 52 * 52 <xref:System.Windows.Media.Brush> objekty ve vaší aplikaci.</span><span class="sxs-lookup"><span data-stu-id="6f977-115">Each instance of the card custom control generates 52 instances of <xref:System.Windows.Media.Brush> objects, which gives you a total of 52 * 52 <xref:System.Windows.Media.Brush> objects in your application.</span></span> <span data-ttu-id="6f977-116">Přesunutím štětce mimo prostředky vlastního ovládacího prvku karta do <xref:System.Windows.Application> nebo <xref:System.Windows.Window> objekt úroveň, nebo je definují výchozího motivu pro vlastní ovládací prvek, snížit pracovní sadu aplikací, protože jsou nyní sdílení 52 štětce mezi 52 instance ovládacího prvku karta.</span><span class="sxs-lookup"><span data-stu-id="6f977-116">By moving the brushes out of the card custom control resources to the <xref:System.Windows.Application> or <xref:System.Windows.Window> object level, or defining them in the default theme for the custom control, you reduce the working set of the application, since you are now sharing the 52 brushes among 52 instances of the card control.</span></span>  
  
## <a name="sharing-a-brush-without-copying"></a><span data-ttu-id="6f977-117">Sdílení štětce bez kopírování</span><span class="sxs-lookup"><span data-stu-id="6f977-117">Sharing a Brush without Copying</span></span>  
 <span data-ttu-id="6f977-118">Pokud máte více elementů pomocí stejné <xref:System.Windows.Media.Brush> objektu, definovat stopy jako prostředek a odkazovat na jeho místo definice vloženě štětce v [!INCLUDE[TLA#tla_titlexaml](../../../../includes/tlasharptla-titlexaml-md.md)].</span><span class="sxs-lookup"><span data-stu-id="6f977-118">If you have multiple elements using the same <xref:System.Windows.Media.Brush> object, define the brush as a resource and reference it, rather than defining the brush inline in [!INCLUDE[TLA#tla_titlexaml](../../../../includes/tlasharptla-titlexaml-md.md)].</span></span> <span data-ttu-id="6f977-119">Tato metoda vytvoří jedna instance a znovu použít, zatímco definování štětce vložený v [!INCLUDE[TLA#tla_titlexaml](../../../../includes/tlasharptla-titlexaml-md.md)] vytvoří novou instanci pro jednotlivé elementy.</span><span class="sxs-lookup"><span data-stu-id="6f977-119">This method will create one instance and reuse it, whereas defining brushes inline in [!INCLUDE[TLA#tla_titlexaml](../../../../includes/tlasharptla-titlexaml-md.md)] creates a new instance for each element.</span></span>  
  
 <span data-ttu-id="6f977-120">Následující příklad kódu ukazuje tento bod:</span><span class="sxs-lookup"><span data-stu-id="6f977-120">The following markup sample illustrates this point:</span></span>  
  
 [!code-xaml[Performance#PerformanceSnippet7](../../../../samples/snippets/csharp/VS_Snippets_Wpf/Performance/CSharp/BrushResource.xaml#performancesnippet7)]  
  
## <a name="use-static-resources-when-possible"></a><span data-ttu-id="6f977-121">Použití statické prostředky, pokud je to možné</span><span class="sxs-lookup"><span data-stu-id="6f977-121">Use Static Resources when Possible</span></span>  
 <span data-ttu-id="6f977-122">Statické prostředek poskytuje hodnotu pro všechny vlastnosti atributu XAML vyhledáním odkaz na prostředek už definované.</span><span class="sxs-lookup"><span data-stu-id="6f977-122">A static resource provides a value for any XAML property attribute by looking up a reference to an already defined resource.</span></span> <span data-ttu-id="6f977-123">Chování vyhledávání pro tento prostředek je obdobou kompilaci vyhledávání.</span><span class="sxs-lookup"><span data-stu-id="6f977-123">Lookup behavior for that resource is analogous to compile-time lookup.</span></span>  
  
 <span data-ttu-id="6f977-124">Dynamické prostředku, na druhé straně se vytvořit dočasný výraz během počáteční kompilace a proto odložení vyhledávání pro prostředky, dokud hodnota požadovaný prostředek je ve skutečnosti vyžaduje, aby bylo možné vytvořit objekt.</span><span class="sxs-lookup"><span data-stu-id="6f977-124">A dynamic resource, on the other hand, will create a temporary expression during the initial compilation and thus defer lookup for resources until the requested resource value is actually required in order to construct an object.</span></span> <span data-ttu-id="6f977-125">Chování vyhledávání pro tento prostředek je analogická spuštění vyhledávání, který ukládá dopad na výkon.</span><span class="sxs-lookup"><span data-stu-id="6f977-125">Lookup behavior for that resource is analogous to run-time lookup, which imposes a performance impact.</span></span> <span data-ttu-id="6f977-126">Pomocí statické prostředky, kdykoli je to možné ve vaší aplikaci pomocí dynamické prostředků pouze v případě potřeby.</span><span class="sxs-lookup"><span data-stu-id="6f977-126">Use static resources whenever possible in your application, using dynamic resources only when necessary.</span></span>  
  
 <span data-ttu-id="6f977-127">Následující příklad kódu ukazuje použití oba typy prostředků:</span><span class="sxs-lookup"><span data-stu-id="6f977-127">The following markup sample shows the use of both types of resources:</span></span>  
  
 [!code-xaml[Performance#PerformanceSnippet8](../../../../samples/snippets/csharp/VS_Snippets_Wpf/Performance/CSharp/DynamicResource.xaml#performancesnippet8)]  
  
## <a name="see-also"></a><span data-ttu-id="6f977-128">Viz také</span><span class="sxs-lookup"><span data-stu-id="6f977-128">See Also</span></span>  
 [<span data-ttu-id="6f977-129">Optimalizace výkonu aplikace WPF</span><span class="sxs-lookup"><span data-stu-id="6f977-129">Optimizing WPF Application Performance</span></span>](../../../../docs/framework/wpf/advanced/optimizing-wpf-application-performance.md)  
 [<span data-ttu-id="6f977-130">Plánování výkonu aplikace</span><span class="sxs-lookup"><span data-stu-id="6f977-130">Planning for Application Performance</span></span>](../../../../docs/framework/wpf/advanced/planning-for-application-performance.md)  
 [<span data-ttu-id="6f977-131">Využití výhod hardwaru</span><span class="sxs-lookup"><span data-stu-id="6f977-131">Taking Advantage of Hardware</span></span>](../../../../docs/framework/wpf/advanced/optimizing-performance-taking-advantage-of-hardware.md)  
 [<span data-ttu-id="6f977-132">Rozložení a návrh</span><span class="sxs-lookup"><span data-stu-id="6f977-132">Layout and Design</span></span>](../../../../docs/framework/wpf/advanced/optimizing-performance-layout-and-design.md)  
 [<span data-ttu-id="6f977-133">2D grafika a obrázky</span><span class="sxs-lookup"><span data-stu-id="6f977-133">2D Graphics and Imaging</span></span>](../../../../docs/framework/wpf/advanced/optimizing-performance-2d-graphics-and-imaging.md)  
 [<span data-ttu-id="6f977-134">Chování objektu</span><span class="sxs-lookup"><span data-stu-id="6f977-134">Object Behavior</span></span>](../../../../docs/framework/wpf/advanced/optimizing-performance-object-behavior.md)  
 [<span data-ttu-id="6f977-135">Text</span><span class="sxs-lookup"><span data-stu-id="6f977-135">Text</span></span>](../../../../docs/framework/wpf/advanced/optimizing-performance-text.md)  
 [<span data-ttu-id="6f977-136">Datová vazba</span><span class="sxs-lookup"><span data-stu-id="6f977-136">Data Binding</span></span>](../../../../docs/framework/wpf/advanced/optimizing-performance-data-binding.md)  
 [<span data-ttu-id="6f977-137">Další výkonnostní doporučení</span><span class="sxs-lookup"><span data-stu-id="6f977-137">Other Performance Recommendations</span></span>](../../../../docs/framework/wpf/advanced/optimizing-performance-other-recommendations.md)
