---
title: "Vlastnosti závislosti jen pro čtení"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-wpf
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- dependency properties [WPF], read-only
- read-only dependency properties [WPF]
ms.assetid: f23d6ec9-3780-4c09-a2ff-b2f0a2deddf1
caps.latest.revision: "8"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload: dotnet
ms.openlocfilehash: 31e4080416d5eb4fdfe5c33ec2b65e1dced6d012
ms.sourcegitcommit: 16186c34a957fdd52e5db7294f291f7530ac9d24
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 12/22/2017
---
# <a name="read-only-dependency-properties"></a><span data-ttu-id="e6899-102">Vlastnosti závislosti jen pro čtení</span><span class="sxs-lookup"><span data-stu-id="e6899-102">Read-Only Dependency Properties</span></span>
<span data-ttu-id="e6899-103">Toto téma popisuje vlastnosti jen pro čtení závislostí, včetně existující vlastností závislostí jen pro čtení a scénáře a metody pro vytváření vlastnost vlastní závislosti jen pro čtení.</span><span class="sxs-lookup"><span data-stu-id="e6899-103">This topic describes read-only dependency properties, including existing read-only dependency properties and the scenarios and techniques for creating a custom read-only dependency property.</span></span>  
  

  
<a name="prerequisites"></a>   
## <a name="prerequisites"></a><span data-ttu-id="e6899-104">Požadavky</span><span class="sxs-lookup"><span data-stu-id="e6899-104">Prerequisites</span></span>  
 <span data-ttu-id="e6899-105">Toto téma předpokládá, že chápete základní scénáře implementace vlastnost závislosti a jak je použito metadata pro vlastnost vlastní závislosti.</span><span class="sxs-lookup"><span data-stu-id="e6899-105">This topic assumes that you understand the basic scenarios of implementing a dependency property, and how metadata is applied to a custom dependency property.</span></span> <span data-ttu-id="e6899-106">V tématu [vlastní závislosti vlastnosti](../../../../docs/framework/wpf/advanced/custom-dependency-properties.md) a [metadat vlastností závislostí](../../../../docs/framework/wpf/advanced/dependency-property-metadata.md) pro kontext.</span><span class="sxs-lookup"><span data-stu-id="e6899-106">See [Custom Dependency Properties](../../../../docs/framework/wpf/advanced/custom-dependency-properties.md) and [Dependency Property Metadata](../../../../docs/framework/wpf/advanced/dependency-property-metadata.md) for context.</span></span>  
  
<a name="existing"></a>   
## <a name="existing-read-only-dependency-properties"></a><span data-ttu-id="e6899-107">Existující vlastností závislostí jen pro čtení</span><span class="sxs-lookup"><span data-stu-id="e6899-107">Existing Read-Only Dependency Properties</span></span>  
 <span data-ttu-id="e6899-108">Některé vlastnosti závislosti definovaný v [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] framework jsou jen pro čtení.</span><span class="sxs-lookup"><span data-stu-id="e6899-108">Some of the dependency properties defined in the [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] framework are read-only.</span></span> <span data-ttu-id="e6899-109">Typický případ pro zadání vlastnost závislosti jen pro čtení je, že jsou vlastnosti, které se mají použít pro zjištění stavu, ale kde vliv různé faktory, ale jenom nastavení vlastnosti na tento stav není žádoucí z tohoto stavu uživatelské rozhraní návrhu perspektivy.</span><span class="sxs-lookup"><span data-stu-id="e6899-109">The typical reason for specifying a read-only dependency property is that these are properties that should be used for state determination, but where that state is influenced by a multitude of factors, but just setting the property to that state isn't desirable from a user interface design perspective.</span></span> <span data-ttu-id="e6899-110">Například vlastnost <xref:System.Windows.UIElement.IsMouseOver%2A> je skutečně právě zpřístupnění stavu určené vstup myši.</span><span class="sxs-lookup"><span data-stu-id="e6899-110">For example, the property <xref:System.Windows.UIElement.IsMouseOver%2A> is really just surfacing state as determined from the mouse input.</span></span> <span data-ttu-id="e6899-111">Pokusy o tuto hodnotu nastavit prostřednictvím kódu programu obcházení vstup true myši by nepředvídatelné a způsobí nekonzistenci.</span><span class="sxs-lookup"><span data-stu-id="e6899-111">Any attempt to set this value programmatically by circumventing the true mouse input would be unpredictable and would cause inconsistency.</span></span>  
  
 <span data-ttu-id="e6899-112">Na základě nebude nastavit, nejsou vhodné pro mnoho scénářů, pro které závislost vlastnosti obvykle nabízejí řešení vlastností závislostí jen pro čtení (konkrétně: datové vazby, přímo stylable hodnotu, ověření, animace a dědičnost).</span><span class="sxs-lookup"><span data-stu-id="e6899-112">By virtue of not being settable, read-only dependency properties aren't appropriate for many of the scenarios for which dependency properties normally offer a solution (namely: data binding, directly stylable to a value, validation, animation, inheritance).</span></span> <span data-ttu-id="e6899-113">Navzdory nebude závislostí nastavit, jen pro čtení vlastnosti ještě některé další možnosti nepodporuje vlastností závislostí v systému vlastnost.</span><span class="sxs-lookup"><span data-stu-id="e6899-113">Despite not being settable, read-only dependency properties still have some of the additional capabilities supported by dependency properties in the property system.</span></span> <span data-ttu-id="e6899-114">Nejdůležitější funkce zbývající je, že vlastnost jen pro čtení závislosti pořád můžou použít jako trigger vlastností ve stylu.</span><span class="sxs-lookup"><span data-stu-id="e6899-114">The most important remaining capability is that the read-only dependency property can still be used as a property trigger in a style.</span></span> <span data-ttu-id="e6899-115">Nelze povolit aktivační události normální [!INCLUDE[TLA#tla_clr](../../../../includes/tlasharptla-clr-md.md)] vlastnost; musí se jednat o vlastnosti závislosti.</span><span class="sxs-lookup"><span data-stu-id="e6899-115">You can't enable triggers with a normal [!INCLUDE[TLA#tla_clr](../../../../includes/tlasharptla-clr-md.md)] property; it needs to be a dependency property.</span></span> <span data-ttu-id="e6899-116">Výše uvedené <xref:System.Windows.UIElement.IsMouseOver%2A> vlastnost je ideální příklad scénáře, kde může být velmi užitečné k definování stylu pro ovládací prvek, kde některé vlastnost visible například na pozadí, popředí nebo podobné vlastnosti kompletní složený elementů v rámci ovládací prvek se změní při umístění myši nad některé definované oblast ovládacího prvku.</span><span class="sxs-lookup"><span data-stu-id="e6899-116">The aforementioned <xref:System.Windows.UIElement.IsMouseOver%2A> property is a perfect example of a scenario where it might be quite useful to define a style for a control, where some visible property such as a background, foreground, or similar properties of composited elements within the control will change when the user places a mouse over some defined region of your control.</span></span> <span data-ttu-id="e6899-117">Změny ve vlastnosti jen pro čtení závislostí také můžete zjistil a hlášené vlastnost systému vyplývajících zneplatnění procesy a to ve skutečnosti podporuje vlastnost aktivační události funkce interně.</span><span class="sxs-lookup"><span data-stu-id="e6899-117">Changes in a read-only dependency property can also be detected and reported by the property system's inherent invalidation processes, and this in fact supports the property trigger functionality internally.</span></span>  
  
<a name="new"></a>   
## <a name="creating-custom-read-only-dependency-properties"></a><span data-ttu-id="e6899-118">Vytváření vlastní závislosti jen pro čtení vlastnosti</span><span class="sxs-lookup"><span data-stu-id="e6899-118">Creating Custom Read-Only Dependency Properties</span></span>  
 <span data-ttu-id="e6899-119">Nezapomeňte si přečíst v části výše týkající se proč vlastnosti jen pro čtení závislosti nefungují pro mnoho scénářů typické vlastnost závislosti.</span><span class="sxs-lookup"><span data-stu-id="e6899-119">Make sure to read the section above regarding why read-only dependency properties won't work for many typical dependency-property scenarios.</span></span> <span data-ttu-id="e6899-120">Ale pokud máte příslušné scénáři, můžete vytvořit vlastní vlastnost závislosti jen pro čtení.</span><span class="sxs-lookup"><span data-stu-id="e6899-120">But if you have an appropriate scenario, you may wish to create your own read-only dependency property.</span></span>  
  
 <span data-ttu-id="e6899-121">Velká část procesu vytváření vlastnost závislosti jen pro čtení je stejné, jako je popsaná v [vlastní závislosti vlastnosti](../../../../docs/framework/wpf/advanced/custom-dependency-properties.md) a [implementovat vlastnost závislosti](../../../../docs/framework/wpf/advanced/how-to-implement-a-dependency-property.md) témata.</span><span class="sxs-lookup"><span data-stu-id="e6899-121">Much of the process of creating a read-only dependency property is the same as is described in the [Custom Dependency Properties](../../../../docs/framework/wpf/advanced/custom-dependency-properties.md) and [Implement a Dependency Property](../../../../docs/framework/wpf/advanced/how-to-implement-a-dependency-property.md) topics.</span></span> <span data-ttu-id="e6899-122">Existují tři důležité rozdíly:</span><span class="sxs-lookup"><span data-stu-id="e6899-122">There are three important differences:</span></span>  
  
-   <span data-ttu-id="e6899-123">Při registraci vaší vlastností, zavolejte <xref:System.Windows.DependencyProperty.RegisterReadOnly%2A> metody místo normální <xref:System.Windows.DependencyProperty.Register%2A> metoda pro registraci vlastnost.</span><span class="sxs-lookup"><span data-stu-id="e6899-123">When registering your property, call the <xref:System.Windows.DependencyProperty.RegisterReadOnly%2A> method instead of the normal <xref:System.Windows.DependencyProperty.Register%2A> method for property registration.</span></span>  
  
-   <span data-ttu-id="e6899-124">Při implementaci [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] "obálky" vlastnost měli jistotu, obálku příliš nemá sadu implementace, tak, aby bylo žádné nekonzistence ve stavu jen pro čtení pro veřejné obálku vystavit.</span><span class="sxs-lookup"><span data-stu-id="e6899-124">When implementing the [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] "wrapper" property, make sure that the wrapper too doesn't have a set implementation, so that there is no inconsistency in read-only state for the public wrapper you expose.</span></span>  
  
-   <span data-ttu-id="e6899-125">Objekt vrácený registrace jen pro čtení je <xref:System.Windows.DependencyPropertyKey> místo <xref:System.Windows.DependencyProperty>.</span><span class="sxs-lookup"><span data-stu-id="e6899-125">The object returned by the read-only registration is <xref:System.Windows.DependencyPropertyKey> rather than <xref:System.Windows.DependencyProperty>.</span></span> <span data-ttu-id="e6899-126">Měli byste stále uložit toto pole jako člena, ale obvykle vám nebude nastavte jej jako veřejné člena typu.</span><span class="sxs-lookup"><span data-stu-id="e6899-126">You should still store this field as a member but typically you would not make it a public member of the type.</span></span>  
  
 <span data-ttu-id="e6899-127">Ať soukromé pole nebo hodnotu, kterou jste zálohování vaší vlastnosti jen pro čtení závislosti samozřejmě může být plně zapisovatelné pomocí libovolnou logiku rozhodnete.</span><span class="sxs-lookup"><span data-stu-id="e6899-127">Whatever private field or value you have backing your read-only dependency property can of course be fully writable using whatever logic you decide.</span></span> <span data-ttu-id="e6899-128">Nejjednodušší způsob, jak nastavit vlastnost původně nebo jako součást logiky runtime je však používat vlastnost systému [!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)], namísto obcházení vlastnost systému a nastavení privátní základní pole přímo.</span><span class="sxs-lookup"><span data-stu-id="e6899-128">However, the most straightforward way to set the property either initially or as part of runtime logic is to use the property system's [!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)], rather than circumventing the property system and setting the private backing field directly.</span></span> <span data-ttu-id="e6899-129">Konkrétně je podpis <xref:System.Windows.DependencyObject.SetValue%2A> který přijme parametr typu <xref:System.Windows.DependencyPropertyKey>.</span><span class="sxs-lookup"><span data-stu-id="e6899-129">In particular, there is a signature of <xref:System.Windows.DependencyObject.SetValue%2A> that accepts a parameter of type <xref:System.Windows.DependencyPropertyKey>.</span></span> <span data-ttu-id="e6899-130">Jak a kde se tato hodnota nastavit prostřednictvím kódu programu v rámci logiky aplikace bude mít vliv na způsob nastavení přístupu na <xref:System.Windows.DependencyPropertyKey> vytvořen při první registraci vlastnost závislosti.</span><span class="sxs-lookup"><span data-stu-id="e6899-130">How and where you set this value programmatically within your application logic will affect how you may wish to set access on the <xref:System.Windows.DependencyPropertyKey> created when you first registered the dependency property.</span></span> <span data-ttu-id="e6899-131">Pokud zpracovat tuto logiku všechny v rámci třídy vám může způsobit, že privátní, nebo pokud budete požadovat, aby nastavit z dalších částí sestavení může ji nastavit vnitřní.</span><span class="sxs-lookup"><span data-stu-id="e6899-131">If you handle this logic all within the class you could make it private, or if you require it to be set from other portions of the assembly you might set it internal.</span></span> <span data-ttu-id="e6899-132">Jeden z přístupů je volat <xref:System.Windows.DependencyObject.SetValue%2A> v rámci třídy obslužné rutiny události relevantní události, které informují instance třídy, které je potřeba změnit hodnotu vlastnosti uložené.</span><span class="sxs-lookup"><span data-stu-id="e6899-132">One approach is to call <xref:System.Windows.DependencyObject.SetValue%2A> within a class event handler of a relevant event that informs a class instance that the stored property value needs to be changed.</span></span> <span data-ttu-id="e6899-133">Další možností je ke svázání vlastností závislostí společně s použitím spárovat <xref:System.Windows.PropertyChangedCallback> a <xref:System.Windows.CoerceValueCallback> zpětná volání v rámci tyto vlastnosti metadat během registrace.</span><span class="sxs-lookup"><span data-stu-id="e6899-133">Another approach is to tie dependency properties together by using paired <xref:System.Windows.PropertyChangedCallback> and <xref:System.Windows.CoerceValueCallback> callbacks as part of those properties' metadata during registration.</span></span>  
  
 <span data-ttu-id="e6899-134">Protože <xref:System.Windows.DependencyPropertyKey> soukromá a není rozšíří vlastnost systému mimo váš kód, vlastnost závislosti jen pro čtení má lepší nastavení zabezpečení než vlastnost závislosti pro čtení a zápis.</span><span class="sxs-lookup"><span data-stu-id="e6899-134">Because the <xref:System.Windows.DependencyPropertyKey> is private, and is not propagated by the property system outside of your code, a read-only dependency property does have better setting security than a read-write dependency property.</span></span> <span data-ttu-id="e6899-135">Pro vlastnost závislosti pro čtení a zápis je pole identifikační explicitně nebo implicitně veřejné a proto je široce nastavit vlastnost.</span><span class="sxs-lookup"><span data-stu-id="e6899-135">For a read-write dependency property, the identifying field is explicitly or implicitly public and thus the property is widely settable.</span></span> <span data-ttu-id="e6899-136">Další podrobnosti najdete v části [zabezpečení vlastnost závislosti](../../../../docs/framework/wpf/advanced/dependency-property-security.md).</span><span class="sxs-lookup"><span data-stu-id="e6899-136">For more specifics, see [Dependency Property Security](../../../../docs/framework/wpf/advanced/dependency-property-security.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="e6899-137">Viz také</span><span class="sxs-lookup"><span data-stu-id="e6899-137">See Also</span></span>  
 [<span data-ttu-id="e6899-138">Přehled vlastností závislosti</span><span class="sxs-lookup"><span data-stu-id="e6899-138">Dependency Properties Overview</span></span>](../../../../docs/framework/wpf/advanced/dependency-properties-overview.md)  
 [<span data-ttu-id="e6899-139">Vlastní vlastnosti závislosti</span><span class="sxs-lookup"><span data-stu-id="e6899-139">Custom Dependency Properties</span></span>](../../../../docs/framework/wpf/advanced/custom-dependency-properties.md)  
 [<span data-ttu-id="e6899-140">Styly a šablony</span><span class="sxs-lookup"><span data-stu-id="e6899-140">Styling and Templating</span></span>](../../../../docs/framework/wpf/controls/styling-and-templating.md)
