---
title: "Vlastnost závislostí a načítání XAML"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-wpf
ms.tgt_pltfrm: 
ms.topic: article
dev_langs:
- csharp
- vb
helpviewer_keywords:
- custom dependency properties [WPF]
- dependency properties [WPF], XAML loading and
- loading XML data [WPF]
ms.assetid: 6eea9f4e-45ce-413b-a266-f08238737bf2
caps.latest.revision: "8"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload: dotnet
ms.openlocfilehash: 9771aa05d029603a018e041644ff3e2018e26ca4
ms.sourcegitcommit: 16186c34a957fdd52e5db7294f291f7530ac9d24
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 12/22/2017
---
# <a name="xaml-loading-and-dependency-properties"></a><span data-ttu-id="8876f-102">Vlastnost závislostí a načítání XAML</span><span class="sxs-lookup"><span data-stu-id="8876f-102">XAML Loading and Dependency Properties</span></span>
<span data-ttu-id="8876f-103">Aktuální [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] provádění jeho [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] procesoru je ze své podstaty vědět vlastnost závislosti.</span><span class="sxs-lookup"><span data-stu-id="8876f-103">The current [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] implementation of its [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] processor is inherently dependency property aware.</span></span> <span data-ttu-id="8876f-104">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] Procesoru používá metody systému vlastností vlastností závislostí při načítání binární [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] a zpracování atributy, které jsou vlastnosti závislosti.</span><span class="sxs-lookup"><span data-stu-id="8876f-104">The [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] processor uses property system methods for dependency properties when loading binary [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] and processing attributes that are dependency properties.</span></span> <span data-ttu-id="8876f-105">To efektivně obchází obálky vlastnost.</span><span class="sxs-lookup"><span data-stu-id="8876f-105">This effectively bypasses the property wrappers.</span></span> <span data-ttu-id="8876f-106">Při implementaci vlastní závislosti vlastnosti, musí účet pro toto chování a byste neměli umístění jakýkoli jiný kód ve vaší vlastnost obálku než metody vlastností systému <xref:System.Windows.DependencyObject.GetValue%2A> a <xref:System.Windows.DependencyObject.SetValue%2A>.</span><span class="sxs-lookup"><span data-stu-id="8876f-106">When you implement custom dependency properties, you must account for this behavior and should avoid placing any other code in your property wrapper other than the property system methods <xref:System.Windows.DependencyObject.GetValue%2A> and <xref:System.Windows.DependencyObject.SetValue%2A>.</span></span>  
  
  
<a name="prerequisites"></a>   
## <a name="prerequisites"></a><span data-ttu-id="8876f-107">Požadavky</span><span class="sxs-lookup"><span data-stu-id="8876f-107">Prerequisites</span></span>  
 <span data-ttu-id="8876f-108">Toto téma předpokládá, že pochopit vlastností závislostí jak jako příjemce a autora a přečetli [přehled vlastností závislostí](../../../../docs/framework/wpf/advanced/dependency-properties-overview.md) a [vlastní závislosti vlastnosti](../../../../docs/framework/wpf/advanced/custom-dependency-properties.md).</span><span class="sxs-lookup"><span data-stu-id="8876f-108">This topic assumes that you understand dependency properties both as consumer and author and have read [Dependency Properties Overview](../../../../docs/framework/wpf/advanced/dependency-properties-overview.md) and [Custom Dependency Properties](../../../../docs/framework/wpf/advanced/custom-dependency-properties.md).</span></span> <span data-ttu-id="8876f-109">Měli byste také mít si přečíst [přehled XAML (WPF)](../../../../docs/framework/wpf/advanced/xaml-overview-wpf.md) a [XAML syntaxe v podrobností](../../../../docs/framework/wpf/advanced/xaml-syntax-in-detail.md).</span><span class="sxs-lookup"><span data-stu-id="8876f-109">You should also have read [XAML Overview (WPF)](../../../../docs/framework/wpf/advanced/xaml-overview-wpf.md) and [XAML Syntax In Detail](../../../../docs/framework/wpf/advanced/xaml-syntax-in-detail.md).</span></span>  
  
<a name="implementation"></a>   
## <a name="the-wpf-xaml-loader-implementation-and-performance"></a><span data-ttu-id="8876f-110">Implementace zavaděč WPF XAML a výkonu</span><span class="sxs-lookup"><span data-stu-id="8876f-110">The WPF XAML Loader Implementation, and Performance</span></span>  
 <span data-ttu-id="8876f-111">Z důvodů implementace, je u levnější identifikovat vlastnost jako vlastnost závislosti a přístup k systému vlastnost <xref:System.Windows.DependencyObject.SetValue%2A> metodu a nastavit ho, místo obálku vlastnost a její setter.</span><span class="sxs-lookup"><span data-stu-id="8876f-111">For implementation reasons, it is computationally less expensive to identify a property as a dependency property and access the property system <xref:System.Windows.DependencyObject.SetValue%2A> method to set it, rather than using the property wrapper and its setter.</span></span> <span data-ttu-id="8876f-112">Důvodem je, že [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] procesor musí odvodit celý objekt modelu kódu zálohování na základě pouze na znalost typu a členu vztahy, které jsou označeny strukturu kód a různé řetězců.</span><span class="sxs-lookup"><span data-stu-id="8876f-112">This is because a [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] processor must infer the entire object model of the backing code based only on knowing the type and member relationships that are indicated by the structure of the markup and various strings.</span></span>  
  
 <span data-ttu-id="8876f-113">Typ je prohledávat pomocí kombinace xmlns a atributů sestavení, ale identifikace členů, určení, která by mohla podporovat, je nastaven jako atribut, a řešení, jaké typy podporují hodnoty vlastností by jinak vyžadovat rozsáhlé reflexe pomocí <xref:System.Reflection.PropertyInfo>.</span><span class="sxs-lookup"><span data-stu-id="8876f-113">The type is looked up through a combination of xmlns and assembly attributes, but identifying the members, determining which could support being set as an attribute, and resolving what types the property values support would otherwise require extensive reflection using <xref:System.Reflection.PropertyInfo>.</span></span> <span data-ttu-id="8876f-114">Vzhledem k tomu, že jsou dostupné jako tabulku úložiště pomocí vlastnosti systému, vlastností závislostí na daný typ [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] provádění jeho [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] procesoru na základě této tabulky a odvodí, že jakékoli zadána vlastnost *ABC* můžete nastavit efektivněji voláním <xref:System.Windows.DependencyObject.SetValue%2A> na obsahující <xref:System.Windows.DependencyObject> odvozeného typu pomocí identifikátoru vlastnosti závislosti *ABCProperty*.</span><span class="sxs-lookup"><span data-stu-id="8876f-114">Because dependency properties on a given type are accessible as a storage table through the property system, the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] implementation of its [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] processor uses this table and infers that any given property *ABC* can be more efficiently set by calling <xref:System.Windows.DependencyObject.SetValue%2A> on the containing <xref:System.Windows.DependencyObject> derived type, using the dependency property identifier *ABCProperty*.</span></span>  
  
<a name="implications"></a>   
## <a name="implications-for-custom-dependency-properties"></a><span data-ttu-id="8876f-115">Důsledky pro vlastní závislosti vlastnosti</span><span class="sxs-lookup"><span data-stu-id="8876f-115">Implications for Custom Dependency Properties</span></span>  
 <span data-ttu-id="8876f-116">Protože aktuální [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] implementace [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] chování procesoru pro nastavení vlastnosti obchází obálky zcela a veškeré další logiky nesmí put do sady definice obálku pro vlastnost vaše vlastní závislosti.</span><span class="sxs-lookup"><span data-stu-id="8876f-116">Because the current [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] implementation of the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] processor behavior for property setting bypasses the wrappers entirely, you should not put any additional logic into the set definitions of the wrapper for your custom dependency property.</span></span> <span data-ttu-id="8876f-117">Pokud vložíte tuto logiku v definici sady, pak logiku nebudou provedeny, když je vlastnost nastavena [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] spíše než v kódu.</span><span class="sxs-lookup"><span data-stu-id="8876f-117">If you put such logic in the set definition, then the logic will not be executed when the property is set in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] rather than in code.</span></span>  
  
 <span data-ttu-id="8876f-118">Podobně další aspekty [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] procesor, který získat hodnoty vlastností z [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] zpracování taky použití <xref:System.Windows.DependencyObject.GetValue%2A> místo pomocí obálku.</span><span class="sxs-lookup"><span data-stu-id="8876f-118">Similarly, other aspects of the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] processor that obtain property values from [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] processing also use <xref:System.Windows.DependencyObject.GetValue%2A> rather than using the wrapper.</span></span> <span data-ttu-id="8876f-119">Proto byste neměli také všechny další implementace v `get` definice nad rámec <xref:System.Windows.DependencyObject.GetValue%2A> volání.</span><span class="sxs-lookup"><span data-stu-id="8876f-119">Therefore, you should also avoid any additional implementation in the `get` definition beyond the <xref:System.Windows.DependencyObject.GetValue%2A> call.</span></span>  
  
 <span data-ttu-id="8876f-120">Následující příklad je definice vlastnosti doporučené závislostí s obálky, se uloží identifikátor vlastnosti jako `public` `static` `readonly` pole a `get` a `set` definice neobsahují žádný kód nad rámec metody systému nezbytné vlastnosti, které definují vlastnosti závislosti zálohování.</span><span class="sxs-lookup"><span data-stu-id="8876f-120">The following example is a recommended dependency property definition with wrappers, where the property identifier is stored as a `public` `static` `readonly` field, and the `get` and `set` definitions contain no code beyond the necessary property system methods that define the dependency property backing.</span></span>  
  
 [!code-csharp[WPFAquariumSln#AGWithWrapper](../../../../samples/snippets/csharp/VS_Snippets_Wpf/WPFAquariumSln/CSharp/WPFAquariumObjects/Class1.cs#agwithwrapper)]
 [!code-vb[WPFAquariumSln#AGWithWrapper](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/WPFAquariumSln/visualbasic/wpfaquariumobjects/class1.vb#agwithwrapper)]  
  
## <a name="see-also"></a><span data-ttu-id="8876f-121">Viz také</span><span class="sxs-lookup"><span data-stu-id="8876f-121">See Also</span></span>  
 [<span data-ttu-id="8876f-122">Přehled vlastností závislosti</span><span class="sxs-lookup"><span data-stu-id="8876f-122">Dependency Properties Overview</span></span>](../../../../docs/framework/wpf/advanced/dependency-properties-overview.md)  
 [<span data-ttu-id="8876f-123">Přehled XAML (WPF)</span><span class="sxs-lookup"><span data-stu-id="8876f-123">XAML Overview (WPF)</span></span>](../../../../docs/framework/wpf/advanced/xaml-overview-wpf.md)  
 [<span data-ttu-id="8876f-124">Metadata vlastností závislosti</span><span class="sxs-lookup"><span data-stu-id="8876f-124">Dependency Property Metadata</span></span>](../../../../docs/framework/wpf/advanced/dependency-property-metadata.md)  
 [<span data-ttu-id="8876f-125">Vlastnosti závislostí typu kolekce</span><span class="sxs-lookup"><span data-stu-id="8876f-125">Collection-Type Dependency Properties</span></span>](../../../../docs/framework/wpf/advanced/collection-type-dependency-properties.md)  
 [<span data-ttu-id="8876f-126">Zabezpečení vlastností závislosti</span><span class="sxs-lookup"><span data-stu-id="8876f-126">Dependency Property Security</span></span>](../../../../docs/framework/wpf/advanced/dependency-property-security.md)  
 [<span data-ttu-id="8876f-127">Zabezpečené vzory konstruktoru pro DependencyObjects</span><span class="sxs-lookup"><span data-stu-id="8876f-127">Safe Constructor Patterns for DependencyObjects</span></span>](../../../../docs/framework/wpf/advanced/safe-constructor-patterns-for-dependencyobjects.md)
