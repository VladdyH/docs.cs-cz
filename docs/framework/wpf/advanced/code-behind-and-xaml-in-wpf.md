---
title: Podkladový kód a kód XAML v subsystému WPF
ms.custom: ''
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: ''
ms.suite: ''
ms.technology:
- dotnet-wpf
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- XAML [WPF], code-behind
- code-behind files [WPF], XAML
ms.assetid: 9df6d3c9-aed3-471c-af36-6859b19d999f
caps.latest.revision: 14
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload:
- dotnet
ms.openlocfilehash: 9c28a501996e4f2cc25e9e280b2f63e1c0c67051
ms.sourcegitcommit: 86adcc06e35390f13c1e372c36d2e044f1fc31ef
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 04/26/2018
---
# <a name="code-behind-and-xaml-in-wpf"></a><span data-ttu-id="d27c1-102">Podkladový kód a kód XAML v subsystému WPF</span><span class="sxs-lookup"><span data-stu-id="d27c1-102">Code-Behind and XAML in WPF</span></span>
<a name="introduction"></a> <span data-ttu-id="d27c1-103">Kódu je termín, který používá k popisu kód, který je spojen s objekty definovanými značkami při [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] stránka je zkompilovaný kód.</span><span class="sxs-lookup"><span data-stu-id="d27c1-103">Code-behind is a term used to describe the code that is joined with markup-defined objects, when a [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] page is markup-compiled.</span></span> <span data-ttu-id="d27c1-104">Toto téma popisuje požadavky pro kódu i mechanismus alternativní vloženého kódu pro kód ve [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d27c1-104">This topic describes requirements for code-behind as well as an alternative inline code mechanism for code in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span></span>  
  
 <span data-ttu-id="d27c1-105">Toto téma obsahuje následující oddíly:</span><span class="sxs-lookup"><span data-stu-id="d27c1-105">This topic contains the following sections:</span></span>  
  
-   [<span data-ttu-id="d27c1-106">Požadavky</span><span class="sxs-lookup"><span data-stu-id="d27c1-106">Prerequisites</span></span>](#Prerequisites)  
  
-   [<span data-ttu-id="d27c1-107">Kódu a jazyk XAML</span><span class="sxs-lookup"><span data-stu-id="d27c1-107">Code-Behind and the XAML Language</span></span>](#codebehind_and_the_xaml_language)  
  
-   [<span data-ttu-id="d27c1-108">Kódu, obslužné rutiny události a požadavky na třídu v grafickém subsystému WPF</span><span class="sxs-lookup"><span data-stu-id="d27c1-108">Code-behind, Event Handler, and Partial Class Requirements in WPF</span></span>](#Code_behind__Event_Handler__and_Partial_Class)  
  
-   [<span data-ttu-id="d27c1-109">x: Code</span><span class="sxs-lookup"><span data-stu-id="d27c1-109">x:Code</span></span>](#x_Code)  
  
-   [<span data-ttu-id="d27c1-110">Omezení vloženého kódu</span><span class="sxs-lookup"><span data-stu-id="d27c1-110">Inline Code Limitations</span></span>](#Inline_Code_Limitations)  
  
<a name="Prerequisites"></a>   
## <a name="prerequisites"></a><span data-ttu-id="d27c1-111">Požadavky</span><span class="sxs-lookup"><span data-stu-id="d27c1-111">Prerequisites</span></span>  
 <span data-ttu-id="d27c1-112">Toto téma předpokládá, že jste četli [přehled XAML (WPF)](../../../../docs/framework/wpf/advanced/xaml-overview-wpf.md) a mají některé základní znalosti o [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] a objektově orientované programování.</span><span class="sxs-lookup"><span data-stu-id="d27c1-112">This topic assumes that you have read the [XAML Overview (WPF)](../../../../docs/framework/wpf/advanced/xaml-overview-wpf.md) and have some basic knowledge of the [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] and object-oriented programming.</span></span>  
  
<a name="codebehind_and_the_xaml_language"></a>   
## <a name="code-behind-and-the-xaml-language"></a><span data-ttu-id="d27c1-113">Kódu a jazyk XAML</span><span class="sxs-lookup"><span data-stu-id="d27c1-113">Code-Behind and the XAML Language</span></span>  
 <span data-ttu-id="d27c1-114">Jazyk XAML zahrnuje úroveň jazyka funkce, které umožňují soubory kódu přidružit souborech značek ze strany souboru značek.</span><span class="sxs-lookup"><span data-stu-id="d27c1-114">The XAML language includes language-level features that make it possible to associate code files with markup files, from the markup file side.</span></span> <span data-ttu-id="d27c1-115">Konkrétně jazyk XAML definuje funkce jazyka [x: Class – direktiva](../../../../docs/framework/xaml-services/x-class-directive.md), [x: Subclass – direktiva](../../../../docs/framework/xaml-services/x-subclass-directive.md), a [x: ClassModifier – direktiva](../../../../docs/framework/xaml-services/x-classmodifier-directive.md).</span><span class="sxs-lookup"><span data-stu-id="d27c1-115">Specifically, the XAML language defines the language features [x:Class Directive](../../../../docs/framework/xaml-services/x-class-directive.md), [x:Subclass Directive](../../../../docs/framework/xaml-services/x-subclass-directive.md), and [x:ClassModifier Directive](../../../../docs/framework/xaml-services/x-classmodifier-directive.md).</span></span> <span data-ttu-id="d27c1-116">Přesně jak by měla být vytvořena kód a jak integrovat značek a kódu, není součástí co určuje jazyk XAML.</span><span class="sxs-lookup"><span data-stu-id="d27c1-116">Exactly how the code should be produced, and how to integrate markup and code, is not part of what the XAML language specifies.</span></span> <span data-ttu-id="d27c1-117">Je ponechán až architektury, jako je například WPF určit, jak integrovat kód, jak pokud chcete používat XAML v aplikaci a programovací modely a sestavení akce nebo jiné podporovat, to vše vyžaduje.</span><span class="sxs-lookup"><span data-stu-id="d27c1-117">It is left up to frameworks such as WPF to determine how to integrate the code, how to use XAML in the application and programming models, and the build actions or other support that all this requires.</span></span>  
  
<a name="Code_behind__Event_Handler__and_Partial_Class"></a>   
## <a name="code-behind-event-handler-and-partial-class-requirements-in-wpf"></a><span data-ttu-id="d27c1-118">Kódu, obslužné rutiny události a požadavky na třídu v grafickém subsystému WPF</span><span class="sxs-lookup"><span data-stu-id="d27c1-118">Code-behind, Event Handler, and Partial Class Requirements in WPF</span></span>  
  
-   <span data-ttu-id="d27c1-119">Částečné třídy musí být odvozeny od typu, který zálohuje kořenový element.</span><span class="sxs-lookup"><span data-stu-id="d27c1-119">The partial class must derive from the type that backs the root element.</span></span>  
  
-   <span data-ttu-id="d27c1-120">Všimněte si, že v rámci výchozího chování akce sestavení kompilace kódu, můžete nechat odvození prázdné v definici částečné třídy na straně kódu.</span><span class="sxs-lookup"><span data-stu-id="d27c1-120">Note that under the default behavior of the markup compile build actions, you can leave the derivation blank in the partial class definition on the code-behind side.</span></span> <span data-ttu-id="d27c1-121">Kompilované výsledek bude předpokládají základní typ stránky kořenové jako základ pro třídu, i když není zadaný.</span><span class="sxs-lookup"><span data-stu-id="d27c1-121">The compiled result will assume the page root's backing type to be the basis for the partial class, even if it not specified.</span></span> <span data-ttu-id="d27c1-122">Spoléhat na toto chování je však není osvědčený postup.</span><span class="sxs-lookup"><span data-stu-id="d27c1-122">However, relying on this behavior is not a best practice.</span></span>  
  
-   <span data-ttu-id="d27c1-123">Obslužné rutiny událostí, které můžete psát v kódu musí být instanci metody a nemůže být statické metody.</span><span class="sxs-lookup"><span data-stu-id="d27c1-123">The event handlers you write in the code behind must be instance methods and cannot be static methods.</span></span> <span data-ttu-id="d27c1-124">Tyto metody musí být definované třídu v rámci oboru názvů CLR identifikovaný `x:Class`.</span><span class="sxs-lookup"><span data-stu-id="d27c1-124">These methods must be defined by the partial class within the CLR namespace identified by `x:Class`.</span></span> <span data-ttu-id="d27c1-125">Název obslužné rutiny události dáte pokyn, aby nelze kvalifikaci [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] procesoru a hledat obslužné rutiny události pro spojení události v oboru jinou třídu.</span><span class="sxs-lookup"><span data-stu-id="d27c1-125">You cannot qualify the name of an event handler to instruct a [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] processor to look for an event handler for event wiring in a different class scope.</span></span>  
  
-   <span data-ttu-id="d27c1-126">Obslužná rutina se musí shodovat delegát pro odpovídající události v systému typ zálohování.</span><span class="sxs-lookup"><span data-stu-id="d27c1-126">The handler must match the delegate for the appropriate event in the backing type system.</span></span>  
  
-   <span data-ttu-id="d27c1-127">Pro jazyk Microsoft Visual Basic konkrétně, můžete použít konkrétní jazyk `Handles` – klíčové slovo přidružit instancí a události v deklaraci obslužné rutiny, místo připojení obslužné rutiny s atributy v obslužné rutiny [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d27c1-127">For the Microsoft Visual Basic language specifically, you can use the language-specific `Handles` keyword to associate handlers with instances and events in the handler declaration, instead of attaching handlers with attributes in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span></span> <span data-ttu-id="d27c1-128">Tento postup však má určitá omezení, protože `Handles` – klíčové slovo nemůže podporovat všechny konkrétní funkce [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] událostí systému, například určité směrují scénáře událostí nebo přidružené události.</span><span class="sxs-lookup"><span data-stu-id="d27c1-128">However, this technique does have some limitations because the `Handles` keyword cannot support all of the specific features of the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] event system, such as certain routed event scenarios or attached events.</span></span> <span data-ttu-id="d27c1-129">Podrobnosti najdete v tématu [Visual Basic a zpracování události WPF](../../../../docs/framework/wpf/advanced/visual-basic-and-wpf-event-handling.md).</span><span class="sxs-lookup"><span data-stu-id="d27c1-129">For details, see [Visual Basic and WPF Event Handling](../../../../docs/framework/wpf/advanced/visual-basic-and-wpf-event-handling.md).</span></span>  
  
<a name="x_Code"></a>   
## <a name="xcode"></a><span data-ttu-id="d27c1-130">x: Code</span><span class="sxs-lookup"><span data-stu-id="d27c1-130">x:Code</span></span>  
 <span data-ttu-id="d27c1-131">[x: Code](../../../../docs/framework/xaml-services/x-code-intrinsic-xaml-type.md) element direktivy je definována v [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d27c1-131">[x:Code](../../../../docs/framework/xaml-services/x-code-intrinsic-xaml-type.md) is a directive element defined in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span></span> <span data-ttu-id="d27c1-132">`x:Code` – Direktiva element může obsahovat vložené programového kódu.</span><span class="sxs-lookup"><span data-stu-id="d27c1-132">An `x:Code` directive element can contain inline programming code.</span></span> <span data-ttu-id="d27c1-133">Kód, který je definována vložením mohou komunikovat s [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] na stejné stránce.</span><span class="sxs-lookup"><span data-stu-id="d27c1-133">The code that is defined inline can interact with the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] on the same page.</span></span> <span data-ttu-id="d27c1-134">Následující příklad ilustruje vloženého kódu C#.</span><span class="sxs-lookup"><span data-stu-id="d27c1-134">The following example illustrates inline C# code.</span></span> <span data-ttu-id="d27c1-135">Všimněte si, že kód je uvnitř `x:Code` elementu a že kód musí být uzavřena do `<CDATA[`... `]]>` abyste se vyhnuli obsah pro [!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)]tak, aby [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] procesoru (interpretace buď [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] schématu nebo [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] schématu) nebude zkoušet interpretovat obsah oznámena jako [!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d27c1-135">Notice that the code is inside the `x:Code` element and that the code must be surrounded by `<CDATA[`...`]]>` to escape the contents for [!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)], so that a [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] processor (interpreting either the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] schema or the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] schema) will not try to interpret the contents literally as [!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)].</span></span>  
  
 [!code-xaml[XAMLOvwSupport#ButtonWithInlineCode](../../../../samples/snippets/csharp/VS_Snippets_Wpf/XAMLOvwSupport/CSharp/page4.xaml#buttonwithinlinecode)]  
  
<a name="Inline_Code_Limitations"></a>   
## <a name="inline-code-limitations"></a><span data-ttu-id="d27c1-136">Omezení vloženého kódu</span><span class="sxs-lookup"><span data-stu-id="d27c1-136">Inline Code Limitations</span></span>  
 <span data-ttu-id="d27c1-137">Měli byste zvážit vyloučení nebo omezení použití vloženého kódu.</span><span class="sxs-lookup"><span data-stu-id="d27c1-137">You should consider avoiding or limiting the use of inline code.</span></span> <span data-ttu-id="d27c1-138">Z hlediska architektury a kódování filosofie zachování oddělení mezi značek a kódu udržuje role designer a vývojáře mnohem víc distinct.</span><span class="sxs-lookup"><span data-stu-id="d27c1-138">In terms of architecture and coding philosophy, maintaining a separation between markup and code-behind keeps the designer and developer roles much more distinct.</span></span> <span data-ttu-id="d27c1-139">Na další technické úrovni, může být nevhodných k zápisu, kód, který zapisuje pro vloženého kódu vzhledem k tomu, že jsou vždy zápisu do [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] vygeneruje třídu a můžou používat jenom výchozí mapování oboru názvů XML.</span><span class="sxs-lookup"><span data-stu-id="d27c1-139">On a more technical level, the code that you write for inline code can be awkward to write, because you are always writing into the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] generated partial class, and can only use the default XML namespace mappings.</span></span> <span data-ttu-id="d27c1-140">Vzhledem k tomu, že nemůžete přidat `using` příkazy, které musí plnému určení řadu [!INCLUDE[TLA2#tla_api](../../../../includes/tla2sharptla-api-md.md)] volání, které provedete.</span><span class="sxs-lookup"><span data-stu-id="d27c1-140">Because you cannot add `using` statements, you must fully qualify many of the [!INCLUDE[TLA2#tla_api](../../../../includes/tla2sharptla-api-md.md)] calls that you make.</span></span> <span data-ttu-id="d27c1-141">Výchozí [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] mapování obsahovat nejvíce, ale ne všechny [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] obory názvů, které jsou součástí [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] sestavení; bude mít k plnému určení volání typy a členy obsažené v jiných CLR oborech názvů.</span><span class="sxs-lookup"><span data-stu-id="d27c1-141">The default [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] mappings include most but not all [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] namespaces that are present in the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] assemblies; you will have to fully qualify calls to types and members contained within the other CLR namespaces.</span></span> <span data-ttu-id="d27c1-142">Můžete také nelze definovat nic nad třídu v vloženého kódu, a všechny entity kód uživatele, který odkazujete musí existovat jako proměnné v rámci generovaného třídu nebo člena.</span><span class="sxs-lookup"><span data-stu-id="d27c1-142">You also cannot define anything beyond the partial class in the inline code, and all user code entities you reference must exist as a member or variable within the generated partial class.</span></span> <span data-ttu-id="d27c1-143">Další jazyk konkrétní programovací funkce, třeba makra nebo `#ifdef` proti globální proměnné nebo proměnné sestavení, nejsou k dispozici.</span><span class="sxs-lookup"><span data-stu-id="d27c1-143">Other language specific programming features, such as macros or `#ifdef` against global variables or build variables, are also not available.</span></span> <span data-ttu-id="d27c1-144">Další informace najdete v tématu [x: Code vnitřní typ jazyka XAML](../../../../docs/framework/xaml-services/x-code-intrinsic-xaml-type.md).</span><span class="sxs-lookup"><span data-stu-id="d27c1-144">For more information, see [x:Code Intrinsic XAML Type](../../../../docs/framework/xaml-services/x-code-intrinsic-xaml-type.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="d27c1-145">Viz také</span><span class="sxs-lookup"><span data-stu-id="d27c1-145">See Also</span></span>  
 [<span data-ttu-id="d27c1-146">Přehled XAML (WPF)</span><span class="sxs-lookup"><span data-stu-id="d27c1-146">XAML Overview (WPF)</span></span>](../../../../docs/framework/wpf/advanced/xaml-overview-wpf.md)  
 [<span data-ttu-id="d27c1-147">x:Code – vnitřní typ jazyka XAML</span><span class="sxs-lookup"><span data-stu-id="d27c1-147">x:Code Intrinsic XAML Type</span></span>](../../../../docs/framework/xaml-services/x-code-intrinsic-xaml-type.md)  
 [<span data-ttu-id="d27c1-148">Sestavení aplikace WPF</span><span class="sxs-lookup"><span data-stu-id="d27c1-148">Building a WPF Application</span></span>](../../../../docs/framework/wpf/app-development/building-a-wpf-application-wpf.md)  
 [<span data-ttu-id="d27c1-149">Podrobná syntaxe XAML</span><span class="sxs-lookup"><span data-stu-id="d27c1-149">XAML Syntax In Detail</span></span>](../../../../docs/framework/wpf/advanced/xaml-syntax-in-detail.md)
