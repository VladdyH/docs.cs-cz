---
title: "Přehled řízeného vytváření"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-wpf
ms.tgt_pltfrm: 
ms.topic: article
dev_langs:
- csharp
- vb
helpviewer_keywords:
- controls [WPF], authoring overview
- authoring overview for controls [WPF]
ms.assetid: 3d864748-cff0-4e63-9b23-d8e5a635b28f
caps.latest.revision: "32"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.openlocfilehash: 8a3722fc9cb5b4e992ddf695696fa1eb40c6ad4e
ms.sourcegitcommit: 4f3fef493080a43e70e951223894768d36ce430a
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 11/21/2017
---
# <a name="control-authoring-overview"></a><span data-ttu-id="6c7b3-102">Přehled řízeného vytváření</span><span class="sxs-lookup"><span data-stu-id="6c7b3-102">Control Authoring Overview</span></span>
<span data-ttu-id="6c7b3-103">Rozšiřitelnost [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] model řízení výrazně snižuje potřebu vytvářet nový ovládací prvek.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-103">The extensibility of the [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] control model greatly reduces the need to create a new control.</span></span> <span data-ttu-id="6c7b3-104">Ale v některých případech může stále potřebujete vytvořit vlastní ovládací prvek.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-104">However, in certain cases you may still need to create a custom control.</span></span> <span data-ttu-id="6c7b3-105">Toto téma popisuje funkce, které minimalizovat vašim potřebám k vytvoření vlastního ovládacího prvku a jiné řízení vytváření modelů v [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="6c7b3-105">This topic discusses the features that minimize your need to create a custom control and the different control authoring models in [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)].</span></span> <span data-ttu-id="6c7b3-106">Toto téma ukazuje, jak vytvořit nový ovládací prvek.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-106">This topic also demonstrates how to create a new control.</span></span>  
  
 
  
<a name="when_to_write_a_new_control"></a>   
## <a name="alternatives-to-writing-a-new-control"></a><span data-ttu-id="6c7b3-107">Alternativy k zápisu nového ovládacího prvku</span><span class="sxs-lookup"><span data-stu-id="6c7b3-107">Alternatives to Writing a New Control</span></span>  
 <span data-ttu-id="6c7b3-108">V minulosti Pokud chcete získat přizpůsobené prostředí z existujícího ovládacího prvku, jste omezeny na změny standardních vlastností ovládacího prvku, například barvu pozadí, šířka ohraničení a velikost písma.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-108">Historically, if you wanted to get a customized experience from an existing control, you were limited to changing the standard properties of the control, such as background color, border width, and font size.</span></span> <span data-ttu-id="6c7b3-109">Pokud jste si přáli rozšířit vzhled nebo chování ovládacího prvku nad rámec těchto předdefinovaných parametrů, musíte vytvořit nový ovládací prvek, obvykle dědění z ovládacího prvku existující a přepsání metody odpovědný za vykreslení ovládacího prvku.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-109">If you wished to extend the appearance or behavior of a control beyond these predefined parameters, you would need to create a new control, usually by inheriting from an existing control and overriding the method responsible for drawing the control.</span></span>  <span data-ttu-id="6c7b3-110">I když stále možnost, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] vám umožňuje přizpůsobit existujících ovládacích prvků pomocí jeho bohaté modelu obsahu, styly, šablony a aktivační události.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-110">Although that is still an option, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] enables to you customize existing controls by using its rich content model, styles, templates, and triggers.</span></span> <span data-ttu-id="6c7b3-111">V následujícím seznamu jsou uvedeny příklady jak tyto funkce slouží k vytvoření vlastních a konzistentní prostředí bez nutnosti vytvářet nový ovládací prvek.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-111">The following list gives examples of how these features can be used to create custom and consistent experiences without having to create a new control.</span></span>  
  
-   <span data-ttu-id="6c7b3-112">**Formátovaný obsah.**</span><span class="sxs-lookup"><span data-stu-id="6c7b3-112">**Rich Content.**</span></span> <span data-ttu-id="6c7b3-113">Mnoho standardní [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] ovládací prvky podporují složitý obsah.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-113">Many of the standard [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] controls support rich content.</span></span> <span data-ttu-id="6c7b3-114">Například obsahu vlastnosti <xref:System.Windows.Controls.Button> je typu <xref:System.Object>, takže teoreticky nic lze zobrazit na <xref:System.Windows.Controls.Button>.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-114">For example, the content property of a <xref:System.Windows.Controls.Button> is of type <xref:System.Object>, so theoretically anything can be displayed on a <xref:System.Windows.Controls.Button>.</span></span>  <span data-ttu-id="6c7b3-115">Pokud chcete, aby tlačítko Zobrazit bitové kopie a text, můžete přidat bitovou kopii a <xref:System.Windows.Controls.TextBlock> k <xref:System.Windows.Controls.StackPanel> a přiřaďte <xref:System.Windows.Controls.StackPanel> k <xref:System.Windows.Controls.ContentControl.Content%2A> vlastnost.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-115">To have a button display an image and text, you can add an image and a <xref:System.Windows.Controls.TextBlock> to a <xref:System.Windows.Controls.StackPanel> and assign the <xref:System.Windows.Controls.StackPanel> to the <xref:System.Windows.Controls.ContentControl.Content%2A> property.</span></span> <span data-ttu-id="6c7b3-116">Protože ovládací prvky můžete zobrazit [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] vizuální prvky a libovolná data méně nutné vytvořit nový ovládací prvek nebo k úpravě existujícího ovládacího prvku pro podporu komplexní vizualizace.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-116">Because the controls can display [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] visual elements and arbitrary data, there is less need to create a new control or to modify an existing control to support a complex visualization.</span></span> <span data-ttu-id="6c7b3-117">Další informace o modelu obsahu pro <xref:System.Windows.Controls.Button> a jiný obsah modely v [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], najdete v části [modelu obsahu WPF](../../../../docs/framework/wpf/controls/wpf-content-model.md).</span><span class="sxs-lookup"><span data-stu-id="6c7b3-117">For more information about the content model for <xref:System.Windows.Controls.Button> and other content models in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], see [WPF Content Model](../../../../docs/framework/wpf/controls/wpf-content-model.md).</span></span>  
  
-   <span data-ttu-id="6c7b3-118">**Styly.**</span><span class="sxs-lookup"><span data-stu-id="6c7b3-118">**Styles.**</span></span> <span data-ttu-id="6c7b3-119">A <xref:System.Windows.Style> je kolekce hodnot, které představují vlastnosti pro ovládací prvek.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-119">A <xref:System.Windows.Style> is a collection of values that represent properties for a control.</span></span> <span data-ttu-id="6c7b3-120">Pomocí stylů, můžete vytvořit opakovaně použitelný reprezentaci požadované řízení vzhledu a chování bez nutnosti napsat nový ovládací prvek.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-120">By using styles, you can create a reusable representation of a desired control appearance and behavior without writing a new control.</span></span> <span data-ttu-id="6c7b3-121">Předpokládejme například, že chcete všechny vaše <xref:System.Windows.Controls.TextBlock> ovládacích prvků tak, aby měl red, Arial písma a velikost písma 14.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-121">For example, assume that you want all of your <xref:System.Windows.Controls.TextBlock> controls to have red, Arial font with a font size of 14.</span></span> <span data-ttu-id="6c7b3-122">Můžete vytvořit styl jako prostředek a nastavte příslušné vlastnosti odpovídajícím způsobem.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-122">You can create a style as a resource and set the appropriate properties accordingly.</span></span> <span data-ttu-id="6c7b3-123">Pak každých <xref:System.Windows.Controls.TextBlock> přidat do vaší aplikace bude mít stejný vzhled.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-123">Then every <xref:System.Windows.Controls.TextBlock> that you add to your application will have the same appearance.</span></span>  
  
-   <span data-ttu-id="6c7b3-124">**Data šablony.**</span><span class="sxs-lookup"><span data-stu-id="6c7b3-124">**Data Templates.**</span></span> <span data-ttu-id="6c7b3-125">A <xref:System.Windows.DataTemplate> umožňuje přizpůsobit zobrazení dat v ovládacím prvku.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-125">A <xref:System.Windows.DataTemplate> enables you to customize how data is displayed on a control.</span></span> <span data-ttu-id="6c7b3-126">Například <xref:System.Windows.DataTemplate> umožňuje určit, jak se data zobrazí v <xref:System.Windows.Controls.ListBox>.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-126">For example, a <xref:System.Windows.DataTemplate> can be used to specify how data is displayed in a <xref:System.Windows.Controls.ListBox>.</span></span>  <span data-ttu-id="6c7b3-127">Příklad tohoto, naleznete v části [přehled Ukázka dat](../../../../docs/framework/wpf/data/data-templating-overview.md).</span><span class="sxs-lookup"><span data-stu-id="6c7b3-127">For an example of this, see [Data Templating Overview](../../../../docs/framework/wpf/data/data-templating-overview.md).</span></span>  <span data-ttu-id="6c7b3-128">Kromě přizpůsobení vzhledu dat, <xref:System.Windows.DataTemplate> může zahrnovat prvky uživatelského rozhraní, které vám přináší značnou flexibilitu v vlastní uživatelská rozhraní.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-128">In addition to customizing the appearance of data, a <xref:System.Windows.DataTemplate> can include UI elements, which gives you a lot of flexibility in custom UIs.</span></span>  <span data-ttu-id="6c7b3-129">Například pomocí <xref:System.Windows.DataTemplate>, můžete vytvořit <xref:System.Windows.Controls.ComboBox> v které každá položka obsahuje zaškrtávací políčko.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-129">For example, by using a <xref:System.Windows.DataTemplate>, you can create a <xref:System.Windows.Controls.ComboBox> in which each item contains a check box.</span></span>  
  
-   <span data-ttu-id="6c7b3-130">**Ovládací prvek šablony.**</span><span class="sxs-lookup"><span data-stu-id="6c7b3-130">**Control Templates.**</span></span> <span data-ttu-id="6c7b3-131">Mnoho ovládacích prvků v [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] používat <xref:System.Windows.Controls.ControlTemplate> definovat strukturu a vzhled, který odděluje vzhledu ovládacího prvku z funkce ovládacího prvku ovládacího prvku.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-131">Many controls in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] use a <xref:System.Windows.Controls.ControlTemplate> to define the control's structure and appearance, which separates the appearance of a control from the functionality of the control.</span></span> <span data-ttu-id="6c7b3-132">Můžete výrazně změnit vzhled ovládacího prvku opětovná definice jeho <xref:System.Windows.Controls.ControlTemplate>.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-132">You can drastically change the appearance of a control by redefining its <xref:System.Windows.Controls.ControlTemplate>.</span></span>  <span data-ttu-id="6c7b3-133">Předpokládejme například, že chcete ovládací prvek, který vypadá semafor.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-133">For example, suppose you want a control that looks like a stoplight.</span></span> <span data-ttu-id="6c7b3-134">Tento ovládací prvek obsahuje jednoduché uživatelské rozhraní a funkce.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-134">This control has a simple user interface and functionality.</span></span>  <span data-ttu-id="6c7b3-135">Ovládací prvek je tři kruhy, pouze jeden z nich může lit v čase.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-135">The control is three circles, only one of which can be lit up at a time.</span></span> <span data-ttu-id="6c7b3-136">Po některé reflexe vám nejspíš jasné, <xref:System.Windows.Controls.RadioButton> nabízí funkce pouze jeden vybrat na dobu, ale výchozí vzhled <xref:System.Windows.Controls.RadioButton> nic zdá indikátory na semafor.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-136">After some reflection, you might realize that a <xref:System.Windows.Controls.RadioButton> offers the functionality of only one being selected at a time, but the default appearance of the <xref:System.Windows.Controls.RadioButton> looks nothing like the lights on a stoplight.</span></span>  <span data-ttu-id="6c7b3-137">Protože <xref:System.Windows.Controls.RadioButton> používá šablonu řízení k definování její vzhled lze snadno znovu definovat <xref:System.Windows.Controls.ControlTemplate> podle požadavků ovládacího prvku a zkontrolujte vaše semafor pomocí přepínače.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-137">Because the <xref:System.Windows.Controls.RadioButton> uses a control template to define its appearance, it is easy to redefine the <xref:System.Windows.Controls.ControlTemplate> to fit the requirements of the control, and use radio buttons to make your stoplight.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="6c7b3-138">I když <xref:System.Windows.Controls.RadioButton> můžete použít <xref:System.Windows.DataTemplate>, <xref:System.Windows.DataTemplate> není dostatečná v tomto příkladu.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-138">Although a <xref:System.Windows.Controls.RadioButton> can use a <xref:System.Windows.DataTemplate>, a <xref:System.Windows.DataTemplate> is not sufficient in this example.</span></span>  <span data-ttu-id="6c7b3-139"><xref:System.Windows.DataTemplate> Definuje vzhled elementů obsah ovládacího prvku.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-139">The <xref:System.Windows.DataTemplate> defines the appearance of the content of a control.</span></span> <span data-ttu-id="6c7b3-140">U <xref:System.Windows.Controls.RadioButton>, je obsah, ať se zobrazí vpravo kruhu, která určuje, zda <xref:System.Windows.Controls.RadioButton> je vybrána.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-140">In the case of a <xref:System.Windows.Controls.RadioButton>, the content is whatever appears to the right of the circle that indicates whether the <xref:System.Windows.Controls.RadioButton> is selected.</span></span>  <span data-ttu-id="6c7b3-141">V příkladu semafor přepínač musí být právě kruh, který můžete "light nahoru."</span><span class="sxs-lookup"><span data-stu-id="6c7b3-141">In the example of the stoplight, the radio button needs just be a circle that can "light up."</span></span> <span data-ttu-id="6c7b3-142">Protože se tak liší od výchozí vzhled vzhled požadavek semafor <xref:System.Windows.Controls.RadioButton>, je třeba znovu definovat <xref:System.Windows.Controls.ControlTemplate>.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-142">Because the appearance requirement for the stoplight is so different than the default appearance of the <xref:System.Windows.Controls.RadioButton>, it is necessary to redefine the <xref:System.Windows.Controls.ControlTemplate>.</span></span>  <span data-ttu-id="6c7b3-143">Obecně <xref:System.Windows.DataTemplate> slouží k definování obsah (nebo dat) z ovládacího prvku a <xref:System.Windows.Controls.ControlTemplate> slouží k definování struktury ovládacího prvku.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-143">In general a <xref:System.Windows.DataTemplate> is used for defining the content (or data) of a control, and a <xref:System.Windows.Controls.ControlTemplate> is used for defining how a control is structured.</span></span>  
  
-   <span data-ttu-id="6c7b3-144">**Aktivační události.**</span><span class="sxs-lookup"><span data-stu-id="6c7b3-144">**Triggers.**</span></span> <span data-ttu-id="6c7b3-145">A <xref:System.Windows.Trigger> umožňuje dynamicky změnit vzhled a chování ovládacího prvku bez vytvoření nového ovládacího prvku.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-145">A <xref:System.Windows.Trigger> allows you to dynamically change the appearance and behavior of a control without creating a new control.</span></span> <span data-ttu-id="6c7b3-146">Předpokládejme například, máte více <xref:System.Windows.Controls.ListBox> ovládací prvky v aplikaci a chcete položky v každé <xref:System.Windows.Controls.ListBox> být tučně a červeně při je tato možnost vybrána.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-146">For example, suppose you have multiple <xref:System.Windows.Controls.ListBox> controls in your application and want the items in each <xref:System.Windows.Controls.ListBox> to be bold and red when they are selected.</span></span> <span data-ttu-id="6c7b3-147">Vaše první instinct může být pro vytvoření třídy, která dědí z <xref:System.Windows.Controls.ListBox> a přepsat <xref:System.Windows.Controls.Primitives.Selector.OnSelectionChanged%2A> metoda změnit vzhled vybranou položku, ale je vhodnější je přidat do styl pro aktivační událost <xref:System.Windows.Controls.ListBoxItem> který mění vzhled vybranou položku.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-147">Your first instinct might be to create a class that inherits from <xref:System.Windows.Controls.ListBox> and override the <xref:System.Windows.Controls.Primitives.Selector.OnSelectionChanged%2A> method to change the appearance of the selected item, but a better approach is to add a trigger to a style of a <xref:System.Windows.Controls.ListBoxItem> that changes the appearance of the selected item.</span></span> <span data-ttu-id="6c7b3-148">Aktivační událost umožňuje změnit hodnoty vlastností nebo provádět akce na základě hodnoty vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-148">A trigger enables you to change property values or take actions based on the value of a property.</span></span> <span data-ttu-id="6c7b3-149"><xref:System.Windows.EventTrigger> Umožňuje provést akce, když dojde k události.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-149">An <xref:System.Windows.EventTrigger> enables you to take actions when an event occurs.</span></span>  
  
 <span data-ttu-id="6c7b3-150">Další informace o stylů, šablony a aktivačních událostí najdete v tématu [stylů a ukázka](../../../../docs/framework/wpf/controls/styling-and-templating.md).</span><span class="sxs-lookup"><span data-stu-id="6c7b3-150">For more information about styles, templates, and triggers, see [Styling and Templating](../../../../docs/framework/wpf/controls/styling-and-templating.md).</span></span>  
  
 <span data-ttu-id="6c7b3-151">Obecně platí Pokud vlastní ovládací prvek zrcadlí funkce existujícího ovládacího prvku, ale chcete prvek vypadat jinak, nejprve zvažte zda můžete některou z metod popsaných v této části můžete změnit pomocí vzhled existující ovládacího prvku.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-151">In general, if your control mirrors the functionality of an existing control, but you want the control to look different, you should first consider whether you can use any of the methods discussed in this section to change the existing control's appearance.</span></span>  
  
<a name="models_for_control_authoring"></a>   
## <a name="models-for-control-authoring"></a><span data-ttu-id="6c7b3-152">Modely pro vytváření ovládacího prvku</span><span class="sxs-lookup"><span data-stu-id="6c7b3-152">Models for Control Authoring</span></span>  
 <span data-ttu-id="6c7b3-153">Bohaté modelu obsahu, styly, šablony a aktivační události minimalizovat nutnost vám umožní vytvořit nový ovládací prvek.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-153">The rich content model, styles, templates, and triggers minimize the need for you to create a new control.</span></span> <span data-ttu-id="6c7b3-154">Pokud potřebujete vytvořit nový ovládací prvek, je ale důležité si uvědomit, vytváření modelů v různých ovládací prvek [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="6c7b3-154">However, if you do need to create a new control, it is important to understand the different control authoring models in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span></span> [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]<span data-ttu-id="6c7b3-155">poskytuje tři obecné modely pro vytvoření ovládacího prvku, z nichž každý obsahuje jinou sadu funkcí a úroveň flexibilitu.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-155"> provides three general models for creating a control, each of which provides a different set of features and level of flexibility.</span></span> <span data-ttu-id="6c7b3-156">Základní třídy pro tři modely jsou <xref:System.Windows.Controls.UserControl>, <xref:System.Windows.Controls.Control>, a <xref:System.Windows.FrameworkElement>.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-156">The base classes for the three models are <xref:System.Windows.Controls.UserControl>, <xref:System.Windows.Controls.Control>, and <xref:System.Windows.FrameworkElement>.</span></span>  
  
### <a name="deriving-from-usercontrol"></a><span data-ttu-id="6c7b3-157">Odvozování z UserControl</span><span class="sxs-lookup"><span data-stu-id="6c7b3-157">Deriving from UserControl</span></span>  
 <span data-ttu-id="6c7b3-158">Nejjednodušší způsob, jak vytvořit ovládací prvek v [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] je odvozena ze <xref:System.Windows.Controls.UserControl>.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-158">The simplest way to create a control in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] is to derive from <xref:System.Windows.Controls.UserControl>.</span></span> <span data-ttu-id="6c7b3-159">Při vytváření ovládacího prvku, který dědí z <xref:System.Windows.Controls.UserControl>, přidáte do existující součásti <xref:System.Windows.Controls.UserControl>, název komponenty a odkazovat na obslužné rutiny událostí v [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)].</span><span class="sxs-lookup"><span data-stu-id="6c7b3-159">When you build a control that inherits from <xref:System.Windows.Controls.UserControl>, you add existing components to the <xref:System.Windows.Controls.UserControl>, name the components, and reference event handlers in [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)].</span></span> <span data-ttu-id="6c7b3-160">Pak můžete odkazovat pojmenované elementy a definovat obslužné rutiny událostí v kódu.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-160">You can then reference the named elements and define the event handlers in code.</span></span> <span data-ttu-id="6c7b3-161">Tento model vývoje je velmi podobný jako model použitý pro vývoj aplikací v [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="6c7b3-161">This development model is very similar to the model used for application development in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span></span>  
  
 <span data-ttu-id="6c7b3-162">Pokud je vytvořen správně, <xref:System.Windows.Controls.UserControl> můžete využít výhod bohaté obsahu, styly a aktivační události.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-162">If built correctly, a <xref:System.Windows.Controls.UserControl> can take advantage of the benefits of rich content, styles, and triggers.</span></span> <span data-ttu-id="6c7b3-163">Ale pokud vlastní ovládací prvek dědí z <xref:System.Windows.Controls.UserControl>, uživatelé, kteří používají vlastní ovládací prvek nebude možné použít <xref:System.Windows.DataTemplate> nebo <xref:System.Windows.Controls.ControlTemplate> přizpůsobit její vzhled.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-163">However, if your control inherits from <xref:System.Windows.Controls.UserControl>, people who use your control will not be able to use a <xref:System.Windows.DataTemplate> or <xref:System.Windows.Controls.ControlTemplate> to customize its appearance.</span></span>  <span data-ttu-id="6c7b3-164">Je nutné odvozovat z <xref:System.Windows.Controls.Control> třídu nebo jedna z jeho odvozených tříd (jiné než <xref:System.Windows.Controls.UserControl>) vytvořit vlastní ovládací prvek, který podporuje šablony.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-164">It is necessary to derive from the <xref:System.Windows.Controls.Control> class or one of its derived classes (other than <xref:System.Windows.Controls.UserControl>) to create a custom control that supports templates.</span></span>  
  
#### <a name="benefits-of-deriving-from-usercontrol"></a><span data-ttu-id="6c7b3-165">Výhody odvozování z UserControl</span><span class="sxs-lookup"><span data-stu-id="6c7b3-165">Benefits of Deriving from UserControl</span></span>  
 <span data-ttu-id="6c7b3-166">Vezměte v úvahu odvozování z <xref:System.Windows.Controls.UserControl> pokud platí všechny následující kroky:</span><span class="sxs-lookup"><span data-stu-id="6c7b3-166">Consider deriving from <xref:System.Windows.Controls.UserControl> if all of the following apply:</span></span>  
  
-   <span data-ttu-id="6c7b3-167">Chcete vytvořit řízení podobně jak sestavit aplikaci.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-167">You want to build your control similarly to how you build an application.</span></span>  
  
-   <span data-ttu-id="6c7b3-168">Vlastní ovládací prvek se skládá jenom z existující součásti.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-168">Your control consists only of existing components.</span></span>  
  
-   <span data-ttu-id="6c7b3-169">Nemusíte podporovat komplexní přizpůsobení.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-169">You don't need to support complex customization.</span></span>  
  
### <a name="deriving-from-control"></a><span data-ttu-id="6c7b3-170">Odvozování z ovládacího prvku</span><span class="sxs-lookup"><span data-stu-id="6c7b3-170">Deriving from Control</span></span>  
 <span data-ttu-id="6c7b3-171">Odvozování z <xref:System.Windows.Controls.Control> třída je model používá většina existující [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] ovládací prvky.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-171">Deriving from the <xref:System.Windows.Controls.Control> class is the model used by most of the existing [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] controls.</span></span> <span data-ttu-id="6c7b3-172">Při vytváření ovládacího prvku, který dědí z <xref:System.Windows.Controls.Control> třídu, zadejte její vzhled pomocí šablon.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-172">When you create a control that inherits from the <xref:System.Windows.Controls.Control> class, you define its appearance by using templates.</span></span> <span data-ttu-id="6c7b3-173">Díky tomu oddělit provozní logiku z vizuální reprezentace.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-173">By doing so, you separate the operational logic from the visual representation.</span></span> <span data-ttu-id="6c7b3-174">Můžete také zajistit oddělení uživatelského rozhraní a logiku pomocí příkazů a vazby místo události a vyhněte odkazující elementů v <xref:System.Windows.Controls.ControlTemplate> kdykoli je to možné.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-174">You can also ensure the decoupling of the UI and logic by using commands and bindings instead of events and avoiding referencing elements in the <xref:System.Windows.Controls.ControlTemplate> whenever possible.</span></span>  <span data-ttu-id="6c7b3-175">Pokud jsou správně odpojeného uživatelského rozhraní a logiku vlastního ovládacího prvku, uživatel ovládacího prvku předefinovat ovládacího prvku <xref:System.Windows.Controls.ControlTemplate> přizpůsobit její vzhled.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-175">If the UI and logic of your control are properly decoupled, a user of your control can redefine the control's <xref:System.Windows.Controls.ControlTemplate> to customize its appearance.</span></span> <span data-ttu-id="6c7b3-176">I když vytváření vlastní <xref:System.Windows.Controls.Control> není jednoduché, sestavování <xref:System.Windows.Controls.UserControl>, vlastní <xref:System.Windows.Controls.Control> poskytuje nejvíc flexibilitu.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-176">Although building a custom <xref:System.Windows.Controls.Control> is not as simple as building a <xref:System.Windows.Controls.UserControl>, a custom <xref:System.Windows.Controls.Control> provides the most flexibility.</span></span>  
  
#### <a name="benefits-of-deriving-from-control"></a><span data-ttu-id="6c7b3-177">Výhody odvozování z ovládacího prvku</span><span class="sxs-lookup"><span data-stu-id="6c7b3-177">Benefits of Deriving from Control</span></span>  
 <span data-ttu-id="6c7b3-178">Vezměte v úvahu odvozování z <xref:System.Windows.Controls.Control> místo použití <xref:System.Windows.Controls.UserControl> třídy, pokud platí jedna z následujících podmínek:</span><span class="sxs-lookup"><span data-stu-id="6c7b3-178">Consider deriving from <xref:System.Windows.Controls.Control> instead of using the <xref:System.Windows.Controls.UserControl> class if any of the following apply:</span></span>  
  
-   <span data-ttu-id="6c7b3-179">Chcete vzhled ovládacího prvku do, lze přizpůsobit pomocí <xref:System.Windows.Controls.ControlTemplate>.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-179">You want the appearance of your control to be customizable via the <xref:System.Windows.Controls.ControlTemplate>.</span></span>  
  
-   <span data-ttu-id="6c7b3-180">Má vaše řízení podporují různé motivy.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-180">You want your control to support different themes.</span></span>  
  
### <a name="deriving-from-frameworkelement"></a><span data-ttu-id="6c7b3-181">Odvozování z FrameworkElement</span><span class="sxs-lookup"><span data-stu-id="6c7b3-181">Deriving from FrameworkElement</span></span>  
 <span data-ttu-id="6c7b3-182">Ovládací prvky, které jsou odvozeny od <xref:System.Windows.Controls.UserControl> nebo <xref:System.Windows.Controls.Control> závisí skládání stávající elementy.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-182">Controls that derive from <xref:System.Windows.Controls.UserControl> or <xref:System.Windows.Controls.Control> rely upon composing existing elements.</span></span> <span data-ttu-id="6c7b3-183">Pro mnoho scénářů, to je přijatelného řešení, protože libovolného objektu, který dědí od <xref:System.Windows.FrameworkElement> může být v <xref:System.Windows.Controls.ControlTemplate>.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-183">For many scenarios, this is an acceptable solution, because any object that inherits from <xref:System.Windows.FrameworkElement> can be in a <xref:System.Windows.Controls.ControlTemplate>.</span></span> <span data-ttu-id="6c7b3-184">Existují však časy, kdy vzhled ovládacího prvku vyžaduje více než funkce jednoduché element složení.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-184">However, there are times when a control's appearance requires more than the functionality of simple element composition.</span></span> <span data-ttu-id="6c7b3-185">Pro tyto scénáře založenou na komponentu <xref:System.Windows.FrameworkElement> je správnou volbou.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-185">For these scenarios, basing a component on <xref:System.Windows.FrameworkElement> is the right choice.</span></span>  
  
 <span data-ttu-id="6c7b3-186">Existují dvě standardní metody pro vytvoření <xref:System.Windows.FrameworkElement>– na základě komponenty: přímé vykreslení a vlastní element složení.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-186">There are two standard methods for building <xref:System.Windows.FrameworkElement>-based components: direct rendering and custom element composition.</span></span> <span data-ttu-id="6c7b3-187">Přímé vykreslování zahrnuje přepsání <xref:System.Windows.UIElement.OnRender%2A> metodu <xref:System.Windows.FrameworkElement> a poskytování <xref:System.Windows.Media.DrawingContext> operace, které explicitně definujte vizuály součásti.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-187">Direct rendering involves overriding the <xref:System.Windows.UIElement.OnRender%2A> method of <xref:System.Windows.FrameworkElement> and providing <xref:System.Windows.Media.DrawingContext> operations that explicitly define the component visuals.</span></span> <span data-ttu-id="6c7b3-188">Toto je metoda používá <xref:System.Windows.Controls.Image> a <xref:System.Windows.Controls.Border>.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-188">This is the method used by <xref:System.Windows.Controls.Image> and <xref:System.Windows.Controls.Border>.</span></span> <span data-ttu-id="6c7b3-189">Vlastní element složení zahrnuje použití objekty typu <xref:System.Windows.Media.Visual> k vytváření vzhled příslušné součásti.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-189">Custom element composition involves using objects of type <xref:System.Windows.Media.Visual> to compose the appearance of your component.</span></span> <span data-ttu-id="6c7b3-190">Příklad, naleznete v části [pomocí objekty DrawingVisual](../../../../docs/framework/wpf/graphics-multimedia/using-drawingvisual-objects.md).</span><span class="sxs-lookup"><span data-stu-id="6c7b3-190">For an example, see [Using DrawingVisual Objects](../../../../docs/framework/wpf/graphics-multimedia/using-drawingvisual-objects.md).</span></span> <span data-ttu-id="6c7b3-191"><xref:System.Windows.Controls.Primitives.Track>Příklad ovládacího prvku v [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] složení vlastního elementu, který používá.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-191"><xref:System.Windows.Controls.Primitives.Track> is an example of a control in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] that uses custom element composition.</span></span> <span data-ttu-id="6c7b3-192">Je také možné kombinovat přímé vykreslování a vlastní element kompozice ve stejný ovládací prvek.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-192">It is also possible to mix direct rendering and custom element composition in the same control.</span></span>  
  
#### <a name="benefits-of-deriving-from-frameworkelement"></a><span data-ttu-id="6c7b3-193">Výhody odvozování z FrameworkElement</span><span class="sxs-lookup"><span data-stu-id="6c7b3-193">Benefits of Deriving from FrameworkElement</span></span>  
 <span data-ttu-id="6c7b3-194">Vezměte v úvahu odvozování z <xref:System.Windows.FrameworkElement> pokud platí jedna z následujících podmínek:</span><span class="sxs-lookup"><span data-stu-id="6c7b3-194">Consider deriving from <xref:System.Windows.FrameworkElement> if any of the following apply:</span></span>  
  
-   <span data-ttu-id="6c7b3-195">Budete chtít mít přesné ovládat vzhled ovládacího prvku nad rámec stanovený jednoduché element složení.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-195">You want to have precise control over the appearance of your control beyond what is provided by simple element composition.</span></span>  
  
-   <span data-ttu-id="6c7b3-196">Chcete definujte vzhled ovládacího prvku tak, že definujete vlastní vykreslení logiku.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-196">You want to define the appearance of your control by defining your own render logic.</span></span>  
  
-   <span data-ttu-id="6c7b3-197">Chcete-li vytvořit nové způsoby, které překračují co je možné pomocí stávající elementy <xref:System.Windows.Controls.UserControl> a <xref:System.Windows.Controls.Control>.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-197">You want to compose existing elements in novel ways that go beyond what is possible with <xref:System.Windows.Controls.UserControl> and <xref:System.Windows.Controls.Control>.</span></span>  
  
<a name="control_authoring_basics"></a>   
## <a name="control-authoring-basics"></a><span data-ttu-id="6c7b3-198">Základy vytváření ovládacího prvku</span><span class="sxs-lookup"><span data-stu-id="6c7b3-198">Control Authoring Basics</span></span>  
 <span data-ttu-id="6c7b3-199">Jak je popsáno výše, jedním z nejúčinnějších funkce [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] je schopnost nad rámec nastavení základní vlastností ovládacího prvku změnit vzhled a chování, ale stále nebudete muset vytvořit vlastní ovládací prvek.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-199">As discussed earlier, one of the most powerful features of [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] is the ability to go beyond setting basic properties of a control to change its appearance and behavior, yet still not needing to create a custom control.</span></span> <span data-ttu-id="6c7b3-200">Stylů, vazby dat a funkce aktivační události je možné pomocí [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] vlastnost systému a [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] událostí systému.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-200">The styling, data binding, and trigger features are made possible by the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] property system and the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] event system.</span></span> <span data-ttu-id="6c7b3-201">Následující části popisují některé postupy, které byste měli postupovat, bez ohledu na modelu můžete použít k vytvoření vlastního ovládacího prvku tak, aby uživatelé vlastního ovládacího prvku můžete použít tyto funkce, stejně jako ovládacího prvku, který je součástí [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="6c7b3-201">The following sections describe some practices that you should follow, regardless of the model you use to create the custom control, so that users of your custom control can use these features just as they would for a control that is included with [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span></span>  
  
### <a name="use-dependency-properties"></a><span data-ttu-id="6c7b3-202">Pomocí vlastností závislostí</span><span class="sxs-lookup"><span data-stu-id="6c7b3-202">Use Dependency Properties</span></span>  
 <span data-ttu-id="6c7b3-203">Pokud vlastnost vlastnost závislosti, je možné provést následující akce:</span><span class="sxs-lookup"><span data-stu-id="6c7b3-203">When a property is a dependency property, it is possible to do the following:</span></span>  
  
-   <span data-ttu-id="6c7b3-204">Nastavte vlastnost ve stylu.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-204">Set the property in a style.</span></span>  
  
-   <span data-ttu-id="6c7b3-205">Vazby ke zdroji dat vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-205">Bind the property to a data source.</span></span>  
  
-   <span data-ttu-id="6c7b3-206">Použijte dynamické prostředků jako hodnotu vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-206">Use a dynamic resource as the property's value.</span></span>  
  
-   <span data-ttu-id="6c7b3-207">Animace vlastnost.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-207">Animate the property.</span></span>  
  
 <span data-ttu-id="6c7b3-208">Pokud chcete vlastnost ovládacího prvku k podpoře jakýchkoli tuto funkci, měli byste ho implementovat jako vlastnost závislosti.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-208">If you want a property of your control to support any of this functionality, you should implement it as a dependency property.</span></span> <span data-ttu-id="6c7b3-209">V následujícím příkladu definuje závislost vlastnost s názvem `Value` provedením následujících akcí:</span><span class="sxs-lookup"><span data-stu-id="6c7b3-209">The following example defines a dependency property named `Value` by doing the following:</span></span>  
  
-   <span data-ttu-id="6c7b3-210">Definování <xref:System.Windows.DependencyProperty> identifikátor s názvem `ValueProperty` jako `public` `static` `readonly` pole.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-210">Define a <xref:System.Windows.DependencyProperty> identifier named `ValueProperty` as a `public` `static` `readonly` field.</span></span>  
  
-   <span data-ttu-id="6c7b3-211">Registraci název vlastnosti v systému vlastnost voláním <xref:System.Windows.DependencyProperty.Register%2A?displayProperty=nameWithType>, zadat následující:</span><span class="sxs-lookup"><span data-stu-id="6c7b3-211">Register the property name with the property system, by calling <xref:System.Windows.DependencyProperty.Register%2A?displayProperty=nameWithType>, to specify the following:</span></span>  
  
    -   <span data-ttu-id="6c7b3-212">Název vlastnosti</span><span class="sxs-lookup"><span data-stu-id="6c7b3-212">The name of the property.</span></span>  
  
    -   <span data-ttu-id="6c7b3-213">Typ vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-213">The type of the property.</span></span>  
  
    -   <span data-ttu-id="6c7b3-214">Typ, který vlastní vlastnost.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-214">The type that owns the property.</span></span>  
  
    -   <span data-ttu-id="6c7b3-215">Metadata pro vlastnost.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-215">The metadata for the property.</span></span> <span data-ttu-id="6c7b3-216">Metadata obsahuje výchozí hodnotu vlastnosti, <xref:System.Windows.CoerceValueCallback> a <xref:System.Windows.PropertyChangedCallback>.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-216">The metadata contains the property's default value, a <xref:System.Windows.CoerceValueCallback> and a <xref:System.Windows.PropertyChangedCallback>.</span></span>  
  
-   <span data-ttu-id="6c7b3-217">Definování [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] obálku vlastnost s názvem `Value`, což je stejný název, který se použije k registraci vlastnost závislosti implementací vlastnosti `get` a `set` přistupující objekty.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-217">Define a [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] wrapper property named `Value`, which is the same name that is used to register the dependency property, by implementing the property's `get` and `set` accessors.</span></span> <span data-ttu-id="6c7b3-218">Všimněte si, že `get` a `set` přístupové objekty volat pouze <xref:System.Windows.DependencyObject.GetValue%2A> a <xref:System.Windows.DependencyObject.SetValue%2A> v uvedeném pořadí.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-218">Note that the `get` and `set` accessors only call <xref:System.Windows.DependencyObject.GetValue%2A> and <xref:System.Windows.DependencyObject.SetValue%2A> respectively.</span></span> <span data-ttu-id="6c7b3-219">Doporučujeme, aby přístupové objekty vlastností závislostí neobsahuje další logiku navíc vzhledem k tomu, klienty a [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] mohou obejít přístupové objekty a volání <xref:System.Windows.DependencyObject.GetValue%2A> a <xref:System.Windows.DependencyObject.SetValue%2A> přímo.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-219">It is recommended that the accessors of dependency properties not contain additional logic because clients and [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] can bypass the accessors and call <xref:System.Windows.DependencyObject.GetValue%2A> and <xref:System.Windows.DependencyObject.SetValue%2A> directly.</span></span> <span data-ttu-id="6c7b3-220">Například pokud vlastnost je vázán na datové zdroje, vlastnosti `set` přistupujícího objektu není volán.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-220">For example, when a property is bound to a data source, the property's `set` accessor is not called.</span></span>  <span data-ttu-id="6c7b3-221">Nepřidávat další logiku do get a nastavení přístupových objektů, použijte <xref:System.Windows.ValidateValueCallback>, <xref:System.Windows.CoerceValueCallback>, a <xref:System.Windows.PropertyChangedCallback> delegáti reagovat na nebo při změně zkontrolujte hodnotu.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-221">Instead of adding additional logic to the get and set accessors, use the <xref:System.Windows.ValidateValueCallback>, <xref:System.Windows.CoerceValueCallback>, and <xref:System.Windows.PropertyChangedCallback> delegates to respond to or check the value when it changes.</span></span>  <span data-ttu-id="6c7b3-222">Další informace o těchto zpětná volání, najdete v části [závislostí vlastnost zpětná volání a ověření](../../../../docs/framework/wpf/advanced/dependency-property-callbacks-and-validation.md).</span><span class="sxs-lookup"><span data-stu-id="6c7b3-222">For more information on these callbacks, see [Dependency Property Callbacks and Validation](../../../../docs/framework/wpf/advanced/dependency-property-callbacks-and-validation.md).</span></span>  
  
-   <span data-ttu-id="6c7b3-223">Zadejte metodu <xref:System.Windows.CoerceValueCallback> s názvem `CoerceValue`.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-223">Define a method for the <xref:System.Windows.CoerceValueCallback> named `CoerceValue`.</span></span> <span data-ttu-id="6c7b3-224">`CoerceValue`zajišťuje, že `Value` je větší nebo rovna hodnotě `MinValue` a menší než nebo rovno `MaxValue`.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-224">`CoerceValue` ensures that `Value` is greater or equal to `MinValue` and less than or equal to `MaxValue`.</span></span>  
  
-   <span data-ttu-id="6c7b3-225">Zadejte metodu <xref:System.Windows.PropertyChangedCallback>s názvem `OnValueChanged`.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-225">Define a method for the <xref:System.Windows.PropertyChangedCallback>, named `OnValueChanged`.</span></span> <span data-ttu-id="6c7b3-226">`OnValueChanged`vytvoří <xref:System.Windows.RoutedPropertyChangedEventArgs%601> objektu a připraví vyvolat `ValueChanged` směrované události.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-226">`OnValueChanged` creates a <xref:System.Windows.RoutedPropertyChangedEventArgs%601> object and prepares to raise the `ValueChanged` routed event.</span></span> <span data-ttu-id="6c7b3-227">Směrované události jsou popsané v další části.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-227">Routed events are discussed in the next section.</span></span>  
  
 [!code-csharp[UserControlNumericUpDown#DependencyProperty](../../../../samples/snippets/csharp/VS_Snippets_Wpf/UserControlNumericUpDown/CSharp/NumericUpDown.xaml.cs#dependencyproperty)]
 [!code-vb[UserControlNumericUpDown#DependencyProperty](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/UserControlNumericUpDown/visualbasic/numericupdown.xaml.vb#dependencyproperty)]  
  
 <span data-ttu-id="6c7b3-228">Další informace najdete v tématu [vlastní závislosti vlastnosti](../../../../docs/framework/wpf/advanced/custom-dependency-properties.md).</span><span class="sxs-lookup"><span data-stu-id="6c7b3-228">For more information, see [Custom Dependency Properties](../../../../docs/framework/wpf/advanced/custom-dependency-properties.md).</span></span>  
  
### <a name="use-routed-events"></a><span data-ttu-id="6c7b3-229">Použití směrované události</span><span class="sxs-lookup"><span data-stu-id="6c7b3-229">Use Routed Events</span></span>  
 <span data-ttu-id="6c7b3-230">Stejně jako závislost vlastnosti rozšíření představu o [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] vlastnosti s další funkce, směrované události rozšířit představu o standardní [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] události.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-230">Just as dependency properties extend the notion of [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] properties with additional functionality, routed events extend the notion of standard [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] events.</span></span> <span data-ttu-id="6c7b3-231">Když vytvoříte novou [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] ovládací prvek, je také vhodné implementovat událost jako směrované události, protože směrované události podporuje následující chování:</span><span class="sxs-lookup"><span data-stu-id="6c7b3-231">When you create a new [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] control, it is also good practice to implement your event as a routed event because a routed event supports the following behavior:</span></span>  
  
-   <span data-ttu-id="6c7b3-232">Události mohou být zpracovány v nadřazené položky více ovládacích prvků.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-232">Events can be handled on a parent of multiple controls.</span></span> <span data-ttu-id="6c7b3-233">Pokud je událost probublávání událostí, jedné nadřazené ve stromové struktuře element může přihlásit k události.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-233">If an event is a bubbling event, a single parent in the element tree can subscribe to the event.</span></span> <span data-ttu-id="6c7b3-234">Autoři aplikace pak můžete použít jednu obslužnou rutinu reagovat na událost více ovládacích prvků.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-234">Then application authors can use one handler to respond to the event of multiple controls.</span></span> <span data-ttu-id="6c7b3-235">Například, pokud vlastní ovládací prvek je součástí každou položku v <xref:System.Windows.Controls.ListBox> (protože je součástí <xref:System.Windows.DataTemplate>), vývojáři aplikace můžete definovat obslužné rutiny události pro události ovládacího prvku na <xref:System.Windows.Controls.ListBox>.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-235">For example, if your control is a part of each item in a <xref:System.Windows.Controls.ListBox> (because it is included in a <xref:System.Windows.DataTemplate>), the application developer can define the event handler for your control's event on the <xref:System.Windows.Controls.ListBox>.</span></span> <span data-ttu-id="6c7b3-236">Vždy, když dojde k události na žádném z ovládacích prvků, se nazývá obslužné rutiny události.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-236">Whenever the event occurs on any of the controls, the event handler is called.</span></span>  
  
-   <span data-ttu-id="6c7b3-237">Směrované události mohou být používány <xref:System.Windows.EventSetter>, což umožňuje vývojáři aplikace k určení obslužná rutina události v rámci styl.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-237">Routed events can be used in an <xref:System.Windows.EventSetter>, which enables application developers to specify the handler of an event within a style.</span></span>  
  
-   <span data-ttu-id="6c7b3-238">Směrované události mohou být používány <xref:System.Windows.EventTrigger>, což je užitečné pro animace vlastnosti pomocí [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span><span class="sxs-lookup"><span data-stu-id="6c7b3-238">Routed events can be used in an <xref:System.Windows.EventTrigger>, which is useful for animating properties by using [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span></span> <span data-ttu-id="6c7b3-239">Další informace najdete v tématu [animace přehled](../../../../docs/framework/wpf/graphics-multimedia/animation-overview.md).</span><span class="sxs-lookup"><span data-stu-id="6c7b3-239">For more information, see [Animation Overview](../../../../docs/framework/wpf/graphics-multimedia/animation-overview.md).</span></span>  
  
 <span data-ttu-id="6c7b3-240">V následujícím příkladu definuje směrované události následujícím způsobem:</span><span class="sxs-lookup"><span data-stu-id="6c7b3-240">The following example defines a routed event by doing the following:</span></span>  
  
-   <span data-ttu-id="6c7b3-241">Definování <xref:System.Windows.RoutedEvent> identifikátor s názvem `ValueChangedEvent` jako `public` `static` `readonly` pole.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-241">Define a <xref:System.Windows.RoutedEvent> identifier named `ValueChangedEvent` as a `public` `static` `readonly` field.</span></span>  
  
-   <span data-ttu-id="6c7b3-242">Zaregistrovat směrované události voláním <xref:System.Windows.EventManager.RegisterRoutedEvent%2A?displayProperty=nameWithType> metoda.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-242">Register the routed event by calling the <xref:System.Windows.EventManager.RegisterRoutedEvent%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="6c7b3-243">V příkladu určuje následující informace, když volá <xref:System.Windows.EventManager.RegisterRoutedEvent%2A>:</span><span class="sxs-lookup"><span data-stu-id="6c7b3-243">The example specifies the following information when it calls <xref:System.Windows.EventManager.RegisterRoutedEvent%2A>:</span></span>  
  
    -   <span data-ttu-id="6c7b3-244">Název události je `ValueChanged`.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-244">The name of the event is `ValueChanged`.</span></span>  
  
    -   <span data-ttu-id="6c7b3-245">Strategie směrování je <xref:System.Windows.RoutingStrategy.Bubble>, což znamená, že obslužné rutiny události ve zdroji (objekt, který vyvolává událost) jako první, a poté jsou volány obslužné rutiny událostí na zdroji na nadřazené elementy po sobě, počínaje obslužné rutiny události na nejbližší Nadřazený element.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-245">The routing strategy is <xref:System.Windows.RoutingStrategy.Bubble>, which means that an event handler on the source (the object that raises the event) is called first, and then event handlers on the source's parent elements are called in succession, starting with the event handler on the closest parent element.</span></span>  
  
    -   <span data-ttu-id="6c7b3-246">Typ obslužné rutiny události je <xref:System.Windows.RoutedPropertyChangedEventHandler%601>, sestavené s <xref:System.Decimal> typu.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-246">The type of the event handler is <xref:System.Windows.RoutedPropertyChangedEventHandler%601>, constructed with a <xref:System.Decimal> type.</span></span>  
  
    -   <span data-ttu-id="6c7b3-247">Typ vlastnícím události je `NumericUpDown`.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-247">The owning type of the event is `NumericUpDown`.</span></span>  
  
-   <span data-ttu-id="6c7b3-248">Veřejná událost s názvem deklarovat `ValueChanged` i deklarace přístupového objektu události.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-248">Declare a public event named `ValueChanged` and includes event-accessor declarations.</span></span> <span data-ttu-id="6c7b3-249">Příklad volání <xref:System.Windows.UIElement.AddHandler%2A> v `add` deklarace přistupujícího objektu a <xref:System.Windows.UIElement.RemoveHandler%2A> v `remove` deklarace přistupujícího objektu používat [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] událostí služby.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-249">The example calls <xref:System.Windows.UIElement.AddHandler%2A> in the `add` accessor declaration and <xref:System.Windows.UIElement.RemoveHandler%2A> in the `remove` accessor declaration to use the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] event services.</span></span>  
  
-   <span data-ttu-id="6c7b3-250">Vytvoření chráněného, virtuální metody s názvem `OnValueChanged` , vyvolá `ValueChanged` událostí.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-250">Create a protected, virtual method named `OnValueChanged` that raises the `ValueChanged` event.</span></span>  
  
 [!code-csharp[UserControlNumericUpDown#RoutedEvent](../../../../samples/snippets/csharp/VS_Snippets_Wpf/UserControlNumericUpDown/CSharp/NumericUpDown.xaml.cs#routedevent)]
 [!code-vb[UserControlNumericUpDown#RoutedEvent](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/UserControlNumericUpDown/visualbasic/numericupdown.xaml.vb#routedevent)]  
  
 <span data-ttu-id="6c7b3-251">Další informace najdete v tématu [směrovány Přehled událostí](../../../../docs/framework/wpf/advanced/routed-events-overview.md) a [vytvoření vlastní směrované události](../../../../docs/framework/wpf/advanced/how-to-create-a-custom-routed-event.md).</span><span class="sxs-lookup"><span data-stu-id="6c7b3-251">For more information, see [Routed Events Overview](../../../../docs/framework/wpf/advanced/routed-events-overview.md) and [Create a Custom Routed Event](../../../../docs/framework/wpf/advanced/how-to-create-a-custom-routed-event.md).</span></span>  
  
### <a name="use-binding"></a><span data-ttu-id="6c7b3-252">Vazbu používají</span><span class="sxs-lookup"><span data-stu-id="6c7b3-252">Use Binding</span></span>  
 <span data-ttu-id="6c7b3-253">Chcete-li oddělit rozhraní ovládacího prvku z svou logikou, zvažte použití datových vazeb.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-253">To decouple the UI of your control from its logic, consider using data binding.</span></span> <span data-ttu-id="6c7b3-254">To je zvlášť důležité, pokud definujte vzhled ovládacího prvku pomocí <xref:System.Windows.Controls.ControlTemplate>.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-254">This is particularly important if you define the appearance of your control by using a <xref:System.Windows.Controls.ControlTemplate>.</span></span> <span data-ttu-id="6c7b3-255">Použijete-li datová vazba, je možné k vyloučení potřeby tak, aby odkazovaly konkrétní části uživatelského rozhraní z kódu.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-255">When you use data binding, you might be able to eliminate the need to reference specific parts of the UI from the code.</span></span> <span data-ttu-id="6c7b3-256">Je vhodné, aby se zabránilo odkazy na elementy, které jsou v <xref:System.Windows.Controls.ControlTemplate> vzhledem k tomu, že když kód odkazuje prvky, které jsou v <xref:System.Windows.Controls.ControlTemplate> a <xref:System.Windows.Controls.ControlTemplate> změnil, je odkazovaný element mají být zahrnuty v novém <xref:System.Windows.Controls.ControlTemplate>.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-256">It's a good idea to avoid referencing elements that are in the <xref:System.Windows.Controls.ControlTemplate> because when the code references elements that are in the <xref:System.Windows.Controls.ControlTemplate> and the <xref:System.Windows.Controls.ControlTemplate> is changed, the referenced element needs to be included in the new <xref:System.Windows.Controls.ControlTemplate>.</span></span>  
  
 <span data-ttu-id="6c7b3-257">Následující příklad aktualizace <xref:System.Windows.Controls.TextBlock> z `NumericUpDown` řízení, název přiřazení k němu a odkazování na textové pole podle názvu v kódu.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-257">The following example updates the <xref:System.Windows.Controls.TextBlock> of the `NumericUpDown` control, assigning a name to it and referencing the textbox by name in code.</span></span>  
  
 [!code-xaml[UserControlNumericUpDownSimple#UIRefMarkup](../../../../samples/snippets/csharp/VS_Snippets_Wpf/UserControlNumericUpDownSimple/CSharp/NumericUpDown.xaml#uirefmarkup)]  
  
 [!code-csharp[UserControlNumericUpDownSimple#UIRefCode](../../../../samples/snippets/csharp/VS_Snippets_Wpf/UserControlNumericUpDownSimple/CSharp/NumericUpDown.xaml.cs#uirefcode)]
 [!code-vb[UserControlNumericUpDownSimple#UIRefCode](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/UserControlNumericUpDownSimple/VisualBasic/NumericUpDown.xaml.vb#uirefcode)]  
  
 <span data-ttu-id="6c7b3-258">Následující příklad používá k provádění samé vazby.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-258">The following example uses binding to accomplish the same thing.</span></span>  
  
 [!code-xaml[UserControlNumericUpDown#Binding](../../../../samples/snippets/csharp/VS_Snippets_Wpf/UserControlNumericUpDown/CSharp/NumericUpDown.xaml#binding)]  
  
 <span data-ttu-id="6c7b3-259">Další informace o vazbě dat najdete v tématu [přehled vazby dat](../../../../docs/framework/wpf/data/data-binding-overview.md).</span><span class="sxs-lookup"><span data-stu-id="6c7b3-259">For more information about data binding, see [Data Binding Overview](../../../../docs/framework/wpf/data/data-binding-overview.md).</span></span>  
  
### <a name="design-for-designers"></a><span data-ttu-id="6c7b3-260">Návrh pro návrháře</span><span class="sxs-lookup"><span data-stu-id="6c7b3-260">Design for Designers</span></span>  
 <span data-ttu-id="6c7b3-261">Pokud chcete získat podporu pro vlastní ovládacích prvků WPF v [!INCLUDE[wpfdesigner_current_long](../../../../includes/wpfdesigner-current-long-md.md)] (například v okně Vlastnosti pro úpravy vlastností), postupujte podle následujících pokynů.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-261">To receive support for custom WPF controls in the [!INCLUDE[wpfdesigner_current_long](../../../../includes/wpfdesigner-current-long-md.md)] (for example, property editing with the Properties window), follow these guidelines.</span></span>  <span data-ttu-id="6c7b3-262">Další informace o vývoji pro [!INCLUDE[wpfdesigner_current_short](../../../../includes/wpfdesigner-current-short-md.md)], najdete v části [WPF Designer](http://msdn.microsoft.com/en-us/c6c65214-8411-4e16-b254-163ed4099c26).</span><span class="sxs-lookup"><span data-stu-id="6c7b3-262">For more information on developing for the [!INCLUDE[wpfdesigner_current_short](../../../../includes/wpfdesigner-current-short-md.md)], see [WPF Designer](http://msdn.microsoft.com/en-us/c6c65214-8411-4e16-b254-163ed4099c26).</span></span>  
  
#### <a name="dependency-properties"></a><span data-ttu-id="6c7b3-263">Vlastnosti závislosti</span><span class="sxs-lookup"><span data-stu-id="6c7b3-263">Dependency Properties</span></span>  
 <span data-ttu-id="6c7b3-264">Je nutné implementovat [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] `get` a `set` přístupových objektů, jak je popsáno dříve, v "Použití závislostí vlastnosti."</span><span class="sxs-lookup"><span data-stu-id="6c7b3-264">Be sure to implement [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] `get` and `set` accessors as described earlier, in "Use Dependency Properties."</span></span> <span data-ttu-id="6c7b3-265">Návrháři mohou používat obálku pro zjištění přítomnosti vlastnost závislosti, ale jejich, jako je třeba [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] a klienti ovládacího prvku, není nutné volat přístupové objekty při získání nebo nastavení vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-265">Designers may use the wrapper to detect the presence of a dependency property, but they, like [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] and clients of the control, are not required to call the accessors when getting or setting the property.</span></span>  
  
#### <a name="attached-properties"></a><span data-ttu-id="6c7b3-266">Přidružené vlastnosti</span><span class="sxs-lookup"><span data-stu-id="6c7b3-266">Attached Properties</span></span>  
 <span data-ttu-id="6c7b3-267">Měli byste implementovat přidružené vlastnosti na vlastní ovládací prvky pomocí následujících pokynů:</span><span class="sxs-lookup"><span data-stu-id="6c7b3-267">You should implement attached properties on custom controls using the following guidelines:</span></span>  
  
-   <span data-ttu-id="6c7b3-268">Mít `public` `static` `readonly` <xref:System.Windows.DependencyProperty> formuláře *PropertyName* `Property` , byl vytváření s použitím <xref:System.Windows.DependencyProperty.RegisterAttached%2A> metoda.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-268">Have a `public` `static` `readonly` <xref:System.Windows.DependencyProperty> of the form *PropertyName*`Property` that was creating using the <xref:System.Windows.DependencyProperty.RegisterAttached%2A> method.</span></span> <span data-ttu-id="6c7b3-269">Název vlastnosti, který je předán <xref:System.Windows.DependencyProperty.RegisterAttached%2A> musí odpovídat *PropertyName*.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-269">The property name that is passed to <xref:System.Windows.DependencyProperty.RegisterAttached%2A> must match *PropertyName*.</span></span>  
  
-   <span data-ttu-id="6c7b3-270">Implementovat pár `public` `static` metod modulu CLR s názvem `Set` *PropertyName* a `Get` *PropertyName*.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-270">Implement a pair of `public` `static` CLR methods named `Set`*PropertyName* and `Get`*PropertyName*.</span></span> <span data-ttu-id="6c7b3-271">Obě metody by měla přijímat třídy odvozené od <xref:System.Windows.DependencyProperty> jako jejich první argument.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-271">Both methods should accept a class derived from <xref:System.Windows.DependencyProperty> as their first argument.</span></span> <span data-ttu-id="6c7b3-272">`Set` *PropertyName* metoda přijímá také argument jehož typ odpovídá registrované datového typu pro vlastnost.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-272">The `Set`*PropertyName* method also accepts an argument whose type matches the registered data type for the property.</span></span> <span data-ttu-id="6c7b3-273">`Get` *PropertyName* metoda by měla vrátit hodnotu stejného typu.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-273">The `Get`*PropertyName* method should return a value of the same type.</span></span> <span data-ttu-id="6c7b3-274">Pokud `Set` *PropertyName* chybí metoda, vlastnost je označen jen pro čtení.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-274">If the `Set`*PropertyName* method is missing, the property is marked read-only.</span></span>  
  
-   <span data-ttu-id="6c7b3-275">`Set`*PropertyName* a `Get` *PropertyName* musí směrovat přímo na <xref:System.Windows.DependencyObject.GetValue%2A> a <xref:System.Windows.DependencyObject.SetValue%2A> metody na závislost cílového objektu.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-275">`Set` *PropertyName* and `Get`*PropertyName* must route directly to the <xref:System.Windows.DependencyObject.GetValue%2A> and <xref:System.Windows.DependencyObject.SetValue%2A> methods on the target dependency object, respectively.</span></span> <span data-ttu-id="6c7b3-276">Návrháři může přístup připojená vlastnost voláním prostřednictvím obálku metoda nebo vytvořit přímé volání na objekt cíle závislostí.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-276">Designers may access the attached property by calling through the method wrapper or making a direct call to the target dependency object.</span></span>  
  
 <span data-ttu-id="6c7b3-277">Další informace o přidružené vlastnosti najdete v tématu [připojen přehled vlastností](../../../../docs/framework/wpf/advanced/attached-properties-overview.md).</span><span class="sxs-lookup"><span data-stu-id="6c7b3-277">For more information on attached properties, see [Attached Properties Overview](../../../../docs/framework/wpf/advanced/attached-properties-overview.md).</span></span>  
  
### <a name="define-and-use-shared-resources"></a><span data-ttu-id="6c7b3-278">Definice a používání sdílených prostředků</span><span class="sxs-lookup"><span data-stu-id="6c7b3-278">Define and Use Shared Resources</span></span>  
 <span data-ttu-id="6c7b3-279">Můžete zahrnout vlastního ovládacího prvku ve stejném sestavení jako aplikace, nebo můžete balíček ovládacího prvku v samostatné sestavení, které mohou být používány více aplikací.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-279">You can include your control in the same assembly as your application, or you can package your control in a separate assembly that can be used in multiple applications.</span></span> <span data-ttu-id="6c7b3-280">Ve většině případů informace popsané v tomto tématu platí bez ohledu na metodu, kterou používáte.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-280">For the most part, the information discussed in this topic applies regardless of the method you use.</span></span>  <span data-ttu-id="6c7b3-281">Ale je potřeba poznamenat, jeden rozdíl.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-281">There is one difference worth noting, however.</span></span>  <span data-ttu-id="6c7b3-282">Po vložení ovládacího prvku ve stejném sestavení jako aplikace, jste volné globální prostředky přidejte do souboru App.xaml.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-282">When you put a control in the same assembly as an application, you are free to add global resources to the App.xaml file.</span></span> <span data-ttu-id="6c7b3-283">Ale sestavení, které obsahuje pouze ovládací prvky nemá <xref:System.Windows.Application> objekt přidružený, takže soubor App.xaml není k dispozici.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-283">But an assembly that contains only controls does not have an <xref:System.Windows.Application> object associated with it, so an App.xaml file is not available.</span></span>  
  
 <span data-ttu-id="6c7b3-284">Aplikace vyhledá prostředku, vypadá na třech úrovních v následujícím pořadí:</span><span class="sxs-lookup"><span data-stu-id="6c7b3-284">When an application looks for a resource, it looks at three levels in the following order:</span></span>  
  
1.  <span data-ttu-id="6c7b3-285">Element úroveň.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-285">The element level.</span></span>  
  
     <span data-ttu-id="6c7b3-286">Systém začíná elementu, který odkazuje na prostředek a pak prohledá prostředky logické nadřazené a tak dále, dokud nebude dosaženo kořenový element.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-286">The system starts with the element that references the resource and then searches resources of the logical parent and so forth until the root element is reached.</span></span>  
  
2.  <span data-ttu-id="6c7b3-287">Na úrovni aplikace.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-287">The application level.</span></span>  
  
     <span data-ttu-id="6c7b3-288">Prostředky, které jsou definované <xref:System.Windows.Application> objektu.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-288">Resources defined by the <xref:System.Windows.Application> object.</span></span>  
  
3.  <span data-ttu-id="6c7b3-289">Úroveň motivu.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-289">The theme level.</span></span>  
  
     <span data-ttu-id="6c7b3-290">Motiv úrovni slovníky jsou uloženy v podsložce s názvem motivů.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-290">Theme-level dictionaries are stored in a subfolder named Themes.</span></span>  <span data-ttu-id="6c7b3-291">Soubory ve složce motivy odpovídají motivů.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-291">The files in the Themes folder correspond to themes.</span></span>  <span data-ttu-id="6c7b3-292">Například můžete mít Aero.NormalColor.xaml, Luna.NormalColor.xaml, Royale.NormalColor.xaml a tak dále.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-292">For example, you might have Aero.NormalColor.xaml, Luna.NormalColor.xaml, Royale.NormalColor.xaml, and so on.</span></span>  <span data-ttu-id="6c7b3-293">Můžete taky nechat soubor s názvem generic.xaml.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-293">You can also have a file named generic.xaml.</span></span>  <span data-ttu-id="6c7b3-294">Když systém hledá prostředek na úrovni motivy, nejprve hledá ho v souboru specifické pro motiv a pak ho bude hledat v generic.xaml.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-294">When the system looks for a resource at the themes level, it first looks for it in the theme-specific file and then looks for it in generic.xaml.</span></span>  
  
 <span data-ttu-id="6c7b3-295">Pokud je vaše řízení v sestavení, které jsou oddělené od aplikace, musíte umístit globální prostředky na úrovni element nebo na úrovni motivu.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-295">When your control is in an assembly that is separate from the application, you must put your global resources at the element level or at the theme level.</span></span> <span data-ttu-id="6c7b3-296">Obě metody mají své výhody.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-296">Both methods have their advantages.</span></span>  
  
#### <a name="defining-resources-at-the-element-level"></a><span data-ttu-id="6c7b3-297">Definování zdroje na úrovni – Element</span><span class="sxs-lookup"><span data-stu-id="6c7b3-297">Defining Resources at the Element Level</span></span>  
 <span data-ttu-id="6c7b3-298">Sdílené prostředky na úrovni element můžete definovat vytvořením slovník vlastní prostředek a slučování s slovník prostředků ovládacího prvku.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-298">You can define shared resources at the element level by creating a custom resource dictionary and merging it with your control’s resource dictionary.</span></span>  <span data-ttu-id="6c7b3-299">Pokud použijete tuto metodu, zadáte název souboru prostředků, který nic, co chcete a může být ve stejné složce jako vaše ovládací prvky.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-299">When you use this method, you can name your resource file anything you want, and it can be in the same folder as your controls.</span></span> <span data-ttu-id="6c7b3-300">Jednoduché řetězce prostředků na úrovni element můžete také použít jako klíče.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-300">Resources at the element level can also use simple strings as keys.</span></span> <span data-ttu-id="6c7b3-301">Následující příklad vytvoří <xref:System.Windows.Media.LinearGradientBrush> zdrojový soubor s názvem Dictionary1.xaml.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-301">The following example creates a <xref:System.Windows.Media.LinearGradientBrush> resource file named Dictionary1.xaml.</span></span>  
  
 [!code-xaml[SharedResources#1](../../../../samples/snippets/csharp/VS_Snippets_Wpf/SharedResources/CS/Dictionary1.xaml#1)]  
  
 <span data-ttu-id="6c7b3-302">Jakmile definujete slovníku, budete muset sloučit s slovník prostředků ovládacího prvku.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-302">Once you have defined your dictionary, you need to merge it with your control's resource dictionary.</span></span>  <span data-ttu-id="6c7b3-303">Můžete to provést pomocí [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] nebo kódu.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-303">You can do this by using [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] or code.</span></span>  
  
 <span data-ttu-id="6c7b3-304">Následující příklad sloučí slovník prostředků, a pomocí [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span><span class="sxs-lookup"><span data-stu-id="6c7b3-304">The following example merges a resource dictionary by using [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span></span>  
  
 [!code-xaml[SharedResources#2](../../../../samples/snippets/csharp/VS_Snippets_Wpf/SharedResources/CS/ShapeResizer.xaml#2)]  
  
 <span data-ttu-id="6c7b3-305">Nevýhodou tohoto přístupu je, že <xref:System.Windows.ResourceDictionary> objekt se vytvoří pokaždé, když můžete na něj odkazovat.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-305">The disadvantage to this approach is that a <xref:System.Windows.ResourceDictionary> object is created each time you reference it.</span></span>  <span data-ttu-id="6c7b3-306">Například pokud máte 10 vlastní ovládací prvky v knihovně a sloučení slovnících sdílených prostředků pro každý ovládací prvek s použitím jazyka XAML, můžete vytvořit 10 identické <xref:System.Windows.ResourceDictionary> objekty.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-306">For example, if you have 10 custom controls in your library and merge the shared resource dictionaries for each control by using XAML, you create 10 identical <xref:System.Windows.ResourceDictionary> objects.</span></span>  <span data-ttu-id="6c7b3-307">To se můžete vyhnout tak, že vytvoříte statické třídu, která sloučí prostředky v kódu a vrátí výsledný <xref:System.Windows.ResourceDictionary>.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-307">You can avoid this by creating a static class that merges the resources in code and returns the resulting <xref:System.Windows.ResourceDictionary>.</span></span>  
  
 <span data-ttu-id="6c7b3-308">Následující příklad vytvoří třídu, která vrátí sdílenou <xref:System.Windows.ResourceDictionary>.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-308">The following example creates a class that returns a shared <xref:System.Windows.ResourceDictionary>.</span></span>  
  
 [!code-csharp[SharedResources#3](../../../../samples/snippets/csharp/VS_Snippets_Wpf/SharedResources/CS/SharedDictionaryManager.cs#3)]  
  
 <span data-ttu-id="6c7b3-309">Následující příklad sloučí sdílený prostředek s prostředky vlastního ovládacího prvku v konstruktoru ovládacího prvku zavolá `InitializeComponent`.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-309">The following example merges the shared resource with the resources of a custom control in the control's constructor before it calls `InitializeComponent`.</span></span>  <span data-ttu-id="6c7b3-310">Protože `SharedDictionaryManager.SharedDictionary` je pomocí statické vlastnosti, <xref:System.Windows.ResourceDictionary> je vytvořen pouze jednou.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-310">Because the `SharedDictionaryManager.SharedDictionary` is a static property, the <xref:System.Windows.ResourceDictionary> is created only once.</span></span> <span data-ttu-id="6c7b3-311">Protože slovníku prostředku byl sloučit před `InitializeComponent` byla volána, prostředky jsou k dispozici do ovládacího prvku v jeho [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] souboru.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-311">Because the resource dictionary was merged before `InitializeComponent` was called, the resources are available to the control in its [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file.</span></span>  
  
 [!code-csharp[SharedResources#4](../../../../samples/snippets/csharp/VS_Snippets_Wpf/SharedResources/CS/ShapeResizer.xaml.cs#4)]  
  
#### <a name="defining-resources-at-the-theme-level"></a><span data-ttu-id="6c7b3-312">Definování zdroje na úrovni motiv</span><span class="sxs-lookup"><span data-stu-id="6c7b3-312">Defining Resources at the Theme Level</span></span>  
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]<span data-ttu-id="6c7b3-313">Umožňuje vytvořit prostředky pro různé motivy systému Windows.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-313"> enables you to create resources for different Windows themes.</span></span>  <span data-ttu-id="6c7b3-314">Jako autor řízení můžete definovat prostředků pro konkrétní motiv Změna vzhledu ovládacího prvku v závislosti na tom, jaký motiv se používá.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-314">As a control author, you can define a resource for a specific theme to change your control's appearance depending on what theme is in use.</span></span> <span data-ttu-id="6c7b3-315">Například vzhled <xref:System.Windows.Controls.Button> na portálu Classic Windows motiv (výchozí motiv pro systém Windows 2000) se liší od <xref:System.Windows.Controls.Button> v motivu vzhled Luna systému Windows (výchozí motiv pro systém Windows XP) protože <xref:System.Windows.Controls.Button> používá jiné <xref:System.Windows.Controls.ControlTemplate> pro každý motiv.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-315">For example, the appearance of a <xref:System.Windows.Controls.Button> in the Windows Classic theme (the default theme for Windows 2000) differs from a <xref:System.Windows.Controls.Button> in the Windows Luna theme (the default theme for Windows XP) because the <xref:System.Windows.Controls.Button> uses a different <xref:System.Windows.Controls.ControlTemplate> for each theme.</span></span>  
  
 <span data-ttu-id="6c7b3-316">Prostředky, které jsou specifické pro motiv udržovaly v slovník prostředků s určitým názvem souboru.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-316">Resources that are specific to a theme are kept in a resource dictionary with a specific file name.</span></span> <span data-ttu-id="6c7b3-317">Tyto soubory musí být ve složce s názvem `Themes` který je podsložkou složky, která obsahuje ovládací prvek.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-317">These files must be in a folder named `Themes` that is a subfolder of the folder that contains the control.</span></span> <span data-ttu-id="6c7b3-318">Následující tabulka uvádí soubory slovník prostředků a motivu, který je přidružen každého souboru:</span><span class="sxs-lookup"><span data-stu-id="6c7b3-318">The following table lists the resource dictionary files and the theme that is associated with each file:</span></span>  
  
|<span data-ttu-id="6c7b3-319">Název souboru slovníku prostředku</span><span class="sxs-lookup"><span data-stu-id="6c7b3-319">Resource dictionary file name</span></span>|<span data-ttu-id="6c7b3-320">Motiv systému Windows</span><span class="sxs-lookup"><span data-stu-id="6c7b3-320">Windows theme</span></span>|  
|-----------------------------------|-------------------|  
|`Classic.xaml`|<span data-ttu-id="6c7b3-321">Classic systém Windows 9 x / 2000 podívejte se na systému Windows XP</span><span class="sxs-lookup"><span data-stu-id="6c7b3-321">Classic Windows 9x/2000 look on Windows XP</span></span>|  
|`Luna.NormalColor.xaml`|<span data-ttu-id="6c7b3-322">Výchozí blue motiv na systému Windows XP</span><span class="sxs-lookup"><span data-stu-id="6c7b3-322">Default blue theme on Windows XP</span></span>|  
|`Luna.Homestead.xaml`|<span data-ttu-id="6c7b3-323">Olivového motiv na systému Windows XP</span><span class="sxs-lookup"><span data-stu-id="6c7b3-323">Olive theme on Windows XP</span></span>|  
|`Luna.Metallic.xaml`|<span data-ttu-id="6c7b3-324">Stříbrná motiv na systému Windows XP</span><span class="sxs-lookup"><span data-stu-id="6c7b3-324">Silver theme on Windows XP</span></span>|  
|`Royale.NormalColor.xaml`|<span data-ttu-id="6c7b3-325">Výchozí motiv na systém Windows Media Center</span><span class="sxs-lookup"><span data-stu-id="6c7b3-325">Default theme on Windows XP Media Center Edition</span></span>|  
|`Aero.NormalColor.xaml`|<span data-ttu-id="6c7b3-326">Výchozí motiv v systému Windows Vista</span><span class="sxs-lookup"><span data-stu-id="6c7b3-326">Default theme on Windows Vista</span></span>|  
  
 <span data-ttu-id="6c7b3-327">Není nutné definovat prostředku pro každý motiv.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-327">You do not need to define a resource for every theme.</span></span> <span data-ttu-id="6c7b3-328">Pokud pro konkrétní motiv není definován prostředek, pak ovládací prvek kontroluje `Classic.xaml` pro prostředek.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-328">If a resource is not defined for a specific theme, then the control checks `Classic.xaml` for the resource.</span></span> <span data-ttu-id="6c7b3-329">Pokud prostředek není definován v souboru, který odpovídá aktuálního motivu nebo v `Classic.xaml`, ovládacího prvku používá obecný prostředek, který se v souboru slovníku prostředků s názvem `generic.xaml`.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-329">If the resource is not defined in the file that corresponds to the current theme or in `Classic.xaml`, the control uses the generic resource, which is in a resource dictionary file named `generic.xaml`.</span></span>  <span data-ttu-id="6c7b3-330">`generic.xaml` Soubor je umístěný ve stejné složce jako soubory slovník prostředků specifické pro motiv.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-330">The `generic.xaml` file is located in the same folder as the theme-specific resource dictionary files.</span></span> <span data-ttu-id="6c7b3-331">I když `generic.xaml` neodpovídá na konkrétní motiv systému Windows, je stále slovník úrovni motivu.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-331">Although `generic.xaml` does not correspond to a specific Windows theme, it is still a theme-level dictionary.</span></span>  
  
 <span data-ttu-id="6c7b3-332">[NumericUpDown – ovládací prvek vlastní motiv a ukázkové podpora automatizace uživatelského rozhraní](http://go.microsoft.com/fwlink/?LinkID=160025) obsahuje dvě slovnících prostředků pro `NumericUpDown` ovládacího prvku: jeden je v generic.xaml a jeden v Luna.NormalColor.xaml.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-332">[NumericUpDown Custom Control with Theme and UI Automation Support Sample](http://go.microsoft.com/fwlink/?LinkID=160025) contains two resource dictionaries for the `NumericUpDown` control: one is in generic.xaml and one is in Luna.NormalColor.xaml.</span></span>  <span data-ttu-id="6c7b3-333">Můžete spustit aplikace a přepínat mezi stříbrným motiv v systému Windows XP a jiné motiv zobrazíte rozdílu mezi šablonami dvě ovládacího prvku.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-333">You can run the application and switch between the Silver theme in Windows XP and another theme to see the difference between the two control templates.</span></span> <span data-ttu-id="6c7b3-334">(Pokud používáte systém Windows Vista, můžete přejmenovat Luna.NormalColor.xaml Aero.NormalColor.xaml a přepínat mezi dvěma motivy, jako jsou klasické a výchozí motiv pro systém Windows Vista.)</span><span class="sxs-lookup"><span data-stu-id="6c7b3-334">(If you are running Windows Vista, you can rename Luna.NormalColor.xaml to Aero.NormalColor.xaml and switch between two themes, such as Windows Classic and the default theme for Windows Vista.)</span></span>  
  
 <span data-ttu-id="6c7b3-335">Když vložíte <xref:System.Windows.Controls.ControlTemplate> v některém z soubory slovník specifické pro motiv prostředků, musíte vytvořit statického konstruktoru pro řízení a volání <xref:System.Windows.DependencyProperty.OverrideMetadata%28System.Type%2CSystem.Windows.PropertyMetadata%29> metodu <xref:System.Windows.FrameworkElement.DefaultStyleKey%2A>, jak je znázorněno v následujícím příkladu.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-335">When you put a <xref:System.Windows.Controls.ControlTemplate> in any of the theme-specific resource dictionary files, you must create a static constructor for your control and call the <xref:System.Windows.DependencyProperty.OverrideMetadata%28System.Type%2CSystem.Windows.PropertyMetadata%29> method on the <xref:System.Windows.FrameworkElement.DefaultStyleKey%2A>, as shown in the following example.</span></span>  
  
 [!code-csharp[CustomControlNumericUpDownOneProject#StaticConstructor](../../../../samples/snippets/csharp/VS_Snippets_Wpf/CustomControlNumericUpDownOneProject/CSharp/NumericUpDown.cs#staticconstructor)]
 [!code-vb[CustomControlNumericUpDownOneProject#StaticConstructor](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/CustomControlNumericUpDownOneProject/visualbasic/numericupdown.vb#staticconstructor)]  
  
##### <a name="defining-and-referencing-keys-for-theme-resources"></a><span data-ttu-id="6c7b3-336">Definování a odkazování na klíče pro motiv prostředky</span><span class="sxs-lookup"><span data-stu-id="6c7b3-336">Defining and Referencing Keys for Theme Resources</span></span>  
 <span data-ttu-id="6c7b3-337">Když definujete prostředek na úrovni element, můžete přiřadit řetězec jako svůj klíč a přístup k prostředku prostřednictvím řetězec.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-337">When you define a resource at the element level, you can assign a string as its key and access the resource via the string.</span></span> <span data-ttu-id="6c7b3-338">Když definujete prostředek na úrovni motiv, je nutné použít <xref:System.Windows.ComponentResourceKey> jako klíč.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-338">When you define a resource at the theme level, you must use a <xref:System.Windows.ComponentResourceKey> as the key.</span></span>  <span data-ttu-id="6c7b3-339">V následujícím příkladu definuje generic.xaml prostředku.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-339">The following example defines a resource in generic.xaml.</span></span>  
  
 [!code-xaml[ThemeResourcesControlLibrary#5](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ThemeResourcesControlLibrary/CS/Themes/generic.xaml#5)]  
  
 <span data-ttu-id="6c7b3-340">V následujícím příkladu odkazuje prostředek zadáním <xref:System.Windows.ComponentResourceKey> jako klíč.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-340">The following example references the resource by specifying the <xref:System.Windows.ComponentResourceKey> as the key.</span></span>  
  
 [!code-xaml[ThemeResourcesControlLibrary#6](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ThemeResourcesControlLibrary/CS/NumericUpDown.xaml#6)]  
  
##### <a name="specifying-the-location-of-theme-resources"></a><span data-ttu-id="6c7b3-341">Určení umístění prostředků motiv</span><span class="sxs-lookup"><span data-stu-id="6c7b3-341">Specifying the Location of Theme Resources</span></span>  
 <span data-ttu-id="6c7b3-342">Najít prostředky pro ovládací prvek, hostování aplikace musí vědět, že sestavení obsahuje prostředky pro konkrétní ovládací prvek.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-342">To find the resources for a control, the hosting application needs to know that the assembly contains control-specific resources.</span></span> <span data-ttu-id="6c7b3-343">Můžete provést přidáním <xref:System.Windows.ThemeInfoAttribute> na sestavení, které obsahuje ovládací prvek.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-343">You can accomplish that by adding the <xref:System.Windows.ThemeInfoAttribute> to the assembly that contains the control.</span></span> <span data-ttu-id="6c7b3-344"><xref:System.Windows.ThemeInfoAttribute> Má <xref:System.Windows.ThemeInfoAttribute.GenericDictionaryLocation%2A> vlastnost, která určuje umístění obecné zdroje a <xref:System.Windows.ThemeInfoAttribute.ThemeDictionaryLocation%2A> vlastnost, která určuje umístění prostředků specifických pro motiv.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-344">The <xref:System.Windows.ThemeInfoAttribute> has a <xref:System.Windows.ThemeInfoAttribute.GenericDictionaryLocation%2A> property that specifies the location of generic resources, and a <xref:System.Windows.ThemeInfoAttribute.ThemeDictionaryLocation%2A> property that specifies the location of the theme-specific resources.</span></span>  
  
 <span data-ttu-id="6c7b3-345">Následující příklad nastavuje <xref:System.Windows.ThemeInfoAttribute.GenericDictionaryLocation%2A> a <xref:System.Windows.ThemeInfoAttribute.ThemeDictionaryLocation%2A> vlastnosti, které chcete <xref:System.Windows.ResourceDictionaryLocation.SourceAssembly>, chcete-li určit, zda jsou prostředky obecné a specifické pro motiv ve stejném sestavení jako ovládací prvek.</span><span class="sxs-lookup"><span data-stu-id="6c7b3-345">The following example sets the <xref:System.Windows.ThemeInfoAttribute.GenericDictionaryLocation%2A> and <xref:System.Windows.ThemeInfoAttribute.ThemeDictionaryLocation%2A> properties to <xref:System.Windows.ResourceDictionaryLocation.SourceAssembly>, to specify that the generic and theme-specific resources are in the same assembly as the control.</span></span>  
  
 [!code-csharp[CustomControlNumericUpDown#ThemesSection](../../../../samples/snippets/csharp/VS_Snippets_Wpf/CustomControlNumericUpDown/CSharp/CustomControlLibrary/Properties/AssemblyInfo.cs#themessection)]
 [!code-vb[CustomControlNumericUpDown#ThemesSection](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/CustomControlNumericUpDown/visualbasic/customcontrollibrary/my project/assemblyinfo.vb#themessection)]  
  
## <a name="see-also"></a><span data-ttu-id="6c7b3-346">Viz také</span><span class="sxs-lookup"><span data-stu-id="6c7b3-346">See Also</span></span>  
 [<span data-ttu-id="6c7b3-347">Návrhář WPF</span><span class="sxs-lookup"><span data-stu-id="6c7b3-347">WPF Designer</span></span>](http://msdn.microsoft.com/en-us/c6c65214-8411-4e16-b254-163ed4099c26)  
 [<span data-ttu-id="6c7b3-348">Identifikátory URI Pack v grafickém subsystému WPF</span><span class="sxs-lookup"><span data-stu-id="6c7b3-348">Pack URIs in WPF</span></span>](../../../../docs/framework/wpf/app-development/pack-uris-in-wpf.md)  
 [<span data-ttu-id="6c7b3-349">Přizpůsobení ovládacího prvku</span><span class="sxs-lookup"><span data-stu-id="6c7b3-349">Control Customization</span></span>](../../../../docs/framework/wpf/controls/control-customization.md)
