---
title: "Sestavení aplikace WPF (WPF)"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology:
- dotnet-wpf
ms.tgt_pltfrm: 
ms.topic: article
dev_langs:
- csharp
- vb
helpviewer_keywords:
- WPF application [WPF], building
ms.assetid: a58696fd-bdad-4b55-9759-136dfdf8b91c
caps.latest.revision: 
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload:
- dotnet
ms.openlocfilehash: 87fc77aaa95e2d2de4b0c6eb75484ab9b4006c31
ms.sourcegitcommit: c0dd436f6f8f44dc80dc43b07f6841a00b74b23f
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 01/19/2018
---
# <a name="building-a-wpf-application-wpf"></a><span data-ttu-id="f941e-102">Sestavení aplikace WPF (WPF)</span><span class="sxs-lookup"><span data-stu-id="f941e-102">Building a WPF Application (WPF)</span></span>
[!INCLUDE[TLA#tla_wpf](../../../../includes/tlasharptla-wpf-md.md)]<span data-ttu-id="f941e-103">aplikace se dají vytvářet jako [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] spustitelné soubory (.exe) knihovny (DLL) nebo kombinaci obou typů sestavení.</span><span class="sxs-lookup"><span data-stu-id="f941e-103"> applications can be built as [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] executables (.exe), libraries (.dll), or a combination of both types of assemblies.</span></span> <span data-ttu-id="f941e-104">Toto téma představuje jak sestavit [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] aplikace a popisuje klíčové kroky v procesu sestavení.</span><span class="sxs-lookup"><span data-stu-id="f941e-104">This topic introduces how to build [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] applications and describes the key steps in the build process.</span></span>  
  
  
<a name="Building_a_WPF_Application_using_Command_Line"></a>   
## <a name="building-a-wpf-application"></a><span data-ttu-id="f941e-105">Sestavení aplikace WPF</span><span class="sxs-lookup"><span data-stu-id="f941e-105">Building a WPF Application</span></span>  
 <span data-ttu-id="f941e-106">Aplikace WPF mohou být zkompilovány následujícími způsoby:</span><span class="sxs-lookup"><span data-stu-id="f941e-106">A WPF application can be compiled in the following ways:</span></span>  
  
-   <span data-ttu-id="f941e-107">Příkazového řádku.</span><span class="sxs-lookup"><span data-stu-id="f941e-107">Command-line.</span></span> <span data-ttu-id="f941e-108">Aplikace musí obsahovat jenom kód (žádné XAML) a soubor definice aplikace.</span><span class="sxs-lookup"><span data-stu-id="f941e-108">The application must contain only code (no XAML) and an application definition file.</span></span> <span data-ttu-id="f941e-109">Další informace najdete v tématu [sestavení příkazového řádku s csc.exe](~/docs/csharp/language-reference/compiler-options/command-line-building-with-csc-exe.md) nebo [sestavení z příkazového řádku (Visual Basic)](~/docs/visual-basic/reference/command-line-compiler/building-from-the-command-line.md).</span><span class="sxs-lookup"><span data-stu-id="f941e-109">For more information, see [Command-line Building With csc.exe](~/docs/csharp/language-reference/compiler-options/command-line-building-with-csc-exe.md) or [Building from the Command Line (Visual Basic)](~/docs/visual-basic/reference/command-line-compiler/building-from-the-command-line.md).</span></span>  
  
-   <span data-ttu-id="f941e-110">Microsoft Build Engine (MSBuild).</span><span class="sxs-lookup"><span data-stu-id="f941e-110">Microsoft Build Engine (MSBuild).</span></span> <span data-ttu-id="f941e-111">Kromě kódu a soubory XAML musí aplikace obsahovat soubor projektu nástroje MSBuild.</span><span class="sxs-lookup"><span data-stu-id="f941e-111">In addition to the code and XAML files, the application must contain an MSBuild project file.</span></span> <span data-ttu-id="f941e-112">Další informace najdete v tématu "MSBuild".</span><span class="sxs-lookup"><span data-stu-id="f941e-112">For more information, see "MSBuild".</span></span>  
  
-   <span data-ttu-id="f941e-113">Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="f941e-113">Visual Studio.</span></span> <span data-ttu-id="f941e-114">Visual Studio se integrované vývojové prostředí, které zkompiluje grafického subsystému WPF aplikace pomocí nástroje MSBuild a zahrnuje vizuálního návrháře pro vytvoření uživatelského rozhraní.</span><span class="sxs-lookup"><span data-stu-id="f941e-114">Visual Studio is an integrated development environment that compiles WPF applications with MSBuild and includes a visual designer for creating UI.</span></span> <span data-ttu-id="f941e-115">Další informace najdete v tématu [vývoj aplikací v sadě Visual Studio](http://msdn.microsoft.com/library/97490c1b-a247-41fb-8f2c-bc4c201eff68) a [WPF Designer](http://msdn.microsoft.com/library/c6c65214-8411-4e16-b254-163ed4099c26).</span><span class="sxs-lookup"><span data-stu-id="f941e-115">For more information, see [Application Development in Visual Studio](http://msdn.microsoft.com/library/97490c1b-a247-41fb-8f2c-bc4c201eff68) and [WPF Designer](http://msdn.microsoft.com/library/c6c65214-8411-4e16-b254-163ed4099c26).</span></span>  
  
<a name="The_Windows_Presentation_Foundation_Build_Pipeline"></a>   
## <a name="wpf-build-pipeline"></a><span data-ttu-id="f941e-116">Kanál sestavení WPF</span><span class="sxs-lookup"><span data-stu-id="f941e-116">WPF Build Pipeline</span></span>  
 <span data-ttu-id="f941e-117">Když [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] sestavení projektu, kombinace jazyka a [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]-jsou vyvolány určité cíle.</span><span class="sxs-lookup"><span data-stu-id="f941e-117">When a [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] project is built, the combination of language-specific and [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]-specific targets are invoked.</span></span> <span data-ttu-id="f941e-118">Provádění těchto cílů proces se nazývá kanálu sestavení a jsou klíčové kroky vidíte na následujícím obrázku.</span><span class="sxs-lookup"><span data-stu-id="f941e-118">The process of executing these targets is called the build pipeline, and the key steps are illustrated by the following figure.</span></span>  
  
 <span data-ttu-id="f941e-119">![Proces sestavení WPF](../../../../docs/framework/wpf/app-development/media/wpfbuildsystem-figure1.png "WPFBuildSystem_Figure1")</span><span class="sxs-lookup"><span data-stu-id="f941e-119">![WPF build process](../../../../docs/framework/wpf/app-development/media/wpfbuildsystem-figure1.png "WPFBuildSystem_Figure1")</span></span>  
  
<a name="Pre_Build_Initializations"></a>   
### <a name="pre-build-initializations"></a><span data-ttu-id="f941e-120">Před sestavením Inicializacích</span><span class="sxs-lookup"><span data-stu-id="f941e-120">Pre-Build Initializations</span></span>  
 <span data-ttu-id="f941e-121">Před vytvořením, [!INCLUDE[TLA2#tla_msbuild](../../../../includes/tla2sharptla-msbuild-md.md)] Určuje umístění důležité nástroje a knihovny, včetně následujících:</span><span class="sxs-lookup"><span data-stu-id="f941e-121">Before building, [!INCLUDE[TLA2#tla_msbuild](../../../../includes/tla2sharptla-msbuild-md.md)] determines the location of important tools and libraries, including the following:</span></span>  
  
-   <span data-ttu-id="f941e-122">[!INCLUDE[TLA2#tla_winfx](../../../../includes/tla2sharptla-winfx-md.md)].</span><span class="sxs-lookup"><span data-stu-id="f941e-122">The [!INCLUDE[TLA2#tla_winfx](../../../../includes/tla2sharptla-winfx-md.md)].</span></span>  
  
-   <span data-ttu-id="f941e-123">[!INCLUDE[TLA2#tla_wcsdk](../../../../includes/tla2sharptla-wcsdk-md.md)] Adresáře.</span><span class="sxs-lookup"><span data-stu-id="f941e-123">The [!INCLUDE[TLA2#tla_wcsdk](../../../../includes/tla2sharptla-wcsdk-md.md)] directories.</span></span>  
  
-   <span data-ttu-id="f941e-124">Umístění [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] referenční sestavení.</span><span class="sxs-lookup"><span data-stu-id="f941e-124">The location of [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] reference assemblies.</span></span>  
  
-   <span data-ttu-id="f941e-125">Vlastnost cesty pro hledání sestavení.</span><span class="sxs-lookup"><span data-stu-id="f941e-125">The property for the assembly search paths.</span></span>  
  
 <span data-ttu-id="f941e-126">První umístění kde [!INCLUDE[TLA2#tla_msbuild](../../../../includes/tla2sharptla-msbuild-md.md)] vyhledá sestavení je adresář odkazů na sestavení (%ProgramFiles%\Reference Assemblies\Microsoft\Framework\v3.0\\).</span><span class="sxs-lookup"><span data-stu-id="f941e-126">The first location where [!INCLUDE[TLA2#tla_msbuild](../../../../includes/tla2sharptla-msbuild-md.md)] searches for assemblies is the reference assembly directory (%ProgramFiles%\Reference Assemblies\Microsoft\Framework\v3.0\\).</span></span> <span data-ttu-id="f941e-127">V tomto kroku procesu sestavení také inicializuje různé vlastnosti a skupiny položek a provádí veškerou práci, vyžaduje čištění.</span><span class="sxs-lookup"><span data-stu-id="f941e-127">During this step, the build process also initializes the various properties and item groups and performs any required cleanup work.</span></span>  
  
<a name="Resolving_references"></a>   
### <a name="resolving-references"></a><span data-ttu-id="f941e-128">Řešení odkazů</span><span class="sxs-lookup"><span data-stu-id="f941e-128">Resolving References</span></span>  
 <span data-ttu-id="f941e-129">Proces sestavení vyhledá a sváže sestavení požadovaná pro sestavení projektu aplikace.</span><span class="sxs-lookup"><span data-stu-id="f941e-129">The build process locates and binds the assemblies required to build the application project.</span></span> <span data-ttu-id="f941e-130">Tato logika je součástí `ResolveAssemblyReference` úloh.</span><span class="sxs-lookup"><span data-stu-id="f941e-130">This logic is contained in the `ResolveAssemblyReference` task.</span></span> <span data-ttu-id="f941e-131">Ve všech sestaveních deklarován jako `Reference` v souboru projektu, které jsou uvedeny úlohy spolu s informace o cesty pro hledání a metadata sestavení, které jsou již v systému nainstalována.</span><span class="sxs-lookup"><span data-stu-id="f941e-131">All assemblies declared as `Reference` in the project file are provided to the task along with information on the search paths and metadata on assemblies already installed on the system.</span></span> <span data-ttu-id="f941e-132">Úloha vyhledá sestavení a používá metadata nainstalované sestavení filtrovat tyto základní [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] sestavení, které potřebují není zobrazit nahoru v manifestech výstup.</span><span class="sxs-lookup"><span data-stu-id="f941e-132">The task looks up assemblies and uses the installed assembly's metadata to filter out those core [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] assemblies that need not show up in the output manifests.</span></span> <span data-ttu-id="f941e-133">Děje se tak aby se zabránilo redundantní informace v manifestech ClickOnce.</span><span class="sxs-lookup"><span data-stu-id="f941e-133">This is done to avoid redundant information in the ClickOnce manifests.</span></span> <span data-ttu-id="f941e-134">Například vzhledem k tomu, že knihovně PresentationFramework.dll lze považovat za zástupce aplikace vytvořené a [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] a kromě toho od všech [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] sestavení existovat ve stejném umístění na každý počítač, který má [!INCLUDE[TLA2#tla_winfx](../../../../includes/tla2sharptla-winfx-md.md)] nainstalovaná, není nutné zahrnout všechny informace o všech [!INCLUDE[TLA2#tla_winfx](../../../../includes/tla2sharptla-winfx-md.md)] referenční sestavení v manifestech.</span><span class="sxs-lookup"><span data-stu-id="f941e-134">For example, since PresentationFramework.dll can be considered representative of an application built on and for the [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] and moreover since all [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] assemblies exist at the same location on every machine that has the [!INCLUDE[TLA2#tla_winfx](../../../../includes/tla2sharptla-winfx-md.md)] installed, there is no need to include all information on all [!INCLUDE[TLA2#tla_winfx](../../../../includes/tla2sharptla-winfx-md.md)] reference assemblies in the manifests.</span></span>  
  
<a name="Markup_Compilation___Pass_1"></a>   
### <a name="markup-compilationpass-1"></a><span data-ttu-id="f941e-135">Značky kompilace – předat 1</span><span class="sxs-lookup"><span data-stu-id="f941e-135">Markup Compilation—Pass 1</span></span>  
 <span data-ttu-id="f941e-136">V tomto kroku [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] soubory jsou analyzovat a zkompilovat tak, aby modul runtime trávit, analýza čas [!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)] a ověření hodnot vlastností.</span><span class="sxs-lookup"><span data-stu-id="f941e-136">In this step, [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] files are parsed and compiled so that the runtime does not spend time parsing [!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)] and validating property values.</span></span> <span data-ttu-id="f941e-137">Zkompilovaný [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] soubor je před tokenizovaného tak, aby v době běhu, načte by měla být mnohem rychlejší než načítání [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] souboru.</span><span class="sxs-lookup"><span data-stu-id="f941e-137">The compiled [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file is pre-tokenized so that, at run time, loading it should be much faster than loading a [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file.</span></span>  
  
 <span data-ttu-id="f941e-138">V tomto kroku tyto činnosti provést každý [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] souboru, který je `Page` sestavení položky:</span><span class="sxs-lookup"><span data-stu-id="f941e-138">During this step, the following activities take place for every [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file that is a `Page` build item:</span></span>  
  
1.  <span data-ttu-id="f941e-139">[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] Souboru je analyzována kompilátorem značek.</span><span class="sxs-lookup"><span data-stu-id="f941e-139">The [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file is parsed by the markup compiler.</span></span>  
  
2.  <span data-ttu-id="f941e-140">Znázornění kompilované se vytvoří pro tento [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] a zkopírovali do složky obj\Release.</span><span class="sxs-lookup"><span data-stu-id="f941e-140">A compiled representation is created for that [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] and copied to the obj\Release folder.</span></span>  
  
3.  <span data-ttu-id="f941e-141">Znázornění CodeDOM nové částečné třídy je vytvořili a zkopírovali do složky obj\Release.</span><span class="sxs-lookup"><span data-stu-id="f941e-141">A CodeDOM representation of a new partial class is created and copied to the obj\Release folder.</span></span>  
  
 <span data-ttu-id="f941e-142">Kromě toho se vygeneruje soubor specifické pro jazyk kódu pro každý [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] souboru.</span><span class="sxs-lookup"><span data-stu-id="f941e-142">In addition, a language-specific code file is generated for every [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file.</span></span> <span data-ttu-id="f941e-143">Například pro stránky Page1.xaml v [!INCLUDE[TLA2#tla_visualb](../../../../includes/tla2sharptla-visualb-md.md)] projektu Page1.g.vb se vygeneruje; Page1.xaml stránce v [!INCLUDE[TLA2#tla_cshrp](../../../../includes/tla2sharptla-cshrp-md.md)] projekt, Page1.g.cs se vygeneruje.</span><span class="sxs-lookup"><span data-stu-id="f941e-143">For example, for a Page1.xaml page in a [!INCLUDE[TLA2#tla_visualb](../../../../includes/tla2sharptla-visualb-md.md)] project, a Page1.g.vb is generated; for a Page1.xaml page in a [!INCLUDE[TLA2#tla_cshrp](../../../../includes/tla2sharptla-cshrp-md.md)] project, a Page1.g.cs is generated.</span></span> <span data-ttu-id="f941e-144">".G" v názvu souboru označuje soubor je vygenerováno, kód, který má deklaraci třídu pro element nejvyšší úrovně souboru kódu (například `Page` nebo `Window`).</span><span class="sxs-lookup"><span data-stu-id="f941e-144">The ".g" in the file name indicates the file is generated code that has a partial class declaration for the top-level element of the markup file (such as `Page` or `Window`).</span></span> <span data-ttu-id="f941e-145">Třída je deklarovaný s `partial` modifikátor v [!INCLUDE[TLA2#tla_cshrp](../../../../includes/tla2sharptla-cshrp-md.md)] (`Extends` v [!INCLUDE[TLA2#tla_visualb](../../../../includes/tla2sharptla-visualb-md.md)]) k označení, je jiná deklarace pro třídu jinam, obvykle v modelu code-behind souboru Page1.xaml.cs.</span><span class="sxs-lookup"><span data-stu-id="f941e-145">The class is declared with the `partial` modifier in [!INCLUDE[TLA2#tla_cshrp](../../../../includes/tla2sharptla-cshrp-md.md)] (`Extends` in [!INCLUDE[TLA2#tla_visualb](../../../../includes/tla2sharptla-visualb-md.md)]) to indicate there is another declaration for the class elsewhere, usually in the code-behind file Page1.xaml.cs.</span></span>  
  
 <span data-ttu-id="f941e-146">Rozšiřuje třídu z příslušné základní třídy (například <xref:System.Windows.Controls.Page> pro stránku) a implementuje <xref:System.Windows.Markup.IComponentConnector?displayProperty=nameWithType> rozhraní.</span><span class="sxs-lookup"><span data-stu-id="f941e-146">The partial class extends from the appropriate base class (such as <xref:System.Windows.Controls.Page> for a page) and implements the <xref:System.Windows.Markup.IComponentConnector?displayProperty=nameWithType> interface.</span></span> <span data-ttu-id="f941e-147"><xref:System.Windows.Markup.IComponentConnector> Rozhraní má metody pro inicializaci součásti a připojit názvy a události na elementy v jeho obsah.</span><span class="sxs-lookup"><span data-stu-id="f941e-147">The <xref:System.Windows.Markup.IComponentConnector> interface has methods to initialize a component and connect names and events on elements in its content.</span></span> <span data-ttu-id="f941e-148">V důsledku toho soubor generovaného kódu má implementace metody takto:</span><span class="sxs-lookup"><span data-stu-id="f941e-148">Consequently, the generated code file has a method implementation like the following:</span></span>  
  
```csharp  
public void InitializeComponent() {  
    if (_contentLoaded) {  
        return;  
    }  
    _contentLoaded = true;  
    System.Uri resourceLocater =   
        new System.Uri(  
            "window1.xaml",   
            System.UriKind.RelativeOrAbsolute);  
    System.Windows.Application.LoadComponent(this, resourceLocater);  
}  
```  
  
```vb  
Public Sub InitializeComponent() _  
  
    If _contentLoaded Then  
        Return  
    End If  
  
    _contentLoaded = True  
    Dim resourceLocater As System.Uri = _  
        New System.Uri("mainwindow.xaml", System.UriKind.Relative)  
  
    System.Windows.Application.LoadComponent(Me, resourceLocater)  
  
End Sub  
```  
  
 <span data-ttu-id="f941e-149">Ve výchozím nastavení spouští kompilace kódu ve stejné <xref:System.AppDomain> jako [!INCLUDE[TLA2#tla_msbuild](../../../../includes/tla2sharptla-msbuild-md.md)] modul.</span><span class="sxs-lookup"><span data-stu-id="f941e-149">By default, markup compilation runs in the same <xref:System.AppDomain> as the [!INCLUDE[TLA2#tla_msbuild](../../../../includes/tla2sharptla-msbuild-md.md)] engine.</span></span> <span data-ttu-id="f941e-150">To poskytuje výrazné zvýšení výkonu.</span><span class="sxs-lookup"><span data-stu-id="f941e-150">This provides significant performance gains.</span></span> <span data-ttu-id="f941e-151">Můžou být toto chování se `AlwaysCompileMarkupFilesInSeparateDomain` vlastnost.</span><span class="sxs-lookup"><span data-stu-id="f941e-151">This behavior can be toggled with the `AlwaysCompileMarkupFilesInSeparateDomain` property.</span></span> <span data-ttu-id="f941e-152">To nabízí výhodu v podobě uvolnění všechny referenční sestavení pomocí uvolnění samostatné <xref:System.AppDomain>.</span><span class="sxs-lookup"><span data-stu-id="f941e-152">This has the advantage of unloading all reference assemblies by unloading the separate <xref:System.AppDomain>.</span></span>  
  
<a name="Pass_2_of_Markup_Compilation"></a>   
### <a name="markup-compilationpass-2"></a><span data-ttu-id="f941e-153">Značky kompilace – předat 2</span><span class="sxs-lookup"><span data-stu-id="f941e-153">Markup Compilation—Pass 2</span></span>  
 <span data-ttu-id="f941e-154">Ne všechny [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] jsou stránky kompilovány na během průchodu 1 kompilace kódu.</span><span class="sxs-lookup"><span data-stu-id="f941e-154">Not all [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] pages are compiled at during pass 1 of markup compilation.</span></span> [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]<span data-ttu-id="f941e-155">soubory, které jste definovali místně odkazy na typ (odkazů pro typy definované v kódu jinde v rámci jednoho projektu) se nevztahují kompilace v tuto chvíli.</span><span class="sxs-lookup"><span data-stu-id="f941e-155"> files that have locally defined type references (references to types defined in code elsewhere in the same project) are exempt from compilation at this time.</span></span> <span data-ttu-id="f941e-156">Je to proto, že tyto místně definované typy existovat pouze ve zdroji a nebyla dosud kompilována.</span><span class="sxs-lookup"><span data-stu-id="f941e-156">This is because those locally defined types exist only in source and have not yet been compiled.</span></span> <span data-ttu-id="f941e-157">Chcete-li to zjistit, analyzátor používá heuristiky, které zahrnují hledá položky, jako například `x:Name` v souboru kódu.</span><span class="sxs-lookup"><span data-stu-id="f941e-157">In order to determine this, the parser uses heuristics that involve looking for items such as `x:Name` in the markup file.</span></span> <span data-ttu-id="f941e-158">Pokud tyto instance nenajde, že dokud soubory kódu sestavili jsme, po který, odloží se kompilace kódu souboru druhý kompilace kódu předat procesy tyto soubory.</span><span class="sxs-lookup"><span data-stu-id="f941e-158">When such an instance is found, that markup file’s compilation is postponed until the code files have been compiled, after which, the second markup compilation pass processes these files.</span></span>  
  
<a name="File_Classification"></a>   
### <a name="file-classification"></a><span data-ttu-id="f941e-159">Klasifikace souborů</span><span class="sxs-lookup"><span data-stu-id="f941e-159">File Classification</span></span>  
 <span data-ttu-id="f941e-160">Proces sestavení PUT výstupní soubory do jiné skupiny prostředků založené na sestavení, které aplikace se bude uložena v umístění.</span><span class="sxs-lookup"><span data-stu-id="f941e-160">The build process puts output files into different resource groups based on which application assembly they will be placed in.</span></span> <span data-ttu-id="f941e-161">V typické aplikaci nelokalizované, všechny datové soubory označen jako `Resource` jsou umístěny v hlavní sestavení (spustitelný soubor nebo knihovna).</span><span class="sxs-lookup"><span data-stu-id="f941e-161">In a typical nonlocalized application, all data files marked as `Resource` are placed in the main assembly (executable or library).</span></span> <span data-ttu-id="f941e-162">Když `UICulture` je nastavena v projektu, všechny kompilované [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] soubory a tyto prostředky konkrétně označené jako konkrétní jazyk, které jsou umístěny v satelitní sestavení prostředků.</span><span class="sxs-lookup"><span data-stu-id="f941e-162">When `UICulture` is set in the project, all compiled [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] files and those resources specifically marked as language-specific are placed in the satellite resource assembly.</span></span> <span data-ttu-id="f941e-163">Kromě toho všechny jazykově neutrální prostředky jsou umístěny v hlavní sestavení.</span><span class="sxs-lookup"><span data-stu-id="f941e-163">Furthermore, all language-neutral resources are placed in the main assembly.</span></span> <span data-ttu-id="f941e-164">V tomto kroku procesu sestavení, která byla zjištěna.</span><span class="sxs-lookup"><span data-stu-id="f941e-164">In this step of the build process, that determination is made.</span></span>  
  
 <span data-ttu-id="f941e-165">`ApplicationDefinition`, `Page`, A `Resource` akce sestavení v souboru projektu se dají rozšířit o `Localizable` metadata (přijatelné hodnoty jsou `true` a `false`), která určuje, zda se soubor nachází konkrétní jazyk nebo jazykově neutrální.</span><span class="sxs-lookup"><span data-stu-id="f941e-165">The `ApplicationDefinition`, `Page`, and `Resource` build actions in the project file can be augmented with the `Localizable` metadata (acceptable values are `true` and `false`), which dictates whether the file is language-specific or language-neutral.</span></span>  
  
<a name="Core_Compilation"></a>   
### <a name="core-compilation"></a><span data-ttu-id="f941e-166">Základní kompilace</span><span class="sxs-lookup"><span data-stu-id="f941e-166">Core Compilation</span></span>  
 <span data-ttu-id="f941e-167">Základní kompilační krok zahrnuje kompilace kódu souborů.</span><span class="sxs-lookup"><span data-stu-id="f941e-167">The core compile step involves compilation of code files.</span></span> <span data-ttu-id="f941e-168">To je řízená logiku v souborech cíle pro specifický jazyk Microsoft.CSharp.targets a Microsoft.VisualBasic.targets.</span><span class="sxs-lookup"><span data-stu-id="f941e-168">This is orchestrated by logic in the language-specific targets files Microsoft.CSharp.targets and Microsoft.VisualBasic.targets.</span></span> <span data-ttu-id="f941e-169">V případě heuristiky zjistíte, které stačí jednom průchodu kompilátoru značek a potom se vygeneruje hlavní sestavení.</span><span class="sxs-lookup"><span data-stu-id="f941e-169">If heuristics have determined that a single pass of the markup compiler is sufficient, then the main assembly is generated.</span></span> <span data-ttu-id="f941e-170">Ale pokud jeden nebo více [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] soubory v projektu obsahují odkazy na místně definované typy a pak soubor .dll dočasné se vygeneruje, takže sestavení konečné aplikace mohou být vytvořeny po dokončení druhé fázi kompilace kódu.</span><span class="sxs-lookup"><span data-stu-id="f941e-170">However, if one or more [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] files in the project have references to locally defined types, then a temporary .dll file is generated so the final application assemblies may be created after the second pass of markup compilation is complete.</span></span>  
  
<a name="Manifest_generation"></a>   
### <a name="manifest-generation"></a><span data-ttu-id="f941e-171">Generování manifestu</span><span class="sxs-lookup"><span data-stu-id="f941e-171">Manifest Generation</span></span>  
 <span data-ttu-id="f941e-172">Na konci procesu sestavení po sestavení aplikace a soubory obsahu jsou připravené [!INCLUDE[TLA2#tla_clickonce](../../../../includes/tla2sharptla-clickonce-md.md)] manifestů aplikace jsou generovány.</span><span class="sxs-lookup"><span data-stu-id="f941e-172">At the end of the build process, after all the application assemblies and content files are ready, the [!INCLUDE[TLA2#tla_clickonce](../../../../includes/tla2sharptla-clickonce-md.md)] manifests for the application are generated.</span></span>  
  
 <span data-ttu-id="f941e-173">Soubor manifestu nasazení popisuje model nasazení: aktuální verze, chování aktualizací a identity vydavatele společně s digitální podpis.</span><span class="sxs-lookup"><span data-stu-id="f941e-173">The deployment manifest file describes the deployment model: the current version, update behavior, and publisher identity along with digital signature.</span></span> <span data-ttu-id="f941e-174">Tento manifest se má být vytvořené správci, kteří obsluhují nasazení.</span><span class="sxs-lookup"><span data-stu-id="f941e-174">This manifest is intended to be authored by administrators who handle deployment.</span></span> <span data-ttu-id="f941e-175">Přípona souboru je .xbap (pro [!INCLUDE[TLA#tla_xbap#plural](../../../../includes/tlasharptla-xbapsharpplural-md.md)]) a .application nainstalovaných aplikací.</span><span class="sxs-lookup"><span data-stu-id="f941e-175">The file extension is .xbap (for [!INCLUDE[TLA#tla_xbap#plural](../../../../includes/tlasharptla-xbapsharpplural-md.md)]) and .application for installed applications.</span></span> <span data-ttu-id="f941e-176">Bývalé závisí `HostInBrowser` vlastností projektu a v důsledku manifest identifikuje aplikaci jako hostované prohlížečem.</span><span class="sxs-lookup"><span data-stu-id="f941e-176">The former is dictated by the `HostInBrowser` project property and as a result the manifest identifies the application as browser-hosted.</span></span>  
  
 <span data-ttu-id="f941e-177">Manifest aplikace (..exe soubor) popisuje sestavení aplikace a závislé knihovny a uvádí oprávnění požadované aplikací.</span><span class="sxs-lookup"><span data-stu-id="f941e-177">The application manifest (an .exe.manifest file) describes the application assemblies and dependent libraries and lists permissions required by the application.</span></span> <span data-ttu-id="f941e-178">Tento soubor má být autorem vývojáře aplikace.</span><span class="sxs-lookup"><span data-stu-id="f941e-178">This file is intended to be authored by the application developer.</span></span> <span data-ttu-id="f941e-179">Aby bylo možné spustit [!INCLUDE[TLA2#tla_clickonce](../../../../includes/tla2sharptla-clickonce-md.md)] aplikace, uživatel otevře soubor manifestu nasazení aplikace.</span><span class="sxs-lookup"><span data-stu-id="f941e-179">In order to launch a [!INCLUDE[TLA2#tla_clickonce](../../../../includes/tla2sharptla-clickonce-md.md)] application, a user opens the application's deployment manifest file.</span></span>  
  
 <span data-ttu-id="f941e-180">Tyto soubory manifestu se vytváří vždy pro [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)].</span><span class="sxs-lookup"><span data-stu-id="f941e-180">These manifest files are always created for [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)].</span></span> <span data-ttu-id="f941e-181">Nainstalovaných aplikací, nejsou vytvořeny Pokud `GenerateManifests` vlastnost je zadaná v souboru projektu s hodnotou `true`.</span><span class="sxs-lookup"><span data-stu-id="f941e-181">For installed applications, they are not created unless the `GenerateManifests` property is specified in the project file with value `true`.</span></span>  
  
 [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)]<span data-ttu-id="f941e-182">Získejte dva další oprávnění, kromě těchto oprávnění přiřazená uživateli typické internetové zóny aplikace: <xref:System.Security.Permissions.WebBrowserPermission> a <xref:System.Security.Permissions.MediaPermission>.</span><span class="sxs-lookup"><span data-stu-id="f941e-182"> get two additional permissions over and above those permissions assigned to typical Internet zone applications: <xref:System.Security.Permissions.WebBrowserPermission> and <xref:System.Security.Permissions.MediaPermission>.</span></span> <span data-ttu-id="f941e-183">[!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] Systém sestavení deklaruje tato oprávnění v manifestu aplikace.</span><span class="sxs-lookup"><span data-stu-id="f941e-183">The [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] build system declares those permissions in the application manifest.</span></span>  
  
<a name="Incremental_Build_Support"></a>   
## <a name="incremental-build-support"></a><span data-ttu-id="f941e-184">Podpora přírůstkové sestavení</span><span class="sxs-lookup"><span data-stu-id="f941e-184">Incremental Build Support</span></span>  
 <span data-ttu-id="f941e-185">[!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] Systém sestavení poskytuje podporu pro přírůstkové sestavení.</span><span class="sxs-lookup"><span data-stu-id="f941e-185">The [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] build system provides support for incremental builds.</span></span> <span data-ttu-id="f941e-186">Je docela inteligentního o zjišťování změny kód a kompilaci pouze tyto artefakty vliv změn.</span><span class="sxs-lookup"><span data-stu-id="f941e-186">It is fairly intelligent about detecting changes made to markup or code, and it compiles only those artifacts affected by the change.</span></span> <span data-ttu-id="f941e-187">Tento mechanismus přírůstkové sestavení používá následující soubory:</span><span class="sxs-lookup"><span data-stu-id="f941e-187">The incremental build mechanism uses the following files:</span></span>  
  
-   <span data-ttu-id="f941e-188">$(*AssemblyName*) _MarkupCompiler.Cache soubor, abyste zachovali aktuální stav kompilátoru.</span><span class="sxs-lookup"><span data-stu-id="f941e-188">An $(*AssemblyName*)_MarkupCompiler.Cache file to maintain current compiler state.</span></span>  
  
-   <span data-ttu-id="f941e-189">$(*AssemblyName*) _MarkupCompiler.lref soubor do mezipaměti [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] soubory s odkazy na místně definované typy.</span><span class="sxs-lookup"><span data-stu-id="f941e-189">An $(*AssemblyName*)_MarkupCompiler.lref file to cache the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] files with references to locally defined types.</span></span>  
  
 <span data-ttu-id="f941e-190">Toto je sada pravidel pro přírůstkové sestavení:</span><span class="sxs-lookup"><span data-stu-id="f941e-190">The following is a set of rules governing incremental build:</span></span>  
  
-   <span data-ttu-id="f941e-191">Soubor je nejmenší jednotka, kde systém sestavení zjistí změnu.</span><span class="sxs-lookup"><span data-stu-id="f941e-191">The file is the smallest unit at which the build system detects change.</span></span> <span data-ttu-id="f941e-192">Pro soubor kód nelze tedy systém sestavení zjistit, pokud byl změněn typu nebo pokud jste přidali kód.</span><span class="sxs-lookup"><span data-stu-id="f941e-192">So, for a code file, the build system cannot tell if a type was changed or if code was added.</span></span> <span data-ttu-id="f941e-193">To platí i pro soubory projektu.</span><span class="sxs-lookup"><span data-stu-id="f941e-193">The same holds for project files.</span></span>  
  
-   <span data-ttu-id="f941e-194">Tento mechanismus přírůstkové sestavení musí být cognizant, [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] stránky definuje třídu nebo používá jiné třídy.</span><span class="sxs-lookup"><span data-stu-id="f941e-194">The incremental build mechanism must be cognizant that a [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] page either defines a class or uses other classes.</span></span>  
  
-   <span data-ttu-id="f941e-195">Pokud `Reference` položky přejít, a potom znovu zkompiluje všechny stránky.</span><span class="sxs-lookup"><span data-stu-id="f941e-195">If `Reference` entries change, then recompile all pages.</span></span>  
  
-   <span data-ttu-id="f941e-196">Pokud se změní soubor kódu, znovu zkompiluje všechny stránky s odkazy na typ místně definované.</span><span class="sxs-lookup"><span data-stu-id="f941e-196">If a code file changes, recompile all pages with locally defined type references.</span></span>  
  
-   <span data-ttu-id="f941e-197">Pokud [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] souboru změny:</span><span class="sxs-lookup"><span data-stu-id="f941e-197">If a [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file changes:</span></span>  
  
    -   <span data-ttu-id="f941e-198">Pokud [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] je deklarován jako `Page` v projektu: Pokud [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] nemá odkazy na místně definovaný typ, který znovu zkompiluje [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] plus všechny [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] stránky s místní odkazy; Pokud [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] má místní odkazy, znovu zkompiluje všechny [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] stránky s místní odkazy.</span><span class="sxs-lookup"><span data-stu-id="f941e-198">If [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] is declared as `Page` in the project: if the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] does not have locally defined type references, recompile that [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] plus all [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] pages with local references; if the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] has local references, recompile all [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] pages with local references.</span></span>  
  
    -   <span data-ttu-id="f941e-199">Pokud [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] je deklarován jako `ApplicationDefinition` v projektu: znovu zkompiluje všechny [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] stránky (důvod: každý [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] obsahuje odkaz na <xref:System.Windows.Application> typ, který možná změnil).</span><span class="sxs-lookup"><span data-stu-id="f941e-199">If [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] is declared as `ApplicationDefinition` in the project: recompile all [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] pages (reason: each [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] has reference to an <xref:System.Windows.Application> type that may have changed).</span></span>  
  
-   <span data-ttu-id="f941e-200">Pokud soubor projektu deklaruje jako definice aplikace místo souboru kódu [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] souboru:</span><span class="sxs-lookup"><span data-stu-id="f941e-200">If the project file declares a code file as application definition instead of a [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file:</span></span>  
  
    -   <span data-ttu-id="f941e-201">Zkontrolujte, zda `ApplicationClassName` došlo ke změně hodnoty v souboru projektu (existuje nový typ aplikace?).</span><span class="sxs-lookup"><span data-stu-id="f941e-201">Check if the `ApplicationClassName` value in the project file has changed (is there a new application type?).</span></span> <span data-ttu-id="f941e-202">Pokud ano, znovu zkompiluje celý aplikace.</span><span class="sxs-lookup"><span data-stu-id="f941e-202">If so, recompile the entire application.</span></span>  
  
    -   <span data-ttu-id="f941e-203">Jinak, znovu zkompiluje všechny [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] stránky s místní odkazy.</span><span class="sxs-lookup"><span data-stu-id="f941e-203">Otherwise, recompile all [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] pages with local references.</span></span>  
  
-   <span data-ttu-id="f941e-204">Pokud se změní soubor projektu: všechny předchozí pravidla použít a zjistit, co musí zopakovat.</span><span class="sxs-lookup"><span data-stu-id="f941e-204">If a project file changes: apply all preceding rules and see what needs to be recompiled.</span></span> <span data-ttu-id="f941e-205">Změní na následující vlastnosti aktivační události dokončení nové kompilace: `AssemblyName`, `IntermediateOutputPath`, `RootNamespace`, a `HostInBrowser`.</span><span class="sxs-lookup"><span data-stu-id="f941e-205">Changes to the following properties trigger a complete recompile: `AssemblyName`, `IntermediateOutputPath`, `RootNamespace`, and `HostInBrowser`.</span></span>  
  
 <span data-ttu-id="f941e-206">Následující scénáře pak ji znovu zkompilovat jsou možné:</span><span class="sxs-lookup"><span data-stu-id="f941e-206">The following recompile scenarios are possible:</span></span>  
  
-   <span data-ttu-id="f941e-207">Znovu zkompiluje celý aplikace.</span><span class="sxs-lookup"><span data-stu-id="f941e-207">The entire application is recompiled.</span></span>  
  
-   <span data-ttu-id="f941e-208">Pouze ty [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] jsou soubory, které jste definovali místně odkazy na typ zopakovat.</span><span class="sxs-lookup"><span data-stu-id="f941e-208">Only those [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] files that have locally defined type references are recompiled.</span></span>  
  
-   <span data-ttu-id="f941e-209">Nic znovu zkompiluje (Pokud se změnila nic v projektu).</span><span class="sxs-lookup"><span data-stu-id="f941e-209">Nothing is recompiled (if nothing in the project has changed).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="f941e-210">Viz také</span><span class="sxs-lookup"><span data-stu-id="f941e-210">See Also</span></span>  
 [<span data-ttu-id="f941e-211">Nasazení aplikace WPF</span><span class="sxs-lookup"><span data-stu-id="f941e-211">Deploying a WPF Application</span></span>](../../../../docs/framework/wpf/app-development/deploying-a-wpf-application-wpf.md)  
 [<span data-ttu-id="f941e-212">Referenční dokumentace WPF MSBuild</span><span class="sxs-lookup"><span data-stu-id="f941e-212">WPF MSBuild Reference</span></span>](/visualstudio/msbuild/wpf-msbuild-reference)  
 [<span data-ttu-id="f941e-213">Sbalení URI v technologii WPF</span><span class="sxs-lookup"><span data-stu-id="f941e-213">Pack URIs in WPF</span></span>](../../../../docs/framework/wpf/app-development/pack-uris-in-wpf.md)  
 [<span data-ttu-id="f941e-214">Prostředek, obsah a datové soubory aplikace WPF</span><span class="sxs-lookup"><span data-stu-id="f941e-214">WPF Application Resource, Content, and Data Files</span></span>](../../../../docs/framework/wpf/app-development/wpf-application-resource-content-and-data-files.md)
