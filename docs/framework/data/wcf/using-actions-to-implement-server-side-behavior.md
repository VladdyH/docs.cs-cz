---
title: Použití akcí k implementaci chování na straně serveru
ms.date: 03/30/2017
ms.assetid: 11a372db-7168-498b-80d2-9419ff557ba5
ms.openlocfilehash: d4be2aa42c667460232f6aa3cd8dc707805750e0
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 05/04/2018
ms.locfileid: "33365238"
---
# <a name="using-actions-to-implement-server-side-behavior"></a><span data-ttu-id="7c3a7-102">Použití akcí k implementaci chování na straně serveru</span><span class="sxs-lookup"><span data-stu-id="7c3a7-102">Using actions to implement server-side behavior</span></span>
<span data-ttu-id="7c3a7-103">Akcí OData, které poskytují způsob, jak implementovat chování, který funguje na prostředek načíst ze služby OData.</span><span class="sxs-lookup"><span data-stu-id="7c3a7-103">OData Actions provide a way to implement a behavior that acts upon a resource retrieved from an OData service.</span></span>  <span data-ttu-id="7c3a7-104">Například vezměte v úvahu digitální film jako prostředek, je mnoho věcí, které může provádět s digitální video: rezervace, míry nebo komentář nebo vrácení se změnami.</span><span class="sxs-lookup"><span data-stu-id="7c3a7-104">For example consider a digital movie as a resource, there are many things you may do with a digital movie: check-out, rate/comment, or check-in.</span></span> <span data-ttu-id="7c3a7-105">Toto jsou příklady všechny akce, které mohou být prováděny WCF Data Service, která spravuje digitální filmy.</span><span class="sxs-lookup"><span data-stu-id="7c3a7-105">These are all examples of Actions that may be implemented by a WCF Data Service that manages digital movies.</span></span> <span data-ttu-id="7c3a7-106">Akce jsou popsané v odpovědi OData obsahující prostředků, na který lze vyvolat akci.</span><span class="sxs-lookup"><span data-stu-id="7c3a7-106">Actions are described in an OData response that contains a resource on which the Action can be invoked.</span></span> <span data-ttu-id="7c3a7-107">Když uživatel požádá o prostředek, který představuje digitální film odpověď vrácená služby WCF Data Service obsahuje informace o akcích, které jsou k dispozici pro tento prostředek.</span><span class="sxs-lookup"><span data-stu-id="7c3a7-107">When a user requests a resource that represents a digital movie the response returned from the WCF Data Service contains information about the Actions that are available for that resource.</span></span> <span data-ttu-id="7c3a7-108">Dostupnost akce mohou záviset na stav služby data nebo prostředků.</span><span class="sxs-lookup"><span data-stu-id="7c3a7-108">The availability of an Action can depend on the state of the data service or resource.</span></span> <span data-ttu-id="7c3a7-109">Pro příklad, jakmile ji je rezervována digitální film nelze rezervována jiným uživatelem.</span><span class="sxs-lookup"><span data-stu-id="7c3a7-109">For example once a digital movie is checked out it cannot be checked out by another user.</span></span> <span data-ttu-id="7c3a7-110">Klienty můžete vyvolat akci jednoduše tak, že zadáte adresu URL.</span><span class="sxs-lookup"><span data-stu-id="7c3a7-110">Clients can invoke an action simply by specifying a URL.</span></span> <span data-ttu-id="7c3a7-111">Například http://MyServer/MovieService.svc/Movies(6) by identifikovat konkrétní digitální film a http://MyServer/MovieService.svc/Movies(6)/Checkout by vyvolání akce na konkrétní film.</span><span class="sxs-lookup"><span data-stu-id="7c3a7-111">For example http://MyServer/MovieService.svc/Movies(6) would identify a specific digital movie and http://MyServer/MovieService.svc/Movies(6)/Checkout would invoke the action on the specific movie.</span></span> <span data-ttu-id="7c3a7-112">Akce vám umožní vystavit můžete povolit model služby bez vystavení datového modelu.</span><span class="sxs-lookup"><span data-stu-id="7c3a7-112">Actions allow you to expose you service model without exposing your data model.</span></span> <span data-ttu-id="7c3a7-113">Pokračování službu příkladu film s, můžete chtít umožnit uživateli hodnocení filmu, ale ne přímo vystavit data hodnocení jako prostředek.</span><span class="sxs-lookup"><span data-stu-id="7c3a7-113">Continuing with the movie service example, you may wish to allow a user to rate a movie, but not directly expose the rating data as a resource.</span></span> <span data-ttu-id="7c3a7-114">Míra akce chcete umožnit uživatelům hodnocení filmu, ale není přímo přistupovat ke hodnocení data jako prostředek může implementovat.</span><span class="sxs-lookup"><span data-stu-id="7c3a7-114">You could implement a Rate Action to allow the user to rate a movie but not directly access the rating data as a resource.</span></span>  
  
## <a name="implementing-an-action"></a><span data-ttu-id="7c3a7-115">Implementace akce</span><span class="sxs-lookup"><span data-stu-id="7c3a7-115">Implementing an action</span></span>  
 <span data-ttu-id="7c3a7-116">K implementaci akce služby, je nutné implementovat <xref:System.IServiceProvider>, [IDataServiceActionProvider](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceactionprovider(v=vs.113).aspx), a [IDataServiceInvokable](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceinvokable(v=vs.113).aspx) rozhraní.</span><span class="sxs-lookup"><span data-stu-id="7c3a7-116">To implement a service action you must implement the <xref:System.IServiceProvider>, [IDataServiceActionProvider](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceactionprovider(v=vs.113).aspx), and [IDataServiceInvokable](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceinvokable(v=vs.113).aspx) interfaces.</span></span> <span data-ttu-id="7c3a7-117"><xref:System.IServiceProvider> umožňuje získat vaši implementaci služby WCF Data Services [IDataServiceActionProvider](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceactionprovider(v=vs.113).aspx).</span><span class="sxs-lookup"><span data-stu-id="7c3a7-117"><xref:System.IServiceProvider> allows WCF Data Services to get your implementation of [IDataServiceActionProvider](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceactionprovider(v=vs.113).aspx).</span></span> <span data-ttu-id="7c3a7-118">[IDataServiceActionProvider](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceactionprovider(v=vs.113).aspx) umožňuje součásti WCF Data Services k vytvoření, hledání, popis a vyvolání akce služby.</span><span class="sxs-lookup"><span data-stu-id="7c3a7-118">[IDataServiceActionProvider](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceactionprovider(v=vs.113).aspx) allows WCF Data Services to create, find, describe and invoke service actions.</span></span> <span data-ttu-id="7c3a7-119">[IDataServiceInvokable](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceinvokable(v=vs.113).aspx) umožňuje vyvolání kód, který implementuje chování se akce služby a získat výsledky, pokud existuje.</span><span class="sxs-lookup"><span data-stu-id="7c3a7-119">[IDataServiceInvokable](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceinvokable(v=vs.113).aspx) allows you to invoke the code that implements the service actions’ behavior and get the results, if any.</span></span> <span data-ttu-id="7c3a7-120">Mějte na paměti, že jsou služby WCF Data Services za volání služby WCF, novou instanci služby se vytvoří pokaždé, když je volána službu.</span><span class="sxs-lookup"><span data-stu-id="7c3a7-120">Keep in mind that WCF Data Services are Per-Call WCF Services, a new instance of the service will be created each time the service is called.</span></span>  <span data-ttu-id="7c3a7-121">Zajistěte, aby že žádné nepotřebné práci při vytváření služby.</span><span class="sxs-lookup"><span data-stu-id="7c3a7-121">Make sure no unnecessary work is done when the service is created.</span></span>  
  
### <a name="iserviceprovider"></a><span data-ttu-id="7c3a7-122">IServiceProvider</span><span class="sxs-lookup"><span data-stu-id="7c3a7-122">IServiceProvider</span></span>  
 <span data-ttu-id="7c3a7-123"><xref:System.IServiceProvider> obsahuje metodu s názvem <xref:System.IServiceProvider.GetService%2A>.</span><span class="sxs-lookup"><span data-stu-id="7c3a7-123"><xref:System.IServiceProvider> contains a method called <xref:System.IServiceProvider.GetService%2A>.</span></span> <span data-ttu-id="7c3a7-124">Tato metoda je volána služby WCF Data Services načíst počet poskytovatelé služeb, včetně poskytovatelům služeb metadata a data poskytovatelé akce.</span><span class="sxs-lookup"><span data-stu-id="7c3a7-124">This method is called by WCF Data Services to retrieve a number of service providers, including metadata service providers and data service action providers.</span></span> <span data-ttu-id="7c3a7-125">Po zobrazení dotazu pro zprostředkovatele dat služeb akce, vrátí vaše [IDataServiceActionProvider](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceactionprovider(v=vs.113).aspx) implementace.</span><span class="sxs-lookup"><span data-stu-id="7c3a7-125">When asked for a data service action provider, return your [IDataServiceActionProvider](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceactionprovider(v=vs.113).aspx) implementation.</span></span>  
  
### <a name="idataserviceactionprovider"></a><span data-ttu-id="7c3a7-126">IDataServiceActionProvider</span><span class="sxs-lookup"><span data-stu-id="7c3a7-126">IDataServiceActionProvider</span></span>  
 <span data-ttu-id="7c3a7-127">[IDataServiceActionProvider](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceactionprovider(v=vs.113).aspx) obsahuje metody, které vám umožní načíst informace o dostupné akce.</span><span class="sxs-lookup"><span data-stu-id="7c3a7-127">[IDataServiceActionProvider](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceactionprovider(v=vs.113).aspx) contains methods that allow you to retrieve information about the available actions.</span></span> <span data-ttu-id="7c3a7-128">Při implementaci [IDataServiceActionProvider](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceactionprovider(v=vs.113).aspx) metadata jsou rozšířit služby, který je definovaný implementace služby [IDataServiceActionProvider](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceactionprovider(v=vs.113).aspx) s akcemi a zpracování odesílání k těmto akcím podle potřeby.</span><span class="sxs-lookup"><span data-stu-id="7c3a7-128">When you implement [IDataServiceActionProvider](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceactionprovider(v=vs.113).aspx) you are augmenting the metadata for your service which is defined by your service’s implementation of [IDataServiceActionProvider](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceactionprovider(v=vs.113).aspx) with Actions and handling dispatch to those actions as appropriate.</span></span>  
  
#### <a name="advertiseserviceaction"></a><span data-ttu-id="7c3a7-129">AdvertiseServiceAction</span><span class="sxs-lookup"><span data-stu-id="7c3a7-129">AdvertiseServiceAction</span></span>  
 <span data-ttu-id="7c3a7-130">[IDataServiceActionProvider](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceactionprovider.advertiseserviceaction(v=vs.113).aspx) volána k určení, jaké akce jsou k dispozici pro zadaný prostředek.</span><span class="sxs-lookup"><span data-stu-id="7c3a7-130">[IDataServiceActionProvider](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceactionprovider.advertiseserviceaction(v=vs.113).aspx) is called to determine what actions are available for the specified resource.</span></span> <span data-ttu-id="7c3a7-131">Tato metoda je volána pouze pro akce, které nejsou vždycky k dispozici.</span><span class="sxs-lookup"><span data-stu-id="7c3a7-131">This method is only called for actions that are not always available.</span></span> <span data-ttu-id="7c3a7-132">Umožňuje zjistit, zda akce musí být zahrnut v odpovědi OData na základě stavu požadovaný prostředek nebo stav služby.</span><span class="sxs-lookup"><span data-stu-id="7c3a7-132">It is used to check if the action should be included in the OData response based upon the state of the resource being requested or the state of the service.</span></span> <span data-ttu-id="7c3a7-133">Jak se provádí tato kontrola je zcela na vás.</span><span class="sxs-lookup"><span data-stu-id="7c3a7-133">How this check is accomplished is completely up to you.</span></span> <span data-ttu-id="7c3a7-134">Pokud je nákladné výpočet dostupnosti a aktuální prostředek je ve informační kanál, je přijatelné přeskočil kontrolu a inzerování akce.</span><span class="sxs-lookup"><span data-stu-id="7c3a7-134">If it is an expensive to calculate availability and the current resource is in a feed, it is acceptable to skip the check and advertise the action.</span></span> <span data-ttu-id="7c3a7-135">`inFeed` Parametr je nastaven na `true` Pokud aktuální prostředek nevrátila je součástí informačního kanálu.</span><span class="sxs-lookup"><span data-stu-id="7c3a7-135">The `inFeed` parameter is set to `true` if the current resource being returned is part of a feed.</span></span>  
  
#### <a name="createinvokable"></a><span data-ttu-id="7c3a7-136">CreateInvokable</span><span class="sxs-lookup"><span data-stu-id="7c3a7-136">CreateInvokable</span></span>  
 <span data-ttu-id="7c3a7-137">[CreateInvokable](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceactionprovider.createinvokable(v=vs.113).aspx) je volána k vytvoření [IDataServiceInvokable](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceinvokable(v=vs.113).aspx) , obsahuje delegáta, který zapouzdřuje kód, který implementuje chování akce.</span><span class="sxs-lookup"><span data-stu-id="7c3a7-137">[CreateInvokable](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceactionprovider.createinvokable(v=vs.113).aspx) is called to create a [IDataServiceInvokable](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceinvokable(v=vs.113).aspx) that contains a delegate that encapsulates the code that implements the action’s behavior.</span></span> <span data-ttu-id="7c3a7-138">Tím se vytvoří [IDataServiceInvokable](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceinvokable(v=vs.113).aspx) instanci, ale není volání akce.</span><span class="sxs-lookup"><span data-stu-id="7c3a7-138">This creates the [IDataServiceInvokable](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceinvokable(v=vs.113).aspx) instance but does not invoke the action.</span></span> <span data-ttu-id="7c3a7-139">WCF Data Service akce vedlejší efekty a potřebuji fungování ve spojení s poskytovateli aktualizací tyto změny uložit na disk.</span><span class="sxs-lookup"><span data-stu-id="7c3a7-139">WCF Data Service Actions have side effects and need to work in conjunction with the Update Provider to save those changes to disk.</span></span> <span data-ttu-id="7c3a7-140">[IDataServiceInvokable.Invoke](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceinvokable.invoke(v=vs.113).aspx) metoda je volána z poskytovatele aktualizaci SaveChanges() metoda je volána.</span><span class="sxs-lookup"><span data-stu-id="7c3a7-140">The [IDataServiceInvokable.Invoke](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceinvokable.invoke(v=vs.113).aspx) method is called from the Update Provider’s SaveChanges() method is called.</span></span>  
  
#### <a name="getserviceactions"></a><span data-ttu-id="7c3a7-141">GetServiceActions</span><span class="sxs-lookup"><span data-stu-id="7c3a7-141">GetServiceActions</span></span>  
 <span data-ttu-id="7c3a7-142">Tato metoda vrátí kolekci [ServiceAction](https://msdn.microsoft.com/library/system.data.services.providers.serviceaction(v=vs.113).aspx) instance, která představuje všechny akce, které zpřístupňuje datové služby WCF.</span><span class="sxs-lookup"><span data-stu-id="7c3a7-142">This method returns a collection of [ServiceAction](https://msdn.microsoft.com/library/system.data.services.providers.serviceaction(v=vs.113).aspx) instances that represent all of the actions a WCF Data Service exposes.</span></span> <span data-ttu-id="7c3a7-143">[ServiceAction](https://msdn.microsoft.com/library/system.data.services.providers.serviceaction(v=vs.113).aspx) je reprezentace metadata akce, které obsahují informace jako název akce, jeho parametry a návratový typ.</span><span class="sxs-lookup"><span data-stu-id="7c3a7-143">[ServiceAction](https://msdn.microsoft.com/library/system.data.services.providers.serviceaction(v=vs.113).aspx) is the metadata representation of an Action, that includes information like the Action name, its parameters, and its return type.</span></span>  
  
#### <a name="getserviceactionsbybindingparametertype"></a><span data-ttu-id="7c3a7-144">GetServiceActionsByBindingParameterType</span><span class="sxs-lookup"><span data-stu-id="7c3a7-144">GetServiceActionsByBindingParameterType</span></span>  
 <span data-ttu-id="7c3a7-145">Tato metoda vrátí kolekci všech [ServiceAction](https://msdn.microsoft.com/library/system.data.services.providers.serviceaction(v=vs.113).aspx) instancí, které mohou být vázány na typ parametru Zadaná vazba.</span><span class="sxs-lookup"><span data-stu-id="7c3a7-145">This method returns a collection of all [ServiceAction](https://msdn.microsoft.com/library/system.data.services.providers.serviceaction(v=vs.113).aspx) instances that can be bound to the specified binding parameter type.</span></span> <span data-ttu-id="7c3a7-146">Jinými slovy, všechny [ServiceAction](https://msdn.microsoft.com/library/system.data.services.providers.serviceaction(v=vs.113).aspx)s, který může fungovat na zadaný typ prostředku (také nazývané typ parametru vazby). To se používá, když se služba vrátí prostředek aby obsahovaly informace o akcích, které mohou být vyvolány proti prostředku.</span><span class="sxs-lookup"><span data-stu-id="7c3a7-146">In other words, all [ServiceAction](https://msdn.microsoft.com/library/system.data.services.providers.serviceaction(v=vs.113).aspx)s that can act on the specified resource type (also called binding parameter type).This is used when the service returns a resource in order to include information about Actions that can be invoked against that resource.</span></span> <span data-ttu-id="7c3a7-147">Tato metoda by měla vrátit pouze akce, které můžete vázat na typ parametru vazby přesný (žádné odvozené typy).</span><span class="sxs-lookup"><span data-stu-id="7c3a7-147">This method should only return actions that can bind to the exact binding parameter type (no derived types).</span></span> <span data-ttu-id="7c3a7-148">Tato metoda je volána jednou na základě požadavku na typ a výsledek je uložené v mezipaměti služby WCF Data Services.</span><span class="sxs-lookup"><span data-stu-id="7c3a7-148">This method is called once per request per type encountered and the result is cached by WCF Data Services.</span></span>  
  
#### <a name="tryresolveserviceaction"></a><span data-ttu-id="7c3a7-149">TryResolveServiceAction</span><span class="sxs-lookup"><span data-stu-id="7c3a7-149">TryResolveServiceAction</span></span>  
 <span data-ttu-id="7c3a7-150">Tato metoda vyhledá zadanou [ServiceAction](https://msdn.microsoft.com/library/system.data.services.providers.serviceaction(v=vs.113).aspx) a vrátí `true` Pokud [ServiceAction](https://msdn.microsoft.com/library/system.data.services.providers.serviceaction(v=vs.113).aspx) nalezen.</span><span class="sxs-lookup"><span data-stu-id="7c3a7-150">This method searches for a specified [ServiceAction](https://msdn.microsoft.com/library/system.data.services.providers.serviceaction(v=vs.113).aspx) and returns `true` if the [ServiceAction](https://msdn.microsoft.com/library/system.data.services.providers.serviceaction(v=vs.113).aspx) is found.</span></span> <span data-ttu-id="7c3a7-151">Pokud se najde, [ServiceAction](https://msdn.microsoft.com/library/system.data.services.providers.serviceaction(v=vs.113).aspx) je vrácený v `serviceAction``out` parametr.</span><span class="sxs-lookup"><span data-stu-id="7c3a7-151">If found, the [ServiceAction](https://msdn.microsoft.com/library/system.data.services.providers.serviceaction(v=vs.113).aspx) is returned in the `serviceAction``out` parameter.</span></span>  
  
### <a name="idataserviceinvokable"></a><span data-ttu-id="7c3a7-152">IDataServiceInvokable</span><span class="sxs-lookup"><span data-stu-id="7c3a7-152">IDataServiceInvokable</span></span>  
 <span data-ttu-id="7c3a7-153">Toto rozhraní poskytuje způsob, jak provést akci WCF Data Service.</span><span class="sxs-lookup"><span data-stu-id="7c3a7-153">This interface provides a way to execute a WCF Data Service Action.</span></span> <span data-ttu-id="7c3a7-154">Při implementaci IDataServiceInvokable jste zodpovědní za 3 věcí:</span><span class="sxs-lookup"><span data-stu-id="7c3a7-154">When implementing IDataServiceInvokable you are responsible for 3 things:</span></span>  
  
1.  <span data-ttu-id="7c3a7-155">Zaznamenání a potenciálně zařazování parametry</span><span class="sxs-lookup"><span data-stu-id="7c3a7-155">Capturing and potentially marshaling the parameters</span></span>  
  
2.  <span data-ttu-id="7c3a7-156">Odeslání parametry, které chcete kód, který ve skutečnosti implementuje akci při volání Invoke</span><span class="sxs-lookup"><span data-stu-id="7c3a7-156">Dispatching the parameters to the code that actually implements the Action when Invoke() is called</span></span>  
  
3.  <span data-ttu-id="7c3a7-157">Ukládání žádné výsledkem Invoke, takže je může načíst pomocí GetResult()</span><span class="sxs-lookup"><span data-stu-id="7c3a7-157">Storing any results from Invoke() so they can be retrieved using GetResult()</span></span>  
  
 <span data-ttu-id="7c3a7-158">Parametry mohou být předána jako tokeny.</span><span class="sxs-lookup"><span data-stu-id="7c3a7-158">The parameters may be passed as tokens.</span></span> <span data-ttu-id="7c3a7-159">Je to proto, že je možné zapisovat zprostředkovatele dat služby, který funguje s tokeny, které představují prostředky, pokud se jedná o tento případ, budete muset převést (zařazování) tyto tokeny do skutečné zdroje před odesláním do skutečné akce.</span><span class="sxs-lookup"><span data-stu-id="7c3a7-159">This is because it is possible to write a Data Service Provider that works with tokens that represent resources, if this is the case you may need to convert (marshal) these tokens into actual resources before dispatching to the actual action.</span></span> <span data-ttu-id="7c3a7-160">Po parametr byl zařazeno, musí být ve stavu upravovat tak, aby všechny změny na prostředek, ke kterým došlo při vyvolání akce budou uložené a zapsaný na disk.</span><span class="sxs-lookup"><span data-stu-id="7c3a7-160">After the parameter has been marshalled, it must be in an editable state so that any changes to the resource that occur when the action is invoked will be saved and written to disk.</span></span>  
  
 <span data-ttu-id="7c3a7-161">Toto rozhraní vyžaduje dvě metody: vyvolání a GetResult.</span><span class="sxs-lookup"><span data-stu-id="7c3a7-161">This interface requires two methods: Invoke and GetResult.</span></span> <span data-ttu-id="7c3a7-162">Vyvolání vyvolá delegáta, který implementuje chování akce a vrátí GetResult výsledek akce.</span><span class="sxs-lookup"><span data-stu-id="7c3a7-162">Invoke invokes the delegate that implements the action’s behavior and GetResult returns the result of the action.</span></span>  
  
## <a name="invoking-a-wcf-data-service-action"></a><span data-ttu-id="7c3a7-163">Vyvolání akce WCF Data Service</span><span class="sxs-lookup"><span data-stu-id="7c3a7-163">Invoking a WCF Data Service Action</span></span>  
 <span data-ttu-id="7c3a7-164">Akce jsou vyvolány pomocí požadavku HTTP POST.</span><span class="sxs-lookup"><span data-stu-id="7c3a7-164">Actions are invoked using an HTTP POST request.</span></span> <span data-ttu-id="7c3a7-165">Adresa URL určuje prostředky, za nímž následuje název akce.</span><span class="sxs-lookup"><span data-stu-id="7c3a7-165">The URL specifies the resource followed by the action name.</span></span> <span data-ttu-id="7c3a7-166">Parametry jsou předány v textu požadavku.</span><span class="sxs-lookup"><span data-stu-id="7c3a7-166">Parameters are passed in the body of the request.</span></span> <span data-ttu-id="7c3a7-167">Například pokud se služba s názvem MovieService, které poskytovaly akce vyvolaná rychlost.</span><span class="sxs-lookup"><span data-stu-id="7c3a7-167">For example if there was a service called MovieService which exposed an action called Rate.</span></span> <span data-ttu-id="7c3a7-168">Můžete použít následující adresu URL pro vyvolání akce míra na konkrétní film:</span><span class="sxs-lookup"><span data-stu-id="7c3a7-168">You could use the following URL to invoke the Rate action on a specific movie:</span></span>  
  
 http://MovieServer/MovieService.svc/Movies(1)/Rate  
  
 <span data-ttu-id="7c3a7-169">Movies(1) určuje film, který si přejete rychlost a rychlost Určuje rychlost akci.</span><span class="sxs-lookup"><span data-stu-id="7c3a7-169">Movies(1) specifies the movie you wish to rate and Rate specifies the Rate action.</span></span> <span data-ttu-id="7c3a7-170">Skutečná hodnota hodnocení bude v textu požadavku HTTP, jak je znázorněno v následujícím příkladu:</span><span class="sxs-lookup"><span data-stu-id="7c3a7-170">The actual value of the rating will be in the body of the HTTP request as shown in the following example:</span></span>  
  
```  
POST http://MovieServer/MoviesService.svc/Movies(1)/Rate HTTP/1.1   
Content-Type: application/json   
Content-Length: 20   
Host: localhost:15238  
{   
   "rating": 4   
}  
```  
  
> [!WARNING]
>  <span data-ttu-id="7c3a7-171">Výše uvedený ukázkový kód budou fungovat jenom s WCF Data Services 5.2 a novějším, na kterém je podpora pro formát JSON light.</span><span class="sxs-lookup"><span data-stu-id="7c3a7-171">The above sample code will work only with WCF Data Services 5.2 and later which has support for JSON light.</span></span> <span data-ttu-id="7c3a7-172">Pokud používáte starší verzi datové služby WCF, je nutné zadat typ podrobné-obsah json následujícím způsobem: `application/json;odata=verbose`.</span><span class="sxs-lookup"><span data-stu-id="7c3a7-172">If using an earlier version of WCF Data Services, you must specify the json verbose content-type as follows: `application/json;odata=verbose`.</span></span>  
  
 <span data-ttu-id="7c3a7-173">Případně můžete vyvolat akci pomocí klienta WCF Data Services, jak je znázorněno v následující fragment kódu.</span><span class="sxs-lookup"><span data-stu-id="7c3a7-173">Alternatively you can invoke an action using the WCF Data Services Client as shown in the following code snippet.</span></span>  
  
```  
MoviesModel context = new MoviesModel (new Uri("http://MyServer/MoviesService.svc/"));  
            //...  
            context.Execute(new Uri("http://MyServer/MoviesService.svc/Movies(1)/Rate"), "POST", new BodyOperationParameter("rating",4) );           
```  
  
 <span data-ttu-id="7c3a7-174">Ve výše, fragmentu kódu `MoviesModel` třída byl vytvořen pomocí sady Visual Studio přidat odkaz na službu služby WCF Data Service.</span><span class="sxs-lookup"><span data-stu-id="7c3a7-174">In the code snippet above, the `MoviesModel` class was generated by using Visual Studio to Add Service Reference to a WCF Data Service.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="7c3a7-175">Viz také</span><span class="sxs-lookup"><span data-stu-id="7c3a7-175">See Also</span></span>  
 [<span data-ttu-id="7c3a7-176">WCF Data Services 4.5</span><span class="sxs-lookup"><span data-stu-id="7c3a7-176">WCF Data Services 4.5</span></span>](../../../../docs/framework/data/wcf/index.md)  
 [<span data-ttu-id="7c3a7-177">Definování datových služeb WCF Data Services</span><span class="sxs-lookup"><span data-stu-id="7c3a7-177">Defining WCF Data Services</span></span>](../../../../docs/framework/data/wcf/defining-wcf-data-services.md)  
 [<span data-ttu-id="7c3a7-178">Vývoj a nasazení služeb WCF Data Services</span><span class="sxs-lookup"><span data-stu-id="7c3a7-178">Developing and Deploying WCF Data Services</span></span>](../../../../docs/framework/data/wcf/developing-and-deploying-wcf-data-services.md)  
 [<span data-ttu-id="7c3a7-179">Vlastní zprostředkovatelé datových služeb</span><span class="sxs-lookup"><span data-stu-id="7c3a7-179">Custom Data Service Providers</span></span>](../../../../docs/framework/data/wcf/custom-data-service-providers-wcf-data-services.md)
