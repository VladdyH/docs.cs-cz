---
title: "Správa verzí služby dat (služby WCF Data Services)"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework-oob
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- versioning, WCF Data Services
- versioning [WCF Data Services]
- WCF Data Services, versioning
ms.assetid: e3e899cc-7f25-4f67-958f-063f01f79766
caps.latest.revision: "9"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.openlocfilehash: 545096292f34566b4bb6c3c44bb20ddac426af26
ms.sourcegitcommit: ce279f2d7fe2220e6ea0a25a8a7a5370ddf8d9f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 12/02/2017
---
# <a name="data-service-versioning-wcf-data-services"></a><span data-ttu-id="05ee3-102">Správa verzí služby dat (služby WCF Data Services)</span><span class="sxs-lookup"><span data-stu-id="05ee3-102">Data Service Versioning (WCF Data Services)</span></span>
<span data-ttu-id="05ee3-103">[!INCLUDE[ssODataFull](../../../../includes/ssodatafull-md.md)] Můžete vytvořit datové služby tak, aby klienti přístup k datům jako prostředky pomocí identifikátory URI, které jsou založeny na datový model.</span><span class="sxs-lookup"><span data-stu-id="05ee3-103">The [!INCLUDE[ssODataFull](../../../../includes/ssodatafull-md.md)] enables you to create data services so that clients can access data as resources using URIs that are based on a data model.</span></span> [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)]<span data-ttu-id="05ee3-104">podporuje také definice operací služby.</span><span class="sxs-lookup"><span data-stu-id="05ee3-104"> also supports the definition of service operations.</span></span> <span data-ttu-id="05ee3-105">Po počátečním nasazení a potenciálně několikrát během své životnosti, tato data services bude pravděpodobně nutné změnit z různých důvodů, jako je například změna obchodních potřeb, požadavků informačních technologií, nebo jiných problémů.</span><span class="sxs-lookup"><span data-stu-id="05ee3-105">After initial deployment, and potentially several times during their lifetime, these data services may need to be changed for a variety of reasons, such as changing business needs, information technology requirements, or to address other issues.</span></span> <span data-ttu-id="05ee3-106">Pokud provedete změny do existující služby data, musí se zvážit, zda chcete definovat novou verzi dat služby a jak nejlepší minimalizaci dopadů na existující klientské aplikace.</span><span class="sxs-lookup"><span data-stu-id="05ee3-106">When you make changes to an existing data service, you must consider whether to define a new version of your data service and how best to minimize the impact on existing client applications.</span></span> <span data-ttu-id="05ee3-107">Toto téma obsahuje pokyny k kdy a jak vytvořit novou verzi datové služby.</span><span class="sxs-lookup"><span data-stu-id="05ee3-107">This topic provides guidance on when and how to create a new version of a data service.</span></span> <span data-ttu-id="05ee3-108">Také popisuje, jak [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] zpracovává exchange mezi klienty a datové služby, které podporují různé verze [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] protokolu.</span><span class="sxs-lookup"><span data-stu-id="05ee3-108">It also describes how [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] handles an exchange between clients and data services that support different versions of the [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] protocol.</span></span>  
  
## <a name="versioning-a-wcf-data-service"></a><span data-ttu-id="05ee3-109">Správa verzí služby WCF Data Service</span><span class="sxs-lookup"><span data-stu-id="05ee3-109">Versioning a WCF Data Service</span></span>  
 <span data-ttu-id="05ee3-110">Jakmile je nasazená služba dat a dat spotřebovává, změny dat služby by mohly způsobit problémy s kompatibilitou se stávajícími aplikacemi klienta.</span><span class="sxs-lookup"><span data-stu-id="05ee3-110">Once a data service is deployed and the data is being consumed, changes to the data service have the potential to cause compatibility issues with existing client applications.</span></span> <span data-ttu-id="05ee3-111">Ale protože změny jsou často vyžadované celkové obchodním potřebám služby, musíte zvážit kdy a jak vytvořit novou verzi služby data s nejmenší dopad na klientovi aplikace.</span><span class="sxs-lookup"><span data-stu-id="05ee3-111">However, because changes are often required by the overall business needs of the service, you must consider when and how to create a new version of your data service with the least impact on client applications.</span></span>  
  
### <a name="data-model-changes-that-recommend-a-new-data-service-version"></a><span data-ttu-id="05ee3-112">Změn datových modelů, které doporučujeme nové verze datové služby</span><span class="sxs-lookup"><span data-stu-id="05ee3-112">Data Model Changes that Recommend a New Data Service Version</span></span>  
 <span data-ttu-id="05ee3-113">Při určování, zda publikovat novou verzi datové služby, je důležité pochopit, jak různé druhy změny mohou ovlivnit klientské aplikace.</span><span class="sxs-lookup"><span data-stu-id="05ee3-113">When considering whether to publish a new version of a data service, it is important to understand how the different kinds of changes may affect client applications.</span></span> <span data-ttu-id="05ee3-114">Změny ke službě data, která může vyžadovat, abyste vytvořili novou verzi datové služby je možné rozdělit do těchto dvou kategorií:</span><span class="sxs-lookup"><span data-stu-id="05ee3-114">Changes to a data service that might require you to create a new version of a data service can be divided into the following two categories:</span></span>  
  
-   <span data-ttu-id="05ee3-115">Změny kontrakt služby, mezi které patří aktualizace operace služby, změny usnadnění sad entit (kanály), verze změny a jiné změny chování služby.</span><span class="sxs-lookup"><span data-stu-id="05ee3-115">Changes to the service contract—which include updates to service operations, changes to the accessibility of entity sets (feeds), version changes, and other changes to service behaviors.</span></span>  
  
-   <span data-ttu-id="05ee3-116">Změny kontrakt dat, které zahrnují změny do datového modelu, kanálu formáty nebo informačního kanálu vlastní nastavení.</span><span class="sxs-lookup"><span data-stu-id="05ee3-116">Changes to the data contract—which include changes to the data model, feed formats, or feed customizations.</span></span>  
  
 <span data-ttu-id="05ee3-117">Následující podrobnosti tabulky, pro jaké typy změn, měli byste zvážit publikování nové verze datové služby:</span><span class="sxs-lookup"><span data-stu-id="05ee3-117">The following table details for which kinds of changes you should consider publishing a new version of the data service:</span></span>  
  
|<span data-ttu-id="05ee3-118">Typ změny</span><span class="sxs-lookup"><span data-stu-id="05ee3-118">Type of Change</span></span>|<span data-ttu-id="05ee3-119">Vyžaduje nová verze</span><span class="sxs-lookup"><span data-stu-id="05ee3-119">Requires a new version</span></span>|<span data-ttu-id="05ee3-120">Nová verze není potřeba.</span><span class="sxs-lookup"><span data-stu-id="05ee3-120">New version not needed</span></span>|  
|--------------------|----------------------------|----------------------------|  
|<span data-ttu-id="05ee3-121">Operace služby</span><span class="sxs-lookup"><span data-stu-id="05ee3-121">Service operations</span></span>|<span data-ttu-id="05ee3-122">-Přidat nový parametr</span><span class="sxs-lookup"><span data-stu-id="05ee3-122">-   Add new parameter</span></span><br /><span data-ttu-id="05ee3-123">-Změna návratový typ</span><span class="sxs-lookup"><span data-stu-id="05ee3-123">-   Change return type</span></span><br /><span data-ttu-id="05ee3-124">-Odebrání operaci služby</span><span class="sxs-lookup"><span data-stu-id="05ee3-124">-   Remove service operation</span></span>|<span data-ttu-id="05ee3-125">-Odstranit existující parametr</span><span class="sxs-lookup"><span data-stu-id="05ee3-125">-   Delete existing parameter</span></span><br /><span data-ttu-id="05ee3-126">-Přidat nové operaci služby</span><span class="sxs-lookup"><span data-stu-id="05ee3-126">-   Add new service operation</span></span>|  
|<span data-ttu-id="05ee3-127">Chování služby</span><span class="sxs-lookup"><span data-stu-id="05ee3-127">Service behaviors</span></span>|<span data-ttu-id="05ee3-128">-Zakázání počet požadavků</span><span class="sxs-lookup"><span data-stu-id="05ee3-128">-   Disable count requests</span></span><br /><span data-ttu-id="05ee3-129">-Zakažte podporu projekce</span><span class="sxs-lookup"><span data-stu-id="05ee3-129">-   Disable projection support</span></span><br /><span data-ttu-id="05ee3-130">-Zvýšit verze požadované datové služby</span><span class="sxs-lookup"><span data-stu-id="05ee3-130">-   Increase the required data service version</span></span>|<span data-ttu-id="05ee3-131">-Povolit počet požadavků</span><span class="sxs-lookup"><span data-stu-id="05ee3-131">-   Enable count requests</span></span><br /><span data-ttu-id="05ee3-132">-Povolit podporu projekce</span><span class="sxs-lookup"><span data-stu-id="05ee3-132">-   Enable projection support</span></span><br /><span data-ttu-id="05ee3-133">-Snížit verze požadované datové služby</span><span class="sxs-lookup"><span data-stu-id="05ee3-133">-   Decrease the required data service version</span></span>|  
|<span data-ttu-id="05ee3-134">Sada entit oprávnění</span><span class="sxs-lookup"><span data-stu-id="05ee3-134">Entity set permissions</span></span>|<span data-ttu-id="05ee3-135">-Omezit oprávnění sady entit</span><span class="sxs-lookup"><span data-stu-id="05ee3-135">-   Restrict entity set permissions</span></span><br /><span data-ttu-id="05ee3-136">-Změnit kód odpovědi (nové první hodnota číslice) <sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="05ee3-136">-   Change response code (new first digit value) <sup>1</sup></span></span>|<span data-ttu-id="05ee3-137">-Uvolnění entity nastavte oprávnění.</span><span class="sxs-lookup"><span data-stu-id="05ee3-137">-   Relax entity set permissions</span></span><br /><span data-ttu-id="05ee3-138">-Změnit kód odpovědi (stejné první hodnota číslice)</span><span class="sxs-lookup"><span data-stu-id="05ee3-138">-   Change response code (same first digit value)</span></span>|  
|<span data-ttu-id="05ee3-139">Vlastnosti entity</span><span class="sxs-lookup"><span data-stu-id="05ee3-139">Entity properties</span></span>|<span data-ttu-id="05ee3-140">-Odebrat existující vlastnosti nebo relaci</span><span class="sxs-lookup"><span data-stu-id="05ee3-140">-   Remove existing property or relationship</span></span><br /><span data-ttu-id="05ee3-141">-Přidat vlastnost neumožňující hodnotu Null</span><span class="sxs-lookup"><span data-stu-id="05ee3-141">-   Add non-nullable property</span></span><br /><span data-ttu-id="05ee3-142">-Změna existující vlastnosti</span><span class="sxs-lookup"><span data-stu-id="05ee3-142">-   Change existing property</span></span>|<span data-ttu-id="05ee3-143">-Přidat vlastnost nullable<sup>2</sup></span><span class="sxs-lookup"><span data-stu-id="05ee3-143">-   Add nullable property<sup>2</sup></span></span>|  
|<span data-ttu-id="05ee3-144">Sad entit</span><span class="sxs-lookup"><span data-stu-id="05ee3-144">Entity sets</span></span>|<span data-ttu-id="05ee3-145">-Odebrání sady entit</span><span class="sxs-lookup"><span data-stu-id="05ee3-145">-   Remove entity set</span></span>|<span data-ttu-id="05ee3-146">-Přidat odvozený typ</span><span class="sxs-lookup"><span data-stu-id="05ee3-146">-   Add derived type</span></span><br /><span data-ttu-id="05ee3-147">-Změňte základní typ</span><span class="sxs-lookup"><span data-stu-id="05ee3-147">-   Change base type</span></span><br /><span data-ttu-id="05ee3-148">-Přidat sadu entit</span><span class="sxs-lookup"><span data-stu-id="05ee3-148">-   Add entity set</span></span>|  
|<span data-ttu-id="05ee3-149">Přizpůsobení informačního kanálu</span><span class="sxs-lookup"><span data-stu-id="05ee3-149">Feed customization</span></span>|<span data-ttu-id="05ee3-150">-Změnit vlastnost entity mapování</span><span class="sxs-lookup"><span data-stu-id="05ee3-150">-   Change entity-property mapping</span></span>||  
  
 <span data-ttu-id="05ee3-151"><sup>1</sup> to může záviset na jak výhradně klientskou aplikaci spoléhá na příjem určitý kód chyby.</span><span class="sxs-lookup"><span data-stu-id="05ee3-151"><sup>1</sup> This may depend on how strictly a client application relies on receiving a specific error code.</span></span>  
  
 <span data-ttu-id="05ee3-152"><sup>2</sup> můžete nastavit <xref:System.Data.Services.Client.DataServiceContext.IgnoreMissingProperties%2A> vlastnost `true` váš klient bude ignorovat všechny nové vlastnosti odeslaných službou dat, které nejsou definovány na straně klienta.</span><span class="sxs-lookup"><span data-stu-id="05ee3-152"><sup>2</sup> You can set the <xref:System.Data.Services.Client.DataServiceContext.IgnoreMissingProperties%2A> property to `true` to have the client ignore any new properties sent by the data service that are not defined on the client.</span></span> <span data-ttu-id="05ee3-153">Ale při vložení, vlastnosti neobsažených klientem v požadavku POST jsou nastaveny na výchozí hodnoty.</span><span class="sxs-lookup"><span data-stu-id="05ee3-153">However, when inserts are made, the properties not included by the client in the POST request are set to their default values.</span></span> <span data-ttu-id="05ee3-154">Aktualizace může být jakákoli stávající data v klientovi Neznámá vlastnost přepsána s výchozími hodnotami.</span><span class="sxs-lookup"><span data-stu-id="05ee3-154">For updates, any existing data in a property unknown to the client might be overwritten with default values.</span></span> <span data-ttu-id="05ee3-155">V takovém případě byste měli odeslat aktualizace jako požadavek SLOUČENÍ, což je výchozí hodnota.</span><span class="sxs-lookup"><span data-stu-id="05ee3-155">In this case, you should send the update as a MERGE request, which is the default.</span></span> <span data-ttu-id="05ee3-156">Další informace najdete v tématu [Správa služby kontextu dat](../../../../docs/framework/data/wcf/managing-the-data-service-context-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="05ee3-156">For more information, see [Managing the Data Service Context](../../../../docs/framework/data/wcf/managing-the-data-service-context-wcf-data-services.md).</span></span>  
  
### <a name="how-to-version-a-data-service"></a><span data-ttu-id="05ee3-157">Postup verze datové služby</span><span class="sxs-lookup"><span data-stu-id="05ee3-157">How to Version a Data Service</span></span>  
 <span data-ttu-id="05ee3-158">Pokud jsou povinné, nové verze datové služby je definována vytvoření nové instance služby s aktualizovanou kontrakt nebo dat modelu.</span><span class="sxs-lookup"><span data-stu-id="05ee3-158">When required, a new data service version is defined by creating a new instance of the service with an updated service contract or data model.</span></span> <span data-ttu-id="05ee3-159">Toto nové služby je pak zpřístupněná pomocí nového identifikátoru URI koncového bodu, která odlišuje jej od předchozí verze.</span><span class="sxs-lookup"><span data-stu-id="05ee3-159">This new service is then exposed by using a new URI endpoint, which differentiates it from the previous version.</span></span> <span data-ttu-id="05ee3-160">Příklad:</span><span class="sxs-lookup"><span data-stu-id="05ee3-160">For example:</span></span>  
  
-   <span data-ttu-id="05ee3-161">Stará verze:`http://services.odata.org/Northwind/v1/Northwind.svc/`</span><span class="sxs-lookup"><span data-stu-id="05ee3-161">Old version: `http://services.odata.org/Northwind/v1/Northwind.svc/`</span></span>  
  
-   <span data-ttu-id="05ee3-162">Nová verze:`http://services.odata.org/Northwind/v2/Northwind.svc/`</span><span class="sxs-lookup"><span data-stu-id="05ee3-162">New version: `http://services.odata.org/Northwind/v2/Northwind.svc/`</span></span>  
  
 <span data-ttu-id="05ee3-163">Při upgradování datové služby, klienti se musí taky aktualizovat založenou na nové metadata služby data a použití nového kořenového identifikátoru URI.</span><span class="sxs-lookup"><span data-stu-id="05ee3-163">When upgrading a data service, clients will need to also be updated based on the new data service metadata and to use the new root URI.</span></span> <span data-ttu-id="05ee3-164">Pokud je to možné, je vhodné ponechat předchozí verze datové služby pro podporu klientů, které dosud nebyly upgradovány na použití nové verze.</span><span class="sxs-lookup"><span data-stu-id="05ee3-164">When possible, you should maintain the previous version of the data service to support clients that have not yet been upgraded to use the new version.</span></span> <span data-ttu-id="05ee3-165">Starší verze datové služby můžete odebrat, pokud už nejsou potřeba.</span><span class="sxs-lookup"><span data-stu-id="05ee3-165">Older versions of a data service can be removed when they are no longer needed.</span></span> <span data-ttu-id="05ee3-166">Měli byste zvážit, udržování koncový bod služby data URI v externí konfigurační soubor.</span><span class="sxs-lookup"><span data-stu-id="05ee3-166">You should consider maintaining the data service endpoint URI in an external configuration file.</span></span>  
  
## <a name="odata-protocol-versions"></a><span data-ttu-id="05ee3-167">Verze protokolu OData</span><span class="sxs-lookup"><span data-stu-id="05ee3-167">OData Protocol Versions</span></span>  
 <span data-ttu-id="05ee3-168">Jako nové verze [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] jsou vydání, klientské aplikace nemusí používat stejnou verzi [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] protokol, který je podporován službou data.</span><span class="sxs-lookup"><span data-stu-id="05ee3-168">As new versions of [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] are released, client applications may not be using the same version of the [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] protocol that is supported by the data service.</span></span> <span data-ttu-id="05ee3-169">Starší klientské aplikace mohou přistupovat k služba dat, která podporuje novější verzi [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)].</span><span class="sxs-lookup"><span data-stu-id="05ee3-169">An older client application may access a data service that supports a newer version of [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)].</span></span> <span data-ttu-id="05ee3-170">Klientská aplikace může také používat na novější verzi [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] klientské knihovny, která podporuje novější verzi [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] než službu data, která se právě využívají.</span><span class="sxs-lookup"><span data-stu-id="05ee3-170">A client application may also be using a newer version of the [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] client library, which supports a newer version of [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] than does the data service that is being accessed.</span></span>  
  
 [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)]<span data-ttu-id="05ee3-171">využívá podpora poskytovaná [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] pro zpracování takových scénářů správy verzí.</span><span class="sxs-lookup"><span data-stu-id="05ee3-171"> leverages the support provided by [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] to handle such versioning scenarios.</span></span> <span data-ttu-id="05ee3-172">Je také podpora pro vytváření a používání metadat modelu dat k vytvoření klienta datových služba tříd, když klient používá jinou verzi [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] než služba data používá.</span><span class="sxs-lookup"><span data-stu-id="05ee3-172">There is also support for generating and using data model metadata to create client data service classes when the client uses a different version of [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] than the data service uses.</span></span> <span data-ttu-id="05ee3-173">Další informace najdete v tématu [OData: Správa verzí protokolu](http://go.microsoft.com/fwlink/?LinkId=186071).</span><span class="sxs-lookup"><span data-stu-id="05ee3-173">For more information, see [OData: Protocol Versioning](http://go.microsoft.com/fwlink/?LinkId=186071).</span></span>  
  
### <a name="version-negotiation"></a><span data-ttu-id="05ee3-174">Verze vyjednávání</span><span class="sxs-lookup"><span data-stu-id="05ee3-174">Version Negotiation</span></span>  
 <span data-ttu-id="05ee3-175">Služba data lze nakonfigurovat pro definování nejvyšší verzi [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] protokol, který budou používat služby, bez ohledu na verzi, kterou klient požaduje.</span><span class="sxs-lookup"><span data-stu-id="05ee3-175">The data service can be configured to define the highest version of the [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] protocol that will be used by the service, regardless of the version requested by the client.</span></span> <span data-ttu-id="05ee3-176">To provedete tak, že zadáte <xref:System.Data.Services.Common.DataServiceProtocolVersion> hodnota <xref:System.Data.Services.DataServiceBehavior.MaxProtocolVersion%2A> vlastnost <xref:System.Data.Services.DataServiceBehavior> používá službu data.</span><span class="sxs-lookup"><span data-stu-id="05ee3-176">You can do this by specifying a <xref:System.Data.Services.Common.DataServiceProtocolVersion> value for the <xref:System.Data.Services.DataServiceBehavior.MaxProtocolVersion%2A> property of the <xref:System.Data.Services.DataServiceBehavior> used by the data service.</span></span> <span data-ttu-id="05ee3-177">Další informace najdete v tématu [konfigurace službu Data](../../../../docs/framework/data/wcf/configuring-the-data-service-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="05ee3-177">For more information, see [Configuring the Data Service](../../../../docs/framework/data/wcf/configuring-the-data-service-wcf-data-services.md).</span></span>  
  
 <span data-ttu-id="05ee3-178">Pokud aplikace používá [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] klientské knihovny pro přístup k datové služby, knihovny automaticky nastavit tyto hlavičky správné hodnoty, v závislosti na verzi [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] a funkce, které se používají ve vaší aplikaci.</span><span class="sxs-lookup"><span data-stu-id="05ee3-178">When an application uses the [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] client libraries to access a data service, the libraries automatically set these headers to the correct values, depending on the version of [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] and the features that are used in your application.</span></span> <span data-ttu-id="05ee3-179">Ve výchozím nastavení [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] používá nejnižší verze protokolu, který podporuje požadovanou operaci.</span><span class="sxs-lookup"><span data-stu-id="05ee3-179">By default, [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] uses the lowest protocol version that supports the requested operation.</span></span>  
  
 <span data-ttu-id="05ee3-180">V následující tabulce jsou verze [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] a [!INCLUDE[silverlight](../../../../includes/silverlight-md.md)] , zahrnout [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] podporu pro určité verze [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] protokolu.</span><span class="sxs-lookup"><span data-stu-id="05ee3-180">The following table details the versions of [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] and [!INCLUDE[silverlight](../../../../includes/silverlight-md.md)] that include [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] support for specific versions of the [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] protocol.</span></span>  
  
|[!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)]<span data-ttu-id="05ee3-181">Verze protokolu</span><span class="sxs-lookup"><span data-stu-id="05ee3-181"> Protocol Version</span></span>|<span data-ttu-id="05ee3-182">Podpora byla zavedená v...</span><span class="sxs-lookup"><span data-stu-id="05ee3-182">Support introduced in…</span></span>|  
|-----------------------------------------------------------------------------------|----------------------------|  
|<span data-ttu-id="05ee3-183">Verze 1</span><span class="sxs-lookup"><span data-stu-id="05ee3-183">Version 1</span></span>|<span data-ttu-id="05ee3-184">-   [!INCLUDE[netfx35_long](../../../../includes/netfx35-long-md.md)]Aktualizace Service Pack 1 (SP1)</span><span class="sxs-lookup"><span data-stu-id="05ee3-184">-   [!INCLUDE[netfx35_long](../../../../includes/netfx35-long-md.md)] Service Pack 1 (SP1)</span></span><br /><span data-ttu-id="05ee3-185">-   [!INCLUDE[silverlight](../../../../includes/silverlight-md.md)]verze 3</span><span class="sxs-lookup"><span data-stu-id="05ee3-185">-   [!INCLUDE[silverlight](../../../../includes/silverlight-md.md)] version 3</span></span>|  
|<span data-ttu-id="05ee3-186">Verze 2</span><span class="sxs-lookup"><span data-stu-id="05ee3-186">Version 2</span></span>|-   [!INCLUDE[netfx40_long](../../../../includes/netfx40-long-md.md)]<br /><span data-ttu-id="05ee3-187">-Aktualizace [!INCLUDE[netfx35_long](../../../../includes/netfx35-long-md.md)] SP1.</span><span class="sxs-lookup"><span data-stu-id="05ee3-187">-   An update to [!INCLUDE[netfx35_long](../../../../includes/netfx35-long-md.md)] SP1.</span></span> <span data-ttu-id="05ee3-188">Můžete stáhnout a nainstalovat aktualizaci z [Microsoft Download Center](http://go.microsoft.com/fwlink/?LinkId=158125).</span><span class="sxs-lookup"><span data-stu-id="05ee3-188">You can download and install the update from the [Microsoft Download Center](http://go.microsoft.com/fwlink/?LinkId=158125).</span></span><br /><span data-ttu-id="05ee3-189">-   [!INCLUDE[silverlight](../../../../includes/silverlight-md.md)]verze 4</span><span class="sxs-lookup"><span data-stu-id="05ee3-189">-   [!INCLUDE[silverlight](../../../../includes/silverlight-md.md)] version 4</span></span>|  
|<span data-ttu-id="05ee3-190">Verze 3</span><span class="sxs-lookup"><span data-stu-id="05ee3-190">Version 3</span></span>|<span data-ttu-id="05ee3-191">-Stáhněte a nainstalujte na předprodejní verzi, která podporuje [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] verze 3 z [Microsoft Download Center](http://go.microsoft.com/fwlink/?LinkId=203885).</span><span class="sxs-lookup"><span data-stu-id="05ee3-191">-   You can download and install a pre-release version that supports [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] version 3 from the [Microsoft Download Center](http://go.microsoft.com/fwlink/?LinkId=203885).</span></span>|  
  
### <a name="metadata-versions"></a><span data-ttu-id="05ee3-192">Verze metadat</span><span class="sxs-lookup"><span data-stu-id="05ee3-192">Metadata Versions</span></span>  
 <span data-ttu-id="05ee3-193">Ve výchozím nastavení [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] verze 1.1 CSDL používá k reprezentaci datový model.</span><span class="sxs-lookup"><span data-stu-id="05ee3-193">By default, [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] uses version 1.1 of CSDL to represent a data model.</span></span> <span data-ttu-id="05ee3-194">Toto je vždy případ datové modely, které jsou založeny na zprostředkovatele reflexe nebo poskytovatele služeb vlastní data.</span><span class="sxs-lookup"><span data-stu-id="05ee3-194">This is always the case for data models that are based on either a reflection provider or a custom data service provider.</span></span> <span data-ttu-id="05ee3-195">Pokud je však datového modelu definované za použití [!INCLUDE[adonet_ef](../../../../includes/adonet-ef-md.md)], verzi CSDL vrátil, je stejná jako verze, který je používán [!INCLUDE[adonet_ef](../../../../includes/adonet-ef-md.md)].</span><span class="sxs-lookup"><span data-stu-id="05ee3-195">However, when the data model is defined by using the [!INCLUDE[adonet_ef](../../../../includes/adonet-ef-md.md)], the version of CSDL returned is the same as the version that is used by the [!INCLUDE[adonet_ef](../../../../includes/adonet-ef-md.md)].</span></span> <span data-ttu-id="05ee3-196">Verze CSDL je dáno obor názvů [Schema element](http://msdn.microsoft.com/en-us/396074d8-f99c-4f50-a073-68bce848224f).</span><span class="sxs-lookup"><span data-stu-id="05ee3-196">The version of the CSDL is determined by the namespace of the [Schema element](http://msdn.microsoft.com/en-us/396074d8-f99c-4f50-a073-68bce848224f).</span></span> [!INCLUDE[crdefault](../../../../includes/crdefault-md.md)]<span data-ttu-id="05ee3-197">specifikace [ \[MC CSDL\]: koncepční formátu definičního souboru schématu](http://go.microsoft.com/fwlink/?LinkId=159072).</span><span class="sxs-lookup"><span data-stu-id="05ee3-197"> the specification [\[MC-CSDL\]: Conceptual Schema Definition File Format](http://go.microsoft.com/fwlink/?LinkId=159072).</span></span>  
  
 <span data-ttu-id="05ee3-198">`DataServices` Také obsahuje element vrácený metadat `DataServiceVersion` atribut, který má stejnou hodnotu jako `DataServiceVersion` záhlaví ve zprávě s odpovědí.</span><span class="sxs-lookup"><span data-stu-id="05ee3-198">The `DataServices` element of the returned metadata also contains a `DataServiceVersion` attribute, which is the same value as the `DataServiceVersion` header in the response message.</span></span> <span data-ttu-id="05ee3-199">Klientské aplikace, jako **přidat odkaz na službu** dialogovém okně [!INCLUDE[vs_current_short](../../../../includes/vs-current-short-md.md)], tyto informace slouží k vytvoření klienta data služby tříd, které fungují správně s verzí [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] který hostovat službu data.</span><span class="sxs-lookup"><span data-stu-id="05ee3-199">Client applications, such as the **Add Service Reference** dialog box in [!INCLUDE[vs_current_short](../../../../includes/vs-current-short-md.md)], use this information to generate client data service classes that work correctly with the version of [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] that host the data service.</span></span> <span data-ttu-id="05ee3-200">Další informace najdete v tématu [OData: Správa verzí protokolu](http://go.microsoft.com/fwlink/?LinkId=186071).</span><span class="sxs-lookup"><span data-stu-id="05ee3-200">For more information, see [OData: Protocol Versioning](http://go.microsoft.com/fwlink/?LinkId=186071).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="05ee3-201">Viz také</span><span class="sxs-lookup"><span data-stu-id="05ee3-201">See Also</span></span>  
 [<span data-ttu-id="05ee3-202">Zprostředkovatelé dat služby</span><span class="sxs-lookup"><span data-stu-id="05ee3-202">Data Services Providers</span></span>](../../../../docs/framework/data/wcf/data-services-providers-wcf-data-services.md)  
 [<span data-ttu-id="05ee3-203">Definování datových služeb WCF</span><span class="sxs-lookup"><span data-stu-id="05ee3-203">Defining WCF Data Services</span></span>](../../../../docs/framework/data/wcf/defining-wcf-data-services.md)
