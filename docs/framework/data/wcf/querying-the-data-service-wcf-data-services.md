---
title: Dotaz na službu Data (služby WCF Data Services)
ms.custom: ''
ms.date: 03/30/2017
ms.prod: .net-framework-oob
ms.reviewer: ''
ms.suite: ''
ms.technology:
- dotnet-clr
ms.tgt_pltfrm: ''
ms.topic: article
dev_langs:
- csharp
- vb
helpviewer_keywords:
- WCF Data Services, client library
- WCF Data Services, querying
- WCF Data Services, accessing data
ms.assetid: 823e9444-27aa-4f1f-be8e-0486d67f54c0
caps.latest.revision: 7
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload:
- dotnet
ms.openlocfilehash: 35370b5d4757d16c766499c1f3ea8254c2d90116
ms.sourcegitcommit: 86adcc06e35390f13c1e372c36d2e044f1fc31ef
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 04/26/2018
---
# <a name="querying-the-data-service-wcf-data-services"></a><span data-ttu-id="a4610-102">Dotaz na službu Data (služby WCF Data Services)</span><span class="sxs-lookup"><span data-stu-id="a4610-102">Querying the Data Service (WCF Data Services)</span></span>
<span data-ttu-id="a4610-103">[!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] Klientské knihovny umožňuje spouštět dotazy na data služby pomocí známých [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] programování způsoby, včetně použití integrovaného dotazu jazyka (LINQ).</span><span class="sxs-lookup"><span data-stu-id="a4610-103">The [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] client library enables you to execute queries against a data service by using familiar [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] programming patterns, including using language integrated query (LINQ).</span></span> <span data-ttu-id="a4610-104">Klientská knihovna překládá dotazu, která je definována v klientovi jako jedna instance <xref:System.Data.Services.Client.DataServiceQuery%601> třída do zprávy požadavku HTTP GET.</span><span class="sxs-lookup"><span data-stu-id="a4610-104">The client library translates a query, which is defined on the client as an instance of the <xref:System.Data.Services.Client.DataServiceQuery%601> class, into an HTTP GET request message.</span></span> <span data-ttu-id="a4610-105">Knihovny obdrží zprávu odpovědi a převede jej do instance třídy služeb dat klienta.</span><span class="sxs-lookup"><span data-stu-id="a4610-105">The library receives the response message and translates it into instances of client data service classes.</span></span> <span data-ttu-id="a4610-106">Tyto třídy jsou sledovány objektem <xref:System.Data.Services.Client.DataServiceContext> ke kterému <xref:System.Data.Services.Client.DataServiceQuery%601> patří.</span><span class="sxs-lookup"><span data-stu-id="a4610-106">These classes are tracked by the <xref:System.Data.Services.Client.DataServiceContext> to which the <xref:System.Data.Services.Client.DataServiceQuery%601> belongs.</span></span>  
  
## <a name="data-service-queries"></a><span data-ttu-id="a4610-107">Dotazy na data služby</span><span class="sxs-lookup"><span data-stu-id="a4610-107">Data Service Queries</span></span>  
 <span data-ttu-id="a4610-108"><xref:System.Data.Services.Client.DataServiceQuery%601> Obecná třída reprezentuje dotaz, který vrátí kolekce nula nebo více instancí typu entity.</span><span class="sxs-lookup"><span data-stu-id="a4610-108">The <xref:System.Data.Services.Client.DataServiceQuery%601> generic class represents a query that returns a collection of zero or more entity type instances.</span></span> <span data-ttu-id="a4610-109">Dotaz služby data vždy patří do kontextu služby existující data.</span><span class="sxs-lookup"><span data-stu-id="a4610-109">A data service query always belongs to an existing data service context.</span></span> <span data-ttu-id="a4610-110">Tento kontext udržuje služby URI a metadata informace, které je potřeba vytvořit a provést dotaz.</span><span class="sxs-lookup"><span data-stu-id="a4610-110">This context maintains the service URI and metadata information that is required to compose and execute the query.</span></span>  
  
 <span data-ttu-id="a4610-111">Při použití **přidat odkaz na službu** dialogové okno Přidat službu dat do [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)]-je vytvořen na základě klientskou aplikaci, třídu kontejneru entit, který dědí z <xref:System.Data.Services.Client.DataServiceContext> – třída.</span><span class="sxs-lookup"><span data-stu-id="a4610-111">When you use the **Add Service Reference** dialog to add a data service to a [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)]-based client application, an entity container class is created that inherits from the <xref:System.Data.Services.Client.DataServiceContext> class.</span></span> <span data-ttu-id="a4610-112">Tato třída obsahuje vlastnosti, které vracejí typové <xref:System.Data.Services.Client.DataServiceQuery%601> instance.</span><span class="sxs-lookup"><span data-stu-id="a4610-112">This class includes properties that return typed <xref:System.Data.Services.Client.DataServiceQuery%601> instances.</span></span> <span data-ttu-id="a4610-113">Není k dispozici pro každou sadu entit, že data služby vystavuje jednu vlastnost.</span><span class="sxs-lookup"><span data-stu-id="a4610-113">There is one property for each entity set that the data service exposes.</span></span> <span data-ttu-id="a4610-114">Tyto vlastnosti usnadňují vytvoření instance představuje zadaný <xref:System.Data.Services.Client.DataServiceQuery%601>.</span><span class="sxs-lookup"><span data-stu-id="a4610-114">These properties make it easier to create an instance of a typed <xref:System.Data.Services.Client.DataServiceQuery%601>.</span></span>  
  
 <span data-ttu-id="a4610-115">Je dotaz proveden v následujících scénářích:</span><span class="sxs-lookup"><span data-stu-id="a4610-115">A query is executed in the following scenarios:</span></span>  
  
-   <span data-ttu-id="a4610-116">Když výsledky jsou uvedené implicitně, jako například:</span><span class="sxs-lookup"><span data-stu-id="a4610-116">When results are enumerated implicitly, such as:</span></span>  
  
    -   <span data-ttu-id="a4610-117">Pokud vlastnost <xref:System.Data.Services.Client.DataServiceContext> představující a je uvedené sady entit, například během `foreach` (C#) nebo `For Each` smyčky (Visual Basic).</span><span class="sxs-lookup"><span data-stu-id="a4610-117">When a property on the <xref:System.Data.Services.Client.DataServiceContext> that represents and entity set is enumerated, such as during a `foreach` (C#) or `For Each` (Visual Basic) loop.</span></span>  
  
    -   <span data-ttu-id="a4610-118">Když je přiřazen dotaz `List` kolekce.</span><span class="sxs-lookup"><span data-stu-id="a4610-118">When the query is assigned to a `List` collection.</span></span>  
  
-   <span data-ttu-id="a4610-119">Když <xref:System.Data.Services.Client.DataServiceQuery%601.Execute%2A> nebo <xref:System.Data.Services.Client.DataServiceQuery%601.BeginExecute%2A> explicitně volána metoda.</span><span class="sxs-lookup"><span data-stu-id="a4610-119">When the <xref:System.Data.Services.Client.DataServiceQuery%601.Execute%2A> or <xref:System.Data.Services.Client.DataServiceQuery%601.BeginExecute%2A> method is explicitly called.</span></span>  
  
-   <span data-ttu-id="a4610-120">Když LINQ provádění – operátor dotazu, jako například <xref:System.Linq.Enumerable.First%2A> nebo <xref:System.Linq.Enumerable.Single%2A> je volána.</span><span class="sxs-lookup"><span data-stu-id="a4610-120">When a LINQ query execution operator, such as <xref:System.Linq.Enumerable.First%2A> or <xref:System.Linq.Enumerable.Single%2A> is called.</span></span>  
  
 <span data-ttu-id="a4610-121">Následující dotaz, když je proveden, vrátí všechny `Customers` entity ve službě Northwind dat:</span><span class="sxs-lookup"><span data-stu-id="a4610-121">The following query, when it is executed, returns all `Customers` entities in the Northwind data service:</span></span>  
  
 [!code-csharp[Astoria Northwind Client#GetAllCustomersSpecific](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/source.cs#getallcustomersspecific)]  
 [!code-vb[Astoria Northwind Client#GetAllCustomersSpecific](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria northwind client/vb/source.vb#getallcustomersspecific)]  
  
 <span data-ttu-id="a4610-122">Další informace najdete v tématu [postup: provedení dotazů na Data služby](../../../../docs/framework/data/wcf/how-to-execute-data-service-queries-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="a4610-122">For more information, see [How to: Execute Data Service Queries](../../../../docs/framework/data/wcf/how-to-execute-data-service-queries-wcf-data-services.md).</span></span>  
  
 <span data-ttu-id="a4610-123">[!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] Klient podporuje dotazy pro pozdní vazbou objekty, například při použití *dynamické* typ v jazyce C#.</span><span class="sxs-lookup"><span data-stu-id="a4610-123">The [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] client supports queries for late-bound objects, such as when you use the *dynamic* type in C#.</span></span> <span data-ttu-id="a4610-124">Z důvodů výkonu by však vždy tvoří silného typu dotazy pro službu data.</span><span class="sxs-lookup"><span data-stu-id="a4610-124">However, for performance reasons you should always compose strongly-typed queries against the data service.</span></span> <span data-ttu-id="a4610-125"><xref:System.Tuple> Klienta nepodporuje typ a dynamických objektů.</span><span class="sxs-lookup"><span data-stu-id="a4610-125">The <xref:System.Tuple> type and dynamic objects are not supported by the client.</span></span>  
  
## <a name="linq-queries"></a><span data-ttu-id="a4610-126">Dotazů LINQ</span><span class="sxs-lookup"><span data-stu-id="a4610-126">LINQ Queries</span></span>  
 <span data-ttu-id="a4610-127">Protože <xref:System.Data.Services.Client.DataServiceQuery%601> třída implementuje <xref:System.Linq.IQueryable%601> rozhraní definované LINQ, [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] klientské knihovny je schopen transformace dotazy LINQ pro sadu dat entity do identifikátor URI, který představuje výrazu dotazu porovnán s datové služby prostředek.</span><span class="sxs-lookup"><span data-stu-id="a4610-127">Because the <xref:System.Data.Services.Client.DataServiceQuery%601> class implements the <xref:System.Linq.IQueryable%601> interface defined by LINQ, the [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] client library is able to transform LINQ queries against entity set data into a URI that represents a query expression evaluated against a data service resource.</span></span> <span data-ttu-id="a4610-128">Následující příklad je dotaz LINQ, který je ekvivalentní pro předchozí <xref:System.Data.Services.Client.DataServiceQuery%601> , který vrací `Orders` mají nákladní náklady na více než 30 $ a objednávky výsledky podle nákladní náklady:</span><span class="sxs-lookup"><span data-stu-id="a4610-128">The following example is a LINQ query that is equivalent to the previous <xref:System.Data.Services.Client.DataServiceQuery%601> that returns `Orders` that have a freight cost of more than $30 and orders the results by the freight cost:</span></span>  
  
 [!code-csharp[Astoria Northwind Client#AddQueryOptionsLinqSpecific](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/source.cs#addqueryoptionslinqspecific)]  
 [!code-vb[Astoria Northwind Client#AddQueryOptionsLinqSpecific](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria northwind client/vb/source.vb#addqueryoptionslinqspecific)]  
  
 <span data-ttu-id="a4610-129">Tento dotaz LINQ je přeložit na následující dotaz identifikátor URI, který se spustí na základě Northwind [rychlý Start](../../../../docs/framework/data/wcf/quickstart-wcf-data-services.md) služba dat:</span><span class="sxs-lookup"><span data-stu-id="a4610-129">This LINQ query is translated into the following query URI that is executed against the Northwind-based [quickstart](../../../../docs/framework/data/wcf/quickstart-wcf-data-services.md) data service:</span></span>  
  
```  
http://localhost:12345/Northwind.svc/Orders?Orderby=ShippedDate&?filter=Freight gt 30  
```  
  
> [!NOTE]
>  <span data-ttu-id="a4610-130">Sada vyjádřit kombinací v syntaxi LINQ dotazů je širší než ty, které povolené v representational stavu transfer (REST) – na základě syntaxe identifikátoru URI, který je používán datové služby.</span><span class="sxs-lookup"><span data-stu-id="a4610-130">The set of queries expressible in the LINQ syntax is broader than those enabled in the representational state transfer (REST)-based URI syntax that is used by data services.</span></span> <span data-ttu-id="a4610-131">A <xref:System.NotSupportedException> se vyvolá, když dotaz nelze mapovat na ve službě data cílový identifikátor URI.</span><span class="sxs-lookup"><span data-stu-id="a4610-131">A <xref:System.NotSupportedException> is raised when the query cannot be mapped to a URI in the target data service.</span></span>  
  
 <span data-ttu-id="a4610-132">Další informace najdete v tématu [LINQ aspekty](../../../../docs/framework/data/wcf/linq-considerations-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="a4610-132">For more information, see [LINQ Considerations](../../../../docs/framework/data/wcf/linq-considerations-wcf-data-services.md).</span></span>  
  
## <a name="adding-query-options"></a><span data-ttu-id="a4610-133">Přidání možnosti dotazu</span><span class="sxs-lookup"><span data-stu-id="a4610-133">Adding Query Options</span></span>  
 <span data-ttu-id="a4610-134">Data služby dotazy podporu všech dotaz možnostech, které [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)]s poskytuje.</span><span class="sxs-lookup"><span data-stu-id="a4610-134">Data service queries support all the query options that [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)]s provides.</span></span> <span data-ttu-id="a4610-135">Volání <xref:System.Data.Services.Client.DataServiceQuery%601.AddQueryOption%2A> metoda připojit možností dotazu <xref:System.Data.Services.Client.DataServiceQuery%601> instance.</span><span class="sxs-lookup"><span data-stu-id="a4610-135">You call the <xref:System.Data.Services.Client.DataServiceQuery%601.AddQueryOption%2A> method to append query options to a <xref:System.Data.Services.Client.DataServiceQuery%601> instance.</span></span> <span data-ttu-id="a4610-136"><xref:System.Data.Services.Client.DataServiceQuery%601.AddQueryOption%2A> vrátí novou <xref:System.Data.Services.Client.DataServiceQuery%601> instanci, která je ekvivalentní původní dotaz ale s nový dotaz možnost set.</span><span class="sxs-lookup"><span data-stu-id="a4610-136"><xref:System.Data.Services.Client.DataServiceQuery%601.AddQueryOption%2A> returns a new <xref:System.Data.Services.Client.DataServiceQuery%601> instance that is equivalent to the original query but with the new query option set.</span></span> <span data-ttu-id="a4610-137">Následující dotaz, při spuštění, vrátí `Orders` , jsou filtrovány podle `Freight` hodnotu a seřazené podle `OrderID`, sestupně:</span><span class="sxs-lookup"><span data-stu-id="a4610-137">The following query, when executed, returns `Orders` that are filtered by the `Freight` value and ordered by the `OrderID`, descending:</span></span>  
  
 [!code-csharp[Astoria Northwind Client#AddQueryOptionsSpecific](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/source.cs#addqueryoptionsspecific)]  
 [!code-vb[Astoria Northwind Client#AddQueryOptionsSpecific](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria northwind client/vb/source.vb#addqueryoptionsspecific)]  
  
 <span data-ttu-id="a4610-138">Můžete použít `$orderby` dotazování možnost pořadí a filtrovat dotaz založený na jedinou vlastností, jako v následujícím příkladu, který filtruje a řadí vrácený `Orders` objekty podle hodnotu `Freight` vlastnost:</span><span class="sxs-lookup"><span data-stu-id="a4610-138">You can use the `$orderby` query option to both order and filter a query based on a single property, as in the following example that filters and orders the returned `Orders` objects based on the value of the `Freight` property:</span></span>  
  
 [!code-csharp[Astoria Northwind Client#OrderWithFilter](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/source.cs#orderwithfilter)]
 [!code-vb[Astoria Northwind Client#OrderWithFilter](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria northwind client/vb/source.vb#orderwithfilter)]  
  
 <span data-ttu-id="a4610-139">Můžete volat <xref:System.Data.Services.Client.DataServiceQuery%601.AddQueryOption%2A> metoda postupně k vytvoření složitých dotazů výrazy.</span><span class="sxs-lookup"><span data-stu-id="a4610-139">You can call the <xref:System.Data.Services.Client.DataServiceQuery%601.AddQueryOption%2A> method consecutively to construct complex query expressions.</span></span> <span data-ttu-id="a4610-140">Další informace najdete v tématu [postupy: Přidání možnosti dotazu na Data služby dotaz](../../../../docs/framework/data/wcf/how-to-add-query-options-to-a-data-service-query-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="a4610-140">For more information, see [How to: Add Query Options to a Data Service Query](../../../../docs/framework/data/wcf/how-to-add-query-options-to-a-data-service-query-wcf-data-services.md).</span></span>  
  
 <span data-ttu-id="a4610-141">Možnosti dotazu poskytnout další způsoby, jak vyjádřit syntaktické součásti dotaz LINQ.</span><span class="sxs-lookup"><span data-stu-id="a4610-141">Query options give you another way to express the syntactic components of a LINQ query.</span></span> <span data-ttu-id="a4610-142">Další informace najdete v tématu [LINQ aspekty](../../../../docs/framework/data/wcf/linq-considerations-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="a4610-142">For more information, see [LINQ Considerations](../../../../docs/framework/data/wcf/linq-considerations-wcf-data-services.md).</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="a4610-143">`$select` Možnost dotazu nelze přidat do dotazu identifikátoru URI pomocí <xref:System.Data.Services.Client.DataServiceQuery%601.AddQueryOption%2A> metoda.</span><span class="sxs-lookup"><span data-stu-id="a4610-143">The `$select` query option cannot be added to a query URI by using the <xref:System.Data.Services.Client.DataServiceQuery%601.AddQueryOption%2A> method.</span></span> <span data-ttu-id="a4610-144">Doporučujeme použít LINQ <xref:System.Linq.Enumerable.Select%2A> metoda váš klient bude generovat `$select` dotaz v identifikátoru URI požadavku možnost.</span><span class="sxs-lookup"><span data-stu-id="a4610-144">We recommend that you use the LINQ <xref:System.Linq.Enumerable.Select%2A> method to have the client generate the `$select` query option in the request URI.</span></span>  
  
<a name="executingQueries"></a>   
## <a name="client-versus-server-execution"></a><span data-ttu-id="a4610-145">Klient a Server spuštění</span><span class="sxs-lookup"><span data-stu-id="a4610-145">Client versus Server Execution</span></span>  
 <span data-ttu-id="a4610-146">Klient provede dotaz ve dvou částech.</span><span class="sxs-lookup"><span data-stu-id="a4610-146">The client executes a query in two parts.</span></span> <span data-ttu-id="a4610-147">Kdykoli je to možné, na straně klienta jsou nejprve vyhodnotí výrazy v dotazu, a potom dotaz na základě identifikátoru URI je generována a odešle do služby data pro vyhodnocení proti data ve službě.</span><span class="sxs-lookup"><span data-stu-id="a4610-147">Whenever possible, expressions in a query are first evaluated on the client, and then a URI-based query is generated and sent to the data service for evaluation against data in the service.</span></span> <span data-ttu-id="a4610-148">Vezměte v úvahu následující dotaz LINQ:</span><span class="sxs-lookup"><span data-stu-id="a4610-148">Consider the following LINQ query:</span></span>  
  
 [!code-csharp[Astoria Northwind Client#LinqQueryClientEvalSpecific](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/source.cs#linqqueryclientevalspecific)]  
 [!code-vb[Astoria Northwind Client#LinqQueryClientEvalSpecific](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria northwind client/vb/source.vb#linqqueryclientevalspecific)]  
  
 <span data-ttu-id="a4610-149">V tomto příkladu výraz `(basePrice – (basePrice * discount))` je vyhodnocován v klientovi.</span><span class="sxs-lookup"><span data-stu-id="a4610-149">In this example, the expression `(basePrice – (basePrice * discount))` is evaluated on the client.</span></span> <span data-ttu-id="a4610-150">Z toho důvodu skutečného identifikátoru URI dotazu `http://localhost:12345/northwind.svc/Products()?$filter=(UnitPrice gt 90.00M) and substringof('bike',ProductName)` odeslaného na data služby obsahuje již vypočtenou hodnotu decimal `90` v klauzuli filtru.</span><span class="sxs-lookup"><span data-stu-id="a4610-150">Because of this, the actual query URI `http://localhost:12345/northwind.svc/Products()?$filter=(UnitPrice gt 90.00M) and substringof('bike',ProductName)` that is sent to the data service contains the already calculated decimal value of `90` in the filter clause.</span></span> <span data-ttu-id="a4610-151">Ostatní části výrazu filtrování, včetně Výraz substring vyhodnocují se službou data.</span><span class="sxs-lookup"><span data-stu-id="a4610-151">The other parts of the filtering expression, including the substring expression, are evaluated by the data service.</span></span> <span data-ttu-id="a4610-152">Výrazy, které se vyhodnocují na klienta postupujte podle běžné sémantiku language runtime (CLR), zatímco výrazy zaslané službě dat závisí na implementaci služby data [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] protokolu.</span><span class="sxs-lookup"><span data-stu-id="a4610-152">Expressions that are evaluated on the client follow common language runtime (CLR) semantics, while expressions sent to the data service rely on the data service implementation of the [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] Protocol.</span></span> <span data-ttu-id="a4610-153">Taky by měl být vědomi scénáře, kde toto samostatné testování může způsobit neočekávané výsledky, například když klient a služba provést v různých časových pásmech založené na čase hodnocení.</span><span class="sxs-lookup"><span data-stu-id="a4610-153">You should also be aware of scenarios where this separate evaluation may cause unexpected results, such as when both the client and service perform time-based evaluations in different time zones.</span></span>  
  
## <a name="query-responses"></a><span data-ttu-id="a4610-154">Odpovědi na dotazy</span><span class="sxs-lookup"><span data-stu-id="a4610-154">Query Responses</span></span>  
 <span data-ttu-id="a4610-155">Po provedení <xref:System.Data.Services.Client.DataServiceQuery%601> vrátí <xref:System.Collections.Generic.IEnumerable%601> požadovaná entita typu.</span><span class="sxs-lookup"><span data-stu-id="a4610-155">When executed, the <xref:System.Data.Services.Client.DataServiceQuery%601> returns an <xref:System.Collections.Generic.IEnumerable%601> of the requested entity type.</span></span> <span data-ttu-id="a4610-156">Tento výsledek dotazu může být převeden <xref:System.Data.Services.Client.QueryOperationResponse%601> objekt, jako v následujícím příkladu:</span><span class="sxs-lookup"><span data-stu-id="a4610-156">This query result can be cast to a <xref:System.Data.Services.Client.QueryOperationResponse%601> object, as in the following example:</span></span>  
  
 [!code-csharp[Astoria Northwind Client#GetResponseSpecific](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/source.cs#getresponsespecific)]
 [!code-vb[Astoria Northwind Client#GetResponseSpecific](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria northwind client/vb/source.vb#getresponsespecific)]  
  
 <span data-ttu-id="a4610-157">Instancí typu entity, které představují entity ve službě data jsou vytvořené na straně klienta pomocí procesu nazývaného materialization objektu.</span><span class="sxs-lookup"><span data-stu-id="a4610-157">The entity type instances that represent entities in the data service are created on the client by a process called object materialization.</span></span> <span data-ttu-id="a4610-158">Další informace najdete v tématu [Materialization objekt](../../../../docs/framework/data/wcf/object-materialization-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="a4610-158">For more information, see [Object Materialization](../../../../docs/framework/data/wcf/object-materialization-wcf-data-services.md).</span></span> <span data-ttu-id="a4610-159"><xref:System.Data.Services.Client.QueryOperationResponse%601> Objektu implementuje <xref:System.Collections.Generic.IEnumerable%601> zajistit přístup do výsledků dotazu.</span><span class="sxs-lookup"><span data-stu-id="a4610-159">The <xref:System.Data.Services.Client.QueryOperationResponse%601> object implements <xref:System.Collections.Generic.IEnumerable%601> to provide access to the results of the query.</span></span>  
  
 <span data-ttu-id="a4610-160"><xref:System.Data.Services.Client.QueryOperationResponse%601> Má také následující členy, které vám umožní přístup k dalším informacím o výsledku dotazu:</span><span class="sxs-lookup"><span data-stu-id="a4610-160">The <xref:System.Data.Services.Client.QueryOperationResponse%601> also has the following members that enable you to access additional information about a query result:</span></span>  
  
-   <span data-ttu-id="a4610-161"><xref:System.Data.Services.Client.OperationResponse.Error%2A> -Získá chybu vyvolané operace, pokud žádné došlo k chybě.</span><span class="sxs-lookup"><span data-stu-id="a4610-161"><xref:System.Data.Services.Client.OperationResponse.Error%2A> - gets an error thrown by the operation, if any has occurred.</span></span>  
  
-   <span data-ttu-id="a4610-162"><xref:System.Data.Services.Client.OperationResponse.Headers%2A> -obsahuje kolekci hlaviček odpovědí HTTP přidružený k odpovědi na dotaz.</span><span class="sxs-lookup"><span data-stu-id="a4610-162"><xref:System.Data.Services.Client.OperationResponse.Headers%2A> - contains the collection of HTTP response headers associated with the query response.</span></span>  
  
-   <span data-ttu-id="a4610-163"><xref:System.Data.Services.Client.QueryOperationResponse.Query%2A> -Získá původní <xref:System.Data.Services.Client.DataServiceQuery%601> generovaný <xref:System.Data.Services.Client.QueryOperationResponse%601>.</span><span class="sxs-lookup"><span data-stu-id="a4610-163"><xref:System.Data.Services.Client.QueryOperationResponse.Query%2A> - gets the original <xref:System.Data.Services.Client.DataServiceQuery%601> that generated the <xref:System.Data.Services.Client.QueryOperationResponse%601>.</span></span>  
  
-   <span data-ttu-id="a4610-164"><xref:System.Data.Services.Client.OperationResponse.StatusCode%2A> -Získá kód odpovědi HTTP pro odpověď v dotazu.</span><span class="sxs-lookup"><span data-stu-id="a4610-164"><xref:System.Data.Services.Client.OperationResponse.StatusCode%2A> - gets the HTTP response code for the query response.</span></span>  
  
-   <span data-ttu-id="a4610-165"><xref:System.Data.Services.Client.QueryOperationResponse%601.TotalCount%2A> -získá celkový počet entit v entitě nastavit, kdy <xref:System.Data.Services.Client.DataServiceQuery%601.IncludeTotalCount%2A> byla volána metoda <xref:System.Data.Services.Client.DataServiceQuery%601>.</span><span class="sxs-lookup"><span data-stu-id="a4610-165"><xref:System.Data.Services.Client.QueryOperationResponse%601.TotalCount%2A> - gets the total number of entities in the entity set when the <xref:System.Data.Services.Client.DataServiceQuery%601.IncludeTotalCount%2A> method was called on the <xref:System.Data.Services.Client.DataServiceQuery%601>.</span></span>  
  
-   <span data-ttu-id="a4610-166"><xref:System.Data.Services.Client.QueryOperationResponse.GetContinuation%2A> -Vrátí <xref:System.Data.Services.Client.DataServiceQueryContinuation> objekt, který obsahuje identifikátor URI další stránky výsledků.</span><span class="sxs-lookup"><span data-stu-id="a4610-166"><xref:System.Data.Services.Client.QueryOperationResponse.GetContinuation%2A> - returns a <xref:System.Data.Services.Client.DataServiceQueryContinuation> object that contains the URI of the next page of results.</span></span>  
  
 <span data-ttu-id="a4610-167">Ve výchozím nastavení [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] pouze vrátí data, která je explicitně vybrána v dotazu identifikátoru URI.</span><span class="sxs-lookup"><span data-stu-id="a4610-167">By default, [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] only returns data that is explicitly selected by the query URI.</span></span> <span data-ttu-id="a4610-168">To vám dává možnost explicitně načíst další data ze služby data, když je to potřeba.</span><span class="sxs-lookup"><span data-stu-id="a4610-168">This gives you the option to explicitly load additional data from the data service when it is needed.</span></span> <span data-ttu-id="a4610-169">Žádost o posílá službu data pokaždé, když explicitně načíst data ze služby data.</span><span class="sxs-lookup"><span data-stu-id="a4610-169">A request is sent to the data service each time you explicitly load data from the data service.</span></span> <span data-ttu-id="a4610-170">Data, která je možné explicitně načíst zahrnuje entit v relaci, data stránkové odpovědi a binární datové proudy.</span><span class="sxs-lookup"><span data-stu-id="a4610-170">Data that can be explicitly loaded includes related entities, paged response data, and binary data streams.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="a4610-171">Protože datové služby může vrátit stránkové odpověď, doporučujeme, aby vaše aplikace používat programovací vzor zpracovat odpověď stránkové dat služby.</span><span class="sxs-lookup"><span data-stu-id="a4610-171">Because a data service may return a paged response, we recommend that your application use the programming pattern to handle a paged data service response.</span></span> <span data-ttu-id="a4610-172">Další informace najdete v tématu [načítání odložení obsahu](../../../../docs/framework/data/wcf/loading-deferred-content-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="a4610-172">For more information, see [Loading Deferred Content](../../../../docs/framework/data/wcf/loading-deferred-content-wcf-data-services.md).</span></span>  
  
 <span data-ttu-id="a4610-173">Zadáním, že jsou v odpovědi vrátí jenom některé vlastnosti entity lze také snížit množství dat vrácených dotazem.</span><span class="sxs-lookup"><span data-stu-id="a4610-173">The amount of data returned by a query can also be reduced by specifying that only certain properties of an entity are returned in the response.</span></span> <span data-ttu-id="a4610-174">Další informace najdete v tématu [projekce dotazu](../../../../docs/framework/data/wcf/query-projections-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="a4610-174">For more information, see [Query Projections](../../../../docs/framework/data/wcf/query-projections-wcf-data-services.md).</span></span>  
  
## <a name="getting-a-count-of-the-total-number-of-entities-in-the-set"></a><span data-ttu-id="a4610-175">Získávání počet celkový počet entit v sadě</span><span class="sxs-lookup"><span data-stu-id="a4610-175">Getting a Count of the Total Number of Entities in the Set</span></span>  
 <span data-ttu-id="a4610-176">V některých případech je užitečné vědět, celkový počet entit v sadu entit a nikoli pouze počet vrácených dotazem.</span><span class="sxs-lookup"><span data-stu-id="a4610-176">In some scenarios, it is helpful to know the total number of entities in an entity set and not merely the number returned by the query.</span></span> <span data-ttu-id="a4610-177">Volání <xref:System.Data.Services.Client.DataServiceQuery%601.IncludeTotalCount%2A> metodu <xref:System.Data.Services.Client.DataServiceQuery%601> k vyžádání, že tento celkový počet entit v sadě být součástí výsledku dotazu.</span><span class="sxs-lookup"><span data-stu-id="a4610-177">Call the <xref:System.Data.Services.Client.DataServiceQuery%601.IncludeTotalCount%2A> method on the <xref:System.Data.Services.Client.DataServiceQuery%601> to request that this total count of entities in the set be included with the query result.</span></span> <span data-ttu-id="a4610-178">V takovém případě <xref:System.Data.Services.Client.QueryOperationResponse%601.TotalCount%2A> vlastnost vrácený <xref:System.Data.Services.Client.QueryOperationResponse%601> vrátí celkový počet entit v sadě.</span><span class="sxs-lookup"><span data-stu-id="a4610-178">In this case, the <xref:System.Data.Services.Client.QueryOperationResponse%601.TotalCount%2A> property of the returned <xref:System.Data.Services.Client.QueryOperationResponse%601> returns the total number of entities in the set.</span></span>  
  
 <span data-ttu-id="a4610-179">Můžete také získat jenom celkový počet entit v sadě buď jako <xref:System.Int32> nebo jako <xref:System.Int64> hodnotu voláním <xref:System.Linq.Enumerable.Count%2A> nebo <xref:System.Linq.Enumerable.LongCount%2A> metody v uvedeném pořadí.</span><span class="sxs-lookup"><span data-stu-id="a4610-179">You can also get only the total count of entities in the set either as an <xref:System.Int32> or as a <xref:System.Int64> value by calling the <xref:System.Linq.Enumerable.Count%2A> or <xref:System.Linq.Enumerable.LongCount%2A> methods respectively.</span></span> <span data-ttu-id="a4610-180">Pokud tyto metody jsou volány, <xref:System.Data.Services.Client.QueryOperationResponse%601> nevrátí; je vrácena pouze hodnota počtu.</span><span class="sxs-lookup"><span data-stu-id="a4610-180">When these methods are called, a <xref:System.Data.Services.Client.QueryOperationResponse%601> is not returned; only the count value is returned.</span></span> <span data-ttu-id="a4610-181">Další informace najdete v tématu [postupy: určení číslo z entity vrácených dotazem](../../../../docs/framework/data/wcf/number-of-entities-returned-by-a-query-wcf.md).</span><span class="sxs-lookup"><span data-stu-id="a4610-181">For more information, see [How to: Determine the Number of Entities Returned by a Query](../../../../docs/framework/data/wcf/number-of-entities-returned-by-a-query-wcf.md).</span></span>  
  
## <a name="in-this-section"></a><span data-ttu-id="a4610-182">V tomto oddílu</span><span class="sxs-lookup"><span data-stu-id="a4610-182">In This Section</span></span>  
 [<span data-ttu-id="a4610-183">Projekce dotazů</span><span class="sxs-lookup"><span data-stu-id="a4610-183">Query Projections</span></span>](../../../../docs/framework/data/wcf/query-projections-wcf-data-services.md)  
  
 [<span data-ttu-id="a4610-184">Materializace objektů</span><span class="sxs-lookup"><span data-stu-id="a4610-184">Object Materialization</span></span>](../../../../docs/framework/data/wcf/object-materialization-wcf-data-services.md)  
  
 [<span data-ttu-id="a4610-185">Aspekty LINQ</span><span class="sxs-lookup"><span data-stu-id="a4610-185">LINQ Considerations</span></span>](../../../../docs/framework/data/wcf/linq-considerations-wcf-data-services.md)  
  
 [<span data-ttu-id="a4610-186">Postupy: Provádění dotazů v datové službě</span><span class="sxs-lookup"><span data-stu-id="a4610-186">How to: Execute Data Service Queries</span></span>](../../../../docs/framework/data/wcf/how-to-execute-data-service-queries-wcf-data-services.md)  
  
 [<span data-ttu-id="a4610-187">Postupy: Přidání možností do dotazu v datové službě</span><span class="sxs-lookup"><span data-stu-id="a4610-187">How to: Add Query Options to a Data Service Query</span></span>](../../../../docs/framework/data/wcf/how-to-add-query-options-to-a-data-service-query-wcf-data-services.md)  
  
 [<span data-ttu-id="a4610-188">Postupy: Určení počtu entit vrácených dotazem</span><span class="sxs-lookup"><span data-stu-id="a4610-188">How to: Determine the Number of Entities Returned by a Query</span></span>](../../../../docs/framework/data/wcf/number-of-entities-returned-by-a-query-wcf.md)  
  
 [<span data-ttu-id="a4610-189">Postupy: Zadání přihlašovacích údajů klienta v žádosti do datové služby</span><span class="sxs-lookup"><span data-stu-id="a4610-189">How to: Specify Client Credentials for a Data Service Request</span></span>](../../../../docs/framework/data/wcf/specify-client-creds-for-a-data-service-request-wcf.md)  
  
 [<span data-ttu-id="a4610-190">Postupy: Nastavení hlaviček v klientské žádosti</span><span class="sxs-lookup"><span data-stu-id="a4610-190">How to: Set Headers in the Client Request</span></span>](../../../../docs/framework/data/wcf/how-to-set-headers-in-the-client-request-wcf-data-services.md)  
  
 [<span data-ttu-id="a4610-191">Postupy: Výsledky dotazů na projekt</span><span class="sxs-lookup"><span data-stu-id="a4610-191">How to: Project Query Results</span></span>](../../../../docs/framework/data/wcf/how-to-project-query-results-wcf-data-services.md)  
  
## <a name="see-also"></a><span data-ttu-id="a4610-192">Viz také</span><span class="sxs-lookup"><span data-stu-id="a4610-192">See Also</span></span>  
 [<span data-ttu-id="a4610-193">Klientská knihovna pro WCF Data Services</span><span class="sxs-lookup"><span data-stu-id="a4610-193">WCF Data Services Client Library</span></span>](../../../../docs/framework/data/wcf/wcf-data-services-client-library.md)
