---
title: Scénáře zabezpečení aplikací v systému SQL Server
ms.date: 03/30/2017
ms.assetid: 0164f3a4-406e-4693-bec3-03c8e18b46d7
ms.openlocfilehash: 1239715678bda648bc962f9b23667b954b540e3f
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 05/04/2018
ms.locfileid: "33363322"
---
# <a name="application-security-scenarios-in-sql-server"></a><span data-ttu-id="51b3a-102">Scénáře zabezpečení aplikací v systému SQL Server</span><span class="sxs-lookup"><span data-stu-id="51b3a-102">Application Security Scenarios in SQL Server</span></span>
<span data-ttu-id="51b3a-103">Neexistuje žádný jeden správný způsob, jak vytvořit zabezpečený klientskou aplikaci SQL Server.</span><span class="sxs-lookup"><span data-stu-id="51b3a-103">There is no single correct way to create a secure SQL Server client application.</span></span> <span data-ttu-id="51b3a-104">Každá aplikace je jedinečné v jeho požadavky na prostředí pro nasazení a počet uživatelů.</span><span class="sxs-lookup"><span data-stu-id="51b3a-104">Every application is unique in its requirements, deployment environment, and user population.</span></span> <span data-ttu-id="51b3a-105">Aplikace, která je přiměřeně zabezpečen po počátečním nasazení se může stát méně zabezpečené v čase.</span><span class="sxs-lookup"><span data-stu-id="51b3a-105">An application that is reasonably secure when it is initially deployed can become less secure over time.</span></span> <span data-ttu-id="51b3a-106">Není možné předpovědět žádné přesnost co hrozeb můžou vznikat v budoucnu.</span><span class="sxs-lookup"><span data-stu-id="51b3a-106">It is impossible to predict with any accuracy what threats may emerge in the future.</span></span>  
  
 <span data-ttu-id="51b3a-107">SQL Server, jako produkt, má vyvinuly prostřednictvím mnoha verzí začlenit nejnovější funkce zabezpečení, které umožňují vývojářům vytvářet aplikace zabezpečené databáze.</span><span class="sxs-lookup"><span data-stu-id="51b3a-107">SQL Server, as a product, has evolved over many versions to incorporate the latest security features that enable developers to create secure database applications.</span></span> <span data-ttu-id="51b3a-108">Ale nepřejde do stavu zabezpečení v poli; To vyžaduje potom monitorování a aktualizace.</span><span class="sxs-lookup"><span data-stu-id="51b3a-108">However, security doesn't come in the box; it requires continual monitoring and updating.</span></span>  
  
## <a name="common-threats"></a><span data-ttu-id="51b3a-109">Běžné hrozeb</span><span class="sxs-lookup"><span data-stu-id="51b3a-109">Common Threats</span></span>  
 <span data-ttu-id="51b3a-110">Vývojáři musí porozumět bezpečnostní hrozby, nástrojů pro čítače a jak se vyhnout samo celistvosti.</span><span class="sxs-lookup"><span data-stu-id="51b3a-110">Developers need to understand security threats, the tools provided to counter them, and how to avoid self-inflicted security holes.</span></span> <span data-ttu-id="51b3a-111">Zabezpečení můžete nejlépe představit jako řetězec, kde zalomení v jeden odkaz ohrožuje sílu celek.</span><span class="sxs-lookup"><span data-stu-id="51b3a-111">Security can best be thought of as a chain, where a break in any one link compromises the strength of the whole.</span></span> <span data-ttu-id="51b3a-112">Následující seznam obsahuje některé běžné bezpečnostních hrozeb, které jsou popsány podrobněji v tématech v této části.</span><span class="sxs-lookup"><span data-stu-id="51b3a-112">The following list includes some common security threats that are discussed in more detail in the topics in this section.</span></span>  
  
### <a name="sql-injection"></a><span data-ttu-id="51b3a-113">Injektáž SQL</span><span class="sxs-lookup"><span data-stu-id="51b3a-113">SQL Injection</span></span>  
 <span data-ttu-id="51b3a-114">Injektáž SQL je proces, pomocí kterého uživatel se zlými úmysly zadá příkazy jazyka Transact-SQL místo platný vstup.</span><span class="sxs-lookup"><span data-stu-id="51b3a-114">SQL Injection is the process by which a malicious user enters Transact-SQL statements instead of valid input.</span></span> <span data-ttu-id="51b3a-115">Pokud vstup je předán přímo k serveru bez ověřování a aplikace nechtěně spustí kód vložený, útoku se může dojít k poškození nebo zničení data.</span><span class="sxs-lookup"><span data-stu-id="51b3a-115">If the input is passed directly to the server without being validated and if the application inadvertently executes the injected code, then the attack has the potential to damage or destroy data.</span></span> <span data-ttu-id="51b3a-116">Můžete zabránit SQL Server vkládání útoky pomocí uložené procedury a příkazy s parametry, vyhnout dynamické SQL a omezení oprávnění pro všechny uživatele.</span><span class="sxs-lookup"><span data-stu-id="51b3a-116">You can thwart SQL Server injection attacks by using stored procedures and parameterized commands, avoiding dynamic SQL, and restricting permissions on all users.</span></span>  
  
### <a name="elevation-of-privilege"></a><span data-ttu-id="51b3a-117">Zvýšení oprávnění</span><span class="sxs-lookup"><span data-stu-id="51b3a-117">Elevation of Privilege</span></span>  
 <span data-ttu-id="51b3a-118">Zvýšení úrovně oprávnění útoky nastane, když má uživatel přístup předpokládat, že oprávnění důvěryhodného účtu, jako je například roli vlastníka nebo správce.</span><span class="sxs-lookup"><span data-stu-id="51b3a-118">Elevation of privilege attacks occur when a user is able to assume the privileges of a trusted account, such as an owner or administrator.</span></span> <span data-ttu-id="51b3a-119">Vždy spustit pod nejméně privilegovaným uživatelské účty a přiřaďte pouze potřebná oprávnění.</span><span class="sxs-lookup"><span data-stu-id="51b3a-119">Always run under least-privileged user accounts and assign only needed permissions.</span></span> <span data-ttu-id="51b3a-120">Vyhněte se použití správce nebo vlastníka účty pro provádění kódu.</span><span class="sxs-lookup"><span data-stu-id="51b3a-120">Avoid using administrative or owner accounts for executing code.</span></span> <span data-ttu-id="51b3a-121">Toto omezení velikosti škody, které může dojít, pokud se podaří útoku.</span><span class="sxs-lookup"><span data-stu-id="51b3a-121">This limits the amount of damage that can occur if an attack succeeds.</span></span> <span data-ttu-id="51b3a-122">Při provádění úlohy, které vyžadují další oprávnění, použijte postup podepisování nebo zosobnění pouze po dobu trvání úlohy.</span><span class="sxs-lookup"><span data-stu-id="51b3a-122">When performing tasks that require additional permissions, use procedure signing or impersonation only for the duration of the task.</span></span> <span data-ttu-id="51b3a-123">Můžete přihlásit uložené procedury s certifikáty nebo použít zosobnění dočasně přiřadit oprávnění.</span><span class="sxs-lookup"><span data-stu-id="51b3a-123">You can sign stored procedures with certificates or use impersonation to temporarily assign permissions.</span></span>  
  
### <a name="probing-and-intelligent-observation"></a><span data-ttu-id="51b3a-124">Testování a inteligentní pozorování</span><span class="sxs-lookup"><span data-stu-id="51b3a-124">Probing and Intelligent Observation</span></span>  
 <span data-ttu-id="51b3a-125">Útoku testování můžete chybové zprávy generované aplikací hledat pro chyby zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="51b3a-125">A probing attack can use error messages generated by an application to search for security vulnerabilities.</span></span> <span data-ttu-id="51b3a-126">Implementace zpracování chyb v všechny procedurální kód, aby se zabránilo informace o chybě systému SQL Server nebyl vrácen pro koncového uživatele.</span><span class="sxs-lookup"><span data-stu-id="51b3a-126">Implement error handling in all procedural code to prevent SQL Server error information from being returned to the end user.</span></span>  
  
### <a name="authentication"></a><span data-ttu-id="51b3a-127">Ověřování</span><span class="sxs-lookup"><span data-stu-id="51b3a-127">Authentication</span></span>  
 <span data-ttu-id="51b3a-128">Útok prostřednictvím injektáže řetězec připojení může dojít, když pomocí přihlášení serveru SQL, pokud připojovací řetězec založený na vstup uživatele vytvořeným za běhu.</span><span class="sxs-lookup"><span data-stu-id="51b3a-128">A connection string injection attack can occur when using SQL Server logins if a connection string based on user input is constructed at run time.</span></span> <span data-ttu-id="51b3a-129">Pokud připojovací řetězec není zaškrtnuté pro dvojice platný – klíčové slovo, útočník můžete vložit další znaky, potenciálně přístup k citlivým datům nebo jiným prostředkům na serveru.</span><span class="sxs-lookup"><span data-stu-id="51b3a-129">If the connection string is not checked for valid keyword pairs, an attacker can insert extra characters, potentially accessing sensitive data or other resources on the server.</span></span> <span data-ttu-id="51b3a-130">Pokud je to možné, použijte ověřování systému Windows.</span><span class="sxs-lookup"><span data-stu-id="51b3a-130">Use Windows authentication wherever possible.</span></span> <span data-ttu-id="51b3a-131">Pokud musíte použít přihlášení serveru SQL, použijte <xref:System.Data.SqlClient.SqlConnectionStringBuilder> k vytvoření a ověření připojovací řetězce v době běhu.</span><span class="sxs-lookup"><span data-stu-id="51b3a-131">If you must use SQL Server logins, use the <xref:System.Data.SqlClient.SqlConnectionStringBuilder> to create and validate connection strings at run time.</span></span>  
  
### <a name="passwords"></a><span data-ttu-id="51b3a-132">Hesla</span><span class="sxs-lookup"><span data-stu-id="51b3a-132">Passwords</span></span>  
 <span data-ttu-id="51b3a-133">Řada útoků úspěšné, protože bylo možné získat nebo uhodnout heslo pro privilegovaných uživatelů útočníka.</span><span class="sxs-lookup"><span data-stu-id="51b3a-133">Many attacks succeed because an intruder was able to obtain or guess a password for a privileged user.</span></span> <span data-ttu-id="51b3a-134">Hesla jsou vaše první linií obrany před neoprávněným uživatelům, takže nastavení spolehlivého hesla je důležité pro zabezpečení vašeho systému.</span><span class="sxs-lookup"><span data-stu-id="51b3a-134">Passwords are your first line of defense against intruders, so setting strong passwords is essential to the security of your system.</span></span> <span data-ttu-id="51b3a-135">Vytvořte a vynutit zásady hesel pro smíšený režim ověřování.</span><span class="sxs-lookup"><span data-stu-id="51b3a-135">Create and enforce password policies for mixed mode authentication.</span></span>  
  
 <span data-ttu-id="51b3a-136">Vždy přiřazujte silné heslo, které `sa` účtu, i když se používá ověřování systému Windows.</span><span class="sxs-lookup"><span data-stu-id="51b3a-136">Always assign a strong password to the `sa` account, even when using Windows Authentication.</span></span>  
  
## <a name="in-this-section"></a><span data-ttu-id="51b3a-137">V tomto oddílu</span><span class="sxs-lookup"><span data-stu-id="51b3a-137">In This Section</span></span>  
 [<span data-ttu-id="51b3a-138">Správa oprávnění pomocí uložených procedur na SQL Serveru</span><span class="sxs-lookup"><span data-stu-id="51b3a-138">Managing Permissions with Stored Procedures in SQL Server</span></span>](../../../../../docs/framework/data/adonet/sql/managing-permissions-with-stored-procedures-in-sql-server.md)  
 <span data-ttu-id="51b3a-139">Popisuje, jak spravovat oprávnění a řídit přístup k datům pomocí uložených procedur.</span><span class="sxs-lookup"><span data-stu-id="51b3a-139">Describes how to use stored procedures to manage permissions and control data access.</span></span> <span data-ttu-id="51b3a-140">Použití uložených procedur je efektivní způsob, jak reagovat na mnoho bezpečnostní hrozby.</span><span class="sxs-lookup"><span data-stu-id="51b3a-140">Using stored procedures is an effective way to respond to many security threats.</span></span>  
  
 [<span data-ttu-id="51b3a-141">Zápis zabezpečené dynamické SQL na SQL Serveru</span><span class="sxs-lookup"><span data-stu-id="51b3a-141">Writing Secure Dynamic SQL in SQL Server</span></span>](../../../../../docs/framework/data/adonet/sql/writing-secure-dynamic-sql-in-sql-server.md)  
 <span data-ttu-id="51b3a-142">Popisuje postupy pro psaní zabezpečené dynamické SQL pomocí uložené procedury.</span><span class="sxs-lookup"><span data-stu-id="51b3a-142">Describes techniques for writing secure dynamic SQL using stored procedures.</span></span>  
  
 [<span data-ttu-id="51b3a-143">Podepisování uložených procedur na SQL Serveru</span><span class="sxs-lookup"><span data-stu-id="51b3a-143">Signing Stored Procedures in SQL Server</span></span>](../../../../../docs/framework/data/adonet/sql/signing-stored-procedures-in-sql-server.md)  
 <span data-ttu-id="51b3a-144">Popisuje, jak se přihlásit pomocí certifikátu umožňuje uživatelům pracovat s daty, které nemají přímý přístup k uložené procedury.</span><span class="sxs-lookup"><span data-stu-id="51b3a-144">Describes how to sign a stored procedure with a certificate to enable users to work with data they do not have direct access to.</span></span> <span data-ttu-id="51b3a-145">To umožňuje uložené procedury k provádění operací, které volající nemá oprávnění k provedení přímo.</span><span class="sxs-lookup"><span data-stu-id="51b3a-145">This enables stored procedures to perform operations that the caller does not have permissions to perform directly.</span></span>  
  
 [<span data-ttu-id="51b3a-146">Přizpůsobení oprávnění se zosobněním na SQL Serveru</span><span class="sxs-lookup"><span data-stu-id="51b3a-146">Customizing Permissions with Impersonation in SQL Server</span></span>](../../../../../docs/framework/data/adonet/sql/customizing-permissions-with-impersonation-in-sql-server.md)  
 <span data-ttu-id="51b3a-147">Popisuje způsob použití EXECUTE AS klauzule zosobňovat jiného uživatele.</span><span class="sxs-lookup"><span data-stu-id="51b3a-147">Describes how to use the EXECUTE AS clause to impersonate another user.</span></span> <span data-ttu-id="51b3a-148">Zosobnění přepínačů kontext provádění volající, který má zadaný uživatel.</span><span class="sxs-lookup"><span data-stu-id="51b3a-148">Impersonation switches the execution context from the caller to the specified user.</span></span>  
  
 [<span data-ttu-id="51b3a-149">Udělení oprávnění na úrovni řádků na SQL Serveru</span><span class="sxs-lookup"><span data-stu-id="51b3a-149">Granting Row-Level Permissions in SQL Server</span></span>](../../../../../docs/framework/data/adonet/sql/granting-row-level-permissions-in-sql-server.md)  
 <span data-ttu-id="51b3a-150">Popisuje, jak implementovat oprávnění na úrovni řádku omezit přístup k datům.</span><span class="sxs-lookup"><span data-stu-id="51b3a-150">Describes how to implement row-level permissions to restrict data access.</span></span>  
  
 [<span data-ttu-id="51b3a-151">Vytváření rolí aplikací na SQL Serveru</span><span class="sxs-lookup"><span data-stu-id="51b3a-151">Creating Application Roles in SQL Server</span></span>](../../../../../docs/framework/data/adonet/sql/creating-application-roles-in-sql-server.md)  
 <span data-ttu-id="51b3a-152">Popisuje funkce a funkce aplikační role.</span><span class="sxs-lookup"><span data-stu-id="51b3a-152">Describes features and functionality of application roles.</span></span>  
  
 [<span data-ttu-id="51b3a-153">Povolení přístupu mezi databázemi na SQL Serveru</span><span class="sxs-lookup"><span data-stu-id="51b3a-153">Enabling Cross-Database Access in SQL Server</span></span>](../../../../../docs/framework/data/adonet/sql/enabling-cross-database-access-in-sql-server.md)  
 <span data-ttu-id="51b3a-154">Popisuje, jak povolit přístup k databázi mezi bez ohrožující zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="51b3a-154">Describes how to enable cross-database access without jeopardizing security.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="51b3a-155">Viz také</span><span class="sxs-lookup"><span data-stu-id="51b3a-155">See Also</span></span>  
 [<span data-ttu-id="51b3a-156">SQL Server – zabezpečení</span><span class="sxs-lookup"><span data-stu-id="51b3a-156">SQL Server Security</span></span>](../../../../../docs/framework/data/adonet/sql/sql-server-security.md)  
 [<span data-ttu-id="51b3a-157">Přehled zabezpečení SQL Serveru</span><span class="sxs-lookup"><span data-stu-id="51b3a-157">Overview of SQL Server Security</span></span>](../../../../../docs/framework/data/adonet/sql/overview-of-sql-server-security.md)  
 [<span data-ttu-id="51b3a-158">Zabezpečení aplikací ADO.NET</span><span class="sxs-lookup"><span data-stu-id="51b3a-158">Securing ADO.NET Applications</span></span>](../../../../../docs/framework/data/adonet/securing-ado-net-applications.md)  
 [<span data-ttu-id="51b3a-159">ADO.NET spravované zprostředkovatelé a středisku pro vývojáře datové sady</span><span class="sxs-lookup"><span data-stu-id="51b3a-159">ADO.NET Managed Providers and DataSet Developer Center</span></span>](http://go.microsoft.com/fwlink/?LinkId=217917)
