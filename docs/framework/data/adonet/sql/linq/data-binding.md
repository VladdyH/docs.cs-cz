---
title: "Datová vazba"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-ado
ms.tgt_pltfrm: 
ms.topic: article
dev_langs:
- csharp
- vb
ms.assetid: cbec8b02-a1e8-4ae8-a83b-bb5190413ac5
caps.latest.revision: "2"
author: JennieHubbard
ms.author: jhubbard
manager: jhubbard
ms.workload: dotnet
ms.openlocfilehash: 99aa438c64fdb8f2d14207e6afb06afa8e5f014a
ms.sourcegitcommit: 16186c34a957fdd52e5db7294f291f7530ac9d24
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 12/22/2017
---
# <a name="data-binding"></a><span data-ttu-id="2b741-102">Datová vazba</span><span class="sxs-lookup"><span data-stu-id="2b741-102">Data Binding</span></span>
[!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)]<span data-ttu-id="2b741-103">podporuje vytvoření vazby na běžné ovládací prvky, jako je například ovládací prvky mřížky.</span><span class="sxs-lookup"><span data-stu-id="2b741-103"> supports binding to common controls, such as grid controls.</span></span> <span data-ttu-id="2b741-104">Konkrétně [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] definuje základních sekvencí pro vytvoření vazby na data mřížky a zpracování vazba seznam podrobnosti, jak s ohledem na zobrazení a aktualizace.</span><span class="sxs-lookup"><span data-stu-id="2b741-104">Specifically, [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] defines the basic patterns for binding to a data grid and handling master-detail binding, both with regard to display and updating.</span></span>  
  
## <a name="underlying-principle"></a><span data-ttu-id="2b741-105">Základní princip</span><span class="sxs-lookup"><span data-stu-id="2b741-105">Underlying Principle</span></span>  
 [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)]<span data-ttu-id="2b741-106">Přeloží [!INCLUDE[vbteclinq](../../../../../../includes/vbteclinq-md.md)] dotazy jazyka SQL pro spuštění v databázi.</span><span class="sxs-lookup"><span data-stu-id="2b741-106"> translates [!INCLUDE[vbteclinq](../../../../../../includes/vbteclinq-md.md)] queries to SQL for execution on a database.</span></span> <span data-ttu-id="2b741-107">Výsledky jsou silného typu `IEnumerable`.</span><span class="sxs-lookup"><span data-stu-id="2b741-107">The results are strongly typed `IEnumerable`.</span></span> <span data-ttu-id="2b741-108">Protože tyto objekty jsou běžné běžně používané objekty language runtime (CLR), lze zobrazit výsledky obyčejnou objektu datové vazby.</span><span class="sxs-lookup"><span data-stu-id="2b741-108">Because these objects are ordinary common language runtime (CLR) objects, ordinary object data binding can be used to display the results.</span></span> <span data-ttu-id="2b741-109">Na druhé straně operace změn (vložení, aktualizace a odstranění) vyžadují další kroky.</span><span class="sxs-lookup"><span data-stu-id="2b741-109">On the other hand, change operations (inserts, updates, and deletes) require additional steps.</span></span>  
  
## <a name="operation"></a><span data-ttu-id="2b741-110">Operace</span><span class="sxs-lookup"><span data-stu-id="2b741-110">Operation</span></span>  
 <span data-ttu-id="2b741-111">Implicitně vytvoření vazby na ovládací prvky Windows Forms se dosahuje prostřednictvím implementace <xref:System.ComponentModel.IListSource>.</span><span class="sxs-lookup"><span data-stu-id="2b741-111">Implicitly binding to Windows Forms controls is accomplished by implementing <xref:System.ComponentModel.IListSource>.</span></span> <span data-ttu-id="2b741-112">Obecné zdroje dat <xref:System.Data.Linq.Table%601> (`Table<T>` v jazyce C# nebo `Table(Of T)` v [!INCLUDE[vbprvb](../../../../../../includes/vbprvb-md.md)]) a obecná `DataQuery` byly aktualizovány k implementaci <xref:System.ComponentModel.IListSource>.</span><span class="sxs-lookup"><span data-stu-id="2b741-112">Data sources generic <xref:System.Data.Linq.Table%601> (`Table<T>` in C# or `Table(Of T)` in [!INCLUDE[vbprvb](../../../../../../includes/vbprvb-md.md)]) and generic `DataQuery` have been updated to implement <xref:System.ComponentModel.IListSource>.</span></span> <span data-ttu-id="2b741-113">Uživatelské rozhraní (UI) datové vazby moduly (Windows Forms a Windows Presentation Foundation) i otestovat, zda jejich datového zdroje implementuje <xref:System.ComponentModel.IListSource>.</span><span class="sxs-lookup"><span data-stu-id="2b741-113">User interface (UI) data-binding engines (Windows Forms and Windows Presentation Foundation) both test whether their data source implements <xref:System.ComponentModel.IListSource>.</span></span> <span data-ttu-id="2b741-114">Proto zápis přímého použití dotazu na zdroj dat ovládacího prvku implicitně volání [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] generace kolekce, jako v následujícím příkladu:</span><span class="sxs-lookup"><span data-stu-id="2b741-114">Therefore, writing a direct affectation of a query to a data source of a control implicitly calls [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] collection generation, as in the following example:</span></span>  
  
 [!code-csharp[DLinqDataBinding#1](../../../../../../samples/snippets/csharp/VS_Snippets_Data/DLinqDataBinding/cs/Program.cs#1)]
 [!code-vb[DLinqDataBinding#1](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DLinqDataBinding/vb/Module1.vb#1)]  
  
 <span data-ttu-id="2b741-115">Stejné dojde k s Windows Presentation Foundation:</span><span class="sxs-lookup"><span data-stu-id="2b741-115">The same occurs with Windows Presentation Foundation:</span></span>  
  
 [!code-csharp[DLinqDataBinding#2](../../../../../../samples/snippets/csharp/VS_Snippets_Data/DLinqDataBinding/cs/Program.cs#2)]
 [!code-vb[DLinqDataBinding#2](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DLinqDataBinding/vb/Module1.vb#2)]  
  
 <span data-ttu-id="2b741-116">Kolekce generace jsou implementované obecného <xref:System.Data.Linq.Table%601> a obecná `DataQuery` v <xref:System.ComponentModel.IListSource.GetList%2A>.</span><span class="sxs-lookup"><span data-stu-id="2b741-116">Collection generations are implemented by generic <xref:System.Data.Linq.Table%601> and generic `DataQuery` in <xref:System.ComponentModel.IListSource.GetList%2A>.</span></span>  
  
## <a name="ilistsource-implementation"></a><span data-ttu-id="2b741-117">Implementace IListSource</span><span class="sxs-lookup"><span data-stu-id="2b741-117">IListSource Implementation</span></span>  
 [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)]<span data-ttu-id="2b741-118">implementuje <xref:System.ComponentModel.IListSource> ve dvou umístěních:</span><span class="sxs-lookup"><span data-stu-id="2b741-118"> implements <xref:System.ComponentModel.IListSource> in two locations:</span></span>  
  
-   <span data-ttu-id="2b741-119">Zdroj dat <xref:System.Data.Linq.Table%601>: [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] umožňuje tabulky k vyplnění `DataBindingList` kolekce, která udržuje odkaz na tabulku.</span><span class="sxs-lookup"><span data-stu-id="2b741-119">The data source is a <xref:System.Data.Linq.Table%601>: [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] browses the table to fill a `DataBindingList` collection that keeps a reference on the table.</span></span>  
  
-   <span data-ttu-id="2b741-120">Zdroj dat je <xref:System.Linq.IQueryable%601>.</span><span class="sxs-lookup"><span data-stu-id="2b741-120">The data source is an <xref:System.Linq.IQueryable%601>.</span></span> <span data-ttu-id="2b741-121">Existují dva scénáře:</span><span class="sxs-lookup"><span data-stu-id="2b741-121">There are two scenarios:</span></span>  
  
    -   <span data-ttu-id="2b741-122">Pokud [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] vyhledá základní <xref:System.Data.Linq.Table%601> z <xref:System.Linq.IQueryable%601>, zdroj umožňuje edition a situaci je stejné jako na první odrážku.</span><span class="sxs-lookup"><span data-stu-id="2b741-122">If [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] finds the underlying <xref:System.Data.Linq.Table%601> from the <xref:System.Linq.IQueryable%601>, the source allows for edition and the situation is the same as in the first bullet point.</span></span>  
  
    -   <span data-ttu-id="2b741-123">Pokud [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] nelze najít základní <xref:System.Data.Linq.Table%601>, zdroj není povolena pro edici (například `groupby`).</span><span class="sxs-lookup"><span data-stu-id="2b741-123">If [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] cannot find the underlying <xref:System.Data.Linq.Table%601>, the source does not allow for edition (for example, `groupby`).</span></span> [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)]<span data-ttu-id="2b741-124">Umožňuje dotazu k vyplnění obecný `SortableBindingList`, což je jednoduchý <xref:System.ComponentModel.BindingList%601> funkci řazení pro T entity pro danou vlastnost, která implementuje.</span><span class="sxs-lookup"><span data-stu-id="2b741-124"> browses the query to fill a generic `SortableBindingList`, which is a simple <xref:System.ComponentModel.BindingList%601> that implements the sorting feature for T entities for a given property.</span></span>  
  
## <a name="specialized-collections"></a><span data-ttu-id="2b741-125">Specializované kolekce</span><span class="sxs-lookup"><span data-stu-id="2b741-125">Specialized Collections</span></span>  
 <span data-ttu-id="2b741-126">Pro mnoho funkcí popsaných výše v tomto dokumentu <xref:System.ComponentModel.BindingList%601> specializuje na některé jiné třídy.</span><span class="sxs-lookup"><span data-stu-id="2b741-126">For many features described earlier in this document, <xref:System.ComponentModel.BindingList%601> has been specialized to some different classes.</span></span> <span data-ttu-id="2b741-127">Tyto třídy jsou Obecné `SortableBindingList` a obecná `DataBindingList`.</span><span class="sxs-lookup"><span data-stu-id="2b741-127">These classes are generic `SortableBindingList` and generic `DataBindingList`.</span></span> <span data-ttu-id="2b741-128">Obě jsou deklarované jako vnitřní.</span><span class="sxs-lookup"><span data-stu-id="2b741-128">Both are declared as internal.</span></span>  
  
### <a name="generic-sortablebindinglist"></a><span data-ttu-id="2b741-129">Obecné SortableBindingList</span><span class="sxs-lookup"><span data-stu-id="2b741-129">Generic SortableBindingList</span></span>  
 <span data-ttu-id="2b741-130">Tato třída dědí z <xref:System.ComponentModel.BindingList%601>, a je řazení verze <xref:System.ComponentModel.BindingList%601>.</span><span class="sxs-lookup"><span data-stu-id="2b741-130">This class inherits from <xref:System.ComponentModel.BindingList%601>, and is a sortable version of <xref:System.ComponentModel.BindingList%601>.</span></span> <span data-ttu-id="2b741-131">Řazení je řešení v paměti a nikdy kontaktuje samotná databáze.</span><span class="sxs-lookup"><span data-stu-id="2b741-131">Sorting is an in-memory solution and never contacts the database itself.</span></span> <span data-ttu-id="2b741-132"><xref:System.ComponentModel.BindingList%601>implementuje <xref:System.ComponentModel.IBindingList> ale nepodporuje řazení ve výchozím nastavení.</span><span class="sxs-lookup"><span data-stu-id="2b741-132"><xref:System.ComponentModel.BindingList%601> implements <xref:System.ComponentModel.IBindingList> but does not support sorting by default.</span></span> <span data-ttu-id="2b741-133">Ale <xref:System.ComponentModel.BindingList%601> implementuje <xref:System.ComponentModel.IBindingList> s virtuální *základní* metody.</span><span class="sxs-lookup"><span data-stu-id="2b741-133">However, <xref:System.ComponentModel.BindingList%601> implements <xref:System.ComponentModel.IBindingList> with virtual *core* methods.</span></span> <span data-ttu-id="2b741-134">Snadno můžete přepsat tyto metody.</span><span class="sxs-lookup"><span data-stu-id="2b741-134">You can easily override these methods.</span></span> <span data-ttu-id="2b741-135">Obecné `SortableBindingList` přepsání <xref:System.ComponentModel.BindingList%601.SupportsSortingCore%2A>, <xref:System.ComponentModel.BindingList%601.SortPropertyCore%2A>, <xref:System.ComponentModel.BindingList%601.SortDirectionCore%2A>, a <xref:System.ComponentModel.BindingList%601.ApplySortCore%2A>.</span><span class="sxs-lookup"><span data-stu-id="2b741-135">Generic `SortableBindingList` overrides <xref:System.ComponentModel.BindingList%601.SupportsSortingCore%2A>, <xref:System.ComponentModel.BindingList%601.SortPropertyCore%2A>, <xref:System.ComponentModel.BindingList%601.SortDirectionCore%2A>, and <xref:System.ComponentModel.BindingList%601.ApplySortCore%2A>.</span></span> <span data-ttu-id="2b741-136">`ApplySortCore`je volána metodou <xref:System.ComponentModel.IBindingList.ApplySort%2A> a seřadí seznam položek T pro danou vlastnost.</span><span class="sxs-lookup"><span data-stu-id="2b741-136">`ApplySortCore` is called by <xref:System.ComponentModel.IBindingList.ApplySort%2A> and sorts the list of T items for a given property.</span></span>  
  
 <span data-ttu-id="2b741-137">Je vyvolána výjimka, pokud vlastnost nepatří do T.</span><span class="sxs-lookup"><span data-stu-id="2b741-137">An exception is raised if the property does not belong to T.</span></span>  
  
 <span data-ttu-id="2b741-138">K dosažení, řazení, [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] vytvoří obecný `SortableBindingList.PropertyComparer` třídu, která dědí z obecného <xref:System.Collections.Generic.Comparer%601.System%23Collections%23IComparer%23Compare%2A> a implementuje výchozí porovnávače pro daný typ T, `PropertyDescriptor`a směr.</span><span class="sxs-lookup"><span data-stu-id="2b741-138">To achieve sorting, [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] creates a generic `SortableBindingList.PropertyComparer` class that inherits from generic <xref:System.Collections.Generic.Comparer%601.System%23Collections%23IComparer%23Compare%2A> and implements a default comparer for a given type T, a `PropertyDescriptor`, and a direction.</span></span> <span data-ttu-id="2b741-139">Tato třída se vytvoří dynamicky `Comparer` t, kde T představuje `PropertyType` z `PropertyDescriptor`.</span><span class="sxs-lookup"><span data-stu-id="2b741-139">This class dynamically creates a `Comparer` of T where T is the `PropertyType` of the `PropertyDescriptor`.</span></span> <span data-ttu-id="2b741-140">Potom výchozí porovnávače se načítají statické obecná `Comparer`.</span><span class="sxs-lookup"><span data-stu-id="2b741-140">Then, the default comparer is retrieved from the static generic `Comparer`.</span></span> <span data-ttu-id="2b741-141">Výchozí instance se získávají pomocí reflexe.</span><span class="sxs-lookup"><span data-stu-id="2b741-141">A default instance is obtained by using reflection.</span></span>  
  
 <span data-ttu-id="2b741-142">Obecné `SortableBindingList` je také základní třídu pro `DataBindingList`.</span><span class="sxs-lookup"><span data-stu-id="2b741-142">Generic `SortableBindingList` is also the base class for `DataBindingList`.</span></span> <span data-ttu-id="2b741-143">Obecné `SortableBindingList` nabízí dvě metody virtuální pro pozastavení nebo obnovení položky Přidat nebo odebrat sledování.</span><span class="sxs-lookup"><span data-stu-id="2b741-143">Generic `SortableBindingList` offers two virtual methods for suspending or resuming items add/remove tracking.</span></span> <span data-ttu-id="2b741-144">Tyto dvě metody lze použít pro základní funkce jako je například řazení, ale bude skutečně implementovat horní třídy jako obecný `DataBindingList`.</span><span class="sxs-lookup"><span data-stu-id="2b741-144">Those two methods can be used for base features such as sorting, but will really be implemented by upper classes like generic `DataBindingList`.</span></span>  
  
### <a name="generic-databindinglist"></a><span data-ttu-id="2b741-145">Obecné DataBindingList</span><span class="sxs-lookup"><span data-stu-id="2b741-145">Generic DataBindingList</span></span>  
 <span data-ttu-id="2b741-146">Tato třída dědí od obecného `SortableBindingLIst`.</span><span class="sxs-lookup"><span data-stu-id="2b741-146">This class inherits from generic `SortableBindingLIst`.</span></span> <span data-ttu-id="2b741-147">Obecné `DataBindingList` udržuje odkaz na základní Obecné `Table` z obecná `IQueryable` použít pro počáteční naplnění kolekce.</span><span class="sxs-lookup"><span data-stu-id="2b741-147">Generic `DataBindingList` keeps a reference on the underlying generic `Table` of the generic `IQueryable` used for the initial filling of the collection.</span></span> <span data-ttu-id="2b741-148">Obecné `DatabindingList` sledování pro položku Přidat nebo odebrat přidá do kolekce přepsáním `InsertItem`() a `RemoveItem`().</span><span class="sxs-lookup"><span data-stu-id="2b741-148">Generic `DatabindingList` adds tracking for item add/remove to the collection by overriding `InsertItem`() and `RemoveItem`().</span></span> <span data-ttu-id="2b741-149">Implementuje také abstraktní pozastavení nebo obnovení činnosti funkce aby sledování podmíněného sledování.</span><span class="sxs-lookup"><span data-stu-id="2b741-149">It also implements the abstract suspend/resume tracking feature to make tracking conditional.</span></span> <span data-ttu-id="2b741-150">Díky této funkci můžete obecný `DataBindingList` využít výhod všech polymorfní používání funkce sledování nadřazené třídy.</span><span class="sxs-lookup"><span data-stu-id="2b741-150">This feature makes generic `DataBindingList` take advantage of all the polymorphic usage of the tracking feature of the parent classes.</span></span>  
  
## <a name="binding-to-entitysets"></a><span data-ttu-id="2b741-151">Vytvoření vazby na sady EntitySets</span><span class="sxs-lookup"><span data-stu-id="2b741-151">Binding to EntitySets</span></span>  
 <span data-ttu-id="2b741-152">Vytvoření vazby na `EntitySet` je zvláštní případ, protože `EntitySet` je již kolekce, která implementuje <xref:System.ComponentModel.IBindingList>.</span><span class="sxs-lookup"><span data-stu-id="2b741-152">Binding to `EntitySet` is a special case because `EntitySet` is already a collection that implements <xref:System.ComponentModel.IBindingList>.</span></span> [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)]<span data-ttu-id="2b741-153">Přidá řazení a zrušení (<xref:System.ComponentModel.ICancelAddNew>) podporují.</span><span class="sxs-lookup"><span data-stu-id="2b741-153"> adds sorting and canceling (<xref:System.ComponentModel.ICancelAddNew>) support.</span></span> <span data-ttu-id="2b741-154">`EntitySet` Třída používá interní seznamu k ukládání entit.</span><span class="sxs-lookup"><span data-stu-id="2b741-154">An `EntitySet` class uses an internal list to store entities.</span></span> <span data-ttu-id="2b741-155">Tento seznam je nízké úrovně kolekce založené na obecné pole, Obecné `ItemList` třídy.</span><span class="sxs-lookup"><span data-stu-id="2b741-155">This list is a low-level collection based on a generic array, the generic `ItemList` class.</span></span>  
  
### <a name="adding-a-sorting-feature"></a><span data-ttu-id="2b741-156">Přidání funkce řazení</span><span class="sxs-lookup"><span data-stu-id="2b741-156">Adding a Sorting Feature</span></span>  
 <span data-ttu-id="2b741-157">Pole nabízejí metoda řazení (`Array.Sort()`), můžete použít s `Comparer` z T. [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] používá obecná `SortableBindingList.PropertyComparer` třída popsané dříve v tomto tématu získat tuto `Comparer` pro vlastnost a směr, který se má seřadit na.</span><span class="sxs-lookup"><span data-stu-id="2b741-157">Arrays offer a sort method (`Array.Sort()`) that you can be used with a `Comparer` of T. [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] uses the generic `SortableBindingList.PropertyComparer` class described earlier in this topic to obtain this `Comparer` for the property and the direction to be sorted on.</span></span> <span data-ttu-id="2b741-158">`ApplySort` Metoda se přidá do obecného `ItemList` k volání této funkce.</span><span class="sxs-lookup"><span data-stu-id="2b741-158">An `ApplySort` method is added to generic `ItemList` to call this feature.</span></span>  
  
 <span data-ttu-id="2b741-159">Na `EntitySet` straně, teď musíte deklarovat řazení podpory:</span><span class="sxs-lookup"><span data-stu-id="2b741-159">On the `EntitySet` side, you now have to declare sorting support:</span></span>  
  
-   <span data-ttu-id="2b741-160"><xref:System.ComponentModel.IBindingList.SupportsSorting%2A>Vrátí `true`.</span><span class="sxs-lookup"><span data-stu-id="2b741-160"><xref:System.ComponentModel.IBindingList.SupportsSorting%2A> returns `true`.</span></span>  
  
-   <span data-ttu-id="2b741-161"><xref:System.ComponentModel.IBindingList.ApplySort%2A>volání `entities.ApplySort()` a potom `OnListChanged()`.</span><span class="sxs-lookup"><span data-stu-id="2b741-161"><xref:System.ComponentModel.IBindingList.ApplySort%2A> calls `entities.ApplySort()` and then `OnListChanged()`.</span></span>  
  
-   <span data-ttu-id="2b741-162"><xref:System.ComponentModel.IBindingList.SortDirection%2A>a <xref:System.ComponentModel.IBindingList.SortProperty%2A> vlastnosti vystavit aktuální definice řazení, která je uložena v místních členy.</span><span class="sxs-lookup"><span data-stu-id="2b741-162"><xref:System.ComponentModel.IBindingList.SortDirection%2A> and <xref:System.ComponentModel.IBindingList.SortProperty%2A> properties expose the current sorting definition, which is stored in local members.</span></span>  
  
 <span data-ttu-id="2b741-163">Pokud použijete System.Windows.Forms.BindingSource a vytvořit vazbu EntitySet\<TEntity > k System.Windows.Forms.BindingSource.DataSource, je třeba volat EntitySet\<Tentity >. GetNewBindingList aktualizace BindingSource.List.</span><span class="sxs-lookup"><span data-stu-id="2b741-163">When you use a System.Windows.Forms.BindingSource and bind an EntitySet\<TEntity> to the System.Windows.Forms.BindingSource.DataSource, you must call EntitySet\<Tentity>.GetNewBindingList to update BindingSource.List.</span></span>  
  
 <span data-ttu-id="2b741-164">Pokud pomocí System.Windows.Forms.BindingSource a nastavte vlastnost BindingSource.DataMember a nastavte BindingSource.DataSource na třídu, která má vlastnost s názvem v BindingSource.DataMember, který zveřejňuje EntitySet\<TEntity >, můžete není nutné volat EntitySet\<Tentity >. GetNewBindingList aktualizovat BindingSource.List ale dojít ke ztrátě schopnosti řazení.</span><span class="sxs-lookup"><span data-stu-id="2b741-164">If you use a System.Windows.Forms.BindingSource and set the BindingSource.DataMember property and set BindingSource.DataSource to a class that has a property named in the BindingSource.DataMember that exposes the EntitySet\<TEntity>, you don’t have to call EntitySet\<Tentity>.GetNewBindingList to update the BindingSource.List but you lose Sorting capability.</span></span>  
  
## <a name="caching"></a><span data-ttu-id="2b741-165">Ukládání do mezipaměti</span><span class="sxs-lookup"><span data-stu-id="2b741-165">Caching</span></span>  
 [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)]<span data-ttu-id="2b741-166">implementovat dotazy <xref:System.ComponentModel.IListSource.GetList%2A>.</span><span class="sxs-lookup"><span data-stu-id="2b741-166"> queries implement <xref:System.ComponentModel.IListSource.GetList%2A>.</span></span> <span data-ttu-id="2b741-167">Pokud třída Windows Forms BindingSource splňuje toto rozhraní, zavolá GetList() po třech čas pro jedno připojení.</span><span class="sxs-lookup"><span data-stu-id="2b741-167">When the Windows Forms BindingSource class meets this interface, it calls GetList() threes time for a single connection.</span></span> <span data-ttu-id="2b741-168">Chcete-li vyřešit tuto situaci [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] implementuje mezipaměti na jednu instanci k ukládání a vždy vrátí stejné generované kolekce.</span><span class="sxs-lookup"><span data-stu-id="2b741-168">To work around this situation, [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] implements a cache per instance to store and always return the same generated collection.</span></span>  
  
## <a name="cancellation"></a><span data-ttu-id="2b741-169">Zrušení</span><span class="sxs-lookup"><span data-stu-id="2b741-169">Cancellation</span></span>  
 <span data-ttu-id="2b741-170"><xref:System.ComponentModel.IBindingList>definuje <xref:System.ComponentModel.IBindingList.AddNew%2A> metoda, která se používá k vytvoření nové položky z kolekce vázané ovládací prvky.</span><span class="sxs-lookup"><span data-stu-id="2b741-170"><xref:System.ComponentModel.IBindingList> defines an <xref:System.ComponentModel.IBindingList.AddNew%2A> method that is used by controls to create a new item from a bound collection.</span></span> <span data-ttu-id="2b741-171">`DataGridView` Ovládací prvek zobrazí tuto funkci velmi dobře, když hvězdu v hlavičce obsahuje poslední řádek viditelné.</span><span class="sxs-lookup"><span data-stu-id="2b741-171">The `DataGridView` control shows this feature very well when the last visible row contains a star in its header.</span></span> <span data-ttu-id="2b741-172">Hvězdičkou ukazuje, že můžete přidat novou položku.</span><span class="sxs-lookup"><span data-stu-id="2b741-172">The star shows you that you can add a new item.</span></span>  
  
 <span data-ttu-id="2b741-173">Kromě této funkce můžete taky implementovat kolekci <xref:System.ComponentModel.ICancelAddNew>.</span><span class="sxs-lookup"><span data-stu-id="2b741-173">In addition to this feature, a collection can also implement <xref:System.ComponentModel.ICancelAddNew>.</span></span> <span data-ttu-id="2b741-174">Tato funkce umožňuje pro ovládací prvky zrušit nebo ověřit, že nové upravit položku byl ověřen nebo ne.</span><span class="sxs-lookup"><span data-stu-id="2b741-174">This feature allows for the controls to cancel or validate that the new edited item has been validated or not.</span></span>  
  
 <span data-ttu-id="2b741-175"><xref:System.ComponentModel.ICancelAddNew>je implementována ve všech [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] Vycentrovat kolekcí (Obecné `SortableBindingList` a obecná `EntitySet`).</span><span class="sxs-lookup"><span data-stu-id="2b741-175"><xref:System.ComponentModel.ICancelAddNew> is implemented in all [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] databound collections (generic `SortableBindingList` and generic `EntitySet`).</span></span> <span data-ttu-id="2b741-176">V obou implementacích kód provede následujícím způsobem:</span><span class="sxs-lookup"><span data-stu-id="2b741-176">In both implementations the code performs as follows:</span></span>  
  
-   <span data-ttu-id="2b741-177">Umožňuje vložit položky a pak z kolekce odebrán.</span><span class="sxs-lookup"><span data-stu-id="2b741-177">Lets items be inserted and then removed from the collection.</span></span>  
  
-   <span data-ttu-id="2b741-178">Nesleduje změny tak dlouho, dokud rozhraní nesměrují edici.</span><span class="sxs-lookup"><span data-stu-id="2b741-178">Does not track changes as long as the UI does not commit the edition.</span></span>  
  
-   <span data-ttu-id="2b741-179">Nesleduje změny tak dlouho, dokud se zruší edice (<xref:System.ComponentModel.ICancelAddNew.CancelNew%2A>).</span><span class="sxs-lookup"><span data-stu-id="2b741-179">Does not track changes as long as the edition is canceled (<xref:System.ComponentModel.ICancelAddNew.CancelNew%2A>).</span></span>  
  
-   <span data-ttu-id="2b741-180">Umožňuje sledování při edice je potvrzená (<xref:System.ComponentModel.ICancelAddNew.EndNew%2A>).</span><span class="sxs-lookup"><span data-stu-id="2b741-180">Allows tracking when the edition is committed (<xref:System.ComponentModel.ICancelAddNew.EndNew%2A>).</span></span>  
  
-   <span data-ttu-id="2b741-181">Umožňuje chovat normálně, pokud nová položka nepochází z kolekce <xref:System.ComponentModel.IBindingList.AddNew%2A>.</span><span class="sxs-lookup"><span data-stu-id="2b741-181">Lets the collection behave normally if the new item does not come from <xref:System.ComponentModel.IBindingList.AddNew%2A>.</span></span>  
  
## <a name="troubleshooting"></a><span data-ttu-id="2b741-182">Poradce při potížích</span><span class="sxs-lookup"><span data-stu-id="2b741-182">Troubleshooting</span></span>  
 <span data-ttu-id="2b741-183">V této části volá na několik položek, které mohou být užitečné při řešení potíží s vaší [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] datových vazeb aplikací.</span><span class="sxs-lookup"><span data-stu-id="2b741-183">This section calls out several items that might help troubleshoot your [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] data binding applications.</span></span>  
  
-   <span data-ttu-id="2b741-184">Je nutné použít vlastnosti; použití pouze pole není dostatečná.</span><span class="sxs-lookup"><span data-stu-id="2b741-184">You must use properties; using only fields is not sufficient.</span></span> <span data-ttu-id="2b741-185">Windows Forms vyžadují toto použití.</span><span class="sxs-lookup"><span data-stu-id="2b741-185">Windows Forms require this usage.</span></span>  
  
-   <span data-ttu-id="2b741-186">Ve výchozím nastavení `image`, `varbinary`, a `timestamp` mapování typů databáze do bajtového pole.</span><span class="sxs-lookup"><span data-stu-id="2b741-186">By default, `image`, `varbinary`, and `timestamp` database types map to byte array.</span></span> <span data-ttu-id="2b741-187">Protože `ToString()` není podporován v tomto scénáři, nelze zobrazit tyto objekty.</span><span class="sxs-lookup"><span data-stu-id="2b741-187">Because `ToString()` is not supported in this scenario, these objects cannot be displayed.</span></span>  
  
-   <span data-ttu-id="2b741-188">Člena třídy namapované na primární klíč má nastavení, ale [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] nepodporuje změnu identity objektu.</span><span class="sxs-lookup"><span data-stu-id="2b741-188">A class member mapped to a primary key has a setter, but [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] does not support object identity change.</span></span> <span data-ttu-id="2b741-189">Primární nebo jedinečný klíč, který se používá v mapování proto nelze aktualizovat v databázi.</span><span class="sxs-lookup"><span data-stu-id="2b741-189">Therefore, the primary/unique key that is used in mapping cannot be updated in the database.</span></span> <span data-ttu-id="2b741-190">Ke změně v mřížce dojde k výjimce při volání <xref:System.Data.Linq.DataContext.SubmitChanges%2A>.</span><span class="sxs-lookup"><span data-stu-id="2b741-190">A change in the grid causes an exception when you call <xref:System.Data.Linq.DataContext.SubmitChanges%2A>.</span></span>  
  
-   <span data-ttu-id="2b741-191">Pokud je propojena entity ve dvou samostatných mřížky (například jeden z nich a další podrobnosti), `Delete` v mřížce hlavní není rozšíří do mřížky podrobností.</span><span class="sxs-lookup"><span data-stu-id="2b741-191">If an entity is bound in two separate grids (for example, one master and another detail), a `Delete` in the master grid is not propagated to the detail grid.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="2b741-192">Viz také</span><span class="sxs-lookup"><span data-stu-id="2b741-192">See Also</span></span>  
 [<span data-ttu-id="2b741-193">Základní informace</span><span class="sxs-lookup"><span data-stu-id="2b741-193">Background Information</span></span>](../../../../../../docs/framework/data/adonet/sql/linq/background-information.md)
