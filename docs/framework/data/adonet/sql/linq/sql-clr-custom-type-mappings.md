---
title: "Mapování vlastních typů SQL CLR"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-ado
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: d916c7fb-4b56-4214-acbe-5e23365047b2
caps.latest.revision: "2"
author: douglaslMS
ms.author: douglasl
manager: craigg
ms.workload: dotnet
ms.openlocfilehash: 9ead5c43d295a5dc42f09deb21955de46fa1a576
ms.sourcegitcommit: ed26cfef4e18f6d93ab822d8c29f902cff3519d1
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 01/17/2018
---
# <a name="sql-clr-custom-type-mappings"></a><span data-ttu-id="c097c-102">Mapování vlastních typů SQL CLR</span><span class="sxs-lookup"><span data-stu-id="c097c-102">SQL-CLR Custom Type Mappings</span></span>
<span data-ttu-id="c097c-103">Typ mapování mezi systému SQL Server a modul CLR (CLR) je zadána automaticky, pokud použijete na SQLMetal nástroj příkazového řádku, Návrhář relací objektů (Návrhář relací objektů).</span><span class="sxs-lookup"><span data-stu-id="c097c-103">Type mapping between SQL Server and the common language runtime (CLR) is automatically specified when you use the SQLMetal command-line tool, Object Relational Designer (O/R Designer).</span></span>  
  
 <span data-ttu-id="c097c-104">Pokud žádné vlastní mapování provádí, tyto nástroje přiřadit výchozí mapování typů jak je popsáno v [mapování typu SQL CLR](../../../../../../docs/framework/data/adonet/sql/linq/sql-clr-type-mapping.md).</span><span class="sxs-lookup"><span data-stu-id="c097c-104">When no customized mapping is performed, these tools assign default type mappings as described in [SQL-CLR Type Mapping](../../../../../../docs/framework/data/adonet/sql/linq/sql-clr-type-mapping.md).</span></span> <span data-ttu-id="c097c-105">Pokud chcete zadat mapování jinak než tato výchozí nastavení, musíte udělat některé přizpůsobení mapování typů.</span><span class="sxs-lookup"><span data-stu-id="c097c-105">If you want to type mappings differently from these defaults, you need to do some customization of the type mappings.</span></span>  
  
 <span data-ttu-id="c097c-106">Při přizpůsobování mapování typů, provést změny v souboru DBML zprostředkující je doporučený postup.</span><span class="sxs-lookup"><span data-stu-id="c097c-106">When customizing type mappings, the recommended approach is to make the changes in an intermediary DBML file.</span></span> <span data-ttu-id="c097c-107">Upravený soubor DBML by pak použije při vytváření můžete kód a mapování souborů s SQLMetal nebo Návrhář relací objektů.</span><span class="sxs-lookup"><span data-stu-id="c097c-107">Then, your customized DBML file should be used when you create you code and mapping files with SQLMetal or O/R Designer.</span></span>  
  
 <span data-ttu-id="c097c-108">Jakmile instanci můžete vytvořit <xref:System.Data.Linq.DataContext> objekt z kódu a mapování souborů <xref:System.Data.Linq.DataContext.CreateDatabase%2A?displayProperty=nameWithType> metoda vytvoří databázi na základě mapování typu, které jsou určené.</span><span class="sxs-lookup"><span data-stu-id="c097c-108">Once you instantiate the <xref:System.Data.Linq.DataContext> object from the code and mapping files, the <xref:System.Data.Linq.DataContext.CreateDatabase%2A?displayProperty=nameWithType> method creates a database based on the type mappings that are specified.</span></span> <span data-ttu-id="c097c-109">Pokud neexistují žádné CLR `type` zadat atributy mapování, použije se výchozí typ mapování.</span><span class="sxs-lookup"><span data-stu-id="c097c-109">If there are no CLR `type` attributes specified in the mappings, the default type mappings will be used.</span></span>  
  
## <a name="customization-with-sqlmetal-or-or-designer"></a><span data-ttu-id="c097c-110">Přizpůsobení s SQLMetal nebo Návrhář relací objektů</span><span class="sxs-lookup"><span data-stu-id="c097c-110">Customization with SQLMetal or O/R Designer</span></span>  
 <span data-ttu-id="c097c-111">SQLMetal a Návrhář relací objektů můžete automaticky vytvořit objektový model, který obsahuje informace o mapování typu uvnitř nebo vně souboru kódu.</span><span class="sxs-lookup"><span data-stu-id="c097c-111">With SQLMetal and O/R Designer, you can automatically create an object model that includes the type mapping information inside or outside the code file.</span></span> <span data-ttu-id="c097c-112">Protože tyto soubory jsou přepsány na SQLMetal nebo Návrhář relací objektů, pokaždé, když je znovu vytvořit mapování, doporučeným přístupem k určení vlastního typu mapování je k přizpůsobení souboru DBML.</span><span class="sxs-lookup"><span data-stu-id="c097c-112">Because these files are overwritten by SQLMetal or O/R Designer, each time you recreate your mappings, the recommended approach to specifying custom type mappings is to customize a DBML file.</span></span>  
  
 <span data-ttu-id="c097c-113">Chcete-li přizpůsobit mapování typů s SQLMetal nebo Návrhář relací objektů, nejprve vygenerujte souboru DBML.</span><span class="sxs-lookup"><span data-stu-id="c097c-113">To customize type mappings with SQLMetal or O/R Designer, first generate a DBML file.</span></span> <span data-ttu-id="c097c-114">Před generováním kód soubor nebo soubor mapování, upravte souboru DBML k identifikaci požadovaný typ mapování.</span><span class="sxs-lookup"><span data-stu-id="c097c-114">Then, before generating the code file or mapping file, modify the DBML file to identify the desired type mappings.</span></span> <span data-ttu-id="c097c-115">S SQLMetal, budete muset ručně změnit `Type` a `DbType` atributy v souboru DBML mapování úpravy provádět vašeho typu.</span><span class="sxs-lookup"><span data-stu-id="c097c-115">With SQLMetal, you have to manually change the `Type` and `DbType` attributes in the DBML file to make your type mapping customizations.</span></span> <span data-ttu-id="c097c-116">S Návrhář relací objektů můžete provést změny v návrháři.</span><span class="sxs-lookup"><span data-stu-id="c097c-116">With O/R Designer, you can make your changes within the Designer.</span></span> <span data-ttu-id="c097c-117">Další informace o používání Návrhář relací objektů najdete v tématu [technologie LINQ to SQL nástroje v sadě Visual Studio](/visualstudio/data-tools/linq-to-sql-tools-in-visual-studio2).</span><span class="sxs-lookup"><span data-stu-id="c097c-117">For more information about using the O/R Designer, see [LINQ to SQL Tools in Visual Studio](/visualstudio/data-tools/linq-to-sql-tools-in-visual-studio2).</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="c097c-118">Některé mapování typů může vést k přetečení nebo data ztrátě výjimky při převodu do nebo z databáze.</span><span class="sxs-lookup"><span data-stu-id="c097c-118">Some type mappings may result in overflow or data loss exceptions while translating to or from the database.</span></span> <span data-ttu-id="c097c-119">Pečlivě podívat se na matici chování mapování typu Run-time v [mapování typu SQL CLR](../../../../../../docs/framework/data/adonet/sql/linq/sql-clr-type-mapping.md) před provedením jakékoli úpravy.</span><span class="sxs-lookup"><span data-stu-id="c097c-119">Carefully review the Type Mapping Run-time Behavior Matrix in [SQL-CLR Type Mapping](../../../../../../docs/framework/data/adonet/sql/linq/sql-clr-type-mapping.md) before making any customizations.</span></span>  
  
 <span data-ttu-id="c097c-120">Aby pro vlastní typ mapování rozpoznala SQLMetal nebo Návrhář relací objektů je nutné zajistit, že tyto nástroje se dodává s cesta k souboru vlastní DBML při generování kódu soubor nebo soubor externí mapování.</span><span class="sxs-lookup"><span data-stu-id="c097c-120">In order for your type mapping customizations to be recognized by SQLMetal or O/R Designer, you need to make sure that these tools are supplied with the path to your custom DBML file when you generate your code file or external mapping file.</span></span> <span data-ttu-id="c097c-121">Ačkoli to není požadováno pro typ mapování přizpůsobení, doporučujeme, abyste vždycky nezávislá souboru kódu na vaše informace o mapování typu a generovat soubor mapování další externí typ.</span><span class="sxs-lookup"><span data-stu-id="c097c-121">Although not required for type mapping customization, it is recommended that you always separate your type mapping information from your code file and generate the additional external type mapping file.</span></span> <span data-ttu-id="c097c-122">Díky tomu ponechá určitou volnost tím, že nevyžaduje zopakovat souboru kódu.</span><span class="sxs-lookup"><span data-stu-id="c097c-122">Doing so will leave some flexibility by not requiring that the code file be recompiled.</span></span>  
  
## <a name="incorporating-database-changes"></a><span data-ttu-id="c097c-123">Zařadit změny v databázi</span><span class="sxs-lookup"><span data-stu-id="c097c-123">Incorporating Database Changes</span></span>  
 <span data-ttu-id="c097c-124">Pokud vaše změny v databázi, musíte aktualizovat soubor DBML tak, aby odrážela tyto změny.</span><span class="sxs-lookup"><span data-stu-id="c097c-124">When your database changes, you will need to update your DBML file to reflect those changes.</span></span> <span data-ttu-id="c097c-125">Jeden ze způsobů, jak provést toto je automaticky vytvořit nový soubor DBML a pak znovu proveďte vlastní nastavení mapování typu.</span><span class="sxs-lookup"><span data-stu-id="c097c-125">One way to do this is to automatically create a new DBML file and then re-do your type mapping customizations.</span></span> <span data-ttu-id="c097c-126">Alternativně můžete porovnat rozdíly mezi nového souboru DBML a upravený soubor DBML a aktualizace vašeho vlastního souboru DBML ručně, aby odrážely změny databáze.</span><span class="sxs-lookup"><span data-stu-id="c097c-126">Alternatively, you could compare the differences between your new DBML file and your customized DBML file and update your custom DBML file manually to reflect the database change.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="c097c-127">Viz také</span><span class="sxs-lookup"><span data-stu-id="c097c-127">See Also</span></span>  
 [<span data-ttu-id="c097c-128">Mapování typů SQL a CLR</span><span class="sxs-lookup"><span data-stu-id="c097c-128">SQL-CLR Type Mapping</span></span>](../../../../../../docs/framework/data/adonet/sql/linq/sql-clr-type-mapping.md)  
 [<span data-ttu-id="c097c-129">Generování kódu v LINQ to SQL</span><span class="sxs-lookup"><span data-stu-id="c097c-129">Code Generation in LINQ to SQL</span></span>](../../../../../../docs/framework/data/adonet/sql/linq/code-generation-in-linq-to-sql.md)
