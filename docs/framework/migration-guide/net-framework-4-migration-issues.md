---
title: Problémy s migrací rozhraní .NET framework 4
ms.date: 05/02/2017
helpviewer_keywords:
- .NET Framework 4, migration
- application compatibility
ms.assetid: df478548-8c05-4de2-8ba7-adcdbe1c2a60
author: rpetrusha
ms.author: ronpet
ms.openlocfilehash: aa8cbe0cc87e656eeb8cd0234875a87ade9c05f5
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 05/04/2018
---
# <a name="net-framework-4-migration-issues"></a><span data-ttu-id="3b226-102">Problémy s migrací rozhraní .NET framework 4</span><span class="sxs-lookup"><span data-stu-id="3b226-102">.NET Framework 4 migration issues</span></span>

<span data-ttu-id="3b226-103">Toto téma popisuje problémy s migrací mezi verzi rozhraní .NET Framework 3.5 Service Pack 1 a rozhraní .NET Framework verze 4, včetně oprav, změny zabezpečení a dodržování standardů a změny na základě názorů zákazníků.</span><span class="sxs-lookup"><span data-stu-id="3b226-103">This topic describes migration issues between the .NET Framework version 3.5 Service Pack 1 and the .NET Framework version 4, including fixes, changes for standards compliance and security, and changes based on customer feedback.</span></span> <span data-ttu-id="3b226-104">Většina těchto změn nevyžaduje žádné programové změny v aplikacích.</span><span class="sxs-lookup"><span data-stu-id="3b226-104">Most of these changes do not require any programming modifications in your applications.</span></span> <span data-ttu-id="3b226-105">Pro ty, které mohou zahrnovat změny najdete v části Doporučená změny sloupec tabulky.</span><span class="sxs-lookup"><span data-stu-id="3b226-105">For those that may involve modifications, see the Recommended changes column of the table.</span></span>

<span data-ttu-id="3b226-106">Toto téma popisuje důležité změny v následujících oblastech:</span><span class="sxs-lookup"><span data-stu-id="3b226-106">This topic describes notable changes in the following areas:</span></span>

* [<span data-ttu-id="3b226-107">ASP.NET a webové</span><span class="sxs-lookup"><span data-stu-id="3b226-107">ASP.NET and Web</span></span>](#asp-net-and-web)

* [<span data-ttu-id="3b226-108">Jádro</span><span class="sxs-lookup"><span data-stu-id="3b226-108">Core</span></span>](#core)

* [<span data-ttu-id="3b226-109">Data</span><span class="sxs-lookup"><span data-stu-id="3b226-109">Data</span></span>](#data)

* [<span data-ttu-id="3b226-110">Windows Communication Foundation (WCF)</span><span class="sxs-lookup"><span data-stu-id="3b226-110">Windows Communication Foundation (WCF)</span></span>](#windows-communication-foundation-wcf)

* [<span data-ttu-id="3b226-111">Windows Presentation Foundation (WPF)</span><span class="sxs-lookup"><span data-stu-id="3b226-111">Windows Presentation Foundation (WPF)</span></span>](#windows-presentation-foundation-wpf)

* [<span data-ttu-id="3b226-112">XML</span><span class="sxs-lookup"><span data-stu-id="3b226-112">XML</span></span>](#xml)

<span data-ttu-id="3b226-113">Přehled vyšší úrovně problémů v tomto tématu najdete [příručka k migraci na rozhraní .NET Framework 4](https://msdn.microsoft.com/library/ff657133(v=vs.100).aspx).</span><span class="sxs-lookup"><span data-stu-id="3b226-113">For an higher-level overview of the issues in this topic, see the [Migration Guide to the .NET Framework 4](https://msdn.microsoft.com/library/ff657133(v=vs.100).aspx).</span></span>

<span data-ttu-id="3b226-114">Migrace problémy po Beta 2 najdete v tématu [problémy s migrací pro aplikace .NET Framework 4: Beta 2 na RTM](http://go.microsoft.com/fwlink/?LinkId=191505).</span><span class="sxs-lookup"><span data-stu-id="3b226-114">For migration issues after Beta 2, see [Migration Issues for .NET Framework 4 Applications: Beta 2 to RTM](http://go.microsoft.com/fwlink/?LinkId=191505).</span></span>

<span data-ttu-id="3b226-115">Informace o nových funkcích najdete v tématu [co je nového v rozhraní .NET Framework 4](https://msdn.microsoft.com/library/ms171868(v=vs.100).aspx).</span><span class="sxs-lookup"><span data-stu-id="3b226-115">For information about new features, see [What's New in the .NET Framework 4](https://msdn.microsoft.com/library/ms171868(v=vs.100).aspx).</span></span>

## <a name="aspnet-and-web"></a><span data-ttu-id="3b226-116">ASP.NET a Web</span><span class="sxs-lookup"><span data-stu-id="3b226-116">ASP.NET and Web</span></span>

<span data-ttu-id="3b226-117">Obory názvů: <xref:System.Web>, <xref:System.Web.Mobile>, <xref:System.Web.Security>, <xref:System.Web.UI.WebControls>; sestavení: System.Web (v System.Web.dll)</span><span class="sxs-lookup"><span data-stu-id="3b226-117">Namespaces: <xref:System.Web>, <xref:System.Web.Mobile>, <xref:System.Web.Security>, <xref:System.Web.UI.WebControls>; assembly: System.Web (in System.Web.dll)</span></span>

| <span data-ttu-id="3b226-118">Funkce</span><span class="sxs-lookup"><span data-stu-id="3b226-118">Feature</span></span> | <span data-ttu-id="3b226-119">Rozdíl oproti 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="3b226-119">Differences from 3.5 SP1</span></span> | <span data-ttu-id="3b226-120">Doporučené změny</span><span class="sxs-lookup"><span data-stu-id="3b226-120">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="3b226-121">**Soubory definice prohlížeče**</span><span class="sxs-lookup"><span data-stu-id="3b226-121">**Browser definition files**</span></span> | <span data-ttu-id="3b226-122">Informace o nových a aktualizovaných prohlížečích a zařízeních byly aktualizovány s definicemi prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="3b226-122">The browser definition files have been updated to include information about new and updated browsers and devices.</span></span> <span data-ttu-id="3b226-123">Starší prohlížečích a zařízeních, jako je například Netscape Navigátor byly odstraněny a novější prohlížeče a přidané zařízení, jako například Google Chrome a Apple iPhone.</span><span class="sxs-lookup"><span data-stu-id="3b226-123">Older browsers and devices such as Netscape Navigator have been removed, and newer browsers and devices such as Google Chrome and Apple iPhone have been added.</span></span><br><br><span data-ttu-id="3b226-124">Pokud vaše aplikace obsahuje definice vlastní prohlížečů, které dědí z jednoho z definice prohlížeče, které byly odebrány, zobrazí se chyba.</span><span class="sxs-lookup"><span data-stu-id="3b226-124">If your application contains custom browser definitions that inherit from one of the browser definitions that have been removed, you will see an error.</span></span><br><br><span data-ttu-id="3b226-125"><xref:System.Web.HttpBrowserCapabilities> Objektu (který je zveřejněný prostřednictvím stránky `Request.Browse` vlastnost) vycházejí z prohlížeče definičních souborech.</span><span class="sxs-lookup"><span data-stu-id="3b226-125">The <xref:System.Web.HttpBrowserCapabilities> object (which is exposed by the page's `Request.Browse` property) is driven by the browser definition files.</span></span> <span data-ttu-id="3b226-126">Informace, které se vrátí pomocí přístupu k vlastnosti tohoto objektu v technologii ASP.NET 4 proto může být jiná než informace, které vrátil ve starší verzi technologie ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="3b226-126">Therefore, the information that is returned by accessing a property of this object in ASP.NET 4 might be different than the information that was returned in an earlier version of ASP.NET.</span></span> | <span data-ttu-id="3b226-127">Pokud vaše aplikace závisí na původním definičních souborech prohlížeče, zkopírujte je z následující složky:</span><span class="sxs-lookup"><span data-stu-id="3b226-127">If your application relies on the old browser definition files, you can copy them from the following folder:</span></span><br><br><span data-ttu-id="3b226-128">*Windows\\Microsoft.NET\\Framework\\v2.0.50727\\konfigurace\\prohlížečů*</span><span class="sxs-lookup"><span data-stu-id="3b226-128">*Windows\\Microsoft.NET\\Framework\\v2.0.50727\\CONFIG\\Browsers*</span></span><br><br><span data-ttu-id="3b226-129">Zkopírujte soubory do odpovídajícího  *\\konfigurace\\prohlížeče* složku pro technologii ASP.NET 4.</span><span class="sxs-lookup"><span data-stu-id="3b226-129">Copy the files into the corresponding *\\CONFIG\\Browsers* folder for ASP.NET 4.</span></span> <span data-ttu-id="3b226-130">Po zkopírování souborů, spusťte [Aspnet_regbrowsers.exe](https://msdn.microsoft.com/library/ms229858.aspx) nástroj příkazového řádku.</span><span class="sxs-lookup"><span data-stu-id="3b226-130">After you copy the files, run the [Aspnet_regbrowsers.exe](https://msdn.microsoft.com/library/ms229858.aspx) command-line tool.</span></span> <span data-ttu-id="3b226-131">Další informace najdete v tématu [ http://www.asp.net/mobile ](http://go.microsoft.com/fwlink/?LinkId=182900) webu.</span><span class="sxs-lookup"><span data-stu-id="3b226-131">For more information, see the [http://www.asp.net/mobile](http://go.microsoft.com/fwlink/?LinkId=182900) Web site.</span></span> |
| <span data-ttu-id="3b226-132">**Podřízená aplikace spuštěná v smíšené verze technologie ASP.NET**</span><span class="sxs-lookup"><span data-stu-id="3b226-132">**Child applications running under mixed versions of ASP.NET**</span></span> | <span data-ttu-id="3b226-133">ASP.NET 4 aplikace, které jsou nakonfigurovány jako podřízené objekty aplikace, které běží starší verze technologie ASP.NET se pravděpodobně nezdaří z důvodu chyby konfigurace nebo kompilace.</span><span class="sxs-lookup"><span data-stu-id="3b226-133">ASP.NET 4 applications that are configured as children of applications that run earlier versions of ASP.NET might fail to start because of configuration or compilation errors.</span></span> <span data-ttu-id="3b226-134">Konkrétní chyby, ke kterému dochází závisí na tom, zda je aplikace spuštěná v rámci služby IIS 6.0 a IIS 7 nebo IIS 7.5.</span><span class="sxs-lookup"><span data-stu-id="3b226-134">The specific error that occurs depends on whether the application runs under IIS 6.0, or under IIS 7 or IIS 7.5.</span></span> | <span data-ttu-id="3b226-135">Konfigurační soubory ovlivněné aplikací můžete provést změny, tak, aby konfigurační systém správně rozpozná aplikace ASP.NET 4.</span><span class="sxs-lookup"><span data-stu-id="3b226-135">You can make changes to the configuration files of the affected applications so that the configuration system correctly recognizes the ASP.NET 4 application.</span></span> <span data-ttu-id="3b226-136">Informace o změnách, je nutné provést, najdete v části "ASP.NET 4 podřízené aplikace nezdaří na spuštění při pod ASP.NET 2.0 nebo aplikacích ASP.NET 3.5" v dokumentu [ASP.NET 4 nejnovější změny](http://go.microsoft.com/fwlink/?LinkId=182908) na webu technologie ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="3b226-136">For information about the changes you must make, see the section "ASP.NET 4 Child Applications Fail to Start When Under ASP.NET 2.0 or ASP.NET 3.5 Applications" in the document [ASP.NET 4 Breaking Changes](http://go.microsoft.com/fwlink/?LinkId=182908) on the ASP.NET Web site.</span></span> |
| <span data-ttu-id="3b226-137">**Změny ID klienta**</span><span class="sxs-lookup"><span data-stu-id="3b226-137">**ClientID changes**</span></span> | <span data-ttu-id="3b226-138">Nové `clientIDMode` nastavení v rozhraní ASP.NET 4 umožňuje určit, jak technologie ASP.NET vygeneruje `id` atribut pro elementů HTML.</span><span class="sxs-lookup"><span data-stu-id="3b226-138">The new `clientIDMode` setting in ASP.NET 4 lets you specify how ASP.NET generates the `id` attribute for HTML elements.</span></span> <span data-ttu-id="3b226-139">V předchozích verzích technologie ASP.NET byla ekvivalentní výchozí chování `AutoID` nastavení `clientIDMode`.</span><span class="sxs-lookup"><span data-stu-id="3b226-139">In previous versions of ASP.NET, the default behavior was equivalent to the `AutoID` setting of `clientIDMode`.</span></span> <span data-ttu-id="3b226-140">Ve výchozím nastavení je nyní `Predictable`.</span><span class="sxs-lookup"><span data-stu-id="3b226-140">The default setting is now `Predictable`.</span></span> <span data-ttu-id="3b226-141">Další informace najdete v tématu [identifikace ovládacích prvků technologie ASP.NET Web](https://msdn.microsoft.com/library/1d04y8ss(v=vs.100).aspx).</span><span class="sxs-lookup"><span data-stu-id="3b226-141">For more information, see [ASP.NET Web Server Control Identification](https://msdn.microsoft.com/library/1d04y8ss(v=vs.100).aspx).</span></span> | <span data-ttu-id="3b226-142">Pokud používáte Visual Studio 2010 k upgradu vaší aplikace z technologie ASP.NET 2.0 nebo ASP.NET 3.5, nástroje nastavení automaticky přidá do souboru Web.config, který zachovává chování starší verze rozhraní .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="3b226-142">If you use Visual Studio 2010 to upgrade your application from ASP.NET 2.0 or ASP.NET 3.5, the tool automatically adds a setting to the Web.config file that preserves the behavior of earlier versions of the .NET Framework.</span></span> <span data-ttu-id="3b226-143">Ale pokud provádíte upgrade aplikace můžete změnit fond aplikací ve službě IIS pro rozhraní .NET Framework 4, ASP.NET používá nový režim ve výchozím nastavení.</span><span class="sxs-lookup"><span data-stu-id="3b226-143">However, if you upgrade an application by changing the application pool in IIS to target the .NET Framework 4, ASP.NET uses the new mode by default.</span></span> <span data-ttu-id="3b226-144">Pokud chcete zakázat nový režim ID klienta, přidejte následující nastavení v souboru Web.config:</span><span class="sxs-lookup"><span data-stu-id="3b226-144">To disable the new client ID mode, add the following setting to the Web.config file:</span></span><br><br>`<pages clientIDMode="AutoID" />` |
| <span data-ttu-id="3b226-145">**Zabezpečení přístupu kódu (CAS)**</span><span class="sxs-lookup"><span data-stu-id="3b226-145">**Code access security (CAS)**</span></span> | <span data-ttu-id="3b226-146">ASP.NET 2.0 NET funkce, které byly přidány v technologii ASP.NET 3.5 pomocí rozhraní .NET Framework 1.1 a rozhraní .NET Framework 2.0 kód přístup (CAS) modelu zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="3b226-146">ASP.NET 2.0 NET features that were added in ASP.NET 3.5 use the .NET Framework 1.1 and .NET Framework 2.0 code access security (CAS) model.</span></span> <span data-ttu-id="3b226-147">Implementace certifikační Autority v technologii ASP.NET 4 však byl podstatně overhauled.</span><span class="sxs-lookup"><span data-stu-id="3b226-147">However, the implementation of CAS in ASP.NET 4 has been substantially overhauled.</span></span> <span data-ttu-id="3b226-148">Částečně důvěryhodné aplikace ASP.NET, které spoléhat na důvěryhodný kód spuštěný v globální mezipaměti sestavení může dojít v důsledku toho různé výjimky zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="3b226-148">As a result, partial-trust ASP.NET applications that rely on trusted code running in the global assembly cache might fail with various security exceptions.</span></span> <span data-ttu-id="3b226-149">Částečně důvěryhodné aplikace, které závisí na rozsáhlých úpravách zásady počítače CAS může také selže a vyvolá výjimky zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="3b226-149">Partial-trust applications that rely on extensive modifications to machine CAS policy might also fail and throw security exceptions.</span></span> | <span data-ttu-id="3b226-150">Částečně důvěryhodné aplikace ASP.NET 4 pro chování ASP.NET 1.1 a 2.0 můžete obnovit pomocí nové `legacyCasModel` atribut `trust` konfigurační element, jak je znázorněno v následujícím příkladu:</span><span class="sxs-lookup"><span data-stu-id="3b226-150">You can revert partial-trust ASP.NET 4 applications to the behavior of ASP.NET 1.1 and 2.0 by using the new `legacyCasModel` attribute in the `trust` configuration element, as shown in the following example:</span></span><br><br>`<trust level= "Medium" legacyCasModel="true" />`<br><br><span data-ttu-id="3b226-151">Důležité: Návrat k starší model certifikačních Autorit může představovat snížení bezpečnosti.</span><span class="sxs-lookup"><span data-stu-id="3b226-151">Important: Reverting to the older CAS model might represent reduced security.</span></span><br><br><span data-ttu-id="3b226-152">Další informace o modelu zabezpečení přístupu kódu novou technologii ASP.NET 4 najdete v tématu [zabezpečení přístupu kódu v aplikacích ASP.NET 4](https://msdn.microsoft.com/library/dd984947.aspx).</span><span class="sxs-lookup"><span data-stu-id="3b226-152">For more information about the new ASP.NET 4 code access security model, see [Code Access Security in ASP.NET 4 Applications](https://msdn.microsoft.com/library/dd984947.aspx).</span></span> |
| <span data-ttu-id="3b226-153">**Konfigurační soubory**</span><span class="sxs-lookup"><span data-stu-id="3b226-153">**Configuration files**</span></span> | <span data-ttu-id="3b226-154">Kořenové konfigurační soubory (souboru machine.config a kořenovém souboru Web.config) pro rozhraní .NET Framework a technologii ASP.NET 4 byly aktualizovány zahrnout většinu informace o konfiguraci standardní, která byla nalezena v souborech Web.config aplikace technologie ASP.NET 3.5.</span><span class="sxs-lookup"><span data-stu-id="3b226-154">The root configuration files (the machine.config file and the root Web.config file) for the .NET Framework and ASP.NET 4 have been updated to include most of the boilerplate configuration information that was found in the application Web.config files in ASP.NET 3.5.</span></span> <span data-ttu-id="3b226-155">Z důvodu složitosti spravované služby IIS 7 a IIS 7.5 systémy konfigurace spouštění aplikací využívajících technologii ASP.NET 3.5 v rozhraní ASP.NET 4 a v rámci služby IIS 7 a IIS 7.5 může způsobit chyby technologie ASP.NET nebo chyby služby IIS.</span><span class="sxs-lookup"><span data-stu-id="3b226-155">Because of the complexity of the managed IIS 7 and IIS 7.5 configuration systems, running ASP.NET 3.5 applications under ASP.NET 4 and under IIS 7 and IIS 7.5 can result in either ASP.NET errors or IIS errors.</span></span> | <span data-ttu-id="3b226-156">Upgrade aplikace technologie ASP.NET 3.5 na technologii ASP.NET 4 pomocí nástroje pro upgrade projektu v sadě Visual Studio 2010.</span><span class="sxs-lookup"><span data-stu-id="3b226-156">Upgrade ASP.NET 3.5 applications to ASP.NET 4 by using the project upgrade tools in Visual Studio 2010.</span></span> <span data-ttu-id="3b226-157">Visual Studio 2010 automaticky upraví souboru Web.config aplikace technologie ASP.NET 3.5 tak, aby obsahovala příslušná nastavení pro technologii ASP.NET 4.</span><span class="sxs-lookup"><span data-stu-id="3b226-157">Visual Studio 2010 automatically modifies the ASP.NET 3.5 application's Web.config file to contain the appropriate settings for ASP.NET 4.</span></span><br><br><span data-ttu-id="3b226-158">Však můžete spustit pomocí rozhraní .NET Framework 4 bez rekompilace aplikace technologie ASP.NET 3.5.</span><span class="sxs-lookup"><span data-stu-id="3b226-158">However, you can run ASP.NET 3.5 applications using the .NET Framework 4 without recompilation.</span></span> <span data-ttu-id="3b226-159">V takovém případě budete muset ručně upravit soubor Web.config aplikace předtím, než spustíte aplikaci v rozhraní .NET Framework 4 a IIS 7 nebo IIS 7.5.</span><span class="sxs-lookup"><span data-stu-id="3b226-159">In that case, you might have to manually modify the application's Web.config file before you run the application under the .NET Framework 4 and under IIS 7 or IIS 7.5.</span></span> <span data-ttu-id="3b226-160">Konkrétní změny, které je nutné závisí na kombinaci softwaru, který pracujete, včetně verze Service Pack (SP).</span><span class="sxs-lookup"><span data-stu-id="3b226-160">The specific change you must make depends on the combination of software you are working with, including Service Pack (SP) releases.</span></span> <span data-ttu-id="3b226-161">Informace o možných softwaru kombinace, které jsou ovlivněné tuto změnu a řešení problémů s konkrétní kombinace, najdete v části "Konfigurace chyby související k nové ASP.NET 4 kořenové konfigurace" v dokumentu [ ASP.NET 4 narušující změny](http://go.microsoft.com/fwlink/?LinkId=182908) na webu technologie ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="3b226-161">For information about the possible software combinations that are affected by this change and how to resolve problems with specific combinations, see the section "Configuration Errors Related to New ASP.NET 4 Root Configuration" in the document [ASP.NET 4 Breaking Changes](http://go.microsoft.com/fwlink/?LinkId=182908) on the ASP.NET Web site.</span></span> |
| <span data-ttu-id="3b226-162">**Vykreslování ovládacího prvku**</span><span class="sxs-lookup"><span data-stu-id="3b226-162">**Control rendering**</span></span> | <span data-ttu-id="3b226-163">V předchozích verzích technologie ASP.NET některé ovládací prvky vytvářely značky, které nelze zakázat.</span><span class="sxs-lookup"><span data-stu-id="3b226-163">In previous versions of ASP.NET, some controls emitted markup that you could not disable.</span></span> <span data-ttu-id="3b226-164">Ve výchozím nastavení je tento typ značky nebude vygenerována v technologii ASP.NET 4.</span><span class="sxs-lookup"><span data-stu-id="3b226-164">By default, this type of markup is no longer generated in ASP.NET 4.</span></span> <span data-ttu-id="3b226-165">Změny vykreslování ovlivňují následující prvky:</span><span class="sxs-lookup"><span data-stu-id="3b226-165">The rendering changes affect the following controls:</span></span><br><br><span data-ttu-id="3b226-166">\* Na `Image` a `ImageButton` už vykreslení ovládacích prvků `border="0"` atribut.</span><span class="sxs-lookup"><span data-stu-id="3b226-166">\* The `Image` and `ImageButton` controls no longer render a `border="0"` attribute.</span></span><br><span data-ttu-id="3b226-167">\* Na `BaseValidator` třídy a ověření ovládací prvky, které jsou odvozeny od ho už nebudou zobrazovat červený text ve výchozím nastavení.</span><span class="sxs-lookup"><span data-stu-id="3b226-167">\* The `BaseValidator` class and validation controls that derive from it no longer render red text by default.</span></span><br><span data-ttu-id="3b226-168">\* Na `HtmlForm` prvek nezobrazuje `name` atribut.</span><span class="sxs-lookup"><span data-stu-id="3b226-168">\* The `HtmlForm` control does not render a `name` attribute.</span></span><br><span data-ttu-id="3b226-169">\* Na `Table` řízení už vykreslí `border="0"` atribut.</span><span class="sxs-lookup"><span data-stu-id="3b226-169">\* The `Table` control no longer renders a `border="0"` attribute.</span></span><br><br><span data-ttu-id="3b226-170">Ovládací prvky, které nejsou určeny pro vstup uživatele (například `Label` ovládací prvek) už nebudou zobrazovat `disabled="disabled"` atribut, pokud jejich `Enabled` je nastavena na `false` (nebo pokud toto nastavení dědí z ovládacího prvku kontejner).</span><span class="sxs-lookup"><span data-stu-id="3b226-170">Controls that are not designed for user input (for example, the `Label` control) no longer render the `disabled="disabled"` attribute if their `Enabled` property is set to `false` (or if they inherit this setting from a container control).</span></span> | <span data-ttu-id="3b226-171">Pokud používáte Visual Studio 2010 k upgradu vaší aplikace z technologie ASP.NET 2.0 nebo ASP.NET 3.5, nástroje nastavení automaticky přidá do souboru Web.config, který zachovává starší vykreslování.</span><span class="sxs-lookup"><span data-stu-id="3b226-171">If you use Visual Studio 2010 to upgrade your application from ASP.NET 2.0 or ASP.NET 3.5, the tool automatically adds a setting to the Web.config file that preserves legacy rendering.</span></span> <span data-ttu-id="3b226-172">Ale pokud provádíte upgrade aplikace můžete změnit fond aplikací ve službě IIS pro rozhraní .NET Framework 4, ASP.NET používá nový režim vykreslování ve výchozím nastavení.</span><span class="sxs-lookup"><span data-stu-id="3b226-172">However, if you upgrade an application by changing the application pool in IIS to target the .NET Framework 4, ASP.NET uses the new rendering mode by default.</span></span> <span data-ttu-id="3b226-173">Pokud chcete zakázat nový režim vykreslování, přidejte následující nastavení v souboru Web.config:</span><span class="sxs-lookup"><span data-stu-id="3b226-173">To disable the new rendering mode, add the following setting to the Web.config file:</span></span><br><br>`<pages controlRenderingCompatibilityVersion="3.5" />` |
| <span data-ttu-id="3b226-174">**Obslužné rutiny událostí ve výchozích dokumentů.**</span><span class="sxs-lookup"><span data-stu-id="3b226-174">**Event handlers in default documents**</span></span> | <span data-ttu-id="3b226-175">Rozhraní ASP.NET 4 vykreslí HTML `form` elementu `action` při požadavku na adresu URL bez přípony, který má výchozí dokument k němu mapována hodnota atributu jako prázdný řetězec.</span><span class="sxs-lookup"><span data-stu-id="3b226-175">ASP.NET  4 renders the HTML `form` element's `action` attribute value as an empty string when a request is made to an extensionless URL that has a default document mapped to it.</span></span> <span data-ttu-id="3b226-176">Ve starších verzích technologie ASP.NET, požadavek na `http://contoso.com` by způsobilo požadavek na Default.aspx.</span><span class="sxs-lookup"><span data-stu-id="3b226-176">In earlier releases of ASP.NET, a request to `http://contoso.com` would result in a request to Default.aspx.</span></span> <span data-ttu-id="3b226-177">V tomto dokumentu, otevření `form` vykreslená značka jako v následujícím příkladu:</span><span class="sxs-lookup"><span data-stu-id="3b226-177">In that document, the opening `form` tag would be rendered as in the following example:</span></span><br><br>`<form action="Default.aspx" />`<br><br><span data-ttu-id="3b226-178">V technologii ASP.NET 4, požadavek na `http://contoso.com` také výsledky v požadavku na Default.aspx, ale technologie ASP.NET nyní vykreslí otevírání HTML `form` značky jako v následujícím příkladu:</span><span class="sxs-lookup"><span data-stu-id="3b226-178">In ASP.NET 4, a request to `http://contoso.com` also results in a request to Default.aspx, but ASP.NET now renders the HTML opening `form` tag as in the following example:</span></span><br><br>`<form action="" />`<br><br><span data-ttu-id="3b226-179">Když `action` atribut je řetězec prázdný, služby IIS `DefaultDocumentModule` objekt vytvoří podřízený požadavek na Default.aspx.</span><span class="sxs-lookup"><span data-stu-id="3b226-179">When the `action` attribute is an empty string, the IIS `DefaultDocumentModule` object creates a child request to Default.aspx.</span></span> <span data-ttu-id="3b226-180">Ve většině případů tento podřízený požadavek je transparentní pro kód aplikace a stránka Default.aspx běží normálně.</span><span class="sxs-lookup"><span data-stu-id="3b226-180">Under most conditions, this child request is transparent to application code, and the Default.aspx page runs normally.</span></span> <span data-ttu-id="3b226-181">Potenciální interakce mezi spravovaného kódu a IIS 7 nebo IIS 7.5 integrovaného režimu však může způsobit spravované stránky .aspx přestane fungovat správně při podřízený požadavek.</span><span class="sxs-lookup"><span data-stu-id="3b226-181">However, a potential interaction between managed code and IIS 7 or IIS 7.5 Integrated mode can cause managed .aspx pages to stop working properly during the child request.</span></span> <span data-ttu-id="3b226-182">Pokud nastanou následující podmínky, podřízený požadavek na výchozí dokument .aspx bude mít za následek chybu nebo neočekávané chování:</span><span class="sxs-lookup"><span data-stu-id="3b226-182">If the following conditions occur, the child request to a default .aspx document will result in an error or in unexpected behavior:</span></span><br><br><span data-ttu-id="3b226-183">\* Stránky ASPX je odesláno prohlížeči s `form` elementu `action` atribut nastaven na "".</span><span class="sxs-lookup"><span data-stu-id="3b226-183">\* An .aspx page is sent to the browser with the `form` element's `action` attribute set to "".</span></span><br><span data-ttu-id="3b226-184">\* Formuláře je odeslána zpět do technologie ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="3b226-184">\* The form is posted back to ASP.NET.</span></span><br><span data-ttu-id="3b226-185">\* Spravovaný modul HTTP čte některé části obsahu entity, jako například `Request.Form` nebo `Request.Params`.</span><span class="sxs-lookup"><span data-stu-id="3b226-185">\* A managed HTTP module reads some part of the entity body, such as `Request.Form` or `Request.Params`.</span></span> <span data-ttu-id="3b226-186">To způsobí, že obsah entity požadavku POST čtení do spravované paměti.</span><span class="sxs-lookup"><span data-stu-id="3b226-186">This causes the entity body of the POST request to be read into managed memory.</span></span> <span data-ttu-id="3b226-187">Obsah entity je v důsledku toho již nebude k dispozici pro všechny moduly nativního kódu, které běží ve službě IIS 7 nebo IIS 7.5 integrovaného režimu.</span><span class="sxs-lookup"><span data-stu-id="3b226-187">As a result, the entity body is no longer available to any native code modules that are running in IIS 7 or IIS 7.5 Integrated mode.</span></span><br><span data-ttu-id="3b226-188">\* IIS `DefaultDocumentModule` objekt nakonec spustí a vytvoří podřízenou žádost Default.aspx dokumentu.</span><span class="sxs-lookup"><span data-stu-id="3b226-188">\* The IIS `DefaultDocumentModule` object eventually runs and creates a child request to the Default.aspx document.</span></span> <span data-ttu-id="3b226-189">Protože obsah entity je již přečtena část spravovaného kódu, neexistuje však žádný obsah entity k dispozici k odeslání do podřízený požadavek.</span><span class="sxs-lookup"><span data-stu-id="3b226-189">However, because the entity body has already been read by a piece of managed code, there is no entity body available to send to the child request.</span></span><br><span data-ttu-id="3b226-190">\* Když kanál protokolu HTTP pro podřízený požadavek, je spuštěna spuštěna během fáze spuštění obslužné rutiny obslužná rutina pro soubory .aspx.</span><span class="sxs-lookup"><span data-stu-id="3b226-190">\* When the HTTP pipeline runs for the child request, the handler for .aspx files runs during the handler-execute phase.</span></span><br><br><span data-ttu-id="3b226-191">Protože neexistuje žádný obsah entity, neexistují žádné proměnné formuláře a bez zobrazení stavu.</span><span class="sxs-lookup"><span data-stu-id="3b226-191">Because there is no entity body, there are no form variables and no view state.</span></span> <span data-ttu-id="3b226-192">Proto není k dispozici pro obslužnou rutinu stránky .aspx, chcete-li zjistit, jaké události (pokud existuje) by měla být zvýšena žádné informace.</span><span class="sxs-lookup"><span data-stu-id="3b226-192">Therefore there is no information available for the .aspx page handler to determine what event (if any) should be raised.</span></span> <span data-ttu-id="3b226-193">V důsledku toho žádné zpětného volání obslužné rutiny pro stránky .aspx ovlivněných spustit.</span><span class="sxs-lookup"><span data-stu-id="3b226-193">As a result, none of the postback event handlers for the affected .aspx page run.</span></span> | <span data-ttu-id="3b226-194">Informace o způsobech řešení problémů, které by mohly nastat v důsledku této změny naleznete v tématu "Události obslužné rutiny může není být není vyvolána v výchozí dokument v IIS 7 nebo IIS 7.5 integrovaný režim" v dokumentu [ASP.NET 4 nejnovější změny](http://go.microsoft.com/fwlink/?LinkId=182908)na webu technologie ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="3b226-194">For information about ways to work around problems that might arise as a result of this change, see "Event Handlers Might Not Be Not Raised in a Default Document in IIS 7 or IIS 7.5 Integrated Mode" in the document [ASP.NET 4 Breaking Changes](http://go.microsoft.com/fwlink/?LinkId=182908) on the ASP.NET Web site.</span></span> |
| <span data-ttu-id="3b226-195">**algoritmus hash**</span><span class="sxs-lookup"><span data-stu-id="3b226-195">**Hashing algorithm**</span></span> | <span data-ttu-id="3b226-196">Technologie ASP.NET používá šifrování a algoritmy hash k zabezpečení dat, jako jsou soubory cookie ověřování formulářů a stavu zobrazení.</span><span class="sxs-lookup"><span data-stu-id="3b226-196">ASP.NET uses both encryption and hashing algorithms to help secure data such as forms authentication cookies and view state.</span></span> <span data-ttu-id="3b226-197">Ve výchozím nastavení, používá technologii ASP.NET 4 <xref:System.Security.Cryptography.HMACSHA256> algoritmus hash operací se soubory cookie a stav zobrazení.</span><span class="sxs-lookup"><span data-stu-id="3b226-197">By default, ASP.NET 4 uses the <xref:System.Security.Cryptography.HMACSHA256> algorithm for hash operations on cookies and view state.</span></span> <span data-ttu-id="3b226-198">Starší verze technologie ASP.NET používá starší <xref:System.Security.Cryptography.HMACSHA1> algoritmus.</span><span class="sxs-lookup"><span data-stu-id="3b226-198">Earlier versions of ASP.NET used the older <xref:System.Security.Cryptography.HMACSHA1> algorithm.</span></span> | <span data-ttu-id="3b226-199">Pokud spustíte aplikace kombinující technologie ASP.NET 2.0 a technologii ASP.NET 4, kde data, jako jsou soubory cookie ověřování formulářů musí fungovat na všech verzí rozhraní .NET Framework, konfiguraci aplikace ASP.NET 4 Web používat starší <xref:System.Security.Cryptography.HMACSHA1> algoritmus přidáním následující nastavení v v souboru Web.config:</span><span class="sxs-lookup"><span data-stu-id="3b226-199">If you run applications that mix ASP.NET 2.0 and ASP.NET 4, where data such as forms authentication cookies must work across .NET Framework versions, configure an ASP.NET 4 Web application to use the older <xref:System.Security.Cryptography.HMACSHA1> algorithm by adding the following setting in the Web.config file:</span></span><br><br>`<machineKey validation="SHA1" />` |
| <span data-ttu-id="3b226-200">**Hostování ovládacích prvků v aplikaci Internet Explorer**</span><span class="sxs-lookup"><span data-stu-id="3b226-200">**Hosting controls in Internet Explorer**</span></span> | <span data-ttu-id="3b226-201">Můžete už hostitelské ovládací prvky Windows Forms v aplikaci Internet Explorer, protože nejsou k dispozici lepší řešení pro hostování ovládacích prvků na webu.</span><span class="sxs-lookup"><span data-stu-id="3b226-201">You can no longer host Windows Forms controls in the Internet Explorer, because there are better solutions for hosting controls on the Web.</span></span> <span data-ttu-id="3b226-202">Proto sestavení IEHost.dll a IEExec.exe byly odebrány z rozhraní .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="3b226-202">Therefore, the IEHost.dll and IEExec.exe assemblies have been removed from the .NET Framework.</span></span> | <span data-ttu-id="3b226-203">Můžete použít následující technologie pro vývoj vlastní ovládací prvek v webových aplikací:</span><span class="sxs-lookup"><span data-stu-id="3b226-203">You can use the following technologies for custom control development in Web applications:</span></span><br><br><span data-ttu-id="3b226-204">\* Můžete vytvořit aplikaci Silverlight a nakonfigurovat jej pro spuštění mimo prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="3b226-204">\* You can create a Silverlight application and configure it to run outside the browser.</span></span> <span data-ttu-id="3b226-205">Další informace najdete v tématu [podpora na více systémů prohlížeče](https://msdn.microsoft.com/library/dd550721(v=vs.100).aspx).</span><span class="sxs-lookup"><span data-stu-id="3b226-205">For more information, see [Out-of-Browser Support](https://msdn.microsoft.com/library/dd550721(v=vs.100).aspx).</span></span><br><span data-ttu-id="3b226-206">\* Můžete vytvořit aplikace prohlížeče XAML (XBAP) chcete využít výhod funkcí grafického subsystému WPF (vyžaduje rozhraní .NET Framework na klientských počítačích).</span><span class="sxs-lookup"><span data-stu-id="3b226-206">\* You can build a XAML browser application (XBAP) to take advantage of WPF capabilities (requires the .NET Framework on client machines).</span></span> <span data-ttu-id="3b226-207">Další informace najdete v tématu [přehled aplikace prohlížeče XAML WPF](/dotnet/framework/wpf/app-development/wpf-xaml-browser-applications-overview).</span><span class="sxs-lookup"><span data-stu-id="3b226-207">For more information, see [WPF XAML Browser Applications Overview](/dotnet/framework/wpf/app-development/wpf-xaml-browser-applications-overview).</span></span> |
| <span data-ttu-id="3b226-208">**Metody HtmlEncode a UrlEncode**</span><span class="sxs-lookup"><span data-stu-id="3b226-208">**HtmlEncode and UrlEncode methods**</span></span> | <span data-ttu-id="3b226-209">`HtmlEncode` a `UrlEncode` metody <xref:System.Web.HttpUtility> a <xref:System.Web.HttpServerUtility> třídy byly aktualizovány ke kódování znak jednoduché uvozovky (') následujícím způsobem:</span><span class="sxs-lookup"><span data-stu-id="3b226-209">The `HtmlEncode` and `UrlEncode` methods of the <xref:System.Web.HttpUtility> and <xref:System.Web.HttpServerUtility> classes have been updated to encode the single quotation mark character (') as follows:</span></span><br><br><span data-ttu-id="3b226-210">\* Na `HtmlEncode` metoda kóduje instance jako jednoduché uvozovky `&#39;`</span><span class="sxs-lookup"><span data-stu-id="3b226-210">\* The `HtmlEncode` method encodes instances of the single quotation mark as `&#39;`</span></span><br><span data-ttu-id="3b226-211">\* Na `UrlEncode` metoda kóduje instance jako jednoduché uvozovky `%27`</span><span class="sxs-lookup"><span data-stu-id="3b226-211">\* The `UrlEncode` method encodes instances of the single quotation mark as `%27`</span></span> | <span data-ttu-id="3b226-212">Zkontrolujte místa, kde používáte v kódu `HtmlEncode` a `UrlEncode` metody a ujistěte se, že změna v kódování nevede změny, které má vliv na vaše aplikace.</span><span class="sxs-lookup"><span data-stu-id="3b226-212">Examine your code for places where you use the `HtmlEncode` and `UrlEncode` methods, and make sure that the change in encoding does not result in a change that would affect your application.</span></span> |
| <span data-ttu-id="3b226-213">**Chyby HttpException v aplikacích ASP.NET 2.0**</span><span class="sxs-lookup"><span data-stu-id="3b226-213">**HttpException errors in ASP.NET 2.0 applications**</span></span> | <span data-ttu-id="3b226-214">Po ASP.NET 4 byla zapnuta služby IIS 6, aplikace ASP.NET 2.0, které běží na služby IIS 6 (v systému Windows Server 2003 nebo Windows Server 2003 R2) může způsobit chyby, například následující: `System.Web.HttpException: Path '/[yourApplicationRoot]/eurl.axd/[Value]' was not found.`</span><span class="sxs-lookup"><span data-stu-id="3b226-214">After ASP.NET 4 has been enabled on IIS 6, ASP.NET 2.0 applications that run on IIS 6 (in either Windows Server 2003 or Windows Server 2003 R2) might generate errors such as the following: `System.Web.HttpException: Path '/[yourApplicationRoot]/eurl.axd/[Value]' was not found.`</span></span> | <span data-ttu-id="3b226-215">\* Pokud technologie ASP.NET 4 není nutné ke spuštění webové stránky, přemapujte webu místo toho použít technologii ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="3b226-215">\* If ASP.NET 4 is not required in order to run the Web site, remap the site to use ASP.NET 2.0 instead.</span></span><br><br><span data-ttu-id="3b226-216">-nebo-</span><span class="sxs-lookup"><span data-stu-id="3b226-216">-or-</span></span><br><br><span data-ttu-id="3b226-217">\* Pokud technologie ASP.NET 4 je potřeba ke spuštění webové stránky, přesuňte všechny podřízené technologii ASP.NET 2.0 virtuální adresáře do jiného webu, který je namapovaný na technologii ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="3b226-217">\* If ASP.NET 4 is required in order to run the Web site, move any child ASP.NET 2.0 virtual directories to a different Web site that is mapped to ASP.NET 2.0.</span></span><br><br><span data-ttu-id="3b226-218">-nebo-</span><span class="sxs-lookup"><span data-stu-id="3b226-218">-or-</span></span><br><br><span data-ttu-id="3b226-219">\* Zakážete adresy URL bez přípony.</span><span class="sxs-lookup"><span data-stu-id="3b226-219">\* Disable extensionless URLs.</span></span> <span data-ttu-id="3b226-220">Další informace najdete v tématu "ASP.NET 2.0 může aplikace generovat chyby HttpException odkazující soubor eurl.axd" v dokumentu [ASP.NET 4 nejnovější změny](http://go.microsoft.com/fwlink/?LinkId=182908) na webu technologie ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="3b226-220">For more information, see "ASP.NET 2.0 Applications Might Generate HttpException Errors That Reference eurl.axd" in the document [ASP.NET 4 Breaking Changes](http://go.microsoft.com/fwlink/?LinkId=182908) on the ASP.NET Web site.</span></span> |
| <span data-ttu-id="3b226-221">**Typy členství**</span><span class="sxs-lookup"><span data-stu-id="3b226-221">**Membership types**</span></span> | <span data-ttu-id="3b226-222">Některé typy (například <xref:System.Web.Security.MembershipProvider>) používané v technologii ASP.NET byly přesunuté členství z System.Web.dll do sestavení System.Web.ApplicationServices.dll.</span><span class="sxs-lookup"><span data-stu-id="3b226-222">Some types (for example, <xref:System.Web.Security.MembershipProvider>) that are used in ASP.NET membership have been moved from System.Web.dll to the System.Web.ApplicationServices.dll assembly.</span></span> <span data-ttu-id="3b226-223">Typy byly přesunuty za účelem vyřešení závislostí architektonických vrstev mezi typy v klientovi a v rozšířených SKU rozhraní .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="3b226-223">The types were moved in order to resolve architectural layering dependencies between types in the client and in extended .NET Framework SKUs.</span></span> | <span data-ttu-id="3b226-224">Knihovny tříd, které byly upgradovány z dřívějších verzí technologie ASP.NET a které používají členství typy, které byly přesunuté se nemusí podařit kompilovat při použití v projektu ASP.NET 4.</span><span class="sxs-lookup"><span data-stu-id="3b226-224">Class libraries that have been upgraded from earlier versions of ASP.NET and that use membership types that have been moved might fail to compile when used in an ASP.NET 4 project.</span></span> <span data-ttu-id="3b226-225">Pokud ano, přidáte odkaz na soubor System.Web.ApplicationServices.dll v projektu knihovny tříd.</span><span class="sxs-lookup"><span data-stu-id="3b226-225">If so, add a reference in the class library project to System.Web.ApplicationServices.dll.</span></span> |
| <span data-ttu-id="3b226-226">**Změny nabídky ovládací prvek**</span><span class="sxs-lookup"><span data-stu-id="3b226-226">**Menu control changes**</span></span> | <span data-ttu-id="3b226-227">Změny <xref:System.Web.UI.WebControls.Menu> řízení způsobí následující chování:</span><span class="sxs-lookup"><span data-stu-id="3b226-227">Changes to the <xref:System.Web.UI.WebControls.Menu> control result in the following behavior:</span></span><br><br><span data-ttu-id="3b226-228">\* Pokud <xref:System.Web.UI.WebControls.MenuRenderingMode> je nastaven na `List`, nebo pokud <xref:System.Web.UI.WebControls.MenuRenderingMode> je nastaven na `Default` a <xref:System.Web.Configuration.PagesSection.ControlRenderingCompatibilityVersion> je nastaven na `4.0` nebo novější, <xref:System.Web.UI.WebControls.MenuItem.PopOutImageUrl> vlastnost nemá žádný efekt.</span><span class="sxs-lookup"><span data-stu-id="3b226-228">\* If <xref:System.Web.UI.WebControls.MenuRenderingMode> is set to `List`, or if <xref:System.Web.UI.WebControls.MenuRenderingMode> is set to `Default` and <xref:System.Web.Configuration.PagesSection.ControlRenderingCompatibilityVersion> is set to `4.0` or later, the <xref:System.Web.UI.WebControls.MenuItem.PopOutImageUrl> property has no effect.</span></span><br><span data-ttu-id="3b226-229">\* Pokud cesta, která je nastavena v <xref:System.Web.UI.WebControls.Menu.StaticPopOutImageUrl%2A> a <xref:System.Web.UI.WebControls.Menu.DynamicPopOutImageUrl> vlastnosti obsahuje zpětné lomítko (\\), nejsou vykreslovány bitové kopie.</span><span class="sxs-lookup"><span data-stu-id="3b226-229">\* If the path that is set in the <xref:System.Web.UI.WebControls.Menu.StaticPopOutImageUrl%2A> and <xref:System.Web.UI.WebControls.Menu.DynamicPopOutImageUrl> properties contains a backslash (\\), the images do not render.</span></span> <span data-ttu-id="3b226-230">(V předchozích verzích technologie ASP.NET, může zahrnovat cesta zpětné lomítko.)</span><span class="sxs-lookup"><span data-stu-id="3b226-230">(In earlier versions of ASP.NET, the path could include a backslash.)</span></span> | <span data-ttu-id="3b226-231">\* Místo z nastavení <xref:System.Web.UI.WebControls.MenuItem.PopOutImageUrl> vlastnost pro jednotlivé položky nabídky, nastavena <xref:System.Web.UI.WebControls.Menu.StaticPopOutImageUrl%2A> nebo <xref:System.Web.UI.WebControls.Menu.DynamicPopOutImageUrl> nadřazené <xref:System.Web.UI.WebControls.Menu> ovládacího prvku.</span><span class="sxs-lookup"><span data-stu-id="3b226-231">\* Instead of setting the <xref:System.Web.UI.WebControls.MenuItem.PopOutImageUrl> property for individual menu items, set the <xref:System.Web.UI.WebControls.Menu.StaticPopOutImageUrl%2A> or <xref:System.Web.UI.WebControls.Menu.DynamicPopOutImageUrl> of the parent <xref:System.Web.UI.WebControls.Menu> control.</span></span><br><br><span data-ttu-id="3b226-232">-nebo-</span><span class="sxs-lookup"><span data-stu-id="3b226-232">-or-</span></span><br><br><span data-ttu-id="3b226-233">Nastavit <xref:System.Web.UI.WebControls.MenuRenderingMode> k `Table`, nebo nastavte <xref:System.Web.UI.WebControls.MenuRenderingMode> k `Default` a nastavte <xref:System.Web.Configuration.PagesSection.ControlRenderingCompatibilityVersion> k `3.5`.</span><span class="sxs-lookup"><span data-stu-id="3b226-233">Set <xref:System.Web.UI.WebControls.MenuRenderingMode> to `Table`, or set <xref:System.Web.UI.WebControls.MenuRenderingMode> to `Default` and set <xref:System.Web.Configuration.PagesSection.ControlRenderingCompatibilityVersion> to `3.5`.</span></span> <span data-ttu-id="3b226-234">Tato nastavení způsobí <xref:System.Web.UI.WebControls.Menu> ovládací prvek pro použití na základě tabulky rozložení HTML, která je použita v předchozích verzích technologie ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="3b226-234">These settings cause the <xref:System.Web.UI.WebControls.Menu> control to use the HTML table-based layout that it used in earlier versions of ASP.NET.</span></span><br><span data-ttu-id="3b226-235">\* Pokud cestu ve <xref:System.Web.UI.WebControls.Menu.StaticPopOutImageUrl%2A> nebo <xref:System.Web.UI.WebControls.Menu.DynamicPopOutImageUrl> vlastnost obsahuje zpětné lomítko (\\), nahraďte jej znakem lomítka (/).</span><span class="sxs-lookup"><span data-stu-id="3b226-235">\* If the path in the <xref:System.Web.UI.WebControls.Menu.StaticPopOutImageUrl%2A> or <xref:System.Web.UI.WebControls.Menu.DynamicPopOutImageUrl> property contains a backslash (\\), substitute a slash character (/).</span></span> |
| <span data-ttu-id="3b226-236">**Mobilní sestavení v souboru Web.config**</span><span class="sxs-lookup"><span data-stu-id="3b226-236">**Mobile assembly in Web.config file**</span></span> | <span data-ttu-id="3b226-237">V předchozích verzích technologie ASP.NET, je odkaz na sestavení System.Web.Mobile.dll zahrnutý v kořenovém souboru Web.config v `assemblies` oddílu pod `system.web` / `compilation`.</span><span class="sxs-lookup"><span data-stu-id="3b226-237">In previous versions of ASP.NET, a reference to the System.Web.Mobile.dll assembly was included in the root Web.config file in the `assemblies` section under `system.web`/`compilation`.</span></span> <span data-ttu-id="3b226-238">Chcete-li zvýšit výkon, byl odebrán odkaz na toto sestavení.</span><span class="sxs-lookup"><span data-stu-id="3b226-238">To improve performance, the reference to this assembly has been removed.</span></span><br><br><span data-ttu-id="3b226-239">Poznámka: Sestavení System.Web.Mobile.dll a mobilní ovládací prvky ASP.NET jsou zahrnuty v technologii ASP.NET 4, ale jsou zastaralé.</span><span class="sxs-lookup"><span data-stu-id="3b226-239">Note: The System.Web.Mobile.dll assembly and the ASP.NET mobile controls are included in ASP.NET 4, but they are deprecated.</span></span> | <span data-ttu-id="3b226-240">Pokud chcete používat typy z tohoto sestavení, přidejte odkaz na sestavení, buď v kořenovém souboru Web.config nebo v souboru Web.config aplikace.</span><span class="sxs-lookup"><span data-stu-id="3b226-240">If you want to use types from this assembly, add a reference to the assembly in either the root Web.config file or in an application Web.config file.</span></span> |
| <span data-ttu-id="3b226-241">**Ukládání výstupu do mezipaměti**</span><span class="sxs-lookup"><span data-stu-id="3b226-241">**Output caching**</span></span> | <span data-ttu-id="3b226-242">V technologii ASP.NET 1.0 nezdařila z důvodu chyby v mezipaměti stránek, které zadané `Location="ServerAndClient"` jako výstupu€ "mezipaměti nastavení pro vydávání `Vary:*` hlavičky protokolu HTTP v odpovědi.</span><span class="sxs-lookup"><span data-stu-id="3b226-242">In ASP.NET 1.0, a bug caused cached pages that specified `Location="ServerAndClient"` as an output€“cache setting to emit a `Vary:*` HTTP header in the response.</span></span> <span data-ttu-id="3b226-243">To mělo za následek předání klientský prohlížeč pro ukládání do mezipaměti nikdy stránce místně.</span><span class="sxs-lookup"><span data-stu-id="3b226-243">This had the effect of telling client browsers to never cache the page locally.</span></span> <span data-ttu-id="3b226-244">V technologii ASP.NET 1.1 <xref:System.Web.HttpCachePolicy.SetOmitVaryStar%2A> byla přidána metoda, která mohla být volána, chcete-li potlačit `Vary:*` záhlaví.</span><span class="sxs-lookup"><span data-stu-id="3b226-244">In ASP.NET 1.1, the <xref:System.Web.HttpCachePolicy.SetOmitVaryStar%2A> method was added, which could be called in order to suppress the `Vary:*` header.</span></span> <span data-ttu-id="3b226-245">Sestavy chyb však naznačují, že vývojáři neberou v existující `SetOmitVaryStar` chování.</span><span class="sxs-lookup"><span data-stu-id="3b226-245">However, bug reports suggest that developers are unaware of the existing `SetOmitVaryStar` behavior.</span></span><br><br><span data-ttu-id="3b226-246">V technologii ASP.NET 4 `Vary:*` hlavičky protokolu HTTP už nevydává odpovědi, které zadat direktivu následující:</span><span class="sxs-lookup"><span data-stu-id="3b226-246">In ASP.NET 4, the `Vary:*` HTTP header is no longer emitted from responses that specify the following directive:</span></span><br><br>`<%@ OutputCache Location="ServerAndClient" %>`<br><br><span data-ttu-id="3b226-247">V důsledku toho <xref:System.Web.HttpCachePolicy.SetOmitVaryStar%2A> metoda již není potřeba Chcete-li potlačit `Vary:*` záhlaví.</span><span class="sxs-lookup"><span data-stu-id="3b226-247">As a result, the <xref:System.Web.HttpCachePolicy.SetOmitVaryStar%2A> method is no longer needed in order to suppress the `Vary:*` header.</span></span> <span data-ttu-id="3b226-248">V aplikacích, které určují "hodnotu ServerAndClient" pro `Location` atribut stránky budou ukládat do mezipaměti v prohlížeči bez nutnosti zavoláte <xref:System.Web.HttpCachePolicy.SetOmitVaryStar%2A>.</span><span class="sxs-lookup"><span data-stu-id="3b226-248">In applications that specify "ServerAndClient" for the `Location` attribute, pages will be cacheable in the browser without requiring that you call <xref:System.Web.HttpCachePolicy.SetOmitVaryStar%2A>.</span></span> | <span data-ttu-id="3b226-249">Pokud stránky v aplikaci musí emitování `Vary:*`, volání <xref:System.Web.HttpResponse.AppendHeader%2A> metoda, jak je znázorněno v následujícím příkladu:</span><span class="sxs-lookup"><span data-stu-id="3b226-249">If pages in the application must emit `Vary:*`, call the <xref:System.Web.HttpResponse.AppendHeader%2A> method as shown in the following example:</span></span><br><br>`System.Web.HttpResponse.AppendHeader("Vary","*");`<br><br><span data-ttu-id="3b226-250">Alternativně můžete změnit hodnotu ukládání výstupu do mezipaměti `Location` atribut "Server".</span><span class="sxs-lookup"><span data-stu-id="3b226-250">Alternatively, you can change the value of the output caching `Location` attribute to "Server".</span></span> |
| <span data-ttu-id="3b226-251">**Stránka analýza**</span><span class="sxs-lookup"><span data-stu-id="3b226-251">**Page parsing**</span></span> | <span data-ttu-id="3b226-252">Analyzátor stránky pro webové stránky ASP.NET (soubory .aspx) a uživatelských ovládacích prvků (soubory .ascx) je přísnější v technologii ASP.NET 4 než v předchozích verzích technologie ASP.NET a označuje více kódů jako neplatné než v dřívějších verzích.</span><span class="sxs-lookup"><span data-stu-id="3b226-252">The page parser for ASP.NET Web pages (.aspx files) and user controls (.ascx files) is stricter in ASP.NET 4 than in earlier versions of ASP.NET, and it flags more markup as invalid than in earlier versions.</span></span> | <span data-ttu-id="3b226-253">Zkontrolujte chybové zprávy, které jsou vytvářeny při spuštění stránky a opravte chyby, které jsou výsledkem neplatné značky.</span><span class="sxs-lookup"><span data-stu-id="3b226-253">Examine error messages that are produced when a page runs and fix errors that result from invalid markup.</span></span> |
| <span data-ttu-id="3b226-254">**Typy Passport**</span><span class="sxs-lookup"><span data-stu-id="3b226-254">**Passport types**</span></span> | <span data-ttu-id="3b226-255">Podpora služby Passport integrovaný do technologie ASP.NET 2.0 je zastaralá a není podporován z důvodu změn v Passport (nyní Live ID SDK).</span><span class="sxs-lookup"><span data-stu-id="3b226-255">The Passport support built into ASP.NET 2.0 is obsolete and is unsupported due to changes in Passport (now Live ID SDK).</span></span> <span data-ttu-id="3b226-256">V důsledku toho typy související se Passport v <xref:System.Web.Security> jsou nyní označeny `ObsoleteAttribute` atribut.</span><span class="sxs-lookup"><span data-stu-id="3b226-256">As a result, the types related to Passport in <xref:System.Web.Security> are now marked with the `ObsoleteAttribute` attribute.</span></span> | <span data-ttu-id="3b226-257">Změňte všechny kód, který používá typy Passport v <xref:System.Web.Security> obor názvů (například <xref:System.Web.Security.PassportIdentity>) použít [SDK](http://go.microsoft.com/fwlink/?LinkId=106346).</span><span class="sxs-lookup"><span data-stu-id="3b226-257">Change any code you have that uses Passport types in the <xref:System.Web.Security> namespace (for example, <xref:System.Web.Security.PassportIdentity>) to use the [SDK](http://go.microsoft.com/fwlink/?LinkId=106346).</span></span> |
| <span data-ttu-id="3b226-258">**Informace o PathInfo ve vlastnosti FilePath**</span><span class="sxs-lookup"><span data-stu-id="3b226-258">**PathInfo information in the FilePath property**</span></span> | <span data-ttu-id="3b226-259">Technologie ASP.NET 4 už obsahuje `PathInfo` hodnotu v vrácení hodnoty z vlastnosti, jako <xref:System.Web.HttpRequest.FilePath>, <xref:System.Web.HttpRequest.AppRelativeCurrentExecutionFilePath>, a <xref:System.Web.HttpRequest.CurrentExecutionFilePath>.</span><span class="sxs-lookup"><span data-stu-id="3b226-259">ASP.NET 4 no longer includes the `PathInfo` value in the return values from properties such as <xref:System.Web.HttpRequest.FilePath>, <xref:System.Web.HttpRequest.AppRelativeCurrentExecutionFilePath>, and <xref:System.Web.HttpRequest.CurrentExecutionFilePath>.</span></span> <span data-ttu-id="3b226-260">Místo toho `PathInfo` informace jsou k dispozici v <xref:System.Web.HttpRequest.PathInfo>.</span><span class="sxs-lookup"><span data-stu-id="3b226-260">Instead, the `PathInfo` information is available in <xref:System.Web.HttpRequest.PathInfo>.</span></span> <span data-ttu-id="3b226-261">Představte si například následující fragment adresy URL:</span><span class="sxs-lookup"><span data-stu-id="3b226-261">For example, imagine the following URL fragment:</span></span><br><br>`/testapp/Action.mvc/SomeAction`<br><br><span data-ttu-id="3b226-262">V předchozích verzích technologie ASP.NET <xref:System.Web.HttpRequest> vlastnosti mít následující hodnoty:</span><span class="sxs-lookup"><span data-stu-id="3b226-262">In earlier versions of ASP.NET, <xref:System.Web.HttpRequest> properties have the following values:</span></span><br><br><span data-ttu-id="3b226-263">\* <xref:System.Web.HttpRequest.FilePath>: `/testapp/Action.mvc/SomeAction`</span><span class="sxs-lookup"><span data-stu-id="3b226-263">\* <xref:System.Web.HttpRequest.FilePath>: `/testapp/Action.mvc/SomeAction`</span></span><br><span data-ttu-id="3b226-264">\* <xref:System.Web.HttpRequest.PathInfo>: (prázdný)</span><span class="sxs-lookup"><span data-stu-id="3b226-264">\* <xref:System.Web.HttpRequest.PathInfo>: (empty)</span></span><br><br><span data-ttu-id="3b226-265">V technologii ASP.NET 4 <xref:System.Web.HttpRequest> vlastnosti místo toho mít následující hodnoty:</span><span class="sxs-lookup"><span data-stu-id="3b226-265">In ASP.NET 4, <xref:System.Web.HttpRequest> properties instead have the following values:</span></span><br><br><span data-ttu-id="3b226-266">\* <xref:System.Web.HttpRequest.FilePath>: `/testapp/Action.mvc`</span><span class="sxs-lookup"><span data-stu-id="3b226-266">\* <xref:System.Web.HttpRequest.FilePath>: `/testapp/Action.mvc`</span></span><br><span data-ttu-id="3b226-267">\* <xref:System.Web.HttpRequest.PathInfo>: `SomeAction`</span><span class="sxs-lookup"><span data-stu-id="3b226-267">\* <xref:System.Web.HttpRequest.PathInfo>: `SomeAction`</span></span> | <span data-ttu-id="3b226-268">Zkontrolujte místa, kde závisí na vlastnosti v kódu <xref:System.Web.HttpRequest> třídy k vrácení informací o cestě; změnit kód tak, aby odrážely změny v tom, jak se vrátí informace o cestě.</span><span class="sxs-lookup"><span data-stu-id="3b226-268">Examine your code for places where you rely on properties of the <xref:System.Web.HttpRequest> class to return path information; change the code to reflect the changes in how path information is returned.</span></span> |
| <span data-ttu-id="3b226-269">**Ověření žádosti**</span><span class="sxs-lookup"><span data-stu-id="3b226-269">**Request validation**</span></span> | <span data-ttu-id="3b226-270">Ke zlepšení ověření žádosti, je vyvolána ověření požadavku ASP.NET dříve v životním cyklu žádosti.</span><span class="sxs-lookup"><span data-stu-id="3b226-270">To improve request validation, the ASP.NET request validation is invoked earlier in the request life cycle.</span></span> <span data-ttu-id="3b226-271">V důsledku toho se spouští ověření žádosti pro požadavky, které nejsou pro soubory .aspx, například pro volání webové služby a pro vlastní obslužné rutiny.</span><span class="sxs-lookup"><span data-stu-id="3b226-271">As a result, request validation runs for requests that are not for .aspx files, such as for Web service calls and for custom handlers.</span></span> <span data-ttu-id="3b226-272">Ověření žádosti bude také aktivní, pokud vlastní modulů HTTP v kanálu zpracování požadavku.</span><span class="sxs-lookup"><span data-stu-id="3b226-272">Request validation will also be active when custom HTTP modules are running in the request processing pipeline.</span></span><br><br><span data-ttu-id="3b226-273">V důsledku této změny požadavků na zdroje, než soubory .aspx může vrátit chyby ověření požadavku.</span><span class="sxs-lookup"><span data-stu-id="3b226-273">As a result of this change, requests for resources other than .aspx files might throw request validation errors.</span></span> <span data-ttu-id="3b226-274">Vlastní kód, který běží v kanálu požadavku (například vlastní moduly typu HTTP), může také vrátit chyby ověření požadavku.</span><span class="sxs-lookup"><span data-stu-id="3b226-274">Custom code that runs in the request pipeline (for example, custom HTTP modules) might also throw request validation errors.</span></span> | <span data-ttu-id="3b226-275">V případě potřeby můžete obnovit pouze stránky ASPX vyvolávají ověřování žádostí pomocí následující nastavení v konfiguračním souboru webu staré chování:</span><span class="sxs-lookup"><span data-stu-id="3b226-275">If necessary, you can revert to the old behavior of having only .aspx pages triggering request validation by using the following setting in the Web configuration file:</span></span><br><br>`<httpRuntime requestValidationMode="2.0" />`<br><br><span data-ttu-id="3b226-276">Upozornění: Pokud se můžete vrátit na původní chování, ujistěte se, že veškerý kód v stávající obslužné rutiny, moduly a další vlastní kód pro vektory útoku potenciálně nebezpečného vstupy HTTP, které by mohly být XSS provádí kontroly. "</span><span class="sxs-lookup"><span data-stu-id="3b226-276">Warning: If you revert to the old behavior, make sure that all code in existing handlers, modules, and other custom code performs checks for potentially unsafe HTTP inputs that could be XSS attack vectors.\`</span></span> |
| <span data-ttu-id="3b226-277">**Směrování**</span><span class="sxs-lookup"><span data-stu-id="3b226-277">**Routing**</span></span> | <span data-ttu-id="3b226-278">Pokud vytvoříte web v systému souborů v sadě Visual Studio 2010 a webu je ve složce, která obsahuje tečku (.) v názvu složky, směrování adres URL nebude fungovat spolehlivě.</span><span class="sxs-lookup"><span data-stu-id="3b226-278">If you create a file system Web site in Visual Studio 2010 and the Web site is in a folder that contains a dot (.) in the folder name, URL routing will not work reliably.</span></span> <span data-ttu-id="3b226-279">Vrátí chybu HTTP 404 z některé virtuální cesty.</span><span class="sxs-lookup"><span data-stu-id="3b226-279">An HTTP 404 error is returned from some virtual paths.</span></span> <span data-ttu-id="3b226-280">K tomu dochází, protože Visual Studio 2010 spustí Visual Studio vývojový Server (Cassini) pomocí nesprávné cesty pro virtuální kořenový adresář.</span><span class="sxs-lookup"><span data-stu-id="3b226-280">This occurs because Visual Studio 2010 launches the Visual Studio Development Server (Cassini) using an incorrect path for the root virtual directory.</span></span> | <span data-ttu-id="3b226-281">\* V **vlastnosti** stránky pro web na základě souborů, změny **virtuální cestu** atribut "/".</span><span class="sxs-lookup"><span data-stu-id="3b226-281">\* In the **Properties** page for the file-based Web site, change the **Virtual Path** attribute to "/".</span></span><br><br><span data-ttu-id="3b226-282">-nebo-</span><span class="sxs-lookup"><span data-stu-id="3b226-282">-or-</span></span><br><br><span data-ttu-id="3b226-283">\* Vytvořte projekt webové aplikace místo webový projekt.</span><span class="sxs-lookup"><span data-stu-id="3b226-283">\* Create a Web application project instead of a Web site project.</span></span> <span data-ttu-id="3b226-284">Projekty webových aplikací nemusí tento problém a směrování adres URL funguje i v případě, že složka projektu obsahuje tečku v názvu.</span><span class="sxs-lookup"><span data-stu-id="3b226-284">Web application projects do not have this issue, and URL routing works even if the project folder has a dot in its name.</span></span><br><br><span data-ttu-id="3b226-285">-nebo-</span><span class="sxs-lookup"><span data-stu-id="3b226-285">-or-</span></span><br><br><span data-ttu-id="3b226-286">\* Vytvoření webu založené na protokolu HTTP, který je hostován ve službě IIS.</span><span class="sxs-lookup"><span data-stu-id="3b226-286">\* Create an HTTP-based Web site that is hosted in IIS.</span></span> <span data-ttu-id="3b226-287">Webové stránky hostované službou IIS mohou obsahovat tečky ve virtuální cestě i ve složce soubor projektu.</span><span class="sxs-lookup"><span data-stu-id="3b226-287">IIS-hosted Web sites can have dots in the virtual path as well as in the project file folder.</span></span> |
| <span data-ttu-id="3b226-288">**Weby služby SharePoint**</span><span class="sxs-lookup"><span data-stu-id="3b226-288">**SharePoint sites**</span></span> | <span data-ttu-id="3b226-289">Pokud se pokusíte spustit ASP.NET 4 webovou stránku, která je nasazena jako podřízený web služby SharePoint, který obsahuje vlastní částečným vztahem důvěryhodnosti úroveň s názvem `WSS_Minimal`, zobrazí se následující chyba:</span><span class="sxs-lookup"><span data-stu-id="3b226-289">If you try to run an ASP.NET 4 Web site that is deployed as a child of a SharePoint Web site that contains a custom partial-trust level named `WSS_Minimal`, you will see the following error:</span></span><br><br>`Could not find permission set named 'ASP.Net'.` | <span data-ttu-id="3b226-290">V současné době žádné verze služby SharePoint jsou kompatibilní s technologií ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="3b226-290">Currently, no versions of SharePoint are compatible with ASP.NET.</span></span> <span data-ttu-id="3b226-291">V důsledku toho byste neměli spouštět webu technologie ASP.NET 4 jako podřízený web služby SharePoint.</span><span class="sxs-lookup"><span data-stu-id="3b226-291">As a result, you should not attempt to run an ASP.NET 4 Web site as a child of a SharePoint Web site.</span></span> |
| <span data-ttu-id="3b226-292">**Standardy XHTML 1.1**</span><span class="sxs-lookup"><span data-stu-id="3b226-292">**XHTML 1.1 standards**</span></span> | <span data-ttu-id="3b226-293">Povolit XHTML 1.1 dodržování předpisů pro nové weby, vygeneruje ovládacích prvků technologie ASP.NET v rozhraní .NET Framework 4 XHTML 1.1 kompatibilní HTML.</span><span class="sxs-lookup"><span data-stu-id="3b226-293">To enable XHTML 1.1 compliance for new Web sites, the ASP.NET controls in the .NET Framework 4 will generate XHTML 1.1 compliant HTML.</span></span> <span data-ttu-id="3b226-294">Toto vykreslování je povoleno pomocí následující možnosti v souboru Web.config uvnitř `<system.Web>` element:</span><span class="sxs-lookup"><span data-stu-id="3b226-294">This rendering is enabled using the following option in the Web.config file inside the `<system.Web>` element:</span></span><br><br>`<pages controlRenderingCompatibilityVersion="4.0"/>`<br><br><span data-ttu-id="3b226-295">Tato možnost je standardně nastavena na 4.0.</span><span class="sxs-lookup"><span data-stu-id="3b226-295">This option is set by default to 4.0.</span></span> <span data-ttu-id="3b226-296">Webové projekty, které jsou upgradovány na Visual Studio ze sady Visual Studio 2008 bude mít nastavení 3.5 povolena z důvodu kompatibility.</span><span class="sxs-lookup"><span data-stu-id="3b226-296">Web projects that are upgraded to Visual Studio from Visual Studio 2008 will have the 3.5 setting enabled for compatibility.</span></span> | <span data-ttu-id="3b226-297">Žádné</span><span class="sxs-lookup"><span data-stu-id="3b226-297">None.</span></span> |

## <a name="core"></a><span data-ttu-id="3b226-298">Jádro</span><span class="sxs-lookup"><span data-stu-id="3b226-298">Core</span></span>

### <a name="general-features"></a><span data-ttu-id="3b226-299">Obecné funkce</span><span class="sxs-lookup"><span data-stu-id="3b226-299">General features</span></span>

| <span data-ttu-id="3b226-300">Funkce</span><span class="sxs-lookup"><span data-stu-id="3b226-300">Feature</span></span> | <span data-ttu-id="3b226-301">Rozdíl oproti 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="3b226-301">Differences from 3.5 SP1</span></span> | <span data-ttu-id="3b226-302">Doporučené změny</span><span class="sxs-lookup"><span data-stu-id="3b226-302">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="3b226-303">**CardSpace**</span><span class="sxs-lookup"><span data-stu-id="3b226-303">**CardSpace**</span></span> | <span data-ttu-id="3b226-304">Služba Windows CardSpace je už součástí rozhraní .NET Framework; je poskytována samostatně.</span><span class="sxs-lookup"><span data-stu-id="3b226-304">Windows CardSpace is no longer included in the .NET Framework; it is provided separately.</span></span> | <span data-ttu-id="3b226-305">Stáhněte si Windows CardSpace z [Microsoft Download Center](http://go.microsoft.com/fwlink/?LinkId=199868).</span><span class="sxs-lookup"><span data-stu-id="3b226-305">Download Windows CardSpace from the [Microsoft Download Center](http://go.microsoft.com/fwlink/?LinkId=199868).</span></span> |
| <span data-ttu-id="3b226-306">**Konfigurační soubory**</span><span class="sxs-lookup"><span data-stu-id="3b226-306">**Configuration files**</span></span> | <span data-ttu-id="3b226-307">V tom, jak rozhraní .NET Framework přistupuje konfigurační soubory aplikace byly provedeny opravy.</span><span class="sxs-lookup"><span data-stu-id="3b226-307">Corrections have been made in how the .NET Framework accesses application configuration files.</span></span> | <span data-ttu-id="3b226-308">Pokud je název konfiguračního souboru aplikace *aplikace name.config*, přejmenujte ji na *aplikace name.exe.config*. Například přejmenujte *MyApp.config* k *MyApp.exe.config*.</span><span class="sxs-lookup"><span data-stu-id="3b226-308">If your application configuration file is named *application-name.config*, rename it to *application-name.exe.config*. For example, rename *MyApp.config* to *MyApp.exe.config*.</span></span> |
| <span data-ttu-id="3b226-309">**Kód kompilátor jazyka C#**</span><span class="sxs-lookup"><span data-stu-id="3b226-309">**C# code compiler**</span></span> | <span data-ttu-id="3b226-310">`Compiler`, `CompilerError`, A `ErrorLevel` třídy, které byly v <xref:Microsoft.CSharp> obor názvů již nejsou k dispozici, a jejich sestavení (cscompmgd.dll) je již zahrnut v rozhraní .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="3b226-310">The `Compiler`, `CompilerError`, and `ErrorLevel` classes that were in the <xref:Microsoft.CSharp> namespace are no longer available, and their assembly (cscompmgd.dll) is no longer included in the .NET Framework.</span></span> | <span data-ttu-id="3b226-311">Použití <xref:System.CodeDom.Compiler.CodeDomProvider> třídy a jiné třídy v <xref:System.CodeDom.Compiler> oboru názvů.</span><span class="sxs-lookup"><span data-stu-id="3b226-311">Use the <xref:System.CodeDom.Compiler.CodeDomProvider> class and other classes in the <xref:System.CodeDom.Compiler> namespace.</span></span> <span data-ttu-id="3b226-312">Další informace najdete v tématu [pomocí modelu CodeDOM](https://msdn.microsoft.com/library/y2k85ax6(v=vs.100).aspx).</span><span class="sxs-lookup"><span data-stu-id="3b226-312">For more information, see [Using the CodeDOM](https://msdn.microsoft.com/library/y2k85ax6(v=vs.100).aspx).</span></span> |
| <span data-ttu-id="3b226-313">**Hostování** (nespravovaného rozhraní API)</span><span class="sxs-lookup"><span data-stu-id="3b226-313">**Hosting** (unmanaged API)</span></span> | <span data-ttu-id="3b226-314">K vylepšení možností hostingových služeb, jsou zastaralé některé hostování aktivace rozhraní API.</span><span class="sxs-lookup"><span data-stu-id="3b226-314">To improve hosting capabilities, some of the hosting activation APIs have been deprecated.</span></span> <span data-ttu-id="3b226-315">Spuštění vedle sebe v procesu povoluje aplikaci načtení a spuštění více verzí rozhraní .NET Framework v rámci jednoho procesu.</span><span class="sxs-lookup"><span data-stu-id="3b226-315">In-process side-by-side execution features enable an application to load and start multiple versions of the .NET Framework in the same process.</span></span> <span data-ttu-id="3b226-316">Například můžete mít aplikace, které načítají doplňky (nebo komponenty), jsou založené na rozhraní .NET Framework 2.0 SP1 a doplňky, které jsou založeny na rozhraní .NET Framework 4 v rámci jednoho procesu.</span><span class="sxs-lookup"><span data-stu-id="3b226-316">For example, you can run applications that load add-ins (or components) that are based on the .NET Framework 2.0 SP1 and add-ins that are based on the .NET Framework 4 in the same process.</span></span> <span data-ttu-id="3b226-317">Starší komponenty nadále používat starší verzi rozhraní .NET Framework a nové komponenty použili tuto novou verzi rozhraní .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="3b226-317">Older components continue to use the older .NET Framework version, and new components use the new .NET Framework version.</span></span> | <span data-ttu-id="3b226-318">Použijte konfigurace popsané v [spuštění vedle sebe v procesu](/dotnet/framework/deployment/in-process-side-by-side-execution).</span><span class="sxs-lookup"><span data-stu-id="3b226-318">Use the configurations described in [In-Process Side-by-Side Execution](/dotnet/framework/deployment/in-process-side-by-side-execution).</span></span> |
| <span data-ttu-id="3b226-319">**Nový model zabezpečení**</span><span class="sxs-lookup"><span data-stu-id="3b226-319">**New security model**</span></span> | <span data-ttu-id="3b226-320">Zásady zabezpečení (CA) přístupu kódu byla vypnuta a nahradí zjednodušený model, jak je popsáno v [změny zabezpečení v rozhraní .NET Framework 4](https://msdn.microsoft.com/library/dd233103(v=vs.100).aspx).</span><span class="sxs-lookup"><span data-stu-id="3b226-320">The code access security (CAS) policy has been turned off and replaced with a simplified model, as described in [Security Changes in the .NET Framework 4](https://msdn.microsoft.com/library/dd233103(v=vs.100).aspx).</span></span> | <span data-ttu-id="3b226-321">Změny mohou být vyžadovány, pokud závisí na certifikačních Autoritách ve svých aplikacích.</span><span class="sxs-lookup"><span data-stu-id="3b226-321">Modifications may be required if you depend on CAS in your applications.</span></span> <span data-ttu-id="3b226-322">Další informace najdete v tématu [kompatibilitou zásad zabezpečení přístupu kódu a migrace](/dotnet/framework/misc/code-access-security-policy-compatibility-and-migration).</span><span class="sxs-lookup"><span data-stu-id="3b226-322">For more information, see [Code Access Security Policy Compatibility and Migration](/dotnet/framework/misc/code-access-security-policy-compatibility-and-migration).</span></span> |

### <a name="date-and-time"></a><span data-ttu-id="3b226-323">Datum a čas</span><span class="sxs-lookup"><span data-stu-id="3b226-323">Date and time</span></span>

<span data-ttu-id="3b226-324">Namespace: <xref:System>; sestavení: mscorlib (v mscorlib.dll)</span><span class="sxs-lookup"><span data-stu-id="3b226-324">Namespace: <xref:System>; assembly: mscorlib (in mscorlib.dll)</span></span>

| <span data-ttu-id="3b226-325">Funkce</span><span class="sxs-lookup"><span data-stu-id="3b226-325">Feature</span></span> | <span data-ttu-id="3b226-326">Rozdíl oproti 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="3b226-326">Differences from 3.5 SP1</span></span> | <span data-ttu-id="3b226-327">Doporučené změny</span><span class="sxs-lookup"><span data-stu-id="3b226-327">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="3b226-328">**Letního**</span><span class="sxs-lookup"><span data-stu-id="3b226-328">**Daylight savings**</span></span> | <span data-ttu-id="3b226-329">Chcete-li být v souladu se systémové hodiny, chvíli vlastnosti (například <xref:System.TimeZoneInfo.Local> a <xref:System.DateTime.Now>) místo další data rozhraní .NET Framework teď používat operační systém pravidla pro letní čas operace.</span><span class="sxs-lookup"><span data-stu-id="3b226-329">To be consistent with the system clock, time properties (such as <xref:System.TimeZoneInfo.Local> and <xref:System.DateTime.Now>) now use operating system rules instead of other .NET Framework data for daylight saving time operations.</span></span> | <span data-ttu-id="3b226-330">Žádné</span><span class="sxs-lookup"><span data-stu-id="3b226-330">None.</span></span> |
| <span data-ttu-id="3b226-331">**Formátování řetězců**</span><span class="sxs-lookup"><span data-stu-id="3b226-331">**Formatting strings**</span></span> | <span data-ttu-id="3b226-332">Pro podporu formátování jazykové verzi, <xref:System.TimeSpan> struktura zahrnuje nové přetížení `ToString`, `Parse`, a `TryParse` metody kromě nového `ParseExact` a `TryParseExact` metody.</span><span class="sxs-lookup"><span data-stu-id="3b226-332">To support culture-sensitive formatting, the <xref:System.TimeSpan> structure includes new overloads of the `ToString`, `Parse`, and `TryParse` methods in addition to new `ParseExact` and `TryParseExact` methods.</span></span> | <span data-ttu-id="3b226-333">Žádné</span><span class="sxs-lookup"><span data-stu-id="3b226-333">None.</span></span> |


### <a name="globalization"></a><span data-ttu-id="3b226-334">Globalizace</span><span class="sxs-lookup"><span data-stu-id="3b226-334">Globalization</span></span>

<span data-ttu-id="3b226-335">Seznam nové neutrální a konkrétní jazykové verze, najdete v části [co je nového v globalizace a lokalizace](https://msdn.microsoft.com/library/dd997383(v=vs.100).aspx).</span><span class="sxs-lookup"><span data-stu-id="3b226-335">For a list of new neutral and specific cultures, see [What's New in Globalization and Localization](https://msdn.microsoft.com/library/dd997383(v=vs.100).aspx).</span></span>

<span data-ttu-id="3b226-336">Namespace: <xref:System.Globalization>; sestavení: mscorlib (v mscorlib.dll)</span><span class="sxs-lookup"><span data-stu-id="3b226-336">Namespace: <xref:System.Globalization>; assembly: mscorlib (in mscorlib.dll)</span></span>

| <span data-ttu-id="3b226-337">Funkce</span><span class="sxs-lookup"><span data-stu-id="3b226-337">Feature</span></span> | <span data-ttu-id="3b226-338">Rozdíl oproti 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="3b226-338">Differences from 3.5 SP1</span></span> | <span data-ttu-id="3b226-339">Doporučené změny</span><span class="sxs-lookup"><span data-stu-id="3b226-339">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="3b226-340">**Názvy jazykové verze**</span><span class="sxs-lookup"><span data-stu-id="3b226-340">**Culture names**</span></span> | <span data-ttu-id="3b226-341">Následující změny názvu ovlivnit němčina, Divehština a africké jazykové verze:</span><span class="sxs-lookup"><span data-stu-id="3b226-341">The following name changes affect the German, Divehi, and African cultures:</span></span><br><br><span data-ttu-id="3b226-342">\* <xref:System.Globalization.CultureAndRegionInfoBuilder.CurrencyEnglishName>: Název měny pro německou (Švýcarsko) (de-CH) jazykovou verzi se změnil z hodnoty "sFr."</span><span class="sxs-lookup"><span data-stu-id="3b226-342">\* <xref:System.Globalization.CultureAndRegionInfoBuilder.CurrencyEnglishName>: The currency name for the German (Switizerland) (de-CH) culture has changed from "sFr."</span></span> <span data-ttu-id="3b226-343">na "FN".</span><span class="sxs-lookup"><span data-stu-id="3b226-343">to "Fr.".</span></span><br><span data-ttu-id="3b226-344">\* <xref:System.Globalization.DateTimeFormatInfo.LongDatePattern>: Vzoru dlouhého data pro Divehština (Maledivy) (dv-MV) jazykovou verzi se změnil z "MMMM/dd/rrrr" na "dd/MM/rrrr".</span><span class="sxs-lookup"><span data-stu-id="3b226-344">\* <xref:System.Globalization.DateTimeFormatInfo.LongDatePattern>: The long date pattern for the Divehi (Maldives) (dv-MV) culture has changed from "dd/MMMM/yyyy" to "dd/MM/yyyy".</span></span><br><span data-ttu-id="3b226-345">\* <xref:System.Globalization.DateTimeFormatInfo.PMDesignator>: Odp.</span><span class="sxs-lookup"><span data-stu-id="3b226-345">\* <xref:System.Globalization.DateTimeFormatInfo.PMDesignator>: The P.M.</span></span> <span data-ttu-id="3b226-346">označení Afrikánština (Jižní Afrika) (af-ZA) jazykovou verzi se změnil z "nm" na "Odp.".</span><span class="sxs-lookup"><span data-stu-id="3b226-346">designator of the Afrikaans (South Africa) (af-ZA) culture has changed from "nm" to "PM".</span></span> | <span data-ttu-id="3b226-347">Poznámka: změny názvu jazykové verze.</span><span class="sxs-lookup"><span data-stu-id="3b226-347">Note culture name changes.</span></span> |
| <span data-ttu-id="3b226-348">**Parametr LCID**</span><span class="sxs-lookup"><span data-stu-id="3b226-348">**LCID parameter**</span></span> | <span data-ttu-id="3b226-349">Aby byl konzistentní s očekávané chování v nastavení automatizačního serveru, modul CLR už předá aktuální jazykovou verzi `LCID` parametru nespravované aplikace založené na modelu COM.</span><span class="sxs-lookup"><span data-stu-id="3b226-349">To be consistent with expected behavior in automation server settings, the CLR no longer passes the current culture for the `LCID` parameter to unmanaged COM-based applications.</span></span> <span data-ttu-id="3b226-350">Místo toho předává 1033 (en-us) pro jazykovou verzi.</span><span class="sxs-lookup"><span data-stu-id="3b226-350">Instead, it passes 1033 (en-us) for the culture.</span></span> | <span data-ttu-id="3b226-351">Žádné úpravy nezbytné s výjimkou nativních aplikací, které vyžadují zadanou jazykovou verzi.</span><span class="sxs-lookup"><span data-stu-id="3b226-351">No modifications necessary except for native applications that require a specified culture.</span></span> |
| <span data-ttu-id="3b226-352">**Jazyková verze zastaralé typy**</span><span class="sxs-lookup"><span data-stu-id="3b226-352">**Obsolete culture types**</span></span> | <span data-ttu-id="3b226-353"><xref:System.Globalization.CultureTypes> a <xref:System.Globalization.CultureTypes> jsou nyní zastaralé.</span><span class="sxs-lookup"><span data-stu-id="3b226-353">The <xref:System.Globalization.CultureTypes> and <xref:System.Globalization.CultureTypes> culture types are now obsolete.</span></span><br><br><span data-ttu-id="3b226-354">Z důvodu zpětné kompatibility <xref:System.Globalization.CultureTypes> nyní vrací neutrální a konkrétní jazykové verze, které byly součástí předchozí rozhraní .NET Framework, a <xref:System.Globalization.CultureTypes> nyní vrací prázdný seznam.</span><span class="sxs-lookup"><span data-stu-id="3b226-354">For backward compatibility, <xref:System.Globalization.CultureTypes> now returns neutral and specific cultures that were included with the previous .NET Framework, and <xref:System.Globalization.CultureTypes> now returns an empty list.</span></span> | <span data-ttu-id="3b226-355">Použít jiné hodnoty <xref:System.Globalization.CultureTypes> výčtu.</span><span class="sxs-lookup"><span data-stu-id="3b226-355">Use other values of the <xref:System.Globalization.CultureTypes> enumeration.</span></span> |
| <span data-ttu-id="3b226-356">**Načítání jazykové verze**</span><span class="sxs-lookup"><span data-stu-id="3b226-356">**Retrieving culture**</span></span> | <span data-ttu-id="3b226-357">Od verze Windows 7, rozhraní .NET Framework 4 načte informace o jazykové verzi z operačního systému místo ukládání samotná data.</span><span class="sxs-lookup"><span data-stu-id="3b226-357">Beginning with Windows 7, the .NET Framework 4 retrieves culture information from the operating system instead of storing the data itself.</span></span> <span data-ttu-id="3b226-358">Kromě toho rozhraní .NET Framework synchronizuje s Windows pro řazení a data velká a malá písmena.</span><span class="sxs-lookup"><span data-stu-id="3b226-358">In addition, the .NET Framework synchronizes with Windows for sorting and casing data.</span></span> | <span data-ttu-id="3b226-359">Žádné</span><span class="sxs-lookup"><span data-stu-id="3b226-359">None.</span></span> |
| <span data-ttu-id="3b226-360">**Standardy Unicode 5.1**</span><span class="sxs-lookup"><span data-stu-id="3b226-360">**Unicode 5.1 standards**</span></span> | <span data-ttu-id="3b226-361">Rozhraní .NET Framework nyní podporuje všechny znaky Unicode 5.1 doplněk přibližně 1400 znaků.</span><span class="sxs-lookup"><span data-stu-id="3b226-361">The .NET Framework now supports all Unicode 5.1 characters -- an addition of approximately 1400 characters.</span></span> <span data-ttu-id="3b226-362">Další znaky zahrnují nových symbolů, šipky, znaky s diakritikou, interpunkce, matematické symboly, znaky CJK a ideografickými znaky, další Malajálamské a telugština číselnými znaky a různé Barmské, Latin, Arabské, řečtina, Mongolština a cyrilici znaky.</span><span class="sxs-lookup"><span data-stu-id="3b226-362">The additional characters include new symbols, arrows, diacritics, punctuation, mathematical symbols, CJK strokes and ideographs, additional Malayalam and Telugu numeric characters, and various Myanmar, Latin, Arabic, Greek, Mongolian, and Cyrillic characters.</span></span> <span data-ttu-id="3b226-363">Kódování Unicode 5.1 jsou podporovány následující nové skripty: sundánské písmo, lepčské písmo, Ol Chiki, Vai, Saurashtra, Kali, Rejang, Gurmukhi, Udijština, tamilština, telugština a Malajálamské znaky a Cham.</span><span class="sxs-lookup"><span data-stu-id="3b226-363">The following new scripts are supported with Unicode 5.1: Sundanese, Lepcha, Ol Chiki, Vai, Saurashtra, Kayah Li, Rejang, Gurmukhi, Odia, Tamil, Telugu, and Malayalam characters and Cham.</span></span> | <span data-ttu-id="3b226-364">Žádné</span><span class="sxs-lookup"><span data-stu-id="3b226-364">None.</span></span> |

### <a name="exceptions"></a><span data-ttu-id="3b226-365">Výjimky</span><span class="sxs-lookup"><span data-stu-id="3b226-365">Exceptions</span></span>

<span data-ttu-id="3b226-366">Obory názvů: <xref:System>, <xref:System.Runtime.ExceptionServices>; sestavení: mscorlib (v mscorlib.dll)</span><span class="sxs-lookup"><span data-stu-id="3b226-366">Namespaces: <xref:System>, <xref:System.Runtime.ExceptionServices>; assembly: mscorlib (in mscorlib.dll)</span></span>

| <span data-ttu-id="3b226-367">Funkce</span><span class="sxs-lookup"><span data-stu-id="3b226-367">Feature</span></span> | <span data-ttu-id="3b226-368">Rozdíl oproti 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="3b226-368">Differences from 3.5 SP1</span></span> | <span data-ttu-id="3b226-369">Doporučené změny</span><span class="sxs-lookup"><span data-stu-id="3b226-369">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="3b226-370">**Výjimky pro poškozený stav procesu**</span><span class="sxs-lookup"><span data-stu-id="3b226-370">**Exceptions for corrupted process state**</span></span> | <span data-ttu-id="3b226-371">Modul CLR již dodává výjimky pro poškozený stav procesu obslužné rutiny výjimek ve spravovaném kódu.</span><span class="sxs-lookup"><span data-stu-id="3b226-371">The CLR no longer delivers exceptions for corrupted process state to exception handlers in managed code.</span></span> | <span data-ttu-id="3b226-372">Tyto výjimky znamenat, že stav procesu je poškozená.</span><span class="sxs-lookup"><span data-stu-id="3b226-372">These exceptions indicate that the state of a process has been corrupted.</span></span> <span data-ttu-id="3b226-373">Nedoporučujeme spouštět aplikaci v tomto stavu.</span><span class="sxs-lookup"><span data-stu-id="3b226-373">We do not recommend that you run your application in this state.</span></span><br><br><span data-ttu-id="3b226-374">Další informace najdete v tématu <xref:System.Runtime.ExceptionServices.HandleProcessCorruptedStateExceptionsAttribute> a položka [zpracování poškozený stav výjimky](http://go.microsoft.com/fwlink/?LinkID=179681) v CLR zevnitř ven. blogu.</span><span class="sxs-lookup"><span data-stu-id="3b226-374">For more information, see the <xref:System.Runtime.ExceptionServices.HandleProcessCorruptedStateExceptionsAttribute> and the entry [Handling Corrupted State Exceptions](http://go.microsoft.com/fwlink/?LinkID=179681) in the CLR Inside Out blog.</span></span> |
| <span data-ttu-id="3b226-375">**Spuštění modulu výjimky**</span><span class="sxs-lookup"><span data-stu-id="3b226-375">**Execution engine exceptions**</span></span> | <span data-ttu-id="3b226-376"><xref:System.ExecutionEngineException> je zastaralý, protože zachytitelné výjimka vám umožní nestabilnímu procesu pokračovat v běhu.</span><span class="sxs-lookup"><span data-stu-id="3b226-376"><xref:System.ExecutionEngineException> is now obsolete, because a catchable exception will allow an unstable process to continue to run.</span></span> <span data-ttu-id="3b226-377">Tato změna zlepšuje předvídatelnost a spolehlivost v modulu runtime.</span><span class="sxs-lookup"><span data-stu-id="3b226-377">This change improves predictability and reliability in the runtime.</span></span> | <span data-ttu-id="3b226-378">Použijte <xref:System.InvalidOperationException> signál podmínku.</span><span class="sxs-lookup"><span data-stu-id="3b226-378">Use an <xref:System.InvalidOperationException> to signal the condition.</span></span> |

### <a name="reflection"></a><span data-ttu-id="3b226-379">Reflexe</span><span class="sxs-lookup"><span data-stu-id="3b226-379">Reflection</span></span>

<span data-ttu-id="3b226-380">Namespace: <xref:System.Reflection>; sestavení: mscorlib (v mscorlib.dll)</span><span class="sxs-lookup"><span data-stu-id="3b226-380">Namespace: <xref:System.Reflection>; assembly: mscorlib (in mscorlib.dll)</span></span>

| <span data-ttu-id="3b226-381">Funkce</span><span class="sxs-lookup"><span data-stu-id="3b226-381">Feature</span></span> | <span data-ttu-id="3b226-382">Rozdíl oproti 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="3b226-382">Differences from 3.5 SP1</span></span> | <span data-ttu-id="3b226-383">Doporučené změny</span><span class="sxs-lookup"><span data-stu-id="3b226-383">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="3b226-384">**Algoritmy hash sestavení**</span><span class="sxs-lookup"><span data-stu-id="3b226-384">**Assembly hash algorithms**</span></span> | <span data-ttu-id="3b226-385"><xref:System.Reflection.AssemblyName.HashAlgorithm> Vlastnost nyní vrátí <xref:System.Configuration.Assemblies.AssemblyHashAlgorithm>, protože modul runtime neví algoritmus hash odkazovaného sestavení sestavení není načteno.</span><span class="sxs-lookup"><span data-stu-id="3b226-385">The <xref:System.Reflection.AssemblyName.HashAlgorithm> property now returns <xref:System.Configuration.Assemblies.AssemblyHashAlgorithm>, because the runtime does not know the hash algorithm of the referenced assembly when the assembly is not loaded.</span></span> <span data-ttu-id="3b226-386">(Vztahuje se k použití vlastnosti v odkazované sestavení, jako je například vrácené <xref:System.Reflection.Assembly.GetReferencedAssemblies%2A> metoda.)</span><span class="sxs-lookup"><span data-stu-id="3b226-386">(This refers to using the property on a referenced assembly such as that returned by the <xref:System.Reflection.Assembly.GetReferencedAssemblies%2A> method.)</span></span> | <span data-ttu-id="3b226-387">Žádné</span><span class="sxs-lookup"><span data-stu-id="3b226-387">None.</span></span> |
| <span data-ttu-id="3b226-388">**Načítání sestavení**</span><span class="sxs-lookup"><span data-stu-id="3b226-388">**Assembly loading**</span></span> | <span data-ttu-id="3b226-389">Aby se zabránilo redundantní načítání sestavení a uložíte virtuální adresní prostor, modul CLR nyní načte sestavení s použitím pouze Win32 `MapViewOfFile` funkce.</span><span class="sxs-lookup"><span data-stu-id="3b226-389">To prevent redundant loading of assemblies and to save virtual address space, the CLR now loads assemblies by using only the Win32 `MapViewOfFile` function.</span></span> <span data-ttu-id="3b226-390">Už také zavolá `LoadLibrary` funkce.</span><span class="sxs-lookup"><span data-stu-id="3b226-390">It no longer also calls the `LoadLibrary` function.</span></span><br><br><span data-ttu-id="3b226-391">Tato změna ovlivňuje diagnostických aplikací následujícími způsoby:</span><span class="sxs-lookup"><span data-stu-id="3b226-391">This change affects diagnostic applications in the following ways:</span></span><br><br><span data-ttu-id="3b226-392">\* A <xref:System.Diagnostics.ProcessModuleCollection> již nebude obsahovat všechny moduly z knihovny tříd (soubor .dll), získaný volání `Process.GetCurrentProcess().Modules`.</span><span class="sxs-lookup"><span data-stu-id="3b226-392">\* A <xref:System.Diagnostics.ProcessModuleCollection> will no longer contain any modules from a class library (.dll file), as obtained from a call to `Process.GetCurrentProcess().Modules`.</span></span><br><span data-ttu-id="3b226-393">\* Aplikace Win32, které používají `EnumProcessModules` funkce nezobrazí všechny spravované moduly, které jsou uvedené.</span><span class="sxs-lookup"><span data-stu-id="3b226-393">\* Win32 applications that use the `EnumProcessModules` function will not see all managed modules listed.</span></span> | <span data-ttu-id="3b226-394">Žádné</span><span class="sxs-lookup"><span data-stu-id="3b226-394">None.</span></span> |
| <span data-ttu-id="3b226-395">**Deklarace typu**</span><span class="sxs-lookup"><span data-stu-id="3b226-395">**Declaring type**</span></span> | <span data-ttu-id="3b226-396"><xref:System.Type.DeclaringType> Vlastnost nyní správně vrátí hodnotu null. Pokud typ nemá deklarující typ.</span><span class="sxs-lookup"><span data-stu-id="3b226-396">The <xref:System.Type.DeclaringType> property now correctly returns null when the type does not have a declaring type.</span></span> | <span data-ttu-id="3b226-397">Žádné</span><span class="sxs-lookup"><span data-stu-id="3b226-397">None.</span></span> |
| <span data-ttu-id="3b226-398">**Delegáti**</span><span class="sxs-lookup"><span data-stu-id="3b226-398">**Delegates**</span></span> | <span data-ttu-id="3b226-399">Nyní vyvolá delegáta <xref:System.ArgumentNullException> místo <xref:System.NullReferenceException> Pokud je hodnota null předaný konstruktoru delegáta.</span><span class="sxs-lookup"><span data-stu-id="3b226-399">A delegate now throws an <xref:System.ArgumentNullException> instead of a <xref:System.NullReferenceException> when a null value is passed to the delegate's constructor.</span></span> | <span data-ttu-id="3b226-400">Ujistěte se, že jakékoli zpracování výjimky zachytí <xref:System.ArgumentNullException>.</span><span class="sxs-lookup"><span data-stu-id="3b226-400">Ensure that any exception handling catches <xref:System.ArgumentNullException>.</span></span> |
| <span data-ttu-id="3b226-401">**Změna umístění mezipaměti globální sestavení**</span><span class="sxs-lookup"><span data-stu-id="3b226-401">**Global assembly cache location change**</span></span> | <span data-ttu-id="3b226-402">Pro sestavení rozhraní .NET Framework 4, byl přesunut do globální mezipaměti sestavení z adresáře systému Windows (% WINDIR %) do podadresáře Microsoft.Net (*% WINDIR %\\Microsoft.Net*).</span><span class="sxs-lookup"><span data-stu-id="3b226-402">For .NET Framework 4 assemblies, the global assembly cache has been moved from the Windows directory (%WINDIR%) to the Microsoft.Net subdirectory (*%WINDIR%\\Microsoft.Net*).</span></span> <span data-ttu-id="3b226-403">Sestavení z dřívějších verzí zůstanou v adresáři starší.</span><span class="sxs-lookup"><span data-stu-id="3b226-403">Assemblies from earlier versions remain in the older directory.</span></span><br><br><span data-ttu-id="3b226-404">Nespravovanou [ASM_CACHE_FLAGS](https://msdn.microsoft.com/library/ms231621(v=vs.100).aspx) výčet obsahuje nové `ASM_CACHE_ROOT_EX` příznak.</span><span class="sxs-lookup"><span data-stu-id="3b226-404">The unmanaged [ASM_CACHE_FLAGS](https://msdn.microsoft.com/library/ms231621(v=vs.100).aspx) enumeration contains the new `ASM_CACHE_ROOT_EX` flag.</span></span> <span data-ttu-id="3b226-405">Tento příznak získá umístění mezipaměti pro rozhraní .NET Framework 4 sestavení, která je možné získat [GetCachePath](/dotnet/framework/unmanaged-api/fusion/getcachepath-function) funkce.</span><span class="sxs-lookup"><span data-stu-id="3b226-405">This flag gets the cache location for .NET Framework 4 assemblies, which can be obtained by the [GetCachePath](/dotnet/framework/unmanaged-api/fusion/getcachepath-function) function.</span></span> | <span data-ttu-id="3b226-406">Žádné, za předpokladu, že aplikace nepoužívají explicitní cesty k sestavení, což není doporučený postup.</span><span class="sxs-lookup"><span data-stu-id="3b226-406">None, assuming that applications do not use explicit paths to assemblies, which is not a recommended practice.</span></span> |
| <span data-ttu-id="3b226-407">**Nástroj globální mezipaměti sestavení**</span><span class="sxs-lookup"><span data-stu-id="3b226-407">**Global assembly cache tool**</span></span> | <span data-ttu-id="3b226-408">[Gacutil.exe (Global Assembly Cache Tool)](https://msdn.microsoft.com/library/ex0ss12c(v=vs.100).aspx) již nepodporuje prohlížeč zásuvných.</span><span class="sxs-lookup"><span data-stu-id="3b226-408">The [Gacutil.exe (Global Assembly Cache Tool)](https://msdn.microsoft.com/library/ex0ss12c(v=vs.100).aspx) no longer supports the shell plugin viewer.</span></span> | <span data-ttu-id="3b226-409">Žádné</span><span class="sxs-lookup"><span data-stu-id="3b226-409">None.</span></span> |

### <a name="interoperability"></a><span data-ttu-id="3b226-410">Interoperabilita</span><span class="sxs-lookup"><span data-stu-id="3b226-410">Interoperability</span></span>

<span data-ttu-id="3b226-411">Namespace: <xref:System.Runtime.InteropServices>; sestavení: mscorlib (v mscorlib.dll)</span><span class="sxs-lookup"><span data-stu-id="3b226-411">Namespace: <xref:System.Runtime.InteropServices>; assembly: mscorlib (in mscorlib.dll)</span></span>

| <span data-ttu-id="3b226-412">Funkce</span><span class="sxs-lookup"><span data-stu-id="3b226-412">Feature</span></span> | <span data-ttu-id="3b226-413">Rozdíl oproti 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="3b226-413">Differences from 3.5 SP1</span></span> | <span data-ttu-id="3b226-414">Doporučené změny</span><span class="sxs-lookup"><span data-stu-id="3b226-414">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="3b226-415">**Délka vyrovnávací paměti** (nespravovaného rozhraní API)</span><span class="sxs-lookup"><span data-stu-id="3b226-415">**Buffer length** (unmanaged API)</span></span> | <span data-ttu-id="3b226-416">Uložit paměť, funkce pro `pBufferLengthOffset` parametr pro [ICorProfilerInfo2::GetStringLayout](/dotnet/framework/unmanaged-api/profiling/icorprofilerinfo2-getstringlayout-method) metoda byla změněna tak, aby odpovídala `pStringLengthOffset` parametr.</span><span class="sxs-lookup"><span data-stu-id="3b226-416">To save memory, the functionality for the `pBufferLengthOffset` parameter for the [ICorProfilerInfo2::GetStringLayout](/dotnet/framework/unmanaged-api/profiling/icorprofilerinfo2-getstringlayout-method) method has been changed to match the `pStringLengthOffset` parameter.</span></span> <span data-ttu-id="3b226-417">Oba parametry se teď přejděte na posunu umístění délku řetězce.</span><span class="sxs-lookup"><span data-stu-id="3b226-417">Both parameters now point to the offset location of the string's length.</span></span> <span data-ttu-id="3b226-418">Velikost vyrovnávací paměti byla odebrána z reprezentace třídy string.</span><span class="sxs-lookup"><span data-stu-id="3b226-418">Buffer length has been removed from the representation of the string class.</span></span> | <span data-ttu-id="3b226-419">Odeberte závislost na velikost vyrovnávací paměti.</span><span class="sxs-lookup"><span data-stu-id="3b226-419">Remove any dependency on the buffer length.</span></span> |
| <span data-ttu-id="3b226-420">**Ladění JIT**</span><span class="sxs-lookup"><span data-stu-id="3b226-420">**JIT debugging**</span></span> | <span data-ttu-id="3b226-421">Ladicí program rozhraní .NET Framework pro zjednodušení registrace pro ladění za běhu (JIT), teď používá jenom klíč registru AeDebug, který řídí chování pro nativní kód JIT ladění.</span><span class="sxs-lookup"><span data-stu-id="3b226-421">To simplify registration for just-in-time (JIT) debugging, the .NET Framework debugger now uses only the AeDebug registry key, which controls the JIT debugging behavior for native code.</span></span> <span data-ttu-id="3b226-422">Tato změna vede následující:</span><span class="sxs-lookup"><span data-stu-id="3b226-422">This change results in the following:</span></span><br><br><span data-ttu-id="3b226-423">\* Můžete registrovat už dva různé ladicí programy pro spravovaná a nativní kód.</span><span class="sxs-lookup"><span data-stu-id="3b226-423">\* You can no longer register two different debuggers for managed and native code.</span></span><br><span data-ttu-id="3b226-424">\* Už zahájením ladicí program automaticky pro neinteraktivní zpracování, ale můžete vyzvat uživatele k interaktivní proces.</span><span class="sxs-lookup"><span data-stu-id="3b226-424">\* You can no longer start the debugger automatically for a non-interactive process, but you can prompt the user for an interactive process.</span></span><br><span data-ttu-id="3b226-425">\* Už upozornění se zobrazí při ladicího programu se nepodaří spustit, nebo když se žádné registrované ladicí program, který by měl být spuštěn.</span><span class="sxs-lookup"><span data-stu-id="3b226-425">\* You are no longer notified when the debugger fails to start, or when there is no registered debugger that should be started.</span></span><br><span data-ttu-id="3b226-426">\* Automatického – spuštění zásady, které jsou závislé na interakce aplikace již nejsou podporovány.</span><span class="sxs-lookup"><span data-stu-id="3b226-426">\* Auto-launch policies that depend on the interactivity of the application are no longer supported.</span></span> | <span data-ttu-id="3b226-427">Operace ladění podle potřeby upravte.</span><span class="sxs-lookup"><span data-stu-id="3b226-427">Adjust debugging operations as required.</span></span> |
| <span data-ttu-id="3b226-428">**Vyvolání platformy**</span><span class="sxs-lookup"><span data-stu-id="3b226-428">**Platform invoke**</span></span> | <span data-ttu-id="3b226-429">Pro zvýšení výkonu ve vzájemná funkční spolupráce s nespravovaným kódem, nesprávné volání konvencí ve vyvolání nyní způsobí selhání aplikace.</span><span class="sxs-lookup"><span data-stu-id="3b226-429">To improve performance in interoperability with unmanaged code, incorrect calling conventions in a platform invoke now cause the application to fail.</span></span> <span data-ttu-id="3b226-430">V předchozích verzích vrstvě zařazování vyřešit tyto chyby.</span><span class="sxs-lookup"><span data-stu-id="3b226-430">In previous versions, the marshaling layer resolved these errors up the stack.</span></span> | <span data-ttu-id="3b226-431">Ladění aplikací v Microsoft Visual Studio 2010 vás upozorní na tyto chyby, můžete je vyřešit.</span><span class="sxs-lookup"><span data-stu-id="3b226-431">Debugging your applications in Microsoft Visual Studio 2010 will alert you to these errors so you can correct them.</span></span><br><br><span data-ttu-id="3b226-432">Pokud máte binární soubory, které nelze aktualizovat, můžete zahrnout [ \<netfx40_pinvokestackresilience – >](/dotnet/framework/configure-apps/file-schema/runtime/netfx40-pinvokestackresilience-element) element v konfiguračním souboru aplikace chcete-li povolit volání chyby do zásobníku jako v řešení starší verze.</span><span class="sxs-lookup"><span data-stu-id="3b226-432">If you have binaries that cannot be updated, you can include the [\<NetFx40_PInvokeStackResilience>](/dotnet/framework/configure-apps/file-schema/runtime/netfx40-pinvokestackresilience-element) element in your application's configuration file to enable calling errors to be resolved up the stack as in earlier versions.</span></span> <span data-ttu-id="3b226-433">Ale to může mít vliv na výkon vaší aplikace.</span><span class="sxs-lookup"><span data-stu-id="3b226-433">However, this may affect the performance of your application.</span></span> |
| <span data-ttu-id="3b226-434">**Odebrat rozhraní** (nespravovaného rozhraní API)</span><span class="sxs-lookup"><span data-stu-id="3b226-434">**Removed interfaces** (unmanaged API)</span></span> | <span data-ttu-id="3b226-435">Aby nedocházelo k záměně developer, byly odebrány následující rozhraní, protože neposkytl žádné užitečné scénáře doby běhu, a modulu CLR neposkytl ani neakceptoval jakékoli implementace:</span><span class="sxs-lookup"><span data-stu-id="3b226-435">To avoid developer confusion, the following interfaces were removed, because they did not provide any useful run-time scenarios, and the CLR did not provide or accept any implementations:</span></span><br><br><span data-ttu-id="3b226-436">\* **INativeImageINativeImageDependency**</span><span class="sxs-lookup"><span data-stu-id="3b226-436">\* **INativeImageINativeImageDependency**</span></span><br><span data-ttu-id="3b226-437">\* **INativeImageInstallInfo**</span><span class="sxs-lookup"><span data-stu-id="3b226-437">\* **INativeImageInstallInfo**</span></span><br><span data-ttu-id="3b226-438">\* **INativeImageEvaluate**</span><span class="sxs-lookup"><span data-stu-id="3b226-438">\* **INativeImageEvaluate**</span></span><br><span data-ttu-id="3b226-439">\* **INativeImageConverter**</span><span class="sxs-lookup"><span data-stu-id="3b226-439">\* **INativeImageConverter**</span></span><br><span data-ttu-id="3b226-440">\* **ICorModule**</span><span class="sxs-lookup"><span data-stu-id="3b226-440">\* **ICorModule**</span></span><br><span data-ttu-id="3b226-441">\* **Imetadataconverter –**</span><span class="sxs-lookup"><span data-stu-id="3b226-441">\* **IMetaDataConverter**</span></span> | <span data-ttu-id="3b226-442">Žádné</span><span class="sxs-lookup"><span data-stu-id="3b226-442">None.</span></span> |

## <a name="data"></a><span data-ttu-id="3b226-443">Data</span><span class="sxs-lookup"><span data-stu-id="3b226-443">Data</span></span>

<span data-ttu-id="3b226-444">Tato část popisuje problémy s migrací pro používání datových sad a klienti SQL, rozhraní Entity Framework technologie LINQ to SQL a datové servery WCF (dříve označované jako ADO.NET Data Services).</span><span class="sxs-lookup"><span data-stu-id="3b226-444">This section describes migration issues for using data sets and SQL clients, the Entity Framework, LINQ to SQL, and WCF Data Servers (formerly known as ADO.NET Data Services).</span></span>

### <a name="dataset-and-sql-client"></a><span data-ttu-id="3b226-445">Datové sady a klient SQL</span><span class="sxs-lookup"><span data-stu-id="3b226-445">DataSet and SQL Client</span></span>

<span data-ttu-id="3b226-446">Následující tabulka popisuje přináší vylepšení funkcí, které měly dříve omezení nebo jiné problémy.</span><span class="sxs-lookup"><span data-stu-id="3b226-446">The following table describes improvements to features that previously had limitations or other issues.</span></span>

<span data-ttu-id="3b226-447">Obory názvů: <xref:System.Data>, <xref:System.Data.Objects.DataClasses>, <xref:System.Data.SqlClient>; sestavení: System.Data (v System.Data.dll), System.Data.Entity (v knihovně System.Data.Entity.dll)</span><span class="sxs-lookup"><span data-stu-id="3b226-447">Namespaces: <xref:System.Data>, <xref:System.Data.Objects.DataClasses>, <xref:System.Data.SqlClient>; assemblies: System.Data (in System.Data.dll), System.Data.Entity (in System.Data.Entity.dll)</span></span>

| <span data-ttu-id="3b226-448">Funkce</span><span class="sxs-lookup"><span data-stu-id="3b226-448">Feature</span></span> | <span data-ttu-id="3b226-449">Rozdíl oproti 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="3b226-449">Differences from 3.5 SP1</span></span> |
| ------- | ------------------------ |
| <span data-ttu-id="3b226-450">**Objektů POCO scénáře**</span><span class="sxs-lookup"><span data-stu-id="3b226-450">**POCO Scenarios**</span></span> | <span data-ttu-id="3b226-451"><xref:System.Data.Objects.DataClasses.IRelatedEnd> Rozhraní má nové metody pro lepší použitelnost ve scénářích prostý staré CLR objektů POCO ().</span><span class="sxs-lookup"><span data-stu-id="3b226-451">The <xref:System.Data.Objects.DataClasses.IRelatedEnd> interface has new methods to improve its usability in Plain Old CLR Object (POCO) scenarios.</span></span> <span data-ttu-id="3b226-452">Tyto nové metody přijímají <xref:System.Object> místo <xref:System.Data.Objects.DataClasses.IEntityWithRelationships> entity jako parametr.</span><span class="sxs-lookup"><span data-stu-id="3b226-452">These new methods take an <xref:System.Object> instead of an <xref:System.Data.Objects.DataClasses.IEntityWithRelationships> entity as a parameter.</span></span> |
| <span data-ttu-id="3b226-453">**Úpravy řádků**</span><span class="sxs-lookup"><span data-stu-id="3b226-453">**Editing Rows**</span></span> | <span data-ttu-id="3b226-454"><xref:System.Collections.IList.IndexOf%2A> Metoda, jak je implementované <xref:System.Data.DataView> třídy, nyní správně vrátí hodnotu řádek, který je upravována, místo vrácení hodnoty -1.</span><span class="sxs-lookup"><span data-stu-id="3b226-454">The <xref:System.Collections.IList.IndexOf%2A> method, as implemented by the <xref:System.Data.DataView> class, now correctly returns the value of a row that is being edited, instead of returning -1.</span></span> |
| <span data-ttu-id="3b226-455">**Události**</span><span class="sxs-lookup"><span data-stu-id="3b226-455">**Events**</span></span> | <span data-ttu-id="3b226-456"><xref:System.Data.DataRowView.PropertyChanged> Událost se vyvolá teď, když řádek v změny stavu a <xref:System.Data.DataRow.RejectChanges%2A> metoda je volána.</span><span class="sxs-lookup"><span data-stu-id="3b226-456">The <xref:System.Data.DataRowView.PropertyChanged> event is now raised when a row is in a modified state and the <xref:System.Data.DataRow.RejectChanges%2A> method is called.</span></span> <span data-ttu-id="3b226-457">Tato změna usnadňuje vytváření ovládacích prvků uživatelského rozhraní, které zveřejňují obsah <xref:System.Data.DataSet> objektu.</span><span class="sxs-lookup"><span data-stu-id="3b226-457">This change makes it easier to create UI controls that expose the contents of a <xref:System.Data.DataSet> object.</span></span> |
| <span data-ttu-id="3b226-458">**Výjimky**</span><span class="sxs-lookup"><span data-stu-id="3b226-458">**Exceptions**</span></span> | <span data-ttu-id="3b226-459"><xref:System.Data.SqlClient.SqlCommand.Prepare%2A> Nyní vyvolá metoda <xref:System.InvalidOperationException> při připojení není nastaven nebo otevřít místo <xref:System.NullReferenceException>.</span><span class="sxs-lookup"><span data-stu-id="3b226-459">The <xref:System.Data.SqlClient.SqlCommand.Prepare%2A> method now throws an <xref:System.InvalidOperationException> when a connection is not set or open instead of a <xref:System.NullReferenceException>.</span></span> |
| <span data-ttu-id="3b226-460">**Zobrazení mapování**</span><span class="sxs-lookup"><span data-stu-id="3b226-460">**Mapping Views**</span></span> | <span data-ttu-id="3b226-461">Chyby mapování zobrazení dotazu jsou nyní zachyceny v době návrhu místo vyvolání <xref:System.NullReferenceException> za běhu.</span><span class="sxs-lookup"><span data-stu-id="3b226-461">Query view mapping errors are now caught at design time instead of throwing a <xref:System.NullReferenceException> at run time.</span></span><br><br><span data-ttu-id="3b226-462">Mapování ověření nyní zachytí chyby, ve které dvě přidružení sady v konceptuálním schématu (CSDL) jsou namapované na stejný sloupec.</span><span class="sxs-lookup"><span data-stu-id="3b226-462">Mapping validation now catches the error in which two association sets in Conceptual Schema (CSDL) are mapped to the same column.</span></span> |
| <span data-ttu-id="3b226-463">**Transakce**</span><span class="sxs-lookup"><span data-stu-id="3b226-463">**Transactions**</span></span> | <span data-ttu-id="3b226-464">Pokud se aplikace pokusí po dokončení transakce (včetně přerušených nebo transakcí vrácených zpět), provedení příkazu na připojení <xref:System.InvalidOperationException> je nyní vyvolána.</span><span class="sxs-lookup"><span data-stu-id="3b226-464">If an application tries to execute a statement on a connection after a transaction has been completed (including aborted or rolled back), an <xref:System.InvalidOperationException> is now thrown.</span></span> <span data-ttu-id="3b226-465">Předchozí verze není vyvolána výjimka a umožňují spouštět další příkazy i v případě, že transakce byla přerušena.</span><span class="sxs-lookup"><span data-stu-id="3b226-465">Previous versions did not throw an exception and let you execute additional commands even if a transaction was aborted.</span></span> |

### <a name="entity-framework"></a><span data-ttu-id="3b226-466">Entity Framework</span><span class="sxs-lookup"><span data-stu-id="3b226-466">Entity Framework</span></span>

<span data-ttu-id="3b226-467">Následující tabulka popisuje přináší vylepšení funkcí, které měly dříve omezení nebo jiné problémy.</span><span class="sxs-lookup"><span data-stu-id="3b226-467">The following table describes improvements to features that previously had limitations or other issues.</span></span>

<span data-ttu-id="3b226-468">Obory názvů: <xref:System.Data>, <xref:System.Data.Objects>, <xref:System.Data.Objects.DataClasses>; sestavení: System.Data.Entity (v knihovně System.Data.Entity.dll)</span><span class="sxs-lookup"><span data-stu-id="3b226-468">Namespaces: <xref:System.Data>, <xref:System.Data.Objects>, <xref:System.Data.Objects.DataClasses>; assembly: System.Data.Entity (in System.Data.Entity.dll)</span></span>

| <span data-ttu-id="3b226-469">Funkce</span><span class="sxs-lookup"><span data-stu-id="3b226-469">Feature</span></span> | <span data-ttu-id="3b226-470">Rozdíl oproti 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="3b226-470">Differences from 3.5 SP1</span></span> |
| ------- | ------------------------ |
| <span data-ttu-id="3b226-471">**Objekty entity**</span><span class="sxs-lookup"><span data-stu-id="3b226-471">**Entity objects**</span></span> | <span data-ttu-id="3b226-472">Je nyní rozdíly mezi <xref:System.Data.Objects.ObjectContext.Detach%2A> metoda a stavu entity objektu při <xref:System.Data.Objects.ObjectContext.SaveChanges%2A> metoda je volána.</span><span class="sxs-lookup"><span data-stu-id="3b226-472">There is now parity between the <xref:System.Data.Objects.ObjectContext.Detach%2A> method and the state of the entity object when the <xref:System.Data.Objects.ObjectContext.SaveChanges%2A> method is called.</span></span> <span data-ttu-id="3b226-473">Tato vylepšená konzistence brání vyvolání neočekávané výjimky.</span><span class="sxs-lookup"><span data-stu-id="3b226-473">This improved consistency prevents unexpected exceptions from being thrown.</span></span> |
| <span data-ttu-id="3b226-474">**Entity SQL**</span><span class="sxs-lookup"><span data-stu-id="3b226-474">**Entity SQL**</span></span> | <span data-ttu-id="3b226-475">Pravidla byla vylepšena pro rozlišení identifikátoru v Entity SQL.</span><span class="sxs-lookup"><span data-stu-id="3b226-475">Rules have been improved for identifier resolutions in Entity SQL.</span></span><br><br><span data-ttu-id="3b226-476">Analyzátor Entity SQL zlepšil logiku pro řešení s více částmi identifikátory.</span><span class="sxs-lookup"><span data-stu-id="3b226-476">The Entity SQL parser has improved logic for resolving multipart identifiers.</span></span> |
| <span data-ttu-id="3b226-477">**Strukturální poznámky**</span><span class="sxs-lookup"><span data-stu-id="3b226-477">**Structural annotations**</span></span> | <span data-ttu-id="3b226-478">Rozhraní Entity Framework nyní rozpoznává strukturální poznámky.</span><span class="sxs-lookup"><span data-stu-id="3b226-478">The Entity Framework now recognizes structural annotations.</span></span> |
| <span data-ttu-id="3b226-479">**Dotazy**</span><span class="sxs-lookup"><span data-stu-id="3b226-479">**Queries**</span></span> | <span data-ttu-id="3b226-480">V dotazech byly provedeny následující vylepšení:</span><span class="sxs-lookup"><span data-stu-id="3b226-480">The following improvements were made in queries:</span></span><br><br><span data-ttu-id="3b226-481">\* A `GroupBy` dotaz pomocí nulového klíče přes prázdnou kolekci nevrátí žádné řádky, bez ohledu na to pokud neexistují žádné další vybere v dotazu.</span><span class="sxs-lookup"><span data-stu-id="3b226-481">\* A `GroupBy` query using a null key over an empty collection will not return any rows, regardless if there are any additional selects in the query.</span></span><br><span data-ttu-id="3b226-482">\* Ve výchozím nastavení dotazy generovaného SQL v LINQ a Entity-SQL parametrů řetězce nyní zpracovávat jako hodnoty kódování Unicode.</span><span class="sxs-lookup"><span data-stu-id="3b226-482">\* Generated SQL in LINQ and Entity-SQL queries now treat string parameters as non-Unicode values by default.</span></span> |

### <a name="linq-to-sql"></a><span data-ttu-id="3b226-483">Technologie LINQ to SQL</span><span class="sxs-lookup"><span data-stu-id="3b226-483">LINQ to SQL</span></span>

<span data-ttu-id="3b226-484">Následující tabulka popisuje přináší vylepšení funkcí, které měly dříve omezení nebo jiné problémy.</span><span class="sxs-lookup"><span data-stu-id="3b226-484">The following table describes improvements to features that previously had limitations or other issues.</span></span>

<span data-ttu-id="3b226-485">Namespace: <xref:System.Data.Linq>; sestavení: System.Data.Linq (v knihovně System.Data.Linq.dll)</span><span class="sxs-lookup"><span data-stu-id="3b226-485">Namespace: <xref:System.Data.Linq>; assembly: System.Data.Linq (in System.Data.Linq.dll)</span></span>

| <span data-ttu-id="3b226-486">Funkce</span><span class="sxs-lookup"><span data-stu-id="3b226-486">Feature</span></span> | <span data-ttu-id="3b226-487">Rozdíl oproti 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="3b226-487">Differences from 3.5 SP1</span></span> |
| ------- | ------------------------ |
| <span data-ttu-id="3b226-488">**Události**</span><span class="sxs-lookup"><span data-stu-id="3b226-488">**Events**</span></span> | <span data-ttu-id="3b226-489">A <xref:System.Data.Linq.EntitySet%601> kolekce nyní vyvolá <xref:System.Data.Linq.EntitySet%601.ListChanged> pro přidání a odstranění operací, pokud <xref:System.Data.Linq.EntitySet%601> je odpojen, kromě vyvolá událost při načtení kolekce.</span><span class="sxs-lookup"><span data-stu-id="3b226-489">A <xref:System.Data.Linq.EntitySet%601> collection now raises the <xref:System.Data.Linq.EntitySet%601.ListChanged> event for add and remove operations if the <xref:System.Data.Linq.EntitySet%601> is unloaded, in addition to raising the event when the collection is loaded.</span></span> |
| <span data-ttu-id="3b226-490">**Dotazy**</span><span class="sxs-lookup"><span data-stu-id="3b226-490">**Queries**</span></span> | <span data-ttu-id="3b226-491">`Skip(0)` je už ignorován v LINQ dotazy SQL.</span><span class="sxs-lookup"><span data-stu-id="3b226-491">`Skip(0)` is no longer ignored in LINQ to SQL queries.</span></span> <span data-ttu-id="3b226-492">Dotazy, které mají tuto metodu v důsledku toho mohou chovat jinak.</span><span class="sxs-lookup"><span data-stu-id="3b226-492">As a result, queries that have this method might behave differently.</span></span> <span data-ttu-id="3b226-493">Například v některých případech `OrderBy` klauzule je požadován spolu s `Skip(0)`, a nyní vyvolá dotaz <xref:System.NotSupportedException> výjimka pokud `OrderBy` klauzule nebyly zahrnuty.</span><span class="sxs-lookup"><span data-stu-id="3b226-493">For example in some cases, an `OrderBy` clause is required with `Skip(0)`, and the query will now throw a <xref:System.NotSupportedException> exception if the `OrderBy` clause was not included.</span></span> |

### <a name="wcf-data-services"></a><span data-ttu-id="3b226-494">WCF Data Services</span><span class="sxs-lookup"><span data-stu-id="3b226-494">WCF Data Services</span></span>

<span data-ttu-id="3b226-495">Následující tabulka popisuje přináší vylepšení funkcí, které měly dříve omezení nebo jiné problémy.</span><span class="sxs-lookup"><span data-stu-id="3b226-495">The following table describes improvements to features that previously had limitations or other issues.</span></span>

<span data-ttu-id="3b226-496">Obory názvů: <xref:System.Data.Services>, <xref:System.Data.Services.Client>, <xref:System.Data.Services.Common>, <xref:System.Data.Services.Providers>; sestavení: System.Data.Services (v knihovně System.Data.Services.dll), System.Data.Services.Client (v knihovně System.Data.Services.Client.dll)</span><span class="sxs-lookup"><span data-stu-id="3b226-496">Namespaces: <xref:System.Data.Services>, <xref:System.Data.Services.Client>, <xref:System.Data.Services.Common>, <xref:System.Data.Services.Providers>; assemblies: System.Data.Services (in System.Data.Services.dll), System.Data.Services.Client (in System.Data.Services.Client.dll)</span></span>

| <span data-ttu-id="3b226-497">Funkce</span><span class="sxs-lookup"><span data-stu-id="3b226-497">Feature</span></span> | <span data-ttu-id="3b226-498">Rozdíl oproti 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="3b226-498">Differences from 3.5 SP1</span></span> |
| ------- | ------------------------ |
| <span data-ttu-id="3b226-499">**Dávkový binární obsah**</span><span class="sxs-lookup"><span data-stu-id="3b226-499">**Batched Binary Content**</span></span> | <span data-ttu-id="3b226-500">Služby WCF Data Services nyní podporuje dávkové binární obsah v požadavky a odpovědi.</span><span class="sxs-lookup"><span data-stu-id="3b226-500">WCF Data Services now supports batched binary content in requests and responses.</span></span> |
| <span data-ttu-id="3b226-501">**Změnit sběrače**</span><span class="sxs-lookup"><span data-stu-id="3b226-501">**Change interceptors**</span></span> | <span data-ttu-id="3b226-502">Změna sběrače jsou nyní provést pro žádost o odstranění.</span><span class="sxs-lookup"><span data-stu-id="3b226-502">Change interceptors are now executed for a delete request.</span></span><br><br><span data-ttu-id="3b226-503">Změna interceptoru je metoda, která se spustí pokaždé, když je žádost o přijaté serverem na změnu entity v sadě entit.</span><span class="sxs-lookup"><span data-stu-id="3b226-503">A change interceptor is a method that runs every time a request is received by the server to modify an entity in the entity set.</span></span> <span data-ttu-id="3b226-504">Spustí se před provedením příchozího požadavku.</span><span class="sxs-lookup"><span data-stu-id="3b226-504">It runs before the incoming request is executed.</span></span> <span data-ttu-id="3b226-505">Zachycování dotazů poskytuje přístup k typ entity, která mění a operace, které se provádí na něm.</span><span class="sxs-lookup"><span data-stu-id="3b226-505">The change interceptor provides access to the entity that is being changed and the operation that is being performed on it.</span></span> |
| <span data-ttu-id="3b226-506">**Výjimky**</span><span class="sxs-lookup"><span data-stu-id="3b226-506">**Exceptions**</span></span> | <span data-ttu-id="3b226-507">Následující podmínky nyní vyvolají užitečnější výjimky místo <xref:System.NullReferenceException>:</span><span class="sxs-lookup"><span data-stu-id="3b226-507">The following conditions now throw more useful exceptions instead of a <xref:System.NullReferenceException>:</span></span><br><br><span data-ttu-id="3b226-508">\* A <xref:System.ServiceProcess.TimeoutException> když vyprší časový limit volání datové služby.</span><span class="sxs-lookup"><span data-stu-id="3b226-508">\* A <xref:System.ServiceProcess.TimeoutException> when a call to a data service times out.</span></span><br><span data-ttu-id="3b226-509">\* A <xref:System.Data.Services.Client.DataServiceRequestException> při chybné žádosti se ke službě data.</span><span class="sxs-lookup"><span data-stu-id="3b226-509">\* A <xref:System.Data.Services.Client.DataServiceRequestException> when a bad request is made to a data service.</span></span><br><br><span data-ttu-id="3b226-510">V aplikacích měli byste změnit výjimek zachytit nové výjimky.</span><span class="sxs-lookup"><span data-stu-id="3b226-510">In your applications, you should change exception handling to catch the new exceptions.</span></span> |
| <span data-ttu-id="3b226-511">**Záhlaví**</span><span class="sxs-lookup"><span data-stu-id="3b226-511">**Headers**</span></span> | <span data-ttu-id="3b226-512">Záhlaví byla provedena následující vylepšení:</span><span class="sxs-lookup"><span data-stu-id="3b226-512">The following improvements were made to headers:</span></span><br><br><span data-ttu-id="3b226-513">\* Součásti WCF Data Services nyní správně odmítne `eTag` záhlaví, který má neurčené hodnotu.</span><span class="sxs-lookup"><span data-stu-id="3b226-513">\* WCF Data Services now correctly rejects an `eTag` header that has an unspecified value.</span></span><br><span data-ttu-id="3b226-514">* Součásti WCF Data Services nyní vrátí chybu a nespustí požadavek na odstranění požadavek na odkaz při `if-*` záhlaví je v požadavku.</span><span class="sxs-lookup"><span data-stu-id="3b226-514">* WCF Data Services now returns an error and does not execute the request for a delete request to a link when an `if-*` header is in the request.</span></span><br><span data-ttu-id="3b226-515">\* Součásti WCF Data Services nyní vrátí chybu klientovi ve formátu (Atom, JSON), který klient uvedená v hlavičce Accept.</span><span class="sxs-lookup"><span data-stu-id="3b226-515">\* WCF Data Services now returns an error to the client in the format (Atom, JSON) that the client specified in the Accept header.</span></span> |
| <span data-ttu-id="3b226-516">**Čtečka JSON**</span><span class="sxs-lookup"><span data-stu-id="3b226-516">**JSON Reader**</span></span> | <span data-ttu-id="3b226-517">Čtečka JavaScript Object Notation (JSON) nyní správně vrátí chybu při čtení jedno zpětné lomítko ("\\") řídicí znak, při zpracování datové části JSON odeslán služby WCF Data Service.</span><span class="sxs-lookup"><span data-stu-id="3b226-517">The JavaScript Object Notation (JSON) reader now correctly returns an error when it reads the single backslash ("\\") escape character, when it processes JSON payloads sent to a WCF Data Service.</span></span> |
| <span data-ttu-id="3b226-518">**Sloučí**</span><span class="sxs-lookup"><span data-stu-id="3b226-518">**Merges**</span></span> | <span data-ttu-id="3b226-519">Byly provedeny následující vylepšení <xref:System.Data.Services.Client.MergeOption> výčtu:</span><span class="sxs-lookup"><span data-stu-id="3b226-519">The following improvements were made to the <xref:System.Data.Services.Client.MergeOption> enumeration:</span></span><br><br><span data-ttu-id="3b226-520">\* Na <xref:System.Data.Services.Client.MergeOption> možnosti sloučení upraví už se entita na straně klienta při následné odpověď od datové služby.</span><span class="sxs-lookup"><span data-stu-id="3b226-520">\* The <xref:System.Data.Services.Client.MergeOption> merge option no longer modifies the entity on the client as a result of any subsequent response from a data service.</span></span><br><span data-ttu-id="3b226-521">\* Na <xref:System.Data.Services.Client.MergeOption> je teď konzistentní mezi dynamické SQL a uložené procedury aktualizace.</span><span class="sxs-lookup"><span data-stu-id="3b226-521">\* The <xref:System.Data.Services.Client.MergeOption> option is now consistent between dynamic SQL and stored procedure-based updates.</span></span> |
| <span data-ttu-id="3b226-522">**požadavky**</span><span class="sxs-lookup"><span data-stu-id="3b226-522">**Requests**</span></span> | <span data-ttu-id="3b226-523"><xref:System.Data.Services.DataService%601.OnStartProcessingRequest%2A> Metoda se nyní označuje jako předtím, než požadavek na data služby je zpracován.</span><span class="sxs-lookup"><span data-stu-id="3b226-523">The <xref:System.Data.Services.DataService%601.OnStartProcessingRequest%2A> method is now called before a request to data services is processed.</span></span> <span data-ttu-id="3b226-524">To umožňuje žádost o fungovat správně při použití <xref:System.Data.Services.Providers.ServiceOperation> služby.</span><span class="sxs-lookup"><span data-stu-id="3b226-524">This enables the request to work correctly for <xref:System.Data.Services.Providers.ServiceOperation> services.</span></span> |
| <span data-ttu-id="3b226-525">**Datové proudy**</span><span class="sxs-lookup"><span data-stu-id="3b226-525">**Streams**</span></span> | <span data-ttu-id="3b226-526">Služby WCF Data Services již zavře základní stream pro operacích čtení a zápisu.</span><span class="sxs-lookup"><span data-stu-id="3b226-526">WCF Data Services no longer closes the underlying stream for read and write operations.</span></span> |
| <span data-ttu-id="3b226-527">**Identifikátory URI**</span><span class="sxs-lookup"><span data-stu-id="3b226-527">**URIs**</span></span> | <span data-ttu-id="3b226-528">Byla opravena uvození identifikátory URI klientem služby WCF Data Services.</span><span class="sxs-lookup"><span data-stu-id="3b226-528">The escaping of URIs by WCF Data Services client has been corrected.</span></span> |

## <a name="windows-communication-foundation-wcf"></a><span data-ttu-id="3b226-529">Windows Communication Foundation (WCF)</span><span class="sxs-lookup"><span data-stu-id="3b226-529">Windows Communication Foundation (WCF)</span></span>

<span data-ttu-id="3b226-530">Následující tabulka popisuje přináší vylepšení funkcí, které měly dříve omezení nebo jiné problémy.</span><span class="sxs-lookup"><span data-stu-id="3b226-530">The following table describes improvements to features that previously had limitations or other issues.</span></span>

| <span data-ttu-id="3b226-531">Funkce</span><span class="sxs-lookup"><span data-stu-id="3b226-531">Feature</span></span> | <span data-ttu-id="3b226-532">Rozdíl oproti 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="3b226-532">Differences from 3.5 SP1</span></span> |
| ------- | ------------------------ |
| <span data-ttu-id="3b226-533">**Konfigurační soubory**</span><span class="sxs-lookup"><span data-stu-id="3b226-533">**Configuration files**</span></span> | <span data-ttu-id="3b226-534">Pokud chcete povolit dědičnost chování prostřednictvím hierarchie konfiguračního souboru, WCF nyní podporuje sloučení v konfiguračních souborech.</span><span class="sxs-lookup"><span data-stu-id="3b226-534">To enable inheritance of behaviors through the configuration file hierarchy, WCF now supports merging across configuration files.</span></span><br><br><span data-ttu-id="3b226-535">Model dědičnosti konfigurace je nyní rozšířit tak, aby uživatelé definovat chování, které se použijí pro všechny služby, které jsou spuštěné v počítači.</span><span class="sxs-lookup"><span data-stu-id="3b226-535">The configuration inheritance model is now expanded to let users define behaviors that will be applied to all the services that are running on the computer.</span></span><br><br><span data-ttu-id="3b226-536">Chování změny mohou nastat, pokud se chování se stejným názvem na různých úrovních hierarchie.</span><span class="sxs-lookup"><span data-stu-id="3b226-536">You may encounter behavioral changes if there are behaviors with the same name at different levels of the hierarchy.</span></span> |
| <span data-ttu-id="3b226-537">**Služby hostování**</span><span class="sxs-lookup"><span data-stu-id="3b226-537">**Service hosting**</span></span> | <span data-ttu-id="3b226-538">Už můžete zadat `<serviceHostingEnvironment>` element konfigurace na úrovni služby přidáním atributu `allowDefinition="MachineToApplication"` do definice elementu.</span><span class="sxs-lookup"><span data-stu-id="3b226-538">You can no longer specify the `<serviceHostingEnvironment>` configuration element at the service level by adding the attribute `allowDefinition="MachineToApplication"` to the element definition.</span></span><br><br><span data-ttu-id="3b226-539">Určení `<serviceHostingEnvironment>` element na úrovni služby, je technicky nesprávné a povede k nekonzistentnímu chování.</span><span class="sxs-lookup"><span data-stu-id="3b226-539">Specifying the `<serviceHostingEnvironment>` element at the service level is technically incorrect and causes inconsistent behavior.</span></span> |

## <a name="windows-presentation-foundation-wpf"></a><span data-ttu-id="3b226-540">Windows Presentation Foundation (WPF)</span><span class="sxs-lookup"><span data-stu-id="3b226-540">Windows Presentation Foundation (WPF)</span></span>

### <a name="applications"></a><span data-ttu-id="3b226-541">Aplikace</span><span class="sxs-lookup"><span data-stu-id="3b226-541">Applications</span></span>

<span data-ttu-id="3b226-542">Obory názvů: <xref:System.Windows>, <xref:System.Windows.Controls>; sestavení: PresentationFramework (v knihovně PresentationFramework.dll)</span><span class="sxs-lookup"><span data-stu-id="3b226-542">Namespaces: <xref:System.Windows>, <xref:System.Windows.Controls>; assembly: PresentationFramework (in PresentationFramework.dll)</span></span>

| <span data-ttu-id="3b226-543">Funkce</span><span class="sxs-lookup"><span data-stu-id="3b226-543">Feature</span></span> | <span data-ttu-id="3b226-544">Rozdíl oproti 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="3b226-544">Differences from 3.5 SP1</span></span> | <span data-ttu-id="3b226-545">Doporučené změny</span><span class="sxs-lookup"><span data-stu-id="3b226-545">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="3b226-546">**Zpracování výjimek**</span><span class="sxs-lookup"><span data-stu-id="3b226-546">**Exception handling**</span></span> | <span data-ttu-id="3b226-547">Povolit chyby zjistit dříve, vyvolá WPF <xref:System.Reflection.TargetInvocationException> a nastaví <xref:System.Exception.InnerException> vlastnost kritické výjimky, například <xref:System.NullReferenceException>, <xref:System.OutOfMemoryException>, <xref:System.StackOverflowException>, a <xref:System.Security.SecurityException>, místo zachycení původní výjimky.</span><span class="sxs-lookup"><span data-stu-id="3b226-547">To enable errors to be detected earlier, WPF throws a <xref:System.Reflection.TargetInvocationException> and sets the <xref:System.Exception.InnerException> property to critical exceptions, such as <xref:System.NullReferenceException>, <xref:System.OutOfMemoryException>, <xref:System.StackOverflowException>, and <xref:System.Security.SecurityException>, instead of catching the original exception.</span></span> | <span data-ttu-id="3b226-548">Žádné</span><span class="sxs-lookup"><span data-stu-id="3b226-548">None.</span></span> |
| <span data-ttu-id="3b226-549">**Odkazované zdroje.**</span><span class="sxs-lookup"><span data-stu-id="3b226-549">**Linked resources**</span></span> | <span data-ttu-id="3b226-550">Aby vytváření prostředků jednodušší, soubory (například obrázky), které se nacházejí v umístění než struktura složek projektu použít úplnou cestu souboru prostředků místo právě její název souboru jako ID prostředku při vytváření aplikace.</span><span class="sxs-lookup"><span data-stu-id="3b226-550">To make linking easier, resource files (such as images) that are located in a location other than the project's folder structure use the resource file's full path instead of just its file name as the resource ID when the application is built.</span></span> <span data-ttu-id="3b226-551">Aplikace se nebude moci najít soubory v době běhu.</span><span class="sxs-lookup"><span data-stu-id="3b226-551">The application will be able to locate the files at run time.</span></span> | <span data-ttu-id="3b226-552">Žádné</span><span class="sxs-lookup"><span data-stu-id="3b226-552">None.</span></span> |
| <span data-ttu-id="3b226-553">**Částečně důvěryhodné aplikace**</span><span class="sxs-lookup"><span data-stu-id="3b226-553">**Partial-trust applications**</span></span> | <span data-ttu-id="3b226-554">Kvůli zabezpečení, aplikace pro systém Windows spuštěné na částečného vztahu důvěryhodnosti a obsahovat <xref:System.Windows.Controls.WebBrowser> ovládací prvek nebo <xref:System.Windows.Controls.Frame> vyvolá ovládací prvek, který obsahuje kód HTML <xref:System.Security.SecurityException> vytvoření ovládacího prvku.</span><span class="sxs-lookup"><span data-stu-id="3b226-554">For security considerations, Windows-based applications that run in partial trust and contain a <xref:System.Windows.Controls.WebBrowser> control or a <xref:System.Windows.Controls.Frame> control that contains HTML will throw a <xref:System.Security.SecurityException> when the control is created.</span></span><br><br><span data-ttu-id="3b226-555">Aplikace prohlížeče bude vyvolána výjimka a zobrazit zprávu, pokud jsou splněny všechny následující podmínky:</span><span class="sxs-lookup"><span data-stu-id="3b226-555">Browser applications will throw an exception and display a message if all of the following conditions are met:</span></span><br><br><span data-ttu-id="3b226-556">\* Aplikace běží v Firefox.</span><span class="sxs-lookup"><span data-stu-id="3b226-556">\* The application is running in Firefox.</span></span><br><span data-ttu-id="3b226-557">\* Aplikace běží v částečné důvěryhodnosti v zóně Internet z nedůvěryhodné lokalit.</span><span class="sxs-lookup"><span data-stu-id="3b226-557">\* The application is running in partial trust in the Internet zone from non-trusted sites.</span></span><br><span data-ttu-id="3b226-558">\* Aplikace obsahuje <xref:System.Windows.Controls.WebBrowser> ovládací prvek nebo <xref:System.Windows.Controls.Frame> ovládací prvek, který obsahuje HTML.</span><span class="sxs-lookup"><span data-stu-id="3b226-558">\* The application contains a <xref:System.Windows.Controls.WebBrowser> control or a <xref:System.Windows.Controls.Frame> control that contains HTML.</span></span><br><br><span data-ttu-id="3b226-559">Všimněte si, že nebude mít vliv aplikace, které běží z důvěryhodných webů nebo ze zóny intranetu.</span><span class="sxs-lookup"><span data-stu-id="3b226-559">Note that applications that run from trusted sites or from the intranet zone will not be affected.</span></span> | <span data-ttu-id="3b226-560">V aplikacích prohlížeče můžete tuto změnu zmírnit jedním z následujících akcí:</span><span class="sxs-lookup"><span data-stu-id="3b226-560">In your browser applications, you can ease this change by doing one of the following:</span></span><br><br><span data-ttu-id="3b226-561">\* Spusťte aplikaci prohlížeče v režimu plné důvěryhodnosti.</span><span class="sxs-lookup"><span data-stu-id="3b226-561">\* Run the browser application in full trust.</span></span><br><span data-ttu-id="3b226-562">\* Mají zákazníci přidat aplikace Web do zóny důvěryhodných serverů.</span><span class="sxs-lookup"><span data-stu-id="3b226-562">\* Have customers add the application's site to the trusted sites zone.</span></span><br><span data-ttu-id="3b226-563">\* Mají zákazníci spusťte aplikaci v aplikaci Internet Explorer.</span><span class="sxs-lookup"><span data-stu-id="3b226-563">\* Have customers run the application in Internet Explorer.</span></span> |
| <span data-ttu-id="3b226-564">**Slovnících prostředků**</span><span class="sxs-lookup"><span data-stu-id="3b226-564">**Resource dictionaries**</span></span> | <span data-ttu-id="3b226-565">Zvyšování slovnících prostředků úrovni motiv a zabránit jejich změna, zmrazitelné prostředky, které jsou definované ve slovníku prostředků a sloučí slovník motiv úrovni vždy označeny jako zmrazené a jsou neměnné.</span><span class="sxs-lookup"><span data-stu-id="3b226-565">To improve theme-level resource dictionaries and prevent them from changing, freezable resources that are defined in a resource dictionary and merged into a theme-level dictionary are now always marked as frozen and are immutable.</span></span> <span data-ttu-id="3b226-566">Toto je očekávané chování u zmrazitelné zdroje.</span><span class="sxs-lookup"><span data-stu-id="3b226-566">This is the expected behavior for freezable resources.</span></span> | <span data-ttu-id="3b226-567">Aplikace, které upravit prostředek, který je definován v slovník sloučené motiv úrovni by měl klonovat prostředku a upravte klonované kopie.</span><span class="sxs-lookup"><span data-stu-id="3b226-567">Applications that modify a resource that is defined in a theme-level merged dictionary should clone the resource and modify the cloned copy.</span></span> <span data-ttu-id="3b226-568">Alternativně můžete označit prostředek `x:Shared="false"` tak, aby <xref:System.Windows.ResourceDictionary> pokaždé, když je dotazován prostředek vytvoří novou kopií.</span><span class="sxs-lookup"><span data-stu-id="3b226-568">Alternatively, the resource can be marked `x:Shared="false"` so that the <xref:System.Windows.ResourceDictionary> creates a new copy every time the resource is queried.</span></span> |
| <span data-ttu-id="3b226-569">**Windows 7**</span><span class="sxs-lookup"><span data-stu-id="3b226-569">**Windows 7**</span></span> | <span data-ttu-id="3b226-570">Chcete-li aplikace WPF fungují lépe na systému Windows 7, byly provedeny následující vylepšení opravte chování časového období:</span><span class="sxs-lookup"><span data-stu-id="3b226-570">To make WPF applications work better on Windows 7, the following improvements were made to correct the behavior of a window:</span></span><br><br><span data-ttu-id="3b226-571">\* Ukotvení a ovládání gesty stavy nyní pracovní jako očekávané na základě uživatelské interakce.</span><span class="sxs-lookup"><span data-stu-id="3b226-571">\* Dock and gesture states now work as expected based on user interactions.</span></span><br><span data-ttu-id="3b226-572">\* Na panelu příkazů **sebe, zobrazit windows skládaný**, a **zobrazit windows vedle sebe** Teď máte správné chování a aktualizujte příslušné vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="3b226-572">\* The taskbar commands **Cascade windows, Show windows stacked**, and **Show windows side-by-side** now have the correct behavior and update the appropriate properties.</span></span><br><span data-ttu-id="3b226-573">\* Na `Top`, `Left`, `Width`, a `Height` vlastnosti maximalizovaném okně nebo minimalizované okno teď obsahují umístění pro správné obnovení okna místo jiné hodnoty, v závislosti na monitorování.</span><span class="sxs-lookup"><span data-stu-id="3b226-573">\* The `Top`, `Left`, `Width`, and `Height` properties for a maximized or minimized window now contain the correct restore location of the window instead of other values, depending on the monitor.</span></span> | <span data-ttu-id="3b226-574">Žádné</span><span class="sxs-lookup"><span data-stu-id="3b226-574">None.</span></span> |
| <span data-ttu-id="3b226-575">**Styl systému Windows a průhlednosti**</span><span class="sxs-lookup"><span data-stu-id="3b226-575">**Windows style and transparency**</span></span> | <span data-ttu-id="3b226-576"><xref:System.InvalidOperationException> Je vyvolána, pokud se pokusíte nastavit <xref:System.Windows.Window.WindowStyle> hodnotu jinou než <xref:System.Windows.WindowStyle> při <xref:System.Windows.Window.AllowsTransparency> je `true` a <xref:System.Windows.WindowState> je <xref:System.Windows.WindowState>.</span><span class="sxs-lookup"><span data-stu-id="3b226-576">An <xref:System.InvalidOperationException> is thrown if you try to set <xref:System.Windows.Window.WindowStyle> to a value other than <xref:System.Windows.WindowStyle> when <xref:System.Windows.Window.AllowsTransparency> is `true` and <xref:System.Windows.WindowState> is <xref:System.Windows.WindowState>.</span></span> | <span data-ttu-id="3b226-577">Pokud je třeba změnit <xref:System.Windows.Window.WindowStyle> při <xref:System.Windows.Window.AllowsTransparency> je `true`, můžete volat Win32 `SetWindowLongPtr` funkce.</span><span class="sxs-lookup"><span data-stu-id="3b226-577">If you must change the <xref:System.Windows.Window.WindowStyle> when <xref:System.Windows.Window.AllowsTransparency> is `true`, you can call the Win32 `SetWindowLongPtr` function.</span></span> |
| <span data-ttu-id="3b226-578">**Prohlížeč XPS**</span><span class="sxs-lookup"><span data-stu-id="3b226-578">**XPS Viewer**</span></span> | <span data-ttu-id="3b226-579">WPF nezahrnuje Microsoft XML Paper Specification Essentials Pack (XPSEP).</span><span class="sxs-lookup"><span data-stu-id="3b226-579">WPF does not include the Microsoft XML Paper Specification Essentials Pack (XPSEP).</span></span> <span data-ttu-id="3b226-580">XPSEP je součástí systému Windows 7 a Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="3b226-580">XPSEP is included with Windows 7 and Windows Vista.</span></span><br><br><span data-ttu-id="3b226-581">Na počítači, který se systémem Windows XP bez nainstalované rozhraní .NET Framework 3.5 SP1, tisk pomocí rozhraní API WPF nejsou uvedeny v <xref:System.Windows.Controls.PrintDialog> se spoléhat na WINSPOOL.</span><span class="sxs-lookup"><span data-stu-id="3b226-581">On a computer that is running Windows XP without the .NET Framework 3.5 SP1 installed, printing by using a WPF API other than those in <xref:System.Windows.Controls.PrintDialog> will rely on the WINSPOOL.</span></span> <span data-ttu-id="3b226-582">Některé možnosti tiskárny, nebudou ohlášena a některá nastavení tiskárny se nepoužije během tisku.</span><span class="sxs-lookup"><span data-stu-id="3b226-582">Some printer capabilities will not be reported and some printer settings will not be applied during printing.</span></span> | <span data-ttu-id="3b226-583">V případě potřeby nainstalujte [Microsoft XML Paper Specification Essentials Pack](http://go.microsoft.com/fwlink/?LinkId=178895).</span><span class="sxs-lookup"><span data-stu-id="3b226-583">If needed, install the [Microsoft XML Paper Specification Essentials Pack](http://go.microsoft.com/fwlink/?LinkId=178895).</span></span> |

### <a name="controls"></a><span data-ttu-id="3b226-584">Ovládací prvky</span><span class="sxs-lookup"><span data-stu-id="3b226-584">Controls</span></span>

<span data-ttu-id="3b226-585">Obory názvů: <xref:System.Windows>, <xref:System.Windows.Controls>, <xref:System.Windows.Data>, <xref:System.Windows.Input>; sestavení: PresentationFramework (v knihovně PresentationFramework.dll), PresentationCore (v knihovně PresentationCore.dll), WindowsBase (v knihovně WindowsBase.dll)</span><span class="sxs-lookup"><span data-stu-id="3b226-585">Namespaces: <xref:System.Windows>, <xref:System.Windows.Controls>, <xref:System.Windows.Data>, <xref:System.Windows.Input>; assemblies: PresentationFramework (in PresentationFramework.dll), PresentationCore (in PresentationCore.dll), WindowsBase (in WindowsBase.dll)</span></span>

| <span data-ttu-id="3b226-586">Funkce</span><span class="sxs-lookup"><span data-stu-id="3b226-586">Feature</span></span> | <span data-ttu-id="3b226-587">Rozdíl oproti 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="3b226-587">Differences from 3.5 SP1</span></span> | <span data-ttu-id="3b226-588">Doporučené změny</span><span class="sxs-lookup"><span data-stu-id="3b226-588">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="3b226-589">**Dialogová okna**</span><span class="sxs-lookup"><span data-stu-id="3b226-589">**Dialog boxes**</span></span> | <span data-ttu-id="3b226-590">Kvůli vyšší spolehlivosti <xref:Microsoft.Win32.CommonDialog.ShowDialog%2A> metoda je volána ve stejném vlákně, který vytvořili <xref:Microsoft.Win32.FileDialog> ovládacího prvku.</span><span class="sxs-lookup"><span data-stu-id="3b226-590">To improve reliability, the <xref:Microsoft.Win32.CommonDialog.ShowDialog%2A> method is called on the same thread that created the <xref:Microsoft.Win32.FileDialog> control.</span></span> | <span data-ttu-id="3b226-591">Vytvořte <xref:Microsoft.Win32.FileDialog> řízení a volání <xref:Microsoft.Win32.CommonDialog.ShowDialog%2A> metoda ve stejném vlákně.</span><span class="sxs-lookup"><span data-stu-id="3b226-591">Be sure to create a <xref:Microsoft.Win32.FileDialog> control and call the <xref:Microsoft.Win32.CommonDialog.ShowDialog%2A> method on the same thread.</span></span> |
| <span data-ttu-id="3b226-592">**Plovoucí windows**</span><span class="sxs-lookup"><span data-stu-id="3b226-592">**Floating windows**</span></span> | <span data-ttu-id="3b226-593">Pokud chcete vyřešit fokus obnovení logiky, která udržuje nesprávně opětovná aktivace plovoucího okna (tím se zobrazí jako modální dialogové okno), fokus obnovení je teď zabráníte na candidate není podřízená okna.</span><span class="sxs-lookup"><span data-stu-id="3b226-593">To fix focus restoration logic that incorrectly keeps reactivating a floating window (making it appear like a modal dialog box), focus restoration is now prevented if the candidate is not a child of the window.</span></span> | <span data-ttu-id="3b226-594">Žádné</span><span class="sxs-lookup"><span data-stu-id="3b226-594">None.</span></span> |
| <span data-ttu-id="3b226-595">**Položky v kolekcích**</span><span class="sxs-lookup"><span data-stu-id="3b226-595">**Items in collections**</span></span> | <span data-ttu-id="3b226-596">Po přesunutí nebo přidat do základní kolekce položku, zobrazí se v <xref:System.Windows.Data.CollectionView> ve stejném relativní umístění, pokud <xref:System.Windows.Data.CollectionView> není seřazen.</span><span class="sxs-lookup"><span data-stu-id="3b226-596">When an item is moved or added to an underlying collection, it appears in the <xref:System.Windows.Data.CollectionView> in the same relative location if the <xref:System.Windows.Data.CollectionView> is not sorted.</span></span> <span data-ttu-id="3b226-597">To poskytuje konzistenci mezi umístění položky v kolekci a v přidruženém <xref:System.Windows.Data.CollectionView>.</span><span class="sxs-lookup"><span data-stu-id="3b226-597">This provides consistency between the item's position in the collection and in the associated <xref:System.Windows.Data.CollectionView>.</span></span> | <span data-ttu-id="3b226-598">Použití <xref:System.Windows.Controls.ItemContainerGenerator.ContainerFromItem%2A> nebo <xref:System.Windows.Data.CollectionView.IndexOf%2A> metoda a vyhledejte umístění položky v <xref:System.Windows.Data.CollectionView> aniž byste museli spoléhat na pevné umístění položky.</span><span class="sxs-lookup"><span data-stu-id="3b226-598">Use the <xref:System.Windows.Controls.ItemContainerGenerator.ContainerFromItem%2A> or <xref:System.Windows.Data.CollectionView.IndexOf%2A> method to find the location of an item in a <xref:System.Windows.Data.CollectionView> instead of relying on a fixed location of an item.</span></span> |
| <span data-ttu-id="3b226-599">**Rozložení**</span><span class="sxs-lookup"><span data-stu-id="3b226-599">**Layouts**</span></span> | <span data-ttu-id="3b226-600">K vyloučení zbytečné opětovné rozložení změna <xref:System.Windows.Controls.Page.ShowsNavigationUI> už by způsobila neplatnost rozložení nebo způsobí, že další předání rozložení.</span><span class="sxs-lookup"><span data-stu-id="3b226-600">To eliminate unnecessary re-layouts, changing the <xref:System.Windows.Controls.Page.ShowsNavigationUI> no longer invalidates layout or causes another layout pass.</span></span> | <span data-ttu-id="3b226-601">Pokud očekáváte, že změna <xref:System.Windows.Controls.Page.ShowsNavigationUI> způsobí, že jiné rozložení předat, volejte <xref:System.Windows.UIElement.InvalidateVisual%2A> po nastavení vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="3b226-601">If you expect that changing <xref:System.Windows.Controls.Page.ShowsNavigationUI> will cause another layout pass, call <xref:System.Windows.UIElement.InvalidateVisual%2A> after you set the property.</span></span> |
| <span data-ttu-id="3b226-602">**Nabídky**</span><span class="sxs-lookup"><span data-stu-id="3b226-602">**Menus**</span></span> | <span data-ttu-id="3b226-603">Povolit ClearType text v nabídce automaticky otevíraná okna, byly provedeny změny <xref:System.Windows.Controls.ControlTemplate> třída a <xref:System.Windows.Controls.MenuItem> řízení a jiných ovládacích prvků.</span><span class="sxs-lookup"><span data-stu-id="3b226-603">To enable ClearType text in menu pop-ups, modifications were made to the <xref:System.Windows.Controls.ControlTemplate> class and to the <xref:System.Windows.Controls.MenuItem> control and other controls.</span></span> | <span data-ttu-id="3b226-604">Aplikace neměli spoléhat na visual strukturu šablon ovládacího prvku.</span><span class="sxs-lookup"><span data-stu-id="3b226-604">Applications should not rely on the visual structure of control templates.</span></span> <span data-ttu-id="3b226-605">Pouze s názvem částí <xref:System.Windows.Controls.ControlTemplate> jsou součástí veřejného kontraktu.</span><span class="sxs-lookup"><span data-stu-id="3b226-605">Only named parts of a <xref:System.Windows.Controls.ControlTemplate> are part of the public contract.</span></span> <span data-ttu-id="3b226-606">Pokud aplikace potřebuje najít určitý objekt v <xref:System.Windows.Controls.ControlTemplate>, vyhledejte ve vizuálním stromu pro konkrétní typ aniž byste museli spoléhat na pevné umístění objektu ve stromové struktuře.</span><span class="sxs-lookup"><span data-stu-id="3b226-606">If an application must find a certain object in a <xref:System.Windows.Controls.ControlTemplate>, search the visual tree for a specific type instead of relying on a fixed location of an object in the tree.</span></span> |
| <span data-ttu-id="3b226-607">**Navigace**</span><span class="sxs-lookup"><span data-stu-id="3b226-607">**Navigating**</span></span> | <span data-ttu-id="3b226-608">Pokud <xref:System.Windows.Controls.Frame> přímo přejde do umístění, <xref:System.Windows.Navigation.NavigatingCancelEventArgs.IsNavigationInitiator> vlastnost je `true` po počáteční navigaci.</span><span class="sxs-lookup"><span data-stu-id="3b226-608">If a <xref:System.Windows.Controls.Frame> directly navigates to a location, the <xref:System.Windows.Navigation.NavigatingCancelEventArgs.IsNavigationInitiator> property is `true` after the initial navigation.</span></span> <span data-ttu-id="3b226-609">Tato změna zabrání další události vyvolaných během spuštění scénářů.</span><span class="sxs-lookup"><span data-stu-id="3b226-609">This change prevents additional events from being raised during startup scenarios.</span></span> | <span data-ttu-id="3b226-610">Žádné</span><span class="sxs-lookup"><span data-stu-id="3b226-610">None.</span></span> |
| <span data-ttu-id="3b226-611">**Automaticky otevíraná okna**</span><span class="sxs-lookup"><span data-stu-id="3b226-611">**Pop-ups**</span></span> | <span data-ttu-id="3b226-612"><xref:System.Windows.Controls.Primitives.CustomPopupPlacementCallback> Delegáta nyní nelze volat vícekrát během průchodu rozložení místo pouze jednou.</span><span class="sxs-lookup"><span data-stu-id="3b226-612">The <xref:System.Windows.Controls.Primitives.CustomPopupPlacementCallback> delegate can now be called multiple times during a layout pass instead of only once.</span></span> | <span data-ttu-id="3b226-613">Pokud vaše <xref:System.Windows.Controls.Primitives.CustomPopupPlacementCallback> delegáta vypočítá pozice <xref:System.Windows.Controls.Primitives.Popup> založená na předchozí pozici, Přepočítat pozice, pouze pokud hodnoty `popupSize`, `targetSize`, nebo `offset` změnit parametry.</span><span class="sxs-lookup"><span data-stu-id="3b226-613">If your <xref:System.Windows.Controls.Primitives.CustomPopupPlacementCallback> delegate calculates the position of a <xref:System.Windows.Controls.Primitives.Popup> based on its previous position, recalculate the position only if the values of the `popupSize`, `targetSize`, or `offset` parameters change.</span></span> |
| <span data-ttu-id="3b226-614">**Hodnoty vlastností**</span><span class="sxs-lookup"><span data-stu-id="3b226-614">**Property values**</span></span> | <span data-ttu-id="3b226-615"><xref:System.Windows.DependencyObject.SetCurrentValue%2A> Metoda teď umožňuje nastavit vlastnost na hodnotu efektivní, i když nadále respektuje žádné vazby, styl nebo aktivační událost, která ovlivňuje vlastnost.</span><span class="sxs-lookup"><span data-stu-id="3b226-615">The <xref:System.Windows.DependencyObject.SetCurrentValue%2A> method now lets you set a property to an effective value, although it continues to respects any binding, style, or trigger that affects the property.</span></span> | <span data-ttu-id="3b226-616">Ovládací prvek autoři by měli používat <xref:System.Windows.DependencyObject.SetCurrentValue%2A> při každé změně hodnoty vlastnosti jako vedlejší účinek některých jiných akcí, včetně manipulace uživatele.</span><span class="sxs-lookup"><span data-stu-id="3b226-616">Control authors should use <xref:System.Windows.DependencyObject.SetCurrentValue%2A> whenever the property value changes as a side-effect of some other action, including user manipulation.</span></span> |
| <span data-ttu-id="3b226-617">**Textová pole**</span><span class="sxs-lookup"><span data-stu-id="3b226-617">**Text boxes**</span></span> | <span data-ttu-id="3b226-618">Kvůli zabezpečení <xref:System.Windows.Forms.TextBoxBase.Copy%2A> a <xref:System.Windows.Forms.TextBoxBase.Cut%2A> metody bezobslužně úspěšná, když jsou volány v částečné důvěryhodnosti.</span><span class="sxs-lookup"><span data-stu-id="3b226-618">For security considerations, the <xref:System.Windows.Forms.TextBoxBase.Copy%2A> and <xref:System.Windows.Forms.TextBoxBase.Cut%2A> methods silently fail when they are called in partial trust.</span></span><br><br><span data-ttu-id="3b226-619">Kromě toho programové spouštění <xref:System.Windows.Input.ApplicationCommands.Copy> nebo <xref:System.Windows.Input.ApplicationCommands.Cut> ovládacího prvku, který dědí z <xref:System.Windows.Controls.Primitives.TextBoxBase> zablokuje v částečné důvěryhodnosti.</span><span class="sxs-lookup"><span data-stu-id="3b226-619">In addition, programmatic execution of the <xref:System.Windows.Input.ApplicationCommands.Copy> or <xref:System.Windows.Input.ApplicationCommands.Cut> property on a control that inherits from <xref:System.Windows.Controls.Primitives.TextBoxBase> will be blocked in partial trust.</span></span> <span data-ttu-id="3b226-620">Ale uživatel spustil kopírování a vyjmutí příkazy, jako je například kliknutí na tlačítko jejichž <xref:System.Windows.Controls.Primitives.ButtonBase.Command> vlastnost je vázána na jednu z těchto příkazů, bude fungovat.</span><span class="sxs-lookup"><span data-stu-id="3b226-620">However, user-initiated copy and cut commands, such as clicking a button whose <xref:System.Windows.Controls.Primitives.ButtonBase.Command> property is bound to one of these commands, will work.</span></span> <span data-ttu-id="3b226-621">Standardní kopírování a vyjmutí pomocí klávesové zkratky a v místní nabídce budou i nadále fungovat jako předtím v částečné důvěryhodnosti.</span><span class="sxs-lookup"><span data-stu-id="3b226-621">Standard copy and cut through keyboard shortcuts and the context menu will still work as before in partial trust.</span></span> | <span data-ttu-id="3b226-622">Vytvoření vazby <xref:System.Windows.Input.ApplicationCommands.Copy> nebo <xref:System.Windows.Input.ApplicationCommands.Cut> příkaz akce zahájená uživatelem, jako je například kliknutí na tlačítko.</span><span class="sxs-lookup"><span data-stu-id="3b226-622">Bind the <xref:System.Windows.Input.ApplicationCommands.Copy> or <xref:System.Windows.Input.ApplicationCommands.Cut> command to a user-initiated action, such as clicking a button.</span></span> |

### <a name="graphics"></a><span data-ttu-id="3b226-623">Grafika</span><span class="sxs-lookup"><span data-stu-id="3b226-623">Graphics</span></span>

<span data-ttu-id="3b226-624">Obory názvů: <xref:System.Windows>, <xref:System.Windows.Controls>, <xref:System.Windows.Data>, <xref:System.Windows.Input>, <xref:System.Windows.Media.Effects>; sestavení: PresentationFramework (v knihovně PresentationFramework.dll), PresentationCore (v knihovně PresentationCore.dll), WindowsBase (v knihovně WindowsBase.dll)</span><span class="sxs-lookup"><span data-stu-id="3b226-624">Namespaces: <xref:System.Windows>, <xref:System.Windows.Controls>, <xref:System.Windows.Data>, <xref:System.Windows.Input>, <xref:System.Windows.Media.Effects>; assemblies: PresentationFramework (in PresentationFramework.dll), PresentationCore (in PresentationCore.dll), WindowsBase (in WindowsBase.dll)</span></span>

| <span data-ttu-id="3b226-625">Funkce</span><span class="sxs-lookup"><span data-stu-id="3b226-625">Feature</span></span> | <span data-ttu-id="3b226-626">Rozdíl oproti 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="3b226-626">Differences from 3.5 SP1</span></span> | <span data-ttu-id="3b226-627">Doporučené změny</span><span class="sxs-lookup"><span data-stu-id="3b226-627">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="3b226-628">**Účinky rastrového obrázku**</span><span class="sxs-lookup"><span data-stu-id="3b226-628">**Bitmap effects**</span></span> | <span data-ttu-id="3b226-629">Pro zlepšení výkonnosti <xref:System.Windows.Media.Effects.BitmapEffect> třídy a třídy, které dědí <xref:System.Windows.Media.Effects.BitmapEffect> třídy, i když stále přítomen, jsou zakázané.</span><span class="sxs-lookup"><span data-stu-id="3b226-629">To improve performance, the <xref:System.Windows.Media.Effects.BitmapEffect> class and the classes that inherit from the <xref:System.Windows.Media.Effects.BitmapEffect> class, although still present, are disabled.</span></span> <span data-ttu-id="3b226-630">Výsledek provede vykreslení pomocí kanálu hardwarově urychlené vykreslování, pokud jsou splněny následující podmínky:</span><span class="sxs-lookup"><span data-stu-id="3b226-630">The effect will render by using the hardware-accelerated rendering pipeline if the following conditions are true:</span></span><br><br><span data-ttu-id="3b226-631">\* Aplikace používá <xref:System.Windows.Media.Effects.DropShadowBitmapEffect> nebo <xref:System.Windows.Media.Effects.BlurBitmapEffect> , že má vlastnost radius nastavená méně než 100 DIU.</span><span class="sxs-lookup"><span data-stu-id="3b226-631">\* The application uses a <xref:System.Windows.Media.Effects.DropShadowBitmapEffect> or a <xref:System.Windows.Media.Effects.BlurBitmapEffect> that has a radius property set less than 100 DIU.</span></span><br><span data-ttu-id="3b226-632">\* Grafická karta v počítači, který spouští aplikace podporuje pixelů shaderu 2.0.</span><span class="sxs-lookup"><span data-stu-id="3b226-632">\* The video card on the computer that runs the application supports pixel shader 2.0.</span></span><br><br><span data-ttu-id="3b226-633">Pokud tyto podmínky nejsou splněné, <xref:System.Windows.Media.Effects.BitmapEffect> objekt nebude mít žádný vliv.</span><span class="sxs-lookup"><span data-stu-id="3b226-633">If these conditions are not met, a <xref:System.Windows.Media.Effects.BitmapEffect> object will have no effect.</span></span><br><br><span data-ttu-id="3b226-634">Navíc Visual Studio 2010 vygeneruje upozornění kompilátoru zjistí-li <xref:System.Windows.Media.Effects.BitmapEffect> objekt nebo podtřídy.</span><span class="sxs-lookup"><span data-stu-id="3b226-634">Also, Visual Studio 2010 will produce a compiler warning when it encounters the <xref:System.Windows.Media.Effects.BitmapEffect> object or a subclass.</span></span><br><br><span data-ttu-id="3b226-635"><xref:System.Windows.Media.DrawingContext.PushEffect%2A> Metoda je označena jako zastaralá.</span><span class="sxs-lookup"><span data-stu-id="3b226-635">The <xref:System.Windows.Media.DrawingContext.PushEffect%2A> method is marked obsolete.</span></span> | <span data-ttu-id="3b226-636">Ukončí pomocí starší verze <xref:System.Windows.Media.Effects.BitmapEffect> a odvozených tříd a místo toho použijte nové třídy odvozené z <xref:System.Windows.Media.Effects.Effect>: <xref:System.Windows.Media.Effects.BlurEffect>, <xref:System.Windows.Media.Effects.DropShadowEffect>, a <xref:System.Windows.Media.Effects.ShaderEffect>.</span><span class="sxs-lookup"><span data-stu-id="3b226-636">Discontinue using the legacy <xref:System.Windows.Media.Effects.BitmapEffect> and derived classes and instead use the new classes derived from <xref:System.Windows.Media.Effects.Effect>: <xref:System.Windows.Media.Effects.BlurEffect>, <xref:System.Windows.Media.Effects.DropShadowEffect>, and <xref:System.Windows.Media.Effects.ShaderEffect>.</span></span><br><br><span data-ttu-id="3b226-637">Můžete také vytvořit vlastní efekty dědění ze <xref:System.Windows.Media.Effects.ShaderEffect> třídy.</span><span class="sxs-lookup"><span data-stu-id="3b226-637">You can also create your own effects by inheriting from the <xref:System.Windows.Media.Effects.ShaderEffect> class.</span></span> |
| <span data-ttu-id="3b226-638">**Rastrový obrázek rámce**</span><span class="sxs-lookup"><span data-stu-id="3b226-638">**Bitmap frames**</span></span> | <span data-ttu-id="3b226-639">Klonované <xref:System.Windows.Media.Imaging.BitmapFrame> nyní obdrží objekty <xref:System.Windows.Media.Imaging.BitmapSource.DownloadProgress>, <xref:System.Windows.Media.Imaging.BitmapSource.DownloadCompleted>, a <xref:System.Windows.Media.Imaging.BitmapSource.DownloadFailed> události.</span><span class="sxs-lookup"><span data-stu-id="3b226-639">The cloned <xref:System.Windows.Media.Imaging.BitmapFrame> objects now receive the <xref:System.Windows.Media.Imaging.BitmapSource.DownloadProgress>, <xref:System.Windows.Media.Imaging.BitmapSource.DownloadCompleted>, and <xref:System.Windows.Media.Imaging.BitmapSource.DownloadFailed> events.</span></span> <span data-ttu-id="3b226-640">To umožňuje bitové kopie, které jsou stažený z webu a použít <xref:System.Windows.Controls.Image> ovládat prostřednictvím <xref:System.Windows.Style> fungovala správně.</span><span class="sxs-lookup"><span data-stu-id="3b226-640">This enables images that are downloaded from the Web and applied to the <xref:System.Windows.Controls.Image> control through a <xref:System.Windows.Style> to work correctly.</span></span><br><br><span data-ttu-id="3b226-641">Ke změně chování se zobrazí jenom v případě, že jsou splněny všechny následující příkazy:</span><span class="sxs-lookup"><span data-stu-id="3b226-641">You will see a change in behavior only if all of the following statements are true:</span></span><br><br><span data-ttu-id="3b226-642">\* Přihlášení k odběru <xref:System.Windows.Media.Imaging.BitmapSource.DownloadProgress>, <xref:System.Windows.Media.Imaging.BitmapSource.DownloadCompleted>, nebo <xref:System.Windows.Media.Imaging.BitmapSource.DownloadFailed> událostí.</span><span class="sxs-lookup"><span data-stu-id="3b226-642">\* You subscribe to the <xref:System.Windows.Media.Imaging.BitmapSource.DownloadProgress>, <xref:System.Windows.Media.Imaging.BitmapSource.DownloadCompleted>, or <xref:System.Windows.Media.Imaging.BitmapSource.DownloadFailed> event.</span></span><br><span data-ttu-id="3b226-643">\* Zdroj <xref:System.Windows.Media.Imaging.BitmapFrame> je z webu.</span><span class="sxs-lookup"><span data-stu-id="3b226-643">\* The source of the <xref:System.Windows.Media.Imaging.BitmapFrame> is from the Web.</span></span><br><span data-ttu-id="3b226-644">\* Na <xref:System.Windows.Media.Imaging.BitmapFrame> naklonována při stahování stále probíhá.</span><span class="sxs-lookup"><span data-stu-id="3b226-644">\* The <xref:System.Windows.Media.Imaging.BitmapFrame> is cloned while the download is still in progress.</span></span> | <span data-ttu-id="3b226-645">Zkontrolujte odesílatele v obslužné rutiny události a provést akci pouze v případě, že odesílatel je původní <xref:System.Windows.Media.Imaging.BitmapFrame>.</span><span class="sxs-lookup"><span data-stu-id="3b226-645">Check the sender in the event handler and take action only if the sender is the original <xref:System.Windows.Media.Imaging.BitmapFrame>.</span></span> |
| <span data-ttu-id="3b226-646">**Dekódování bitové kopie**</span><span class="sxs-lookup"><span data-stu-id="3b226-646">**Decoding images**</span></span> | <span data-ttu-id="3b226-647">Aby se zabránilo <xref:System.IO.IOException> zpracován, když nelze obrazy dekódovat, <xref:System.Windows.Media.Imaging.BitmapSource> třída vyvolá <xref:System.Windows.Media.Imaging.BitmapSource.DecodeFailed> událost v případě nedekóduje bitovou kopii.</span><span class="sxs-lookup"><span data-stu-id="3b226-647">To prevent an <xref:System.IO.IOException> from not being handled when images may not decode, the <xref:System.Windows.Media.Imaging.BitmapSource> class will raise the <xref:System.Windows.Media.Imaging.BitmapSource.DecodeFailed> event when it does not decode an image.</span></span> | <span data-ttu-id="3b226-648">Odeberte všechna zpracování výjimek pro <xref:System.IO.IOException>a použít <xref:System.Windows.Media.Imaging.BitmapSource.DecodeFailed> událostí zkontrolujte dekódovat selhání.</span><span class="sxs-lookup"><span data-stu-id="3b226-648">Remove any exception handling for <xref:System.IO.IOException>, and use the <xref:System.Windows.Media.Imaging.BitmapSource.DecodeFailed> event to check for decode failure.</span></span> |

### <a name="input"></a><span data-ttu-id="3b226-649">Vstup</span><span class="sxs-lookup"><span data-stu-id="3b226-649">Input</span></span>

<span data-ttu-id="3b226-650">Obory názvů: <xref:System.Windows>, <xref:System.Windows.Controls>, <xref:System.Windows.Data>, <xref:System.Windows.Input>; sestavení: PresentationFramework (v knihovně PresentationFramework.dll), PresentationCore (v knihovně PresentationCore.dll), WindowsBase (v knihovně WindowsBase.dll)</span><span class="sxs-lookup"><span data-stu-id="3b226-650">Namespaces: <xref:System.Windows>, <xref:System.Windows.Controls>, <xref:System.Windows.Data>, <xref:System.Windows.Input>; assemblies: PresentationFramework (in PresentationFramework.dll), PresentationCore (in PresentationCore.dll), WindowsBase (in WindowsBase.dll)</span></span>

| <span data-ttu-id="3b226-651">Funkce</span><span class="sxs-lookup"><span data-stu-id="3b226-651">Feature</span></span> | <span data-ttu-id="3b226-652">Rozdíl oproti 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="3b226-652">Differences from 3.5 SP1</span></span> | <span data-ttu-id="3b226-653">Doporučené změny</span><span class="sxs-lookup"><span data-stu-id="3b226-653">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="3b226-654">**Instance příkazu vytvoření vazby**</span><span class="sxs-lookup"><span data-stu-id="3b226-654">**Binding command instances**</span></span> | <span data-ttu-id="3b226-655">K poskytování mechanismus k vytvoření vazby na základě zobrazení modelu příkaz instancí na základě zobrazení vstupní gesta <xref:System.Windows.Input.InputBinding> třídy dědí vlastnosti z <xref:System.Windows.Freezable> místo <xref:System.Windows.DependencyObject>.</span><span class="sxs-lookup"><span data-stu-id="3b226-655">To provide a mechanism to bind View-Model-based command instances to View-based input gestures, the <xref:System.Windows.Input.InputBinding> class now inherits from <xref:System.Windows.Freezable> instead of <xref:System.Windows.DependencyObject>.</span></span> <span data-ttu-id="3b226-656">Následující vlastnosti jsou teď vlastnosti závislosti:</span><span class="sxs-lookup"><span data-stu-id="3b226-656">The following properties are now dependency properties:</span></span><br><br>* <xref:System.Windows.Input.InputBinding.Command><br>* <xref:System.Windows.Input.InputBinding.CommandParameter><br>* <xref:System.Windows.Input.InputBinding.CommandTarget><br><br><span data-ttu-id="3b226-657">Tato změna vede následující:</span><span class="sxs-lookup"><span data-stu-id="3b226-657">This change results in the following:</span></span><br><br><span data-ttu-id="3b226-658">\* K <xref:System.Windows.Input.InputBinding> objekt teď po registraci místo zbývající měnitelný nereaguje.</span><span class="sxs-lookup"><span data-stu-id="3b226-658">\* An <xref:System.Windows.Input.InputBinding> object is now frozen when it is registered instead of remaining mutable.</span></span><br><span data-ttu-id="3b226-659">\* Nemáte přístup k úrovni instance <xref:System.Windows.Input.InputBinding> objekty z více vláken, z důvodu omezení systému <xref:System.Windows.DependencyObject> třídy.</span><span class="sxs-lookup"><span data-stu-id="3b226-659">\* You cannot access instance-level <xref:System.Windows.Input.InputBinding> objects from multiple threads, due to the restrictions of the <xref:System.Windows.DependencyObject> class.</span></span><br><span data-ttu-id="3b226-660">\* Nelze mutovat vstupní vazby na úrovni třídy po jejich registraci z důvodu omezení systému <xref:System.Windows.Freezable> třídy.</span><span class="sxs-lookup"><span data-stu-id="3b226-660">\* You cannot mutate class-level input bindings after their registration, due to the restrictions of the <xref:System.Windows.Freezable> class.</span></span><br><span data-ttu-id="3b226-661">\* Vstupní vazby nelze zadat v příkazu instancí, které jsou vytvořeny ve Model zobrazení.</span><span class="sxs-lookup"><span data-stu-id="3b226-661">\* You cannot specify input bindings on command instances that are created in a View-Model.</span></span> | <span data-ttu-id="3b226-662">Vytvoření samostatné instance <xref:System.Windows.Input.InputBinding> třídy v samostatných vláknech vazby mají-li být měnitelný, nebo v opačném případě je ukotvit.</span><span class="sxs-lookup"><span data-stu-id="3b226-662">Create separate instances of an <xref:System.Windows.Input.InputBinding> class on separate threads if bindings are to be mutable, or freeze them otherwise.</span></span> <span data-ttu-id="3b226-663">Neprovádějte statického úrovni třídy <xref:System.Windows.Input.InputBinding> po jeho registraci.</span><span class="sxs-lookup"><span data-stu-id="3b226-663">Do not mutate a class-level static <xref:System.Windows.Input.InputBinding> after it has been registered.</span></span> |
| <span data-ttu-id="3b226-664">**Aplikace prohlížeče**</span><span class="sxs-lookup"><span data-stu-id="3b226-664">**Browser applications**</span></span> | <span data-ttu-id="3b226-665">Aplikace prohlížeče WPF (. Klíče událostí procesu XBAP) teď stejně jako samostatné aplikace WPF tak, aby objekty přijímaly směrované klíčové události ve správném pořadí.</span><span class="sxs-lookup"><span data-stu-id="3b226-665">WPF Browser applications (.XBAP) now process key events just like stand-alone WPF applications so that objects receive routed key events in the correct order.</span></span> | <span data-ttu-id="3b226-666">Žádné</span><span class="sxs-lookup"><span data-stu-id="3b226-666">None.</span></span> |
| <span data-ttu-id="3b226-667">**Kombinace mrtvých kláves**</span><span class="sxs-lookup"><span data-stu-id="3b226-667">**Dead key combinations**</span></span> | <span data-ttu-id="3b226-668">WPF zastírá neaktivní klíčů, které nevytvářejí viditelné znaky, ale místo toho označuje, že klíč je a nelze jej zkombinovat s další písmeno klíčem k vytvoření jeden znak.</span><span class="sxs-lookup"><span data-stu-id="3b226-668">WPF obfuscates dead keys, which produce no visible character, but instead indicates that the key is to be combined with the next letter key to produce one character.</span></span> <span data-ttu-id="3b226-669">Klíč vstupu, například <xref:System.Windows.Input.Keyboard.KeyDownEvent> událost, sestavy při klíč je klíč neaktivní nastavením <xref:System.Windows.Input.KeyEventArgs.Key> vlastnost, která má <xref:System.Windows.Input.Key> hodnotu.</span><span class="sxs-lookup"><span data-stu-id="3b226-669">The key input events, such as the <xref:System.Windows.Input.Keyboard.KeyDownEvent> event, report when a key is a dead key by setting the <xref:System.Windows.Input.KeyEventArgs.Key> property to the <xref:System.Windows.Input.Key> value.</span></span> <span data-ttu-id="3b226-670">Toto je obvykle očekávané chování, protože aplikace obvykle nemáte v úmyslu reagovat na vstupu klávesnice, který vytváří kombinované znaky.</span><span class="sxs-lookup"><span data-stu-id="3b226-670">This is usually expected behavior because applications usually do not intend to respond to keyboard input that creates a combined character.</span></span> | <span data-ttu-id="3b226-671">Aplikace, které očekávají čtení klíčů, které byly součástí kombinovaného znaků můžete získat již zastaralý klíč pomocí <xref:System.Windows.Input.KeyEventArgs.DeadCharProcessedKey> vlastnost.</span><span class="sxs-lookup"><span data-stu-id="3b226-671">Applications that expect to read keys that were part of combined characters can get the now obfuscated key by using the <xref:System.Windows.Input.KeyEventArgs.DeadCharProcessedKey> property.</span></span> |
| <span data-ttu-id="3b226-672">**Správce aktivace**</span><span class="sxs-lookup"><span data-stu-id="3b226-672">**Focus manager**</span></span> | <span data-ttu-id="3b226-673">Když <xref:System.Windows.Input.FocusManager.GetFocusedElement(System.Windows.DependencyObject)?displayProperty=nameWithType> metodě se předává element, který má [IsFocusScope](https://msdn.microsoft.com/library/system.windows.input.focusmanager.isfocusscope.aspx) přidružená vlastnost nastavena na `true`, vrátí metoda služby element, který je posledním elementem zaměřené na klávesnici v rámci zaměření oboru, pokud a pouze v případě Vrátí element patří do stejné <xref:System.Windows.PresentationSource> objektu jako elementu, který je předaný metodě.</span><span class="sxs-lookup"><span data-stu-id="3b226-673">When the <xref:System.Windows.Input.FocusManager.GetFocusedElement(System.Windows.DependencyObject)?displayProperty=nameWithType> method is passed an element that has the [IsFocusScope](https://msdn.microsoft.com/library/system.windows.input.focusmanager.isfocusscope.aspx) attached property set to `true`, the method returns an element that is the last keyboard-focused element within that focus scope if and only if the returned element belongs to the same <xref:System.Windows.PresentationSource> object as the element that is passed to the method.</span></span> | <span data-ttu-id="3b226-674">Žádné</span><span class="sxs-lookup"><span data-stu-id="3b226-674">None.</span></span> |

### <a name="ui-automation"></a><span data-ttu-id="3b226-675">automatizace uživatelského rozhraní</span><span class="sxs-lookup"><span data-stu-id="3b226-675">UI Automation</span></span>

<span data-ttu-id="3b226-676">Namespace: <xref:System.Windows>, <xref:System.Windows.Automation.Peers>, <xref:System.Windows.Automation.Provider>, <xref:System.Windows.Controls>, <xref:System.Windows.Data>, <xref:System.Windows.Input>; sestavení: PresentationFramework (v knihovně PresentationFramework.dll), PresentationCore (v knihovně PresentationCore.dll), UIAutomationProvider (v knihovně UIAutomationProvider.dll), WindowsBase (v knihovně WindowsBase.dll)</span><span class="sxs-lookup"><span data-stu-id="3b226-676">Namespace: <xref:System.Windows>, <xref:System.Windows.Automation.Peers>, <xref:System.Windows.Automation.Provider>, <xref:System.Windows.Controls>, <xref:System.Windows.Data>, <xref:System.Windows.Input>; assemblies: PresentationFramework (in PresentationFramework.dll), PresentationCore (in PresentationCore.dll), UIAutomationProvider (in UIAutomationProvider.dll), WindowsBase (in WindowsBase.dll)</span></span>

| <span data-ttu-id="3b226-677">Funkce</span><span class="sxs-lookup"><span data-stu-id="3b226-677">Feature</span></span> | <span data-ttu-id="3b226-678">Rozdíl oproti 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="3b226-678">Differences from 3.5 SP1</span></span> | <span data-ttu-id="3b226-679">Doporučené změny</span><span class="sxs-lookup"><span data-stu-id="3b226-679">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="3b226-680">**Hierarchie tříd zobrazení**</span><span class="sxs-lookup"><span data-stu-id="3b226-680">**Class hierarchy of views**</span></span> | <span data-ttu-id="3b226-681"><xref:System.Windows.Automation.Peers.TreeViewAutomationPeer> a <xref:System.Windows.Automation.Peers.TreeViewItemAutomationPeer> třídy dědí <xref:System.Windows.Automation.Peers.ItemsControlAutomationPeer> místo <xref:System.Windows.Automation.Peers.FrameworkElementAutomationPeer>.</span><span class="sxs-lookup"><span data-stu-id="3b226-681">The <xref:System.Windows.Automation.Peers.TreeViewAutomationPeer> and <xref:System.Windows.Automation.Peers.TreeViewItemAutomationPeer> classes inherit from <xref:System.Windows.Automation.Peers.ItemsControlAutomationPeer> instead of <xref:System.Windows.Automation.Peers.FrameworkElementAutomationPeer>.</span></span> | <span data-ttu-id="3b226-682">Pokud dědí od <xref:System.Windows.Automation.Peers.TreeViewItemAutomationPeer> třídy a přepsání <xref:System.Windows.Automation.Peers.TreeViewItemAutomationPeer.GetChildrenCore%2A> metoda, vezměte v úvahu vrátí objekt, který dědí z nové <xref:System.Windows.Automation.Peers.TreeViewDataItemAutomationPeer> třída.</span><span class="sxs-lookup"><span data-stu-id="3b226-682">If you inherit from the <xref:System.Windows.Automation.Peers.TreeViewItemAutomationPeer> classes and override the <xref:System.Windows.Automation.Peers.TreeViewItemAutomationPeer.GetChildrenCore%2A> method, consider returning an object that inherits from the new <xref:System.Windows.Automation.Peers.TreeViewDataItemAutomationPeer> class.</span></span> |
| <span data-ttu-id="3b226-683">**Kontejnery mimo obrazovku.**</span><span class="sxs-lookup"><span data-stu-id="3b226-683">**Containers off screen**</span></span> | <span data-ttu-id="3b226-684">Chcete-li odstranit nesprávnou návratovou hodnotu, <xref:System.Windows.Automation.Peers.UIElementAutomationPeer.IsOffscreenCore%2A> metoda nyní správně vrátí `false` pro kontejnery položek, které přešla oblasti mimo zobrazení.</span><span class="sxs-lookup"><span data-stu-id="3b226-684">To fix an incorrect return value, the <xref:System.Windows.Automation.Peers.UIElementAutomationPeer.IsOffscreenCore%2A> method now correctly returns `false` for item containers that are scrolled out of view.</span></span> <span data-ttu-id="3b226-685">Hodnota metody není navíc ovlivněna uzavřeními jiných windows, nebo zda je viditelný na konkrétní monitorování elementu.</span><span class="sxs-lookup"><span data-stu-id="3b226-685">Also, the value of the method is not affected by occlusion by other windows, or by whether the element is visible on a specific monitor.</span></span> | <span data-ttu-id="3b226-686">Žádné</span><span class="sxs-lookup"><span data-stu-id="3b226-686">None.</span></span> |
| <span data-ttu-id="3b226-687">**Nabídky a podřízené objekty**</span><span class="sxs-lookup"><span data-stu-id="3b226-687">**Menus and child objects**</span></span> | <span data-ttu-id="3b226-688">Jak povolit automatizaci uživatelského rozhraní nabídky, které obsahují podřízené objekty jiné než <xref:System.Windows.Controls.MenuItem> objekty, <xref:System.Windows.Automation.Peers.MenuItemAutomationPeer.GetChildrenCore%2A> metoda vrátí nyní <xref:System.Windows.Automation.Peers.AutomationPeer> objekt podřízenou <xref:System.Windows.UIElement> objekt, místo <xref:System.Windows.Automation.Peers.MenuItemAutomationPeer> objektu.</span><span class="sxs-lookup"><span data-stu-id="3b226-688">To enable UI automation of menus that contain children other than <xref:System.Windows.Controls.MenuItem> objects, the <xref:System.Windows.Automation.Peers.MenuItemAutomationPeer.GetChildrenCore%2A> method now returns the <xref:System.Windows.Automation.Peers.AutomationPeer> object of a child <xref:System.Windows.UIElement> object, instead of a <xref:System.Windows.Automation.Peers.MenuItemAutomationPeer> object.</span></span> | <span data-ttu-id="3b226-689">Žádné</span><span class="sxs-lookup"><span data-stu-id="3b226-689">None.</span></span> |
| <span data-ttu-id="3b226-690">**Nové rozhraní a sestavení**</span><span class="sxs-lookup"><span data-stu-id="3b226-690">**New interfaces and assembly**</span></span> | <span data-ttu-id="3b226-691">Pokud chcete povolit nové funkce pro automatizaci uživatelského rozhraní, byly přidány následující rozhraní:</span><span class="sxs-lookup"><span data-stu-id="3b226-691">To enable new features for UI automation, the following interfaces were added:</span></span><br><br>* <xref:System.Windows.Automation.Provider.IItemContainerProvider><br>* <xref:System.Windows.Automation.Provider.ISynchronizedInputProvider><br>* <xref:System.Windows.Automation.Provider.IVirtualizedItemProvider> | <span data-ttu-id="3b226-692">Všechny projekt, který vytváří protějšky automatizace WPF musíte přidat explicitní odkaz na UIAutomationProvider.dll.</span><span class="sxs-lookup"><span data-stu-id="3b226-692">Any project that builds WPF automation peers must add an explicit reference to UIAutomationProvider.dll.</span></span> |
| <span data-ttu-id="3b226-693">**Palec**</span><span class="sxs-lookup"><span data-stu-id="3b226-693">**Thumbs**</span></span> | <span data-ttu-id="3b226-694"><xref:System.Windows.Automation.Peers.ThumbAutomationPeer.GetClassNameCore%2A> Metoda vrátí hodnotu, místo null.</span><span class="sxs-lookup"><span data-stu-id="3b226-694">The <xref:System.Windows.Automation.Peers.ThumbAutomationPeer.GetClassNameCore%2A> method returns a value instead of null.</span></span> <span data-ttu-id="3b226-695">Proto ovládací prvky ovládací prvky, jako <xref:System.Windows.Controls.GridSplitter> , dědí <xref:System.Windows.Controls.Primitives.Thumb> třída bude hlásit název automatizace uživatelského rozhraní.</span><span class="sxs-lookup"><span data-stu-id="3b226-695">Therefore, controls controls such as <xref:System.Windows.Controls.GridSplitter> that inherit from the <xref:System.Windows.Controls.Primitives.Thumb> class will report a name to UI Automation.</span></span> | <span data-ttu-id="3b226-696">Žádné</span><span class="sxs-lookup"><span data-stu-id="3b226-696">None.</span></span> |
| <span data-ttu-id="3b226-697">**Virtualizované elementy**</span><span class="sxs-lookup"><span data-stu-id="3b226-697">**Virtualized elements**</span></span> | <span data-ttu-id="3b226-698">Pro zlepšení výkonnosti <xref:System.Windows.Automation.Peers.UIElementAutomationPeer.GetChildrenCore%2A> metoda vrátí pouze podřízené objekty, které jsou ve skutečnosti ve vizuálním stromu, namísto všechny podřízené objekty, bez ohledu na to, jestli jsou virtualizované.</span><span class="sxs-lookup"><span data-stu-id="3b226-698">To improve performance, the <xref:System.Windows.Automation.Peers.UIElementAutomationPeer.GetChildrenCore%2A> method returns only the child objects that are actually in the visual tree, instead of all child objects, regardless of whether they are virtualized.</span></span> | <span data-ttu-id="3b226-699">Použití <xref:System.Windows.Automation.ItemContainerPattern> Iterujte přes všechny položky <xref:System.Windows.Automation.Peers.ItemsControlAutomationPeer>.</span><span class="sxs-lookup"><span data-stu-id="3b226-699">Use <xref:System.Windows.Automation.ItemContainerPattern> to iterate over all items of an <xref:System.Windows.Automation.Peers.ItemsControlAutomationPeer>.</span></span> |

### <a name="xaml"></a><span data-ttu-id="3b226-700">XAML</span><span class="sxs-lookup"><span data-stu-id="3b226-700">XAML</span></span>

<span data-ttu-id="3b226-701">Obory názvů: <xref:System.Windows>, <xref:System.Windows.Controls>, <xref:System.Windows.Data>, <xref:System.Windows.Input>, <xref:System.Windows.Markup>; sestavení: PresentationFramework (v knihovně PresentationFramework.dll), PresentationCore (v knihovně PresentationCore.dll), WindowsBase (v knihovně WindowsBase.dll)</span><span class="sxs-lookup"><span data-stu-id="3b226-701">Namespaces: <xref:System.Windows>, <xref:System.Windows.Controls>, <xref:System.Windows.Data>, <xref:System.Windows.Input>, <xref:System.Windows.Markup>; assemblies: PresentationFramework (in PresentationFramework.dll), PresentationCore (in PresentationCore.dll), WindowsBase (in WindowsBase.dll)</span></span>

| <span data-ttu-id="3b226-702">Funkce</span><span class="sxs-lookup"><span data-stu-id="3b226-702">Feature</span></span> | <span data-ttu-id="3b226-703">Rozdíl oproti 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="3b226-703">Differences from 3.5 SP1</span></span> | <span data-ttu-id="3b226-704">Doporučené změny</span><span class="sxs-lookup"><span data-stu-id="3b226-704">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="3b226-705">**– Rozšíření značek**</span><span class="sxs-lookup"><span data-stu-id="3b226-705">**Markup extension**</span></span> | <span data-ttu-id="3b226-706">WPF nyní správně vždy používá hodnotu z <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A> metody místo vrácení <xref:System.Windows.Markup.MarkupExtension> objekt v určitých případech, kdy rozšíření značek se používá k nastavení vlastnosti nebo vytvoření položky v kolekci.</span><span class="sxs-lookup"><span data-stu-id="3b226-706">WPF now correctly always uses the value from the <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A> method instead of returning the <xref:System.Windows.Markup.MarkupExtension> object in certain cases when a markup extension is used to set a property or to create an item in a collection.</span></span> <span data-ttu-id="3b226-707">Rozšíření značek může v některých případech vrátí sám sebe.</span><span class="sxs-lookup"><span data-stu-id="3b226-707">A markup extension might return itself in some cases.</span></span> | <span data-ttu-id="3b226-708">Pokud vaše aplikace přistupovat ke zdroji, který vrátil <xref:System.Windows.Markup.MarkupExtension> objektu v dřívějších verzích, odkaz na objekt, který je vrácen z <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A>, místo <xref:System.Windows.Markup.MarkupExtension> objektu.</span><span class="sxs-lookup"><span data-stu-id="3b226-708">If your application accesses a resource that returned a <xref:System.Windows.Markup.MarkupExtension> object in earlier versions, reference the object that is returned from <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A>, instead of the <xref:System.Windows.Markup.MarkupExtension> object.</span></span> |
| <span data-ttu-id="3b226-709">**Analýza atributy**</span><span class="sxs-lookup"><span data-stu-id="3b226-709">**Parsing attributes**</span></span> | <span data-ttu-id="3b226-710">Atributy v jazyce XAML nyní mohou mít pouze jeden období.</span><span class="sxs-lookup"><span data-stu-id="3b226-710">Attributes in XAML can now have only one period.</span></span> <span data-ttu-id="3b226-711">Například následující jsou platné:</span><span class="sxs-lookup"><span data-stu-id="3b226-711">For example, the following are valid:</span></span><br><br><span data-ttu-id="3b226-712">`<Button Background="Red"/>` (bez tečky)</span><span class="sxs-lookup"><span data-stu-id="3b226-712">`<Button Background="Red"/>` (no periods)</span></span><br><br><span data-ttu-id="3b226-713">`<Button Button.Background = "Red"/>` (jedna tečka)</span><span class="sxs-lookup"><span data-stu-id="3b226-713">`<Button Button.Background = "Red"/>` (one period)</span></span><br><br><span data-ttu-id="3b226-714">Následující již není platný:</span><span class="sxs-lookup"><span data-stu-id="3b226-714">The following is no longer valid:</span></span><br><br><span data-ttu-id="3b226-715">`<Button Control.Button.Background = "Red"/>` (více než jedno období)</span><span class="sxs-lookup"><span data-stu-id="3b226-715">`<Button Control.Button.Background = "Red"/>` (more than one period)</span></span> | <span data-ttu-id="3b226-716">Správné atributy XAML, které mají více než jedno období.</span><span class="sxs-lookup"><span data-stu-id="3b226-716">Correct XAML attributes that have more than one period.</span></span> |

## <a name="xml"></a><span data-ttu-id="3b226-717">XML</span><span class="sxs-lookup"><span data-stu-id="3b226-717">XML</span></span>

<span data-ttu-id="3b226-718">Řádky v této tabulce popisují vylepšení funkcí, které měly dříve omezení nebo jiné problémy.</span><span class="sxs-lookup"><span data-stu-id="3b226-718">The rows in this table describe improvements to features that previously had limitations or other issues.</span></span>

### <a name="schema-and-transforms"></a><span data-ttu-id="3b226-719">Schéma a transformace</span><span class="sxs-lookup"><span data-stu-id="3b226-719">Schema and transforms</span></span>

<span data-ttu-id="3b226-720">Obory názvů: <xref:System.Xml.Linq>; <xref:System.Xml.Schema>, <xref:System.Xml.XPath>; sestavení: System.Xml (v System.Xml.dll), System.Xml.Linq (v knihovně System.Xml.Linq.dll)</span><span class="sxs-lookup"><span data-stu-id="3b226-720">Namespaces: <xref:System.Xml.Linq>; <xref:System.Xml.Schema>, <xref:System.Xml.XPath>; assemblies: System.Xml (in System.Xml.dll), System.Xml.Linq (in System.Xml.Linq.dll)</span></span>

| <span data-ttu-id="3b226-721">Funkce</span><span class="sxs-lookup"><span data-stu-id="3b226-721">Feature</span></span> | <span data-ttu-id="3b226-722">Rozdíl oproti 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="3b226-722">Differences from 3.5 SP1</span></span> |
| ------- | ------------------------ |
| <span data-ttu-id="3b226-723">**Schémata Chameleon**</span><span class="sxs-lookup"><span data-stu-id="3b226-723">**Chameleon schemas**</span></span> | <span data-ttu-id="3b226-724">Chcete-li zabránit poškození dat, schémata chameleon jsou nyní klonovat správně když jsou součástí více schémat.</span><span class="sxs-lookup"><span data-stu-id="3b226-724">To prevent data corruption, chameleon schemas are now cloned correctly when they are included with multiple schemas.</span></span><br><br><span data-ttu-id="3b226-725">Schémata Chameleon jsou schémat, které nemají cílový obor názvů, a když jsou zahrnuty v jiné XSD, proveďte na cílový obor názvů import schématu.</span><span class="sxs-lookup"><span data-stu-id="3b226-725">Chameleon schemas are schemas that do not have a target namespace, and when they are included in another XSD, they take on the target namespace of the importing schema.</span></span> <span data-ttu-id="3b226-726">Často se používají k přidání běžné typy do schématu.</span><span class="sxs-lookup"><span data-stu-id="3b226-726">They are often used to include common types into a schema.</span></span> |
| <span data-ttu-id="3b226-727">**Funkce ID**</span><span class="sxs-lookup"><span data-stu-id="3b226-727">**ID functions**</span></span> | <span data-ttu-id="3b226-728">Soubor XSLT [funkce id](/sql/xquery/functions-on-sequences-id) nyní vrací správnou hodnotu místo null v případě <xref:System.Xml.XmlReader> objekt předaný XLST vztahuje.</span><span class="sxs-lookup"><span data-stu-id="3b226-728">The XSLT [id function](/sql/xquery/functions-on-sequences-id) now returns the correct value instead of null when an <xref:System.Xml.XmlReader> object is passed to an XLST.</span></span><br><br><span data-ttu-id="3b226-729">Pokud uživatel vytvořil <xref:System.Xml.XmlReader> objekt z LINQ na třídy XML pomocí <xref:System.Xml.Linq.XNode.CreateReader%2A> metodu a to <xref:System.Xml.XmlReader> byl předán objekt XSLT, všechny instance `id` funkce v XSLT předtím vrátila hodnotu null.</span><span class="sxs-lookup"><span data-stu-id="3b226-729">If the user created an <xref:System.Xml.XmlReader> object from a LINQ to XML class by using the <xref:System.Xml.Linq.XNode.CreateReader%2A> method, and this <xref:System.Xml.XmlReader> object was passed to an XSLT, any instances of the `id` function in the XSLT previously returned null.</span></span> <span data-ttu-id="3b226-730">Toto není povolená vrácená hodnota pro `id` funkce.</span><span class="sxs-lookup"><span data-stu-id="3b226-730">This is not an allowed return value for the `id` function.</span></span> |
| <span data-ttu-id="3b226-731">**Atribut Namespace**</span><span class="sxs-lookup"><span data-stu-id="3b226-731">**Namespace attribute**</span></span> | <span data-ttu-id="3b226-732">Chcete-li zabránit poškození dat, <xref:System.Xml.XPath.XPathNavigator> teď vrací místní název `x:xmlns` atribut správně.</span><span class="sxs-lookup"><span data-stu-id="3b226-732">To prevent data corruption, an <xref:System.Xml.XPath.XPathNavigator> object now returns the local name of the `x:xmlns` attribute correctly.</span></span> |
| <span data-ttu-id="3b226-733">**Namespace – deklarace**</span><span class="sxs-lookup"><span data-stu-id="3b226-733">**Namespace declarations**</span></span> | <span data-ttu-id="3b226-734"><xref:System.Xml.XmlReader> Objektu na dílčí stromu už vytvoří duplicitní deklarace oboru názvů v rámci jednoho elementu XML.</span><span class="sxs-lookup"><span data-stu-id="3b226-734">An <xref:System.Xml.XmlReader> object on a sub-tree no longer creates duplicate namespace declarations within one XML element.</span></span> |
| <span data-ttu-id="3b226-735">**Ověření schématu**</span><span class="sxs-lookup"><span data-stu-id="3b226-735">**Schema validation**</span></span> | <span data-ttu-id="3b226-736">Aby se zabránilo chybnému ověření schématu, <xref:System.Xml.Schema.XmlSchemaSet> umožňuje třídu XSD schémata sestavují správnou a konzistentní.</span><span class="sxs-lookup"><span data-stu-id="3b226-736">To prevent erroneous schema validation, the <xref:System.Xml.Schema.XmlSchemaSet> class allows for XSD schemas to be compiled correctly and consistently.</span></span> <span data-ttu-id="3b226-737">Tato schémata mohou zahrnovat jiná schémata; například `A.xsd` mohou zahrnovat `B.xsd`, což může zahrnovat `C.xsd`.</span><span class="sxs-lookup"><span data-stu-id="3b226-737">These schemas can include other schemas; for example, `A.xsd` can include `B.xsd`, which can include `C.xsd`.</span></span> <span data-ttu-id="3b226-738">Kompilování kterékoli z těchto příčin tohoto grafu závislostí nelze procházet.</span><span class="sxs-lookup"><span data-stu-id="3b226-738">Compiling any one of these causes this graph of dependencies to be traversed.</span></span> |
| <span data-ttu-id="3b226-739">**Funkce skriptu**</span><span class="sxs-lookup"><span data-stu-id="3b226-739">**Script functions**</span></span> | <span data-ttu-id="3b226-740">[Funkce dostupné funkce](https://msdn.microsoft.com/library/ms256124(v=vs.110).aspx) již nesprávně vrací `false` při funkce je ve skutečnosti k dispozici.</span><span class="sxs-lookup"><span data-stu-id="3b226-740">The [function-available function](https://msdn.microsoft.com/library/ms256124(v=vs.110).aspx) no longer incorrectly returns `false` when the function is actually available.</span></span> |
| <span data-ttu-id="3b226-741">**Identifikátory URI**</span><span class="sxs-lookup"><span data-stu-id="3b226-741">**URIs**</span></span> | <span data-ttu-id="3b226-742"><xref:System.Xml.Linq.XElement.Load%2A> Metoda nyní vrátí správné BaseURI v dotazech LINQ.</span><span class="sxs-lookup"><span data-stu-id="3b226-742">The <xref:System.Xml.Linq.XElement.Load%2A> method now returns the correct BaseURI in LINQ queries.</span></span> |

### <a name="validation"></a><span data-ttu-id="3b226-743">Ověřování</span><span class="sxs-lookup"><span data-stu-id="3b226-743">Validation</span></span>

<span data-ttu-id="3b226-744">Obory názvů: <xref:System.Xml.Linq>; <xref:System.Xml.Schema>, <xref:System.Xml.XPath>; sestavení: System.Xml (v System.Xml.dll), System.Xml.Linq (v knihovně System.Xml.Linq.dll)</span><span class="sxs-lookup"><span data-stu-id="3b226-744">Namespaces: <xref:System.Xml.Linq>; <xref:System.Xml.Schema>, <xref:System.Xml.XPath>; assemblies: System.Xml (in System.Xml.dll), System.Xml.Linq (in System.Xml.Linq.dll)</span></span>

| <span data-ttu-id="3b226-745">Funkce</span><span class="sxs-lookup"><span data-stu-id="3b226-745">Feature</span></span> | <span data-ttu-id="3b226-746">Rozdíl oproti 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="3b226-746">Differences from 3.5 SP1</span></span> |
| ------- | ------------------------ |
| <span data-ttu-id="3b226-747">**Namespace překladače**</span><span class="sxs-lookup"><span data-stu-id="3b226-747">**Namespace resolvers**</span></span> | <span data-ttu-id="3b226-748"><xref:System.Xml.XmlReader.ReadContentAs%2A> Metoda už ignoruje <xref:System.Xml.IXmlNamespaceResolver> do ní předán překladač.</span><span class="sxs-lookup"><span data-stu-id="3b226-748">The <xref:System.Xml.XmlReader.ReadContentAs%2A> method no longer ignores the <xref:System.Xml.IXmlNamespaceResolver> resolver passed to it.</span></span><br><br><span data-ttu-id="3b226-749">V předchozích verzích byla ignorována překladač zadaného oboru názvů a <xref:System.Xml.XmlReader> místo toho použít.</span><span class="sxs-lookup"><span data-stu-id="3b226-749">In previous versions, the specified namespace resolver was ignored, and the <xref:System.Xml.XmlReader> was used instead.</span></span> |
| <span data-ttu-id="3b226-750">**Prázdné znaky**</span><span class="sxs-lookup"><span data-stu-id="3b226-750">**White space**</span></span> | <span data-ttu-id="3b226-751">Aby se zabránilo ztrátě dat při vytváření čtečka čipových karet, <xref:System.Xml.XmlReader.Create%2A> metoda již neodstraňuje významné prázdné znaky.</span><span class="sxs-lookup"><span data-stu-id="3b226-751">To prevent data loss when you are creating a reader, the <xref:System.Xml.XmlReader.Create%2A> method no longer discards significant white space.</span></span><br><br><span data-ttu-id="3b226-752">Ověření XML rozpozná režim pro smíšený obsah, kde může být text míchán s kódem XML.</span><span class="sxs-lookup"><span data-stu-id="3b226-752">XML validation recognizes mixed-content mode, where text can be intermixed with XML markup.</span></span> <span data-ttu-id="3b226-753">Ve smíšeném režimu všech mezer je důležité a měly by být uvedeny.</span><span class="sxs-lookup"><span data-stu-id="3b226-753">In mixed mode, all white space is significant and should be reported.</span></span> |

### <a name="writing"></a><span data-ttu-id="3b226-754">Zápis</span><span class="sxs-lookup"><span data-stu-id="3b226-754">Writing</span></span>

<span data-ttu-id="3b226-755">Obory názvů: <xref:System.Xml.Linq>; <xref:System.Xml.Schema>, <xref:System.Xml.XPath>; sestavení: System.Xml (v System.Xml.dll), System.Xml.Linq (v knihovně System.Xml.Linq.dll)</span><span class="sxs-lookup"><span data-stu-id="3b226-755">Namespaces: <xref:System.Xml.Linq>; <xref:System.Xml.Schema>, <xref:System.Xml.XPath>; assemblies: System.Xml (in System.Xml.dll), System.Xml.Linq (in System.Xml.Linq.dll)</span></span>

| <span data-ttu-id="3b226-756">Funkce</span><span class="sxs-lookup"><span data-stu-id="3b226-756">Feature</span></span> | <span data-ttu-id="3b226-757">Rozdíl oproti 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="3b226-757">Differences from 3.5 SP1</span></span> |
| ------- | ------------------------ |
| <span data-ttu-id="3b226-758">**Odkazy na entity**</span><span class="sxs-lookup"><span data-stu-id="3b226-758">**Entity references**</span></span> | <span data-ttu-id="3b226-759">Chcete-li zabránit poškození dat, jsou odkazy na entity už vytvářeny dvakrát v atributy XML.</span><span class="sxs-lookup"><span data-stu-id="3b226-759">To prevent data corruption, entity references are no longer entitized twice in XML attributes.</span></span><br><br><span data-ttu-id="3b226-760">Pokud uživatel se pokusil zapsat entitu do `xmlns` atribut nebo do `xml:lang` nebo `xml:space` atribut pomocí <xref:System.Xml.XmlWriter.WriteEntityRef%2A> metoda entita byla vytvářeny dvakrát v výstup, proto došlo k poškození dat.</span><span class="sxs-lookup"><span data-stu-id="3b226-760">If the user tried to write an entity into an `xmlns` attribute or into an `xml:lang` or `xml:space` attribute by using the <xref:System.Xml.XmlWriter.WriteEntityRef%2A> method, the entity was entitized twice in the output, therefore corrupting the data.</span></span> |
| <span data-ttu-id="3b226-761">**Zpracování nového řádku**</span><span class="sxs-lookup"><span data-stu-id="3b226-761">**New line handling**</span></span> | <span data-ttu-id="3b226-762">Chcete-li zabránit poškození dat, <xref:System.Xml.XmlWriter> objekty ohledem <xref:System.Xml.NewLineHandling> možnost.</span><span class="sxs-lookup"><span data-stu-id="3b226-762">To prevent data corruption, <xref:System.Xml.XmlWriter> objects respect the <xref:System.Xml.NewLineHandling> option.</span></span> |

## <a name="see-also"></a><span data-ttu-id="3b226-763">Viz také</span><span class="sxs-lookup"><span data-stu-id="3b226-763">See also</span></span>

### <a name="reference"></a><span data-ttu-id="3b226-764">Odkaz</span><span class="sxs-lookup"><span data-stu-id="3b226-764">Reference</span></span>

<span data-ttu-id="3b226-765">[Nové typy a členy v rozhraní .NET Framework 4](https://msdn.microsoft.com/library/ff641764(v=vs.100).aspx)</span><span class="sxs-lookup"><span data-stu-id="3b226-765">[New Types and Members in the .NET Framework 4](https://msdn.microsoft.com/library/ff641764(v=vs.100).aspx)</span></span>

### <a name="concepts"></a><span data-ttu-id="3b226-766">Koncepty</span><span class="sxs-lookup"><span data-stu-id="3b226-766">Concepts</span></span>

<span data-ttu-id="3b226-767">[Příručka k migraci na rozhraní .NET Framework 4](https://msdn.microsoft.com/library/ff657133(v=vs.100).aspx) </span><span class="sxs-lookup"><span data-stu-id="3b226-767">[Migration Guide to the .NET Framework 4](https://msdn.microsoft.com/library/ff657133(v=vs.100).aspx) </span></span>  
<span data-ttu-id="3b226-768">[Co je nového v rozhraní .NET Framework 4](https://msdn.microsoft.com/library/ms171868(v=vs.100).aspx) </span><span class="sxs-lookup"><span data-stu-id="3b226-768">[What's New in the .NET Framework 4](https://msdn.microsoft.com/library/ms171868(v=vs.100).aspx) </span></span>  
<span data-ttu-id="3b226-769">[Kompatibilita verzí v rozhraní .NET Framework](../../../docs/framework/migration-guide/version-compatibility.md) </span><span class="sxs-lookup"><span data-stu-id="3b226-769">[Version Compatibility in the .NET Framework](../../../docs/framework/migration-guide/version-compatibility.md) </span></span>  
[<span data-ttu-id="3b226-770">Migrace řešení Office na rozhraní .NET Framework 4</span><span class="sxs-lookup"><span data-stu-id="3b226-770">Migrating Office Solutions to the .NET Framework 4</span></span>](https://msdn.microsoft.com/library/ee207231.aspx)

### <a name="other-resources"></a><span data-ttu-id="3b226-771">Další zdroje</span><span class="sxs-lookup"><span data-stu-id="3b226-771">Other resources</span></span>

<span data-ttu-id="3b226-772">[Zastaralé v rozhraní .NET Framework](https://msdn.microsoft.com/library/ee461502(v=vs.110).aspx) </span><span class="sxs-lookup"><span data-stu-id="3b226-772">[What's Obsolete in the .NET Framework](https://msdn.microsoft.com/library/ee461502(v=vs.110).aspx) </span></span>  
[<span data-ttu-id="3b226-773">Problémy s migrací pro aplikace .NET Framework 4: Beta 2 RTM</span><span class="sxs-lookup"><span data-stu-id="3b226-773">Migration Issues for .NET Framework 4 Applications: Beta 2 to RTM</span></span>](http://go.microsoft.com/fwlink/?LinkId=191505)
