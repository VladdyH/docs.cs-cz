---
title: 'Postupy: Konfigurace aplikace pro podporu rozhraní .NET Framework 4 nebo 4.5'
ms.date: 03/30/2017
helpviewer_keywords:
- configuring apps to support .NET Framework 4
- .NET Framework 4, configuring apps
- .NET Framework 4.5, configuring apps
ms.assetid: 63c6b9a8-0088-4077-9aa3-521ab7290f79
author: mairaw
ms.author: mairaw
ms.openlocfilehash: 45044e286fa48149c117e97c2e22aa8a0b7d5ce3
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 05/04/2018
ms.locfileid: "33393699"
---
# <a name="how-to-configure-an-app-to-support-net-framework-4-or-45"></a><span data-ttu-id="7f839-102">Postupy: Konfigurace aplikace pro podporu rozhraní .NET Framework 4 nebo 4.5</span><span class="sxs-lookup"><span data-stu-id="7f839-102">How to: Configure an App to Support .NET Framework 4 or 4.5</span></span>
<span data-ttu-id="7f839-103">Všechny aplikace, které jsou hostiteli common language runtime (CLR) nutné spustit, nebo *aktivovat*, aby bylo možné spustit spravovaného kódu modulu CLR.</span><span class="sxs-lookup"><span data-stu-id="7f839-103">All apps that host the common language runtime (CLR) need to start, or *activate*, the CLR in order to run managed code.</span></span> <span data-ttu-id="7f839-104">Obvykle aplikace .NET Framework funguje ve verzi modulu CLR, pro kterou byla sestavena, ale toto chování stolních aplikací můžete změnit pomocí konfiguračního souboru aplikace (někdy označovaného jako soubor app.config).</span><span class="sxs-lookup"><span data-stu-id="7f839-104">Typically, a   .NET Framework app runs on the version of the CLR that it was built on, but you can change this behavior for desktop apps by using an application configuration file (sometimes referred to as an app.config file).</span></span> <span data-ttu-id="7f839-105">Nelze však změnit výchozí chování aktivace aplikací pro Windows Store nebo Windows Phone pomocí konfiguračního souboru aplikace.</span><span class="sxs-lookup"><span data-stu-id="7f839-105">However, you cannot change the default activation behavior for Windows Store apps or Windows Phone apps by using an application configuration file.</span></span> <span data-ttu-id="7f839-106">Tento článek vysvětluje, jak povolit stolní aplikaci spuštění v jiné verzi rozhraní .NET Framework, a poskytuje příklad, jak se zaměřit na verzi 4 nebo 4.5.</span><span class="sxs-lookup"><span data-stu-id="7f839-106">This article explains how to enable your desktop app to run on another version of the .NET Framework and provides an example of how to target version 4 or 4.5.</span></span>  
  
 <span data-ttu-id="7f839-107">Verze rozhraní .NET Framework, na které aplikace poběží, je určena následovně:</span><span class="sxs-lookup"><span data-stu-id="7f839-107">The version of the .NET Framework that an app runs on is determined in the following order:</span></span>  
  
-   <span data-ttu-id="7f839-108">Konfigurační soubor.</span><span class="sxs-lookup"><span data-stu-id="7f839-108">Configuration file.</span></span>  
  
     <span data-ttu-id="7f839-109">Pokud konfigurační soubor aplikace obsahuje [ \<supportedRuntime >](../../../docs/framework/configure-apps/file-schema/startup/supportedruntime-element.md) položky, které zadejte jeden nebo více verzí rozhraní .NET Framework a jednu z těchto verzí je k dispozici v počítači uživatele, spuštění aplikace na tuto verzi .</span><span class="sxs-lookup"><span data-stu-id="7f839-109">If the application configuration file includes [\<supportedRuntime>](../../../docs/framework/configure-apps/file-schema/startup/supportedruntime-element.md) entries that specify one or more .NET Framework versions, and one of those versions is present on the user's computer, the app runs on that version.</span></span> <span data-ttu-id="7f839-110">Čte konfigurační soubor [ \<supportedRuntime >](../../../docs/framework/configure-apps/file-schema/startup/supportedruntime-element.md) položky v pořadí, které jsou uvedeny a použije zobrazí první verze rozhraní .NET Framework, které se nachází v počítači uživatele.</span><span class="sxs-lookup"><span data-stu-id="7f839-110">The configuration file reads [\<supportedRuntime>](../../../docs/framework/configure-apps/file-schema/startup/supportedruntime-element.md) entries in the order they are listed, and uses the first .NET Framework version listed that is present on the user's computer.</span></span> <span data-ttu-id="7f839-111">(Použití [ \<requiredRuntime > element](../../../docs/framework/configure-apps/file-schema/startup/requiredruntime-element.md) pro verzi 1.0.)</span><span class="sxs-lookup"><span data-stu-id="7f839-111">(Use the [\<requiredRuntime> element](../../../docs/framework/configure-apps/file-schema/startup/requiredruntime-element.md) for version 1.0.)</span></span>  
  
-   <span data-ttu-id="7f839-112">Kompilovaná verze.</span><span class="sxs-lookup"><span data-stu-id="7f839-112">Compiled version.</span></span>  
  
     <span data-ttu-id="7f839-113">Pokud neexistuje konfigurační soubor, ale verze rozhraní .NET Framework, pro kterou byla aplikace vytvořena, je přítomna v počítači uživatele, aplikace bude spuštěna v této verzi.</span><span class="sxs-lookup"><span data-stu-id="7f839-113">If there is no configuration file, but the version of the .NET Framework that the app was built on is present on the user's computer, the app runs on that version.</span></span>  
  
-   <span data-ttu-id="7f839-114">Nainstalována je nejnovější verze.</span><span class="sxs-lookup"><span data-stu-id="7f839-114">Latest version installed.</span></span>  
  
     <span data-ttu-id="7f839-115">Pokud není k dispozici verzi rozhraní .NET Framework, který aplikaci byl postavený na a konfigurační soubor není uveden ve na verzi [ \<supportedRuntime > element](../../../docs/framework/configure-apps/file-schema/startup/supportedruntime-element.md), aplikace se pokusí spustit na nejnovější verzi rozhraní .NET Rozhraní, které se nachází v počítači uživatele.</span><span class="sxs-lookup"><span data-stu-id="7f839-115">If the version of the .NET Framework that the app was built on is not present and a configuration file does not specify a version in a [\<supportedRuntime> element](../../../docs/framework/configure-apps/file-schema/startup/supportedruntime-element.md), the app tries to run on the latest version of the .NET Framework that is present on the user's computer.</span></span>  
  
     <span data-ttu-id="7f839-116">Aplikace rozhraní .NET Framework 1.0, 1.1, 2.0, 3.0 a 3.5 se však nemusí automaticky spustit v rozhraní .NET Framework 4 nebo vyšším a v některých případech může uživatel obdržet chybovou zprávu s výzvou k instalaci rozhraní .NET Framework 3.5.</span><span class="sxs-lookup"><span data-stu-id="7f839-116">However, .NET Framework 1.0, 1.1, 2.0, 3.0, and 3.5 apps do not automatically run on the .NET Framework 4 or later, and in some cases, the user may receive an error and may be prompted to install the .NET Framework 3.5.</span></span> <span data-ttu-id="7f839-117">Chování aktivace závisí rovněž na operačním systému uživatele, protože různé verze systému Windows obsahují různé verze rozhraní .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="7f839-117">The activation behavior may also depend on the user’s operating system, because  different versions of Windows system include different versions of the .NET Framework.</span></span> <span data-ttu-id="7f839-118">Pokud vaše aplikace podporuje rozhraní .NET Framework 3.5 a 4 nebo vyšší, doporučujeme označit to více záznamy v konfiguračním souboru, aby nedocházelo k chybám inicializace rozhraní .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="7f839-118">If your app supports both the .NET Framework 3.5 and 4 or later, we recommend that you indicate this with multiple entries in the configuration file to avoid .NET Framework initialization errors.</span></span> <span data-ttu-id="7f839-119">Další informace najdete v tématu [verze a závislosti](../../../docs/framework/migration-guide/versions-and-dependencies.md).</span><span class="sxs-lookup"><span data-stu-id="7f839-119">For more information, see [Versions and Dependencies](../../../docs/framework/migration-guide/versions-and-dependencies.md).</span></span>  
  
 <span data-ttu-id="7f839-120">Můžete také nastavit aplikace rozhraní .NET Framework 3.5 k běhu v rozhraní .NET Framework 4 nebo 4.5 i v počítačích s nainstalovaným rozhraním .NET Framework 3.5 a získat tak lepší výkon rozhraní .NET Framework 4 a 4.5.</span><span class="sxs-lookup"><span data-stu-id="7f839-120">You might also want to configure your .NET Framework 3.5 apps to run on the .NET Framework 4 or 4.5, even on computers that have the .NET Framework 3.5 installed, to take advantage of the performance improvements in versions 4 and 4.5.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="7f839-121">Doporučujeme vždy testovat aplikaci v každé verzi rozhraní .NET Framework, kterou podporujete.</span><span class="sxs-lookup"><span data-stu-id="7f839-121">We recommend that you always test your app on every .NET Framework version that you support.</span></span> <span data-ttu-id="7f839-122">V tématu [kompatibilitu verzí](../../../docs/framework/migration-guide/version-compatibility.md) informace o upgradu vaší aplikace pro podporu novější verze rozhraní .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="7f839-122">See [Version Compatibility](../../../docs/framework/migration-guide/version-compatibility.md) for information about upgrading your application to support later .NET Framework versions.</span></span>  
  
 <span data-ttu-id="7f839-123">Informace o úpravách aplikace rozhraní .NET Framework 1.0 a 1.1 pro podporu Windows 7 a Windows 8 najdete v tématu [migrace z verze rozhraní .NET Framework 1.1](../../../docs/framework/migration-guide/migrating-from-the-net-framework-1-1.md).</span><span class="sxs-lookup"><span data-stu-id="7f839-123">For information about modifying your .NET Framework 1.0 and 1.1 apps to support Windows 7 and Windows 8, see [Migrating from the .NET Framework 1.1](../../../docs/framework/migration-guide/migrating-from-the-net-framework-1-1.md).</span></span>  
  
### <a name="to-configure-your-app-to-run-on-the-net-framework-4-or-45"></a><span data-ttu-id="7f839-124">Konfigurace aplikace pro spuštění v rozhraní .NET Framework 4 nebo 4.5</span><span class="sxs-lookup"><span data-stu-id="7f839-124">To configure your app to run on the .NET Framework 4 or 4.5</span></span>  
  
1.  <span data-ttu-id="7f839-125">Přidejte nebo vyhledejte konfigurační soubor pro projekt s rozhraním .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="7f839-125">Add or locate the configuration file for the .NET Framework project.</span></span> <span data-ttu-id="7f839-126">Konfigurační soubor pro aplikaci je ve stejném adresáři jako aplikace a má stejný název jako aplikace, avšak má příponu .config.</span><span class="sxs-lookup"><span data-stu-id="7f839-126">The configuration file for an app is in the same directory and has the same name as the app, but has a .config extension.</span></span> <span data-ttu-id="7f839-127">Například pro aplikaci s názvem MyExecutable.exe musí mít konfigurační soubor aplikace název MyExecutable.exe.config.</span><span class="sxs-lookup"><span data-stu-id="7f839-127">For example, for an app named MyExecutable.exe, the application configuration file is named MyExecutable.exe.config.</span></span>  
  
     <span data-ttu-id="7f839-128">Chcete-li přidat konfigurační soubor, na panelu nabídek Visual Studio zvolte **projektu**, **přidat novou položku**.</span><span class="sxs-lookup"><span data-stu-id="7f839-128">To add a configuration file, on the Visual Studio menu bar, choose **Project**, **Add New Item**.</span></span> <span data-ttu-id="7f839-129">Zvolte **Obecné** v levém podokně a potom zvolte **konfigurační soubor**.</span><span class="sxs-lookup"><span data-stu-id="7f839-129">Choose **General** from the left pane, and then choose **Configuration File**.</span></span>  <span data-ttu-id="7f839-130">Název konfiguračního souboru *appName*. exe.config. Tyto možnosti nabídek nejsou k dispozici pro projekty aplikací pro Windows Store ani aplikací pro Windows Phone, protože na těchto platformách nelze změnit zásady aktivace.</span><span class="sxs-lookup"><span data-stu-id="7f839-130">Name the configuration file *appName*.exe.config. These menu choices are not available for Windows Store app or Windows phone app projects, because you cannot change the activation policy on those platforms.</span></span>  
  
2.  <span data-ttu-id="7f839-131">Přidat [ \<supportedRuntime >](../../../docs/framework/configure-apps/file-schema/startup/supportedruntime-element.md) element následujícím způsobem, aby konfigurační soubor aplikace:</span><span class="sxs-lookup"><span data-stu-id="7f839-131">Add the [\<supportedRuntime>](../../../docs/framework/configure-apps/file-schema/startup/supportedruntime-element.md) element as follows to the application configuration file:</span></span>  
  
    ```xml  
    <configuration>  
      <startup>  
        <supportedRuntime version="<version>"/>  
      </startup>  
    </configuration>  
    ```  
  
     <span data-ttu-id="7f839-132">kde  *\<verze >* Určuje verzi modulu CLR, zarovnaná s verzi rozhraní .NET Framework, který podporuje aplikace.</span><span class="sxs-lookup"><span data-stu-id="7f839-132">where *\<version>* specifies the CLR version that aligns with the .NET Framework version that your app supports.</span></span> <span data-ttu-id="7f839-133">Použijte následující řetězce:</span><span class="sxs-lookup"><span data-stu-id="7f839-133">Use the following strings:</span></span>  
  
    -   <span data-ttu-id="7f839-134">Rozhraní .NET Framework 1.0: „v1.0.3705“</span><span class="sxs-lookup"><span data-stu-id="7f839-134">.NET Framework 1.0: "v1.0.3705"</span></span>  
  
    -   <span data-ttu-id="7f839-135">Rozhraní .NET Framework 1.1: „v1.1.4322“</span><span class="sxs-lookup"><span data-stu-id="7f839-135">.NET Framework 1.1: "v1.1.4322"</span></span>  
  
    -   <span data-ttu-id="7f839-136">Rozhraní .NET Framework 2.0, 3.0 a 3.5: „v2.0.50727“</span><span class="sxs-lookup"><span data-stu-id="7f839-136">.NET Framework 2.0, 3.0, and 3.5: "v2.0.50727"</span></span>  
  
    -   <span data-ttu-id="7f839-137">Rozhraní .NET Framework 4 a 4.5 (včetně dílčích verzí, například 4.5.1): "v4.0"</span><span class="sxs-lookup"><span data-stu-id="7f839-137">.NET Framework 4 and 4.5 (including point releases such as 4.5.1): "v4.0"</span></span>  
  
     <span data-ttu-id="7f839-138">Můžete přidat více [ \<supportedRuntime >](../../../docs/framework/configure-apps/file-schema/startup/supportedruntime-element.md) prvky, které jsou uvedeny v pořadí podle preference, určit podporu pro více verzí rozhraní .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="7f839-138">You can add multiple [\<supportedRuntime>](../../../docs/framework/configure-apps/file-schema/startup/supportedruntime-element.md) elements, listed in order of preference, to specify support for multiple versions of the .NET Framework.</span></span>  
  
 <span data-ttu-id="7f839-139">Následující tabulka ukazuje, jak nastavení konfiguračního souboru a nainstalované verze rozhraní .NET Framework na počítači určují, na které verzi se aplikace pro rozhraní .NET Framework 3.5 spustí.</span><span class="sxs-lookup"><span data-stu-id="7f839-139">The following table demonstrates how application configuration file settings and the .NET Framework versions installed on a computer determine the version that a .NET Framework 3.5 app runs on.</span></span> <span data-ttu-id="7f839-140">Příklady jsou specifické pro aplikaci rozhraní .NET Framework 3.5, ale můžete použít podobnou logiku pro cílovou aplikaci vytvořenou pomocí předchozích verzí rozhraní .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="7f839-140">The examples are specific to a .NET Framework 3.5 application, but you can use similar logic to target applications built with earlier .NET Framework versions.</span></span> <span data-ttu-id="7f839-141">Číslo verze rozhraní .NET Framework 2.0 (v2.0.50727) se používá k určení rozhraní .NET Framework 3.5 v konfiguračním souboru aplikace.</span><span class="sxs-lookup"><span data-stu-id="7f839-141">Note that the .NET Framework 2.0 version number (v2.0.50727) is used to specify the .NET Framework 3.5 in the application configuration file.</span></span>  
  
|<span data-ttu-id="7f839-142">Nastavení souboru app.config</span><span class="sxs-lookup"><span data-stu-id="7f839-142">App.config file setting</span></span>|<span data-ttu-id="7f839-143">V počítači s nainstalovanou verzí 3.5</span><span class="sxs-lookup"><span data-stu-id="7f839-143">On computer with version 3.5 installed</span></span>|<span data-ttu-id="7f839-144">V počítači s nainstalovanou verzí 3.5, 4 nebo 4.5</span><span class="sxs-lookup"><span data-stu-id="7f839-144">On computer with versions 3.5 and 4 or 4.5 installed</span></span>|<span data-ttu-id="7f839-145">V počítači s nainstalovanou verzí 4 nebo 4.5</span><span class="sxs-lookup"><span data-stu-id="7f839-145">On computer with version 4 or 4.5 installed</span></span>|  
|-|-|-|-|  
|<span data-ttu-id="7f839-146">Žádné</span><span class="sxs-lookup"><span data-stu-id="7f839-146">None</span></span>|<span data-ttu-id="7f839-147">Spustí se na 3.5</span><span class="sxs-lookup"><span data-stu-id="7f839-147">Runs on 3.5</span></span>|<span data-ttu-id="7f839-148">Spustí se na 3.5</span><span class="sxs-lookup"><span data-stu-id="7f839-148">Runs on 3.5</span></span>|<span data-ttu-id="7f839-149">Zobrazí se chybová zpráva, která vyzve uživatele k instalaci správné verze\*</span><span class="sxs-lookup"><span data-stu-id="7f839-149">Displays error message that prompts user to install the correct version\*</span></span>|  
|`<supportedRuntime version="v2.0.50727"/>`|<span data-ttu-id="7f839-150">Spustí se na 3.5</span><span class="sxs-lookup"><span data-stu-id="7f839-150">Runs on 3.5</span></span>|<span data-ttu-id="7f839-151">Spustí se na 3.5</span><span class="sxs-lookup"><span data-stu-id="7f839-151">Runs on 3.5</span></span>|<span data-ttu-id="7f839-152">Zobrazí se chybová zpráva, která vyzve uživatele k instalaci správné verze\*</span><span class="sxs-lookup"><span data-stu-id="7f839-152">Displays error message that prompts user to install the correct version\*</span></span>|  
|`<supportedRuntime version="v2.0.50727"/>` <br /> `<supportedRuntime version="v4.0"/>`|<span data-ttu-id="7f839-153">Spustí se na 3.5</span><span class="sxs-lookup"><span data-stu-id="7f839-153">Runs on 3.5</span></span>|<span data-ttu-id="7f839-154">Spustí se na 3.5</span><span class="sxs-lookup"><span data-stu-id="7f839-154">Runs on 3.5</span></span>|<span data-ttu-id="7f839-155">Spustí se na 4 nebo 4.5</span><span class="sxs-lookup"><span data-stu-id="7f839-155">Runs on 4 or 4.5</span></span>|  
|`<supportedRuntime version="v4.0"/>` <br /> `<supportedRuntime version="v2.0.50727"/>`|<span data-ttu-id="7f839-156">Spustí se na 3.5</span><span class="sxs-lookup"><span data-stu-id="7f839-156">Runs on 3.5</span></span>|<span data-ttu-id="7f839-157">Spustí se na 4 nebo 4.5</span><span class="sxs-lookup"><span data-stu-id="7f839-157">Runs on 4 or 4.5</span></span>|<span data-ttu-id="7f839-158">Spustí se na 4 nebo 4.5</span><span class="sxs-lookup"><span data-stu-id="7f839-158">Runs on 4 or 4.5</span></span>|  
|`<supportedRuntime version="v4.0"/>`|<span data-ttu-id="7f839-159">Zobrazí se chybová zpráva, která vyzve uživatele k instalaci správné verze\*</span><span class="sxs-lookup"><span data-stu-id="7f839-159">Displays error message that prompts user to install the correct version\*</span></span>|<span data-ttu-id="7f839-160">Spustí se na 4 nebo 4.5</span><span class="sxs-lookup"><span data-stu-id="7f839-160">Runs on 4 or 4.5</span></span>|<span data-ttu-id="7f839-161">Spustí se na 4 nebo 4.5</span><span class="sxs-lookup"><span data-stu-id="7f839-161">Runs on 4 or 4.5</span></span>|  
  
 <span data-ttu-id="7f839-162">\* Další informace o této chybové zprávě a způsoby, jak tomu zamezit najdete v tématu [rozhraní .NET Framework – chyby inicializace: Správa zkušeností uživatele](../../../docs/framework/deployment/initialization-errors-managing-the-user-experience.md).</span><span class="sxs-lookup"><span data-stu-id="7f839-162">\* For more information about this error message and ways to avoid it, see [.NET Framework Initialization Errors: Managing the User Experience](../../../docs/framework/deployment/initialization-errors-managing-the-user-experience.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="7f839-163">Viz také</span><span class="sxs-lookup"><span data-stu-id="7f839-163">See Also</span></span>  
 [<span data-ttu-id="7f839-164">Migrace z rozhraní .NET Framework 1.1</span><span class="sxs-lookup"><span data-stu-id="7f839-164">Migrating from the .NET Framework 1.1</span></span>](../../../docs/framework/migration-guide/migrating-from-the-net-framework-1-1.md)  
 [<span data-ttu-id="7f839-165">Průvodce migrací</span><span class="sxs-lookup"><span data-stu-id="7f839-165">Migration Guide</span></span>](../../../docs/framework/migration-guide/index.md)
