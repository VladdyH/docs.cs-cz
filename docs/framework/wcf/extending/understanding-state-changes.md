---
title: "Principy změn stavů"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: a79ed2aa-e49a-47a8-845a-c9f436ec9987
caps.latest.revision: "13"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.openlocfilehash: 9f93b1e9fdb1569507937c5381b157204ac88f87
ms.sourcegitcommit: ce279f2d7fe2220e6ea0a25a8a7a5370ddf8d9f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 12/02/2017
---
# <a name="understanding-state-changes"></a><span data-ttu-id="7cb0c-102">Principy změn stavů</span><span class="sxs-lookup"><span data-stu-id="7cb0c-102">Understanding State Changes</span></span>
<span data-ttu-id="7cb0c-103">Toto téma popisuje stavy a přechody, které mají kanály, typy používané struktura kanál stavy a jejich implementaci.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-103">This topic discusses the states and transitions that channels have, the types used to structure channel states, and how to implement them.</span></span>  
  
## <a name="state-machines-and-channels"></a><span data-ttu-id="7cb0c-104">Stav počítače a kanály</span><span class="sxs-lookup"><span data-stu-id="7cb0c-104">State Machines and Channels</span></span>  
 <span data-ttu-id="7cb0c-105">Objekty, které pracují s komunikace, například soketů, obvykle prezentovat stavu počítače, jejichž přechodů mezi stavy se týkají přidělování prostředků sítě, která nebo přijímá připojení, ukončením připojení a komunikaci se ukončuje.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-105">Objects that deal with communication, for example sockets, usually present a state machine whose state transitions relate to allocating network resources, making or accepting connections, closing connections and terminating communication.</span></span> <span data-ttu-id="7cb0c-106">Stav stavového stroje kanál poskytuje jednotný model stavy komunikace objektu, který abstrahuje základní implementaci tohoto objektu.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-106">The channel state machine provides a uniform model of the states of a communication object that abstracts the underlying implementation of that object.</span></span> <span data-ttu-id="7cb0c-107"><xref:System.ServiceModel.ICommunicationObject> Rozhraní představuje sadu stavy, metody přechod stavu a události přechod stavu.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-107">The <xref:System.ServiceModel.ICommunicationObject> interface provides a set of states, state transition methods and state transition events.</span></span> <span data-ttu-id="7cb0c-108">Všechny kanály, objekty factory kanálu a naslouchací procesy kanál implementovat kanál stav stavového stroje.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-108">All channels, channel factories and channel listeners implement the channel state machine.</span></span>  
  
 <span data-ttu-id="7cb0c-109">Události uzavřeno, zavřete, Faulted, otevřeno a otevírání signalizují pozorovatele externí potom, co dojde přechod stavu.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-109">The events Closed, Closing, Faulted, Opened and Opening signal an external observer after a state transition occurs.</span></span>  
  
 <span data-ttu-id="7cb0c-110">Metody přerušení, zavřít a otevřít (a jejich ekvivalenty u asynchronní) způsobit, že přechodů mezi stavy.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-110">The methods Abort, Close, and Open (and their asynchronous equivalents) cause state transitions.</span></span>  
  
 <span data-ttu-id="7cb0c-111">Vlastnost state vrátí aktuální stav podle definice <xref:System.ServiceModel.CommunicationState>:</span><span class="sxs-lookup"><span data-stu-id="7cb0c-111">The state property returns the current state as defined by <xref:System.ServiceModel.CommunicationState>:</span></span>  
  
## <a name="icommunicationobject-communicationobject-and-states-and-state-transition"></a><span data-ttu-id="7cb0c-112">ICommunicationObject, objektu CommunicationObject a stavy a přechod stavu</span><span class="sxs-lookup"><span data-stu-id="7cb0c-112">ICommunicationObject, CommunicationObject, and States and State Transition</span></span>  
 <span data-ttu-id="7cb0c-113"><xref:System.ServiceModel.ICommunicationObject> Spustí odhlašování ve stavu vytvořen, kde se dají konfigurovat jeho různé vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-113">An <xref:System.ServiceModel.ICommunicationObject> starts out in the Created state where its various properties can be configured.</span></span> <span data-ttu-id="7cb0c-114">Jednou ve stavu otevřeno, objekt je použitelné pro odesílání a přijímání zpráv, ale jeho vlastnosti jsou považovány za neměnitelný.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-114">Once in the Opened state, the object is usable for sending and receiving messages but its properties are considered immutable.</span></span> <span data-ttu-id="7cb0c-115">Jakmile ve stavu ukončovací objekt můžete už zpracovat nové odesílat nebo přijímat žádosti o, ale stávající požadavky mít možnost dokončit, dokud je dosaženo zavřít časový limit.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-115">Once in the Closing state, the object can no longer process new send or receive requests, but existing requests have a chance to complete until the Close timeout is reached.</span></span>  <span data-ttu-id="7cb0c-116">Pokud dojde k neodstranitelné chybě, objekt přechází do stavu chybný, kde může být prověřovány na informace o chybě a nakonec uzavřen.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-116">If an unrecoverable error occurs, the object transitions to the Faulted state where it can be inspected for information about the error and ultimately closed.</span></span> <span data-ttu-id="7cb0c-117">Když v uzavřeném stavu objektu v podstatě dosáhne konce stav stavového stroje.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-117">When in the Closed state the object has essentially reached the end of the state machine.</span></span> <span data-ttu-id="7cb0c-118">Jednou k objektu přechody mezi jednotlivými stavy na další ho nepřekračuje zpět do předchozího stavu.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-118">Once an object transitions from one state to the next, it does not go back to a previous state.</span></span>  
  
 <span data-ttu-id="7cb0c-119">Následující obrázek ukazuje <xref:System.ServiceModel.ICommunicationObject> stavy a přechody stavu.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-119">The following diagram shows the <xref:System.ServiceModel.ICommunicationObject> states and state transitions.</span></span> <span data-ttu-id="7cb0c-120">Přechody stavu může být způsobeno volání jedné ze tří metod: zrušení, otevřete, nebo zavřete.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-120">State transitions can be caused by calling one of the three methods: Abort, Open, or Close.</span></span> <span data-ttu-id="7cb0c-121">Může být také způsobeno voláním jiné metody konkrétní implementace.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-121">They could also be caused by calling other implementation-specific methods.</span></span> <span data-ttu-id="7cb0c-122">Přechod do stavu Faulted mohlo dojít v důsledku chyb při otevírání nebo po nutnosti otevřít objekt komunikace.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-122">Transitioning to the Faulted state could happen as a result of errors while opening or after having opened the communication object.</span></span>  
  
 <span data-ttu-id="7cb0c-123">Každý <xref:System.ServiceModel.ICommunicationObject> spustí odhlašování ve stavu vytvořen.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-123">Every <xref:System.ServiceModel.ICommunicationObject> starts out in the Created state.</span></span> <span data-ttu-id="7cb0c-124">V tomto stavu můžete aplikaci nakonfigurovat objekt nastavení jeho vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-124">In this state, an application can configure the object by setting its properties.</span></span> <span data-ttu-id="7cb0c-125">Jakmile objekt je ve stavu, než vytvořen, je považován za neměnitelný.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-125">Once an object is in a state other than Created, it is considered immutable.</span></span>  
  
 <span data-ttu-id="7cb0c-126">![Kanálu stavu transitition](../../../../docs/framework/wcf/extending/media/channelstatetranitionshighleveldiagram.gif "ChannelStateTranitionsHighLevelDiagram")</span><span class="sxs-lookup"><span data-stu-id="7cb0c-126">![Channel state transitition](../../../../docs/framework/wcf/extending/media/channelstatetranitionshighleveldiagram.gif "ChannelStateTranitionsHighLevelDiagram")</span></span>  
<span data-ttu-id="7cb0c-127">Obrázek 1.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-127">Figure 1.</span></span> <span data-ttu-id="7cb0c-128">ICommunicationObject stav počítače.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-128">The ICommunicationObject State Machine.</span></span>  
  
 [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)]<span data-ttu-id="7cb0c-129">Poskytuje abstraktní základní třídu s názvem <xref:System.ServiceModel.Channels.CommunicationObject> , která implementuje <xref:System.ServiceModel.ICommunicationObject> a stav stavového stroje kanálu.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-129"> provides an abstract base class named <xref:System.ServiceModel.Channels.CommunicationObject> that implements <xref:System.ServiceModel.ICommunicationObject> and the channel state machine.</span></span> <span data-ttu-id="7cb0c-130">Na následujícím obrázku je upravený stav diagram, který je specifický pro <xref:System.ServiceModel.Channels.CommunicationObject>.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-130">The following graphic is a modified state diagram that is specific to <xref:System.ServiceModel.Channels.CommunicationObject>.</span></span> <span data-ttu-id="7cb0c-131">Kromě <xref:System.ServiceModel.ICommunicationObject> stavu počítače, se zobrazí den, kdy další <xref:System.ServiceModel.Channels.CommunicationObject> jsou vyvolány metody.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-131">In addition to the <xref:System.ServiceModel.ICommunicationObject> state machine, it shows the timing when additional <xref:System.ServiceModel.Channels.CommunicationObject> methods are invoked.</span></span>  
  
 <span data-ttu-id="7cb0c-132">![Změny stavu](../../../../docs/framework/wcf/extending/media/wcfc-wcfchannelsigure5statetransitionsdetailsc.gif "wcfc_WCFChannelsigure5StateTransitionsDetailsc")</span><span class="sxs-lookup"><span data-stu-id="7cb0c-132">![State changes](../../../../docs/framework/wcf/extending/media/wcfc-wcfchannelsigure5statetransitionsdetailsc.gif "wcfc_WCFChannelsigure5StateTransitionsDetailsc")</span></span>  
<span data-ttu-id="7cb0c-133">Obrázek 2.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-133">Figure 2.</span></span> <span data-ttu-id="7cb0c-134">Implementace objektu CommunicationObject stav stavového stroje ICommunicationObject včetně volání události a chráněné metody.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-134">The CommunicationObject implementation of the ICommunicationObject state machine including calls to events and protected methods.</span></span>  
  
### <a name="icommunicationobject-events"></a><span data-ttu-id="7cb0c-135">ICommunicationObject události</span><span class="sxs-lookup"><span data-stu-id="7cb0c-135">ICommunicationObject Events</span></span>  
 <span data-ttu-id="7cb0c-136"><xref:System.ServiceModel.Channels.CommunicationObject>zpřístupní pět události definované <xref:System.ServiceModel.ICommunicationObject>.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-136"><xref:System.ServiceModel.Channels.CommunicationObject> exposes the five events defined by <xref:System.ServiceModel.ICommunicationObject>.</span></span> <span data-ttu-id="7cb0c-137">Tyto události jsou navrženy pro kódu pomocí objekt komunikace upozornit přechodů mezi stavy.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-137">These events are designed for code using the communication object to be notified of state transitions.</span></span> <span data-ttu-id="7cb0c-138">Jak je znázorněno na obrázku 2 výše, každá událost je aktivována jednou, po stav objektu přechází do stavu s názvem událost.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-138">As shown in Figure 2 above, each event is fired once after the object’s state transitions to the state named by the event.</span></span> <span data-ttu-id="7cb0c-139">Všechny události pět jsou `EventHandler` typ, který je definován jako:</span><span class="sxs-lookup"><span data-stu-id="7cb0c-139">All five events are of the `EventHandler` type which is defined as:</span></span>  
  
 `public delegate void EventHandler(object sender, EventArgs e);`  
  
 <span data-ttu-id="7cb0c-140">V <xref:System.ServiceModel.Channels.CommunicationObject> implementace, odesílatel je buď <xref:System.ServiceModel.Channels.CommunicationObject> sám sebe nebo ať byla předána jako odesílatele, aby <xref:System.ServiceModel.Channels.CommunicationObject> – konstruktor (Pokud byl použit tento konstruktor přetížení).</span><span class="sxs-lookup"><span data-stu-id="7cb0c-140">In the <xref:System.ServiceModel.Channels.CommunicationObject> implementation, the sender is either the <xref:System.ServiceModel.Channels.CommunicationObject> itself or whatever was passed in as the sender to the <xref:System.ServiceModel.Channels.CommunicationObject> constructor (if that constructor overload was used).</span></span> <span data-ttu-id="7cb0c-141">Parametr EventArgs `e`, je vždy `EventArgs.Empty`.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-141">The EventArgs parameter, `e`, is always `EventArgs.Empty`.</span></span>  
  
### <a name="derived-object-callbacks"></a><span data-ttu-id="7cb0c-142">Zpětná volání odvozené objektu</span><span class="sxs-lookup"><span data-stu-id="7cb0c-142">Derived Object Callbacks</span></span>  
 <span data-ttu-id="7cb0c-143">Kromě pěti události <xref:System.ServiceModel.Channels.CommunicationObject> deklaruje osm chráněné virtuální metody navržena k umožnění objekt odvozené zpětné volání před a po přechodu stavu.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-143">In addition to the five events, <xref:System.ServiceModel.Channels.CommunicationObject> declares eight protected virtual methods designed to allow a derived object to be called back before and after state transitions occur.</span></span>  
  
 <span data-ttu-id="7cb0c-144"><xref:System.ServiceModel.Channels.CommunicationObject.Open%2A?displayProperty=nameWithType> a <xref:System.ServiceModel.Channels.CommunicationObject.Close%2A?displayProperty=nameWithType> metody mají tři takové spojené s každou z nich zpětných volání.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-144">The <xref:System.ServiceModel.Channels.CommunicationObject.Open%2A?displayProperty=nameWithType> and <xref:System.ServiceModel.Channels.CommunicationObject.Close%2A?displayProperty=nameWithType> methods have three such callbacks associated with each of them.</span></span> <span data-ttu-id="7cb0c-145">Například odpovídající <xref:System.ServiceModel.Channels.CommunicationObject.Open%2A?displayProperty=nameWithType> je <xref:System.ServiceModel.Channels.CommunicationObject.OnOpening%2A?displayProperty=nameWithType>, <xref:System.ServiceModel.Channels.CommunicationObject.OnOpen%2A?displayProperty=nameWithType>, a <xref:System.ServiceModel.Channels.CommunicationObject.OnOpened%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-145">For example, corresponding to <xref:System.ServiceModel.Channels.CommunicationObject.Open%2A?displayProperty=nameWithType> there is <xref:System.ServiceModel.Channels.CommunicationObject.OnOpening%2A?displayProperty=nameWithType>, <xref:System.ServiceModel.Channels.CommunicationObject.OnOpen%2A?displayProperty=nameWithType>, and <xref:System.ServiceModel.Channels.CommunicationObject.OnOpened%2A?displayProperty=nameWithType>.</span></span> <span data-ttu-id="7cb0c-146">Přidružené <xref:System.ServiceModel.Channels.CommunicationObject.Close%2A?displayProperty=nameWithType> jsou <xref:System.ServiceModel.Channels.CommunicationObject.OnClose%2A?displayProperty=nameWithType>, <xref:System.ServiceModel.Channels.CommunicationObject.OnClosing%2A?displayProperty=nameWithType>, a <xref:System.ServiceModel.Channels.CommunicationObject.OnClosed%2A?displayProperty=nameWithType> metody.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-146">Associated with <xref:System.ServiceModel.Channels.CommunicationObject.Close%2A?displayProperty=nameWithType> are the <xref:System.ServiceModel.Channels.CommunicationObject.OnClose%2A?displayProperty=nameWithType>, <xref:System.ServiceModel.Channels.CommunicationObject.OnClosing%2A?displayProperty=nameWithType>, and <xref:System.ServiceModel.Channels.CommunicationObject.OnClosed%2A?displayProperty=nameWithType> methods.</span></span>  
  
 <span data-ttu-id="7cb0c-147">Podobně <xref:System.ServiceModel.Channels.CommunicationObject.Abort%2A?displayProperty=nameWithType> metoda má odpovídající <xref:System.ServiceModel.Channels.CommunicationObject.OnAbort%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-147">Similarly, the <xref:System.ServiceModel.Channels.CommunicationObject.Abort%2A?displayProperty=nameWithType> method has a corresponding <xref:System.ServiceModel.Channels.CommunicationObject.OnAbort%2A?displayProperty=nameWithType>.</span></span>  
  
 <span data-ttu-id="7cb0c-148">Při <xref:System.ServiceModel.Channels.CommunicationObject.OnOpen%2A?displayProperty=nameWithType>, <xref:System.ServiceModel.Channels.CommunicationObject.OnClose%2A?displayProperty=nameWithType>, a <xref:System.ServiceModel.Channels.CommunicationObject.OnAbort%2A?displayProperty=nameWithType> mít žádné výchozí implementace, ostatní zpětná volání mají výchozí implementace, který je potřebný pro správnost stav počítače.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-148">While <xref:System.ServiceModel.Channels.CommunicationObject.OnOpen%2A?displayProperty=nameWithType>, <xref:System.ServiceModel.Channels.CommunicationObject.OnClose%2A?displayProperty=nameWithType>, and <xref:System.ServiceModel.Channels.CommunicationObject.OnAbort%2A?displayProperty=nameWithType> have no default implementation, the other callbacks do have a default implementation which is necessary for state machine correctness.</span></span> <span data-ttu-id="7cb0c-149">Pokud je přepsat tyto metody nezapomeňte volat základní implementaci nebo správně jej nahradit.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-149">If you override those methods be sure to call the base implementation or correctly replace it.</span></span>  
  
 <span data-ttu-id="7cb0c-150"><xref:System.ServiceModel.Channels.CommunicationObject.OnOpening%2A?displayProperty=nameWithType>, <xref:System.ServiceModel.Channels.CommunicationObject.OnClosing%2A?displayProperty=nameWithType> a <xref:System.ServiceModel.Channels.CommunicationObject.OnFaulted%2A?displayProperty=nameWithType> fire odpovídající <xref:System.ServiceModel.Channels.CommunicationObject.Opening?displayProperty=nameWithType>, <xref:System.ServiceModel.Channels.CommunicationObject.Closing?displayProperty=nameWithType> a <xref:System.ServiceModel.Channels.CommunicationObject.Faulted?displayProperty=nameWithType> události.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-150"><xref:System.ServiceModel.Channels.CommunicationObject.OnOpening%2A?displayProperty=nameWithType>, <xref:System.ServiceModel.Channels.CommunicationObject.OnClosing%2A?displayProperty=nameWithType> and <xref:System.ServiceModel.Channels.CommunicationObject.OnFaulted%2A?displayProperty=nameWithType> fire the corresponding <xref:System.ServiceModel.Channels.CommunicationObject.Opening?displayProperty=nameWithType>, <xref:System.ServiceModel.Channels.CommunicationObject.Closing?displayProperty=nameWithType> and <xref:System.ServiceModel.Channels.CommunicationObject.Faulted?displayProperty=nameWithType> events.</span></span> <span data-ttu-id="7cb0c-151"><xref:System.ServiceModel.Channels.CommunicationObject.OnOpened%2A?displayProperty=nameWithType>a <xref:System.ServiceModel.Channels.CommunicationObject.OnClosed%2A?displayProperty=nameWithType> nastavit stav objektu otevřeno a uzavřené v uvedeném pořadí a provést odpovídající <xref:System.ServiceModel.Channels.CommunicationObject.Opened?displayProperty=nameWithType> a <xref:System.ServiceModel.Channels.CommunicationObject.Closed?displayProperty=nameWithType> události.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-151"><xref:System.ServiceModel.Channels.CommunicationObject.OnOpened%2A?displayProperty=nameWithType> and <xref:System.ServiceModel.Channels.CommunicationObject.OnClosed%2A?displayProperty=nameWithType> set the object state to Opened and Closed respectively then fire the corresponding <xref:System.ServiceModel.Channels.CommunicationObject.Opened?displayProperty=nameWithType> and <xref:System.ServiceModel.Channels.CommunicationObject.Closed?displayProperty=nameWithType> events.</span></span>  
  
### <a name="state-transition-methods"></a><span data-ttu-id="7cb0c-152">Metody přechod stavu</span><span class="sxs-lookup"><span data-stu-id="7cb0c-152">State Transition Methods</span></span>  
 <span data-ttu-id="7cb0c-153"><xref:System.ServiceModel.Channels.CommunicationObject>poskytuje implementaci přerušení, zavřete a otevřete.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-153"><xref:System.ServiceModel.Channels.CommunicationObject> provides implementations of Abort, Close and Open.</span></span> <span data-ttu-id="7cb0c-154">Nabízí taky metoda selhání, což způsobí, že přechod stavu chybném stavu.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-154">It also provides a Fault method which causes a state transition to the Faulted state.</span></span> <span data-ttu-id="7cb0c-155">Obrázek 2 ukazuje <xref:System.ServiceModel.ICommunicationObject> stavový stroj při každém přechodu označené metodu, která způsobí, že ho (bez popisku přechody dojít uvnitř provádění metodu, která způsobila, že poslední s popiskem přechodu).</span><span class="sxs-lookup"><span data-stu-id="7cb0c-155">Figure 2 shows the <xref:System.ServiceModel.ICommunicationObject> state machine with each transition labeled by the method that causes it (unlabeled transitions happen inside the implementation of the method that caused the last labeled transition).</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="7cb0c-156">Všechny <xref:System.ServiceModel.Channels.CommunicationObject> implementace komunikace stavu, získá nebo nastaví jsou synchronizovány přístup z více vláken.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-156">All <xref:System.ServiceModel.Channels.CommunicationObject> implementations of communication state gets/sets are thread-synchronized.</span></span>  
  
 <span data-ttu-id="7cb0c-157">Konstruktor</span><span class="sxs-lookup"><span data-stu-id="7cb0c-157">Constructor</span></span>  
  
 <span data-ttu-id="7cb0c-158"><xref:System.ServiceModel.Channels.CommunicationObject>poskytuje tři konstruktory, z nichž všechny nechte objekt ve stavu vytvořen.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-158"><xref:System.ServiceModel.Channels.CommunicationObject> provides three constructors, all of which leave the object in the Created state.</span></span> <span data-ttu-id="7cb0c-159">Konstruktory jsou definovány jako:</span><span class="sxs-lookup"><span data-stu-id="7cb0c-159">The constructors are defined as:</span></span>  
  
 <span data-ttu-id="7cb0c-160">První konstruktor je výchozí konstruktor, který deleguje konstruktor přetížení, která přebírá objekt:</span><span class="sxs-lookup"><span data-stu-id="7cb0c-160">The first constructor is a default constructor that delegates to the constructor overload that takes an object:</span></span>  
  
 `protected CommunicationObject() : this(new object()) { … }`  
  
 <span data-ttu-id="7cb0c-161">Konstruktor, který přebírá objekt používá tento parametr jako objekt se uzamkne při synchronizaci přístup k stav objektu komunikace:</span><span class="sxs-lookup"><span data-stu-id="7cb0c-161">The constructor that takes an object uses that parameter as the object to be locked when synchronizing access to communication object state:</span></span>  
  
 `protected CommunicationObject(object mutex) { … }`  
  
 <span data-ttu-id="7cb0c-162">Nakonec třetí konstruktor přebírá další parametr, který se používá jako argument odesílatele při <xref:System.ServiceModel.ICommunicationObject> při vyvolání událostí.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-162">Finally, a third constructor takes an additional parameter that is used as the sender argument when <xref:System.ServiceModel.ICommunicationObject> events are fired.</span></span>  
  
 `protected CommunicationObject(object mutex, object eventSender) { … }`  
  
 <span data-ttu-id="7cb0c-163">Předchozí dva konstruktory nastavit odesílatel to.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-163">The previous two constructors set the sender to this.</span></span>  
  
 <span data-ttu-id="7cb0c-164">Open – metoda</span><span class="sxs-lookup"><span data-stu-id="7cb0c-164">Open Method</span></span>  
  
 <span data-ttu-id="7cb0c-165">Předběžnou: Stav je vytvořen.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-165">Precondition: State is Created.</span></span>  
  
 <span data-ttu-id="7cb0c-166">Po podmínka: Stav je otevřeno nebo Faulted.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-166">Post-condition: State is Opened or Faulted.</span></span> <span data-ttu-id="7cb0c-167">Může vyvolat výjimku.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-167">May throw an exception.</span></span>  
  
 <span data-ttu-id="7cb0c-168">Metoda Open() se pokusí otevřít objekt komunikace a nastavit stav na otevřeno.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-168">The Open() method will try to open the communication object and set the state to Opened.</span></span> <span data-ttu-id="7cb0c-169">Pokud dojde k chybě, nastaví pro chybný stav.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-169">If it encounters an error, it will set the state to Faulted.</span></span>  
  
 <span data-ttu-id="7cb0c-170">Metoda nejdřív zkontroluje vytvořený aktuální stav.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-170">The method first checks that the current state is Created.</span></span> <span data-ttu-id="7cb0c-171">Pokud je aktuální stav otevírání nebo otevřít, se vrátí <xref:System.InvalidOperationException>.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-171">If the current state is Opening or Opened it throws an <xref:System.InvalidOperationException>.</span></span> <span data-ttu-id="7cb0c-172">Pokud aktuální stav je ukončovací nebo Uzavřeno, vyvolá výjimku <xref:System.ServiceModel.CommunicationObjectAbortedException> Pokud byla ukončena objekt a <xref:System.ObjectDisposedException> jinak.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-172">If the current state is Closing or Closed, it throws a <xref:System.ServiceModel.CommunicationObjectAbortedException> if the object has been terminated and <xref:System.ObjectDisposedException> otherwise.</span></span> <span data-ttu-id="7cb0c-173">Pokud došlo k chybě v aktuálním stavu, vyvolá výjimku <xref:System.ServiceModel.CommunicationObjectFaultedException>.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-173">If the current state is Faulted, it throws a <xref:System.ServiceModel.CommunicationObjectFaultedException>.</span></span>  
  
 <span data-ttu-id="7cb0c-174">Potom nastaví stav k otevírání a volá OnOpening() (který vyvolá událost otevření), OnOpen() a OnOpened() v tomto pořadí.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-174">It then sets the state to Opening and calls OnOpening() (which raises the Opening event), OnOpen() and OnOpened() in that order.</span></span> <span data-ttu-id="7cb0c-175">OnOpened() nastaví stav otevřeno a vyvolá událost otevřeno.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-175">OnOpened() sets the state to Opened and raises the Opened event.</span></span> <span data-ttu-id="7cb0c-176">Pokud platí jedna z těchto vyvolá výjimku, (Otevřít) volá Fault() a umožňuje bublin výjimka.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-176">If any of these throws an exception, Open()calls Fault() and lets the exception bubble up.</span></span> <span data-ttu-id="7cb0c-177">Následující diagram znázorňuje proces otevřete podrobněji.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-177">The following diagram shows the Open process in more detail.</span></span>  
  
 <span data-ttu-id="7cb0c-178">![Změny stavu](../../../../docs/framework/wcf/extending/media/wcfc-wcfchannelsigurecoopenflowchartf.gif "wcfc_WCFChannelsigureCOOpenFlowChartf")</span><span class="sxs-lookup"><span data-stu-id="7cb0c-178">![State changes](../../../../docs/framework/wcf/extending/media/wcfc-wcfchannelsigurecoopenflowchartf.gif "wcfc_WCFChannelsigureCOOpenFlowChartf")</span></span>  
<span data-ttu-id="7cb0c-179">Potlačení při otevření metody k implementaci vlastní logiky otevřete například otevírání objekt vnitřní komunikace.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-179">Override the OnOpen method to implement custom open logic such as opening an inner communication object.</span></span>  
  
 <span data-ttu-id="7cb0c-180">Close – metoda</span><span class="sxs-lookup"><span data-stu-id="7cb0c-180">Close Method</span></span>  
  
 <span data-ttu-id="7cb0c-181">Předběžné podmínky: žádné.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-181">Precondition: None.</span></span>  
  
 <span data-ttu-id="7cb0c-182">Po podmínku: Stav je uzavřený.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-182">Post-condition: State is Closed.</span></span> <span data-ttu-id="7cb0c-183">Může vyvolat výjimku.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-183">May throw an exception.</span></span>  
  
 <span data-ttu-id="7cb0c-184">Ve všech stavu nelze volat metodu Close().</span><span class="sxs-lookup"><span data-stu-id="7cb0c-184">The Close() method can be called at any state.</span></span> <span data-ttu-id="7cb0c-185">Pokusí se obvykle zavřete objekt.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-185">It tries to close the object normally.</span></span> <span data-ttu-id="7cb0c-186">Pokud dojde k chybě, ukončí objekt.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-186">If an error is encountered, it terminates the object.</span></span> <span data-ttu-id="7cb0c-187">Metoda nemá nic, pokud aktuální stav ukončuje nebo Uzavřeno.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-187">The method does nothing if the current state is Closing or Closed.</span></span> <span data-ttu-id="7cb0c-188">Jinak nastaví stav na Zavřít.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-188">Otherwise it sets the state to Closing.</span></span> <span data-ttu-id="7cb0c-189">Pokud původní stav byl vytvořen, otevření nebo Faulted, zavolá Abort() (viz následující obrázek).</span><span class="sxs-lookup"><span data-stu-id="7cb0c-189">If the original state was Created, Opening or Faulted, it calls Abort() (see the following diagram).</span></span> <span data-ttu-id="7cb0c-190">Pokud byl otevřen původního stavu, zavolá OnClosing() (která vyvolává událost uzavírací), OnClose() a OnClosed() v tomto pořadí.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-190">If the original state was Opened, it calls OnClosing() (which raises the Closing event), OnClose() and OnClosed() in that order.</span></span> <span data-ttu-id="7cb0c-191">Pokud platí jedna z těchto vyvolá výjimku, (Zavřít) volá Abort() a umožňuje bublin výjimka.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-191">If any of these throws an exception, Close()calls Abort() and lets the exception bubble up.</span></span> <span data-ttu-id="7cb0c-192">OnClosed() nastaví stav na uzavřený a vyvolá událost, uzavřené.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-192">OnClosed() sets the state to Closed and raises the Closed event.</span></span> <span data-ttu-id="7cb0c-193">Následující diagram ukazuje ukončení procesu podrobněji.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-193">The following diagram shows the Close process in more detail.</span></span>  
  
 <span data-ttu-id="7cb0c-194">![Změny stavu](../../../../docs/framework/wcf/extending/media/wcfc-wcfchannelsguire7ico-closeflowchartc.gif "wcfc_WCFChannelsguire7ICO CloseFlowChartc")</span><span class="sxs-lookup"><span data-stu-id="7cb0c-194">![State changes](../../../../docs/framework/wcf/extending/media/wcfc-wcfchannelsguire7ico-closeflowchartc.gif "wcfc_WCFChannelsguire7ICO-CloseFlowChartc")</span></span>  
<span data-ttu-id="7cb0c-195">Potlačí metodu při zavření k implementaci vlastní logiky zavřít, například zavření objektu vnitřní komunikace.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-195">Override the OnClose method to implement custom close logic, such as closing an inner communication object.</span></span> <span data-ttu-id="7cb0c-196">Všechny řádné zavření logiky, která může blokovat pro dlouhou dobu (například čekání na druhé straně reagovat) by měla být implementována v OnClose(), protože má parametr časového limitu a z toho důvodu není volána v rámci Abort().</span><span class="sxs-lookup"><span data-stu-id="7cb0c-196">All graceful closing logic that may block for a long time (for example, waiting for the other side to respond) should be implemented in OnClose() because it takes a timeout parameter and because it is not called as part of Abort().</span></span>  
  
 <span data-ttu-id="7cb0c-197">Přerušení</span><span class="sxs-lookup"><span data-stu-id="7cb0c-197">Abort</span></span>  
  
 <span data-ttu-id="7cb0c-198">Předběžné podmínky: žádné.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-198">Precondition: None.</span></span>  
<span data-ttu-id="7cb0c-199">Po podmínku: Stav je uzavřený.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-199">Post-condition: State is Closed.</span></span> <span data-ttu-id="7cb0c-200">Může vyvolat výjimku.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-200">May throw an exception.</span></span>  
  
 <span data-ttu-id="7cb0c-201">Metoda Abort() neprovede žádnou akci, pokud aktuální stav je zavřené nebo pokud objekt byl ukončen před (například pravděpodobně tak, že Abort() provádění na jiné vlákno).</span><span class="sxs-lookup"><span data-stu-id="7cb0c-201">The Abort() method does nothing if the current state is Closed or if the object has been terminated before (for example, possibly by having Abort() executing on another thread).</span></span> <span data-ttu-id="7cb0c-202">Jinak nastaví stav uzavírací a volá OnClosing() (která vyvolává událost uzavírací), OnAbort() a OnClosed() v tomto pořadí (nevyvolá při zavření vzhledem k tomu, že objekt je ukončovány, neuzavřené).</span><span class="sxs-lookup"><span data-stu-id="7cb0c-202">Otherwise it sets the state to Closing and calls OnClosing() (which raises the Closing event), OnAbort(), and OnClosed() in that order (does not call OnClose because the object is being terminated, not closed).</span></span> <span data-ttu-id="7cb0c-203">OnClosed() nastaví stav na uzavřený a vyvolá událost, uzavřené.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-203">OnClosed() sets the state to Closed and raises the Closed event.</span></span> <span data-ttu-id="7cb0c-204">Pokud některý z těchto způsobí výjimku, je znovu vyvolána volajícímu přerušení.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-204">If any of these throw an exception, it is re-thrown to the caller of Abort.</span></span> <span data-ttu-id="7cb0c-205">Implementace OnClosing(), OnClosed() a OnAbort() by neměly blokovat (například na vstup/výstup).</span><span class="sxs-lookup"><span data-stu-id="7cb0c-205">Implementations of OnClosing(), OnClosed() and OnAbort() should not block (for example, on input/output).</span></span> <span data-ttu-id="7cb0c-206">Následující diagram znázorňuje proces přerušení podrobněji.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-206">The following diagram shows the Abort process in more detail.</span></span>  
  
 <span data-ttu-id="7cb0c-207">![Změny stavu](../../../../docs/framework/wcf/extending/media/wcfc-wcfchannelsigure8ico-abortflowchartc.gif "wcfc_WCFChannelsigure8ICO AbortFlowChartc")</span><span class="sxs-lookup"><span data-stu-id="7cb0c-207">![State changes](../../../../docs/framework/wcf/extending/media/wcfc-wcfchannelsigure8ico-abortflowchartc.gif "wcfc_WCFChannelsigure8ICO-AbortFlowChartc")</span></span>  
<span data-ttu-id="7cb0c-208">Přepsání metody OnAbort implementovat vlastní ukončit logiku, jako je objekt vnitřní komunikace se ukončuje.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-208">Override the OnAbort method to implement custom terminate logic such as terminating an inner communication object.</span></span>  
  
 <span data-ttu-id="7cb0c-209">Selhání</span><span class="sxs-lookup"><span data-stu-id="7cb0c-209">Fault</span></span>  
  
 <span data-ttu-id="7cb0c-210">Metoda selhání je specifická pro <xref:System.ServiceModel.Channels.CommunicationObject> a nejsou součástí <xref:System.ServiceModel.ICommunicationObject> rozhraní.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-210">The Fault method is specific to <xref:System.ServiceModel.Channels.CommunicationObject> and is not part of the <xref:System.ServiceModel.ICommunicationObject> interface.</span></span> <span data-ttu-id="7cb0c-211">Je zde uveden pro úplnost.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-211">It is included here for completeness.</span></span>  
  
 <span data-ttu-id="7cb0c-212">Předběžné podmínky: žádné.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-212">Precondition: None.</span></span>  
  
 <span data-ttu-id="7cb0c-213">Po podmínku: Stavu došlo k chybě.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-213">Post-condition: State is Faulted.</span></span> <span data-ttu-id="7cb0c-214">Může vyvolat výjimku.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-214">May throw an exception.</span></span>  
  
 <span data-ttu-id="7cb0c-215">Metoda Fault() neprovede žádnou akci, pokud aktuální stav je chybný nebo Uzavřeno.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-215">The Fault() method does nothing if the current state is Faulted or Closed.</span></span> <span data-ttu-id="7cb0c-216">Jinak nastaví stav a OnFaulted(), která vyvolává událost Faulted volání chybném.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-216">Otherwise it sets the state to Faulted and call OnFaulted(), which raises the Faulted event.</span></span> <span data-ttu-id="7cb0c-217">Pokud OnFaulted vyvolá výjimku je znovu.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-217">If OnFaulted throws an exception it is re-thrown.</span></span>  
  
### <a name="throwifxxx-methods"></a><span data-ttu-id="7cb0c-218">ThrowIfXxx metody</span><span class="sxs-lookup"><span data-stu-id="7cb0c-218">ThrowIfXxx Methods</span></span>  
 <span data-ttu-id="7cb0c-219">V objektu CommunicationObject má tři chráněné metody, které lze použít k vyvolání výjimky, pokud je objekt v určitém stavu.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-219">CommunicationObject has three protected methods that can be used to throw exceptions if the object is in a specific state.</span></span>  
  
 <span data-ttu-id="7cb0c-220"><xref:System.ServiceModel.Channels.CommunicationObject.ThrowIfDisposed%2A>Pokud stav není pravé, Uzavřeno nebo Faulted, vyvolá výjimku.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-220"><xref:System.ServiceModel.Channels.CommunicationObject.ThrowIfDisposed%2A> throws an exception if the state is Closing, Closed or Faulted.</span></span>  
  
 <span data-ttu-id="7cb0c-221"><xref:System.ServiceModel.Channels.CommunicationObject.ThrowIfDisposedOrImmutable%2A>vyvolá výjimku, pokud stav není vytvořena.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-221"><xref:System.ServiceModel.Channels.CommunicationObject.ThrowIfDisposedOrImmutable%2A> throws an exception if the state is not Created.</span></span>  
  
 <span data-ttu-id="7cb0c-222"><xref:System.ServiceModel.Channels.CommunicationObject.ThrowIfDisposedOrNotOpen%2A>vyvolá výjimku, pokud stav není otevřený.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-222"><xref:System.ServiceModel.Channels.CommunicationObject.ThrowIfDisposedOrNotOpen%2A> throws an exception if the state is not Opened.</span></span>  
  
 <span data-ttu-id="7cb0c-223">Výjimky vydané závisí na stavu.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-223">The exceptions thrown depend on the state.</span></span> <span data-ttu-id="7cb0c-224">Následující tabulka uvádí různé stavy a odpovídající typ výjimky vyvolané volání ThrowIfXxx, který vyvolá v tomto stavu.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-224">The following table shows the different states and the corresponding exception type thrown by calling a ThrowIfXxx that throws on that state.</span></span>  
  
|<span data-ttu-id="7cb0c-225">Stav</span><span class="sxs-lookup"><span data-stu-id="7cb0c-225">State</span></span>|<span data-ttu-id="7cb0c-226">Bylo voláno zrušení?</span><span class="sxs-lookup"><span data-stu-id="7cb0c-226">Has Abort been called?</span></span>|<span data-ttu-id="7cb0c-227">Výjimka</span><span class="sxs-lookup"><span data-stu-id="7cb0c-227">Exception</span></span>|  
|-----------|----------------------------|---------------|  
|<span data-ttu-id="7cb0c-228">Vytvořit</span><span class="sxs-lookup"><span data-stu-id="7cb0c-228">Created</span></span>|<span data-ttu-id="7cb0c-229">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="7cb0c-229">N/A</span></span>|<xref:System.InvalidOperationException?displayProperty=nameWithType>|  
|<span data-ttu-id="7cb0c-230">Otevírání</span><span class="sxs-lookup"><span data-stu-id="7cb0c-230">Opening</span></span>|<span data-ttu-id="7cb0c-231">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="7cb0c-231">N/A</span></span>|<xref:System.InvalidOperationException?displayProperty=nameWithType>|  
|<span data-ttu-id="7cb0c-232">Otevřít</span><span class="sxs-lookup"><span data-stu-id="7cb0c-232">Opened</span></span>|<span data-ttu-id="7cb0c-233">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="7cb0c-233">N/A</span></span>|<xref:System.InvalidOperationException?displayProperty=nameWithType>|  
|<span data-ttu-id="7cb0c-234">zavírání</span><span class="sxs-lookup"><span data-stu-id="7cb0c-234">Closing</span></span>|<span data-ttu-id="7cb0c-235">Ano</span><span class="sxs-lookup"><span data-stu-id="7cb0c-235">Yes</span></span>|<xref:System.ServiceModel.CommunicationObjectAbortedException?displayProperty=nameWithType>|  
|<span data-ttu-id="7cb0c-236">zavírání</span><span class="sxs-lookup"><span data-stu-id="7cb0c-236">Closing</span></span>|<span data-ttu-id="7cb0c-237">Ne</span><span class="sxs-lookup"><span data-stu-id="7cb0c-237">No</span></span>|<xref:System.ObjectDisposedException?displayProperty=nameWithType>|  
|<span data-ttu-id="7cb0c-238">Zavřeno</span><span class="sxs-lookup"><span data-stu-id="7cb0c-238">Closed</span></span>|<span data-ttu-id="7cb0c-239">Ano</span><span class="sxs-lookup"><span data-stu-id="7cb0c-239">Yes</span></span>|<span data-ttu-id="7cb0c-240"><xref:System.ServiceModel.CommunicationObjectAbortedException?displayProperty=nameWithType>v případě, že objekt bylo ukončeno předchozí a explicitní volání přerušení.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-240"><xref:System.ServiceModel.CommunicationObjectAbortedException?displayProperty=nameWithType> in the case that an object was closed by a previous and explicit call of Abort.</span></span> <span data-ttu-id="7cb0c-241">Když zavoláte zavřít na objekt pak <xref:System.ObjectDisposedException?displayProperty=nameWithType> je vyvolána výjimka.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-241">If you call Close on the object then an <xref:System.ObjectDisposedException?displayProperty=nameWithType> is thrown.</span></span>|  
|<span data-ttu-id="7cb0c-242">Zavřeno</span><span class="sxs-lookup"><span data-stu-id="7cb0c-242">Closed</span></span>|<span data-ttu-id="7cb0c-243">Ne</span><span class="sxs-lookup"><span data-stu-id="7cb0c-243">No</span></span>|<xref:System.ObjectDisposedException?displayProperty=nameWithType>|  
|<span data-ttu-id="7cb0c-244">Došlo k chybě</span><span class="sxs-lookup"><span data-stu-id="7cb0c-244">Faulted</span></span>|<span data-ttu-id="7cb0c-245">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="7cb0c-245">N/A</span></span>|<xref:System.ServiceModel.CommunicationObjectFaultedException?displayProperty=nameWithType>|  
  
### <a name="timeouts"></a><span data-ttu-id="7cb0c-246">Časové limity</span><span class="sxs-lookup"><span data-stu-id="7cb0c-246">Timeouts</span></span>  
 <span data-ttu-id="7cb0c-247">Několik metod, které jsme probrali trvat parametry časového limitu.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-247">Several of the methods we discussed take timeout parameters.</span></span> <span data-ttu-id="7cb0c-248">Jsou to zavře, otevřete (určité přetížení a asynchronní verze), při zavření a při otevření.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-248">These are Close, Open (certain overloads and asynchronous versions), OnClose and OnOpen.</span></span> <span data-ttu-id="7cb0c-249">Tyto metody jsou navrženy tak, aby bylo možné náročná operace (například blokování na vstupu a výstupu při zavírání řádně dolů připojení), vypršení časového limitu parametr určuje, jak dlouho tyto operace může trvat před se přerušena.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-249">These methods are designed to allow for lengthy operations (for example, blocking on input/output while gracefully closing down a connection) so the timeout parameter indicates how long such operations can take before being interrupted.</span></span> <span data-ttu-id="7cb0c-250">Implementace některé z těchto metod použití hodnota časového limitu zadaný zajistit, že vrátí volajícího v tomto časovém limitu.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-250">Implementations of any of these methods should use the supplied timeout value to ensure it returns to the caller within that timeout.</span></span> <span data-ttu-id="7cb0c-251">Implementace dalších metodách, které nepřebírají vypršení časového limitu nejsou navrženy pro náročná operace a by neměly blokovat na vstupu a výstupu.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-251">Implementations of other methods that do not take a timeout are not designed for lengthy operations and should not block on input/output.</span></span>  
  
 <span data-ttu-id="7cb0c-252">Výjimkou jsou Open() a Close() přetížení, které nepřebírají vypršení časového limitu.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-252">The exception are the Open() and Close() overloads that do not take a timeout.</span></span> <span data-ttu-id="7cb0c-253">Tyto použijte výchozí hodnotu časového limitu poskytl odvozené třídy.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-253">These use a default timeout value supplied by the derived class.</span></span> <span data-ttu-id="7cb0c-254"><xref:System.ServiceModel.Channels.CommunicationObject>zpřístupňuje dva chráněné abstraktních a vlastností s názvem <xref:System.ServiceModel.Channels.CommunicationObject.DefaultCloseTimeout%2A> a <xref:System.ServiceModel.Channels.CommunicationObject.DefaultOpenTimeout%2A> definován jako:</span><span class="sxs-lookup"><span data-stu-id="7cb0c-254"><xref:System.ServiceModel.Channels.CommunicationObject> exposes two protected abstract properties named <xref:System.ServiceModel.Channels.CommunicationObject.DefaultCloseTimeout%2A> and <xref:System.ServiceModel.Channels.CommunicationObject.DefaultOpenTimeout%2A> defined as:</span></span>  
  
 `protected abstract TimeSpan DefaultCloseTimeout { get; }`  
  
 `protected abstract TimeSpan DefaultOpenTimeout { get; }`  
  
 <span data-ttu-id="7cb0c-255">Odvozená třída implementuje tyto vlastnosti zajistit výchozí časový limit pro Open() a Close() přetížení, které nepřebírají hodnotu časového limitu.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-255">A derived class implements these properties to provide the default timeout for the Open() and Close() overloads that do not take a timeout value.</span></span> <span data-ttu-id="7cb0c-256">Potom implementace Open() a Close() delegovat na přetížení, které přijímá vypršení časového limitu předání výchozí hodnotu časového limitu, například:</span><span class="sxs-lookup"><span data-stu-id="7cb0c-256">Then the Open() and Close() implementations delegate to the overload that takes a timeout passing it the default timeout value, for example:</span></span>  
  
 `public void Open()`  
  
 `{`  
  
 `this.Open(this.DefaultOpenTimeout);`  
  
 `}`  
  
#### <a name="idefaultcommunicationtimeouts"></a><span data-ttu-id="7cb0c-257">IDefaultCommunicationTimeouts</span><span class="sxs-lookup"><span data-stu-id="7cb0c-257">IDefaultCommunicationTimeouts</span></span>  
 <span data-ttu-id="7cb0c-258">Toto rozhraní má čtyři jen pro čtení vlastnosti pro poskytnutí výchozí hodnoty časového limitu pro otevřete, odesílání, příjem a zavřete.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-258">This interface has four read-only properties for providing default timeout values for open, send, receive, and close.</span></span> <span data-ttu-id="7cb0c-259">Každá implementace je zodpovědná za získání výchozí hodnoty v příslušné jakýmkoli způsobem.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-259">Each implementation is responsible for obtaining the default values in whatever manner appropriate.</span></span> <span data-ttu-id="7cb0c-260">Pro potřeby <xref:System.ServiceModel.Channels.ChannelFactoryBase> a <xref:System.ServiceModel.Channels.ChannelListenerBase> výchozí tyto hodnoty na 1 minutu.</span><span class="sxs-lookup"><span data-stu-id="7cb0c-260">As a convenience, <xref:System.ServiceModel.Channels.ChannelFactoryBase> and <xref:System.ServiceModel.Channels.ChannelListenerBase> default these values to 1 minute each.</span></span>
