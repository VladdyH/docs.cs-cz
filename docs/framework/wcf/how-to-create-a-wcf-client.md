---
title: "Postupy: Vytvoření klienta Windows Communication Foundation"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- clients [WCF], running
- WCF clients [WCF], running
ms.assetid: a67884cc-1c4b-416b-8c96-5c954099f19f
caps.latest.revision: "64"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload: dotnet
ms.openlocfilehash: 2591cad6354ec40f1fb6ead265c84a67adf3eec8
ms.sourcegitcommit: 16186c34a957fdd52e5db7294f291f7530ac9d24
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 12/22/2017
---
# <a name="how-to-create-a-windows-communication-foundation-client"></a><span data-ttu-id="d77b0-102">Postupy: Vytvoření klienta Windows Communication Foundation</span><span class="sxs-lookup"><span data-stu-id="d77b0-102">How to: Create a Windows Communication Foundation Client</span></span>
<span data-ttu-id="d77b0-103">Toto je čtvrtý šesti úlohy, které jsou nutné k vytváření [!INCLUDE[indigo1](../../../includes/indigo1-md.md)] aplikace.</span><span class="sxs-lookup"><span data-stu-id="d77b0-103">This is the fourth of six tasks required to create a [!INCLUDE[indigo1](../../../includes/indigo1-md.md)] application.</span></span> <span data-ttu-id="d77b0-104">Přehled všech šest úloh najdete v tématu [kurzu Začínáme](../../../docs/framework/wcf/getting-started-tutorial.md) tématu.</span><span class="sxs-lookup"><span data-stu-id="d77b0-104">For an overview of all six of the tasks, see the [Getting Started Tutorial](../../../docs/framework/wcf/getting-started-tutorial.md) topic.</span></span>  
  
 <span data-ttu-id="d77b0-105">Toto téma popisuje, jak načíst metadata z [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] služby a použít ho k vytvoření [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] proxy server, který mají přístup ke službě.</span><span class="sxs-lookup"><span data-stu-id="d77b0-105">This topic describes how to retrieve metadata from a [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] service and use it to create a [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] proxy that can access the service.</span></span> <span data-ttu-id="d77b0-106">Tato úloha je dokončit pomocí funkce Přidat odkaz na službu poskytované sadě Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="d77b0-106">This task is completed by using the Add Service Reference functionality provided by Visual Studio .</span></span> <span data-ttu-id="d77b0-107">Tento nástroj získává metadata z koncového bodu služby MEX a vygeneruje soubor spravované zdrojového kódu pro proxy server na klienta v jazyce zvolili jste (C# ve výchozím nastavení).</span><span class="sxs-lookup"><span data-stu-id="d77b0-107">This tool obtains the metadata from the service’s MEX endpoint and generates a managed source code file for a client proxy in the language you have chosen (C# by default).</span></span> <span data-ttu-id="d77b0-108">Kromě vytváření proxy serveru klienta, nástroj také vytvoří nebo aktualizuje klienta konfigurační soubor, který umožňuje aplikaci připojit ke službě v některém z jeho koncových bodů klienta.</span><span class="sxs-lookup"><span data-stu-id="d77b0-108">In addition to creating the client proxy, the tool also creates or updates the client configuration file which enables the client application to connect to the service at one of its endpoints.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="d77b0-109">Můžete také [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) nástroj pro generování třídy proxy serveru a konfigurace místo použití přidat odkaz na službu v aplikaci Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="d77b0-109">You can also use the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) tool to generate the proxy class and configuration instead of using Add Service Reference inside of Visual Studio.</span></span>  
  
> [!WARNING]
>  <span data-ttu-id="d77b0-110">Při volání metody [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] služby z projektu knihovny tříd v [!INCLUDE[vs_current_long](../../../includes/vs-current-long-md.md)] můžete použít funkci Přidat odkaz na službu k automatickému generování proxy a přidružené konfigurační soubor.</span><span class="sxs-lookup"><span data-stu-id="d77b0-110">When calling a [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] service from a class library project in [!INCLUDE[vs_current_long](../../../includes/vs-current-long-md.md)] you can use the Add Service Reference feature to automatically generate a proxy and associated configuration file.</span></span>  <span data-ttu-id="d77b0-111">Konfigurační soubor se nepoužijí projektu knihovny tříd.</span><span class="sxs-lookup"><span data-stu-id="d77b0-111">The configuration file will not be used by the class library project.</span></span> <span data-ttu-id="d77b0-112">Musíte přidat nastavení v generované konfiguračního souboru do souboru app.config pro spustitelný soubor, který bude volat knihovny tříd.</span><span class="sxs-lookup"><span data-stu-id="d77b0-112">You will need to add the settings in the generated configuration file to the app.config file for the executable that will call the class library.</span></span>  
  
 <span data-ttu-id="d77b0-113">Klientská aplikace používá třídu vygenerovaný proxy server pro komunikaci se službou.</span><span class="sxs-lookup"><span data-stu-id="d77b0-113">The client application uses the generated proxy class to communicate with the service.</span></span> <span data-ttu-id="d77b0-114">Tento postup je popsaný v [postupy: používání klienta](../../../docs/framework/wcf/how-to-use-a-wcf-client.md).</span><span class="sxs-lookup"><span data-stu-id="d77b0-114">This procedure is described in [How to: Use a Client](../../../docs/framework/wcf/how-to-use-a-wcf-client.md).</span></span>  
  
### <a name="to-create-a-windows-communication-foundation-client"></a><span data-ttu-id="d77b0-115">Vytvoření klienta Windows Communication Foundation</span><span class="sxs-lookup"><span data-stu-id="d77b0-115">To create a Windows Communication Foundation client</span></span>  
  
1.  <span data-ttu-id="d77b0-116">Vytvořit nový projekt konzolové aplikace kliknutím pravým tlačítkem na řešení Začínáme vyberete, **přidat**, **nový projekt**.</span><span class="sxs-lookup"><span data-stu-id="d77b0-116">Create a new console application project by right-clicking on the Getting Started solution, selecting, **Add**, **New Project**.</span></span> <span data-ttu-id="d77b0-117">V **přidat nový projekt** dialog v dialogovém okně vyberte na levé straně **Windows** pod **C#** nebo **VB**.</span><span class="sxs-lookup"><span data-stu-id="d77b0-117">In the **Add New Project** dialog on the left hand side of the dialog select **Windows** under **C#** or **VB**.</span></span> <span data-ttu-id="d77b0-118">V části center dialogového okna Vybrat **konzolové aplikace**.</span><span class="sxs-lookup"><span data-stu-id="d77b0-118">In the center section of the dialog select **Console Application**.</span></span> <span data-ttu-id="d77b0-119">Název projektu `GettingStartedClient`.</span><span class="sxs-lookup"><span data-stu-id="d77b0-119">Name the project `GettingStartedClient`.</span></span>  
  
2.  <span data-ttu-id="d77b0-120">Nastavte cílový framework projektu GettingStartedClient na rozhraní .NET Framework 4.5 kliknutím pravým tlačítkem na **GettingStartedClient** v Průzkumníku řešení a výběrem **vlastnosti**.</span><span class="sxs-lookup"><span data-stu-id="d77b0-120">Set the target framework of the GettingStartedClient project to .NET Framework 4.5 by right clicking on **GettingStartedClient** in the Solution Explorer and selecting **Properties**.</span></span> <span data-ttu-id="d77b0-121">Rozevírací pole s popiskem **cílové rozhraní** vyberte **rozhraní .NET Framework 4.5**.</span><span class="sxs-lookup"><span data-stu-id="d77b0-121">In the dropdown box labeled **Target Framework** select **.NET Framework 4.5**.</span></span> <span data-ttu-id="d77b0-122">Nastavení cílové rozhraní projektu jazyka Visual Basic je mírně liší v dialogovém okně Vlastnosti projektu GettingStartedClient, klikněte na tlačítko **zkompilovat** na levé straně obrazovky a pak klikněte **Upřesnit Kompilace možnosti** tlačítko v levém dolním rohu dialogu.</span><span class="sxs-lookup"><span data-stu-id="d77b0-122">Setting the target framework for a VB project is a little different, in the GettingStartedClient project properties dialog, click the **Compile** tab on the left-hand side of the screen, and then click the **Advanced Compile Options** button at the lower left-hand corner of the dialog.</span></span> <span data-ttu-id="d77b0-123">Potom vyberte **rozhraní .NET Framework 4.5** rozevírací pole s popiskem **cílové rozhraní**.</span><span class="sxs-lookup"><span data-stu-id="d77b0-123">Then select **.NET Framework 4.5** in the dropdown box labeled **Target Framework**.</span></span>  
  
     <span data-ttu-id="d77b0-124">Nastavení rozhraní target framework způsobí sady Visual Studio 2011 znovu načíst řešení, stiskněte klávesu **OK** po zobrazení výzvy.</span><span class="sxs-lookup"><span data-stu-id="d77b0-124">Setting the target framework will cause Visual Studio 2011 to reload the solution, press **OK** when prompted.</span></span>  
  
3.  <span data-ttu-id="d77b0-125">Přidat odkaz na System.ServiceModel do projektu GettingStartedClient kliknutím pravým tlačítkem myši **odkaz** ve složce projektu GettingStartedClient v Průzkumníku řešení a vyberte **přidat** Odkaz.</span><span class="sxs-lookup"><span data-stu-id="d77b0-125">Add a reference to System.ServiceModel to the GettingStartedClient project by right-clicking the **Reference** folder under the GettingStartedClient project in Solution Explorer and select **Add** Reference.</span></span> <span data-ttu-id="d77b0-126">V **přidat odkaz na** dialogovém okně vyberte **Framework** na levé straně dialogového okna.</span><span class="sxs-lookup"><span data-stu-id="d77b0-126">In the **Add Reference** dialog select **Framework** on the left-hand side of the dialog.</span></span> <span data-ttu-id="d77b0-127">Zadejte do textového pole hledání sestavení v `System.ServiceModel`.</span><span class="sxs-lookup"><span data-stu-id="d77b0-127">In the Search Assemblies textbox, type in `System.ServiceModel`.</span></span> <span data-ttu-id="d77b0-128">V části center dialogového okna Vybrat **System.ServiceModel**, klikněte na tlačítko **přidat** tlačítko a klikněte na tlačítko **Zavřít** tlačítko.</span><span class="sxs-lookup"><span data-stu-id="d77b0-128">In the center section of the dialog select **System.ServiceModel**, click the **Add** button, and click the **Close** button.</span></span> <span data-ttu-id="d77b0-129">Uložte řešení klepnutím **Uložit vše** tlačítko níže v hlavní nabídce.</span><span class="sxs-lookup"><span data-stu-id="d77b0-129">Save the solution by clicking the **Save All** button below the main menu.</span></span>  
  
4.  <span data-ttu-id="d77b0-130">Další wlll přidat odkaz na službu ve službě kalkulačky.</span><span class="sxs-lookup"><span data-stu-id="d77b0-130">Next you wlll add a service reference to the Calculator Service.</span></span> <span data-ttu-id="d77b0-131">Předtím, než můžete to udělat, musíte spustit až GettingStartedHost konzolové aplikace.</span><span class="sxs-lookup"><span data-stu-id="d77b0-131">Before you can do that, you must start up the GettingStartedHost console application.</span></span> <span data-ttu-id="d77b0-132">Jakmile je na hostiteli spuštěn můžete klikněte pravým tlačítkem na složku odkazy v části GettingStartedClient projekt v Průzkumníku řešení a vyberte Přidat odkaz na službu a zadejte následující adresu URL do pole Adresa dialogového okna Přidat odkaz na službu: HYPERLINK "http:/ / localhost:8000/ServiceModelSamples/služby "http://localhost: 8000/ServiceModelSamples/služby a klikněte na tlačítko **přejděte** tlačítko.</span><span class="sxs-lookup"><span data-stu-id="d77b0-132">Once the host is running you can right click the References folder under the GettingStartedClient project in the Solution Explorer and select Add Service Reference and type in the following URL in the address box of the Add Service Reference dialog:  HYPERLINK "http://localhost:8000/ServiceModelSamples/Service" http://localhost:8000/ServiceModelSamples/Service and   click the **Go** button.</span></span> <span data-ttu-id="d77b0-133">CalculatorService by pak zobrazí v seznamu služeb, klikněte na dvojitou hodnotu CalculatorService a bude rozbalit a zobrazit kontraktů služby implementované službu.</span><span class="sxs-lookup"><span data-stu-id="d77b0-133">The CalculatorService should then be displayed in the Services list box, Double click CalculatorService and it will expand and show the service contracts implemented by the service.</span></span> <span data-ttu-id="d77b0-134">Ponechte výchozí obor názvů a klikněte na **OK** tlačítko.</span><span class="sxs-lookup"><span data-stu-id="d77b0-134">Leave the default namespace as is and click the **OK** button.</span></span>  
  
     <span data-ttu-id="d77b0-135">Když přidáte, odkaz na službu pomocí sady Visual Studio nové položky se zobrazí v Průzkumníku řešení ve složce odkazů na služby v rámci GettingStartedClient projektu.</span><span class="sxs-lookup"><span data-stu-id="d77b0-135">When you add a reference to a service using Visual Studio a new item will appear in the Solution Explorer under the Service References folder under the GettingStartedClient project.</span></span>  <span data-ttu-id="d77b0-136">Pokud použijete [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) nástroj souboru zdrojového kódu a soubor app.config se budou generovat.</span><span class="sxs-lookup"><span data-stu-id="d77b0-136">If you use the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) tool a source code file and app.config file will be generated.</span></span>  
  
     <span data-ttu-id="d77b0-137">Můžete také použít nástroj příkazového řádku [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) s příslušné přepínače k vytvoření kódu klienta.</span><span class="sxs-lookup"><span data-stu-id="d77b0-137">You can also use the command-line tool [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) with the appropriate switches to create the client code.</span></span> <span data-ttu-id="d77b0-138">Následující příklad vytvoří soubor kódu a konfigurační soubor pro službu.</span><span class="sxs-lookup"><span data-stu-id="d77b0-138">The following example generates a code file and a configuration file for the service.</span></span> <span data-ttu-id="d77b0-139">První příklad ukazuje, jak vygenerovat proxy serveru v jazyce Visual Basic a druhá ukazuje, jak vytvořit proxy server v jazyce C#:</span><span class="sxs-lookup"><span data-stu-id="d77b0-139">The first example shows how to generate the proxy in VB and the second shows how to generated the proxy in C#:</span></span>  
  
    ```  
    svcutil.exe /language:vb /out:generatedProxy.vb /config:app.config http://localhost:8000/ServiceModelSamples/service  
    ```  
  
    ```csharp  
    svcutil.exe /language:cs /out:generatedProxy.cs /config:app.config http://localhost:8000/ServiceModelSamples/service  
    ```  
  
 <span data-ttu-id="d77b0-140">Nyní jste vytvořili proxy server, který klientská aplikace bude používat pro volání služby kalkulačky.</span><span class="sxs-lookup"><span data-stu-id="d77b0-140">You have now created the proxy that the client application will use to call the calculator service.</span></span> <span data-ttu-id="d77b0-141">Pokračovat na další téma v řadě: [postupy: Konfigurace klienta](../../../docs/framework/wcf/how-to-configure-a-basic-wcf-client.md)</span><span class="sxs-lookup"><span data-stu-id="d77b0-141">Proceed to the next topic in the series: [How to: Configure a Client](../../../docs/framework/wcf/how-to-configure-a-basic-wcf-client.md)</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="d77b0-142">Viz také</span><span class="sxs-lookup"><span data-stu-id="d77b0-142">See Also</span></span>  
 [<span data-ttu-id="d77b0-143">Nástroj metadat modelu služby (Svcutil.exe)</span><span class="sxs-lookup"><span data-stu-id="d77b0-143">ServiceModel Metadata Utility Tool (Svcutil.exe)</span></span>](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md)  
 [<span data-ttu-id="d77b0-144">Začínáme</span><span class="sxs-lookup"><span data-stu-id="d77b0-144">Getting Started</span></span>](../../../docs/framework/wcf/samples/getting-started-sample.md)  
 [<span data-ttu-id="d77b0-145">Vlastní hostování</span><span class="sxs-lookup"><span data-stu-id="d77b0-145">Self-Host</span></span>](../../../docs/framework/wcf/samples/self-host.md)  
 [<span data-ttu-id="d77b0-146">Postupy: Publikování metadat služby promocí konfiguračního souboru</span><span class="sxs-lookup"><span data-stu-id="d77b0-146">How to: Publish Metadata for a Service Using a Configuration File</span></span>](../../../docs/framework/wcf/feature-details/how-to-publish-metadata-for-a-service-using-a-configuration-file.md)  
 [<span data-ttu-id="d77b0-147">Postupy: Stažení dokumentů metadat pomocí nástroje Svcutil.exe</span><span class="sxs-lookup"><span data-stu-id="d77b0-147">How to: Use Svcutil.exe to Download Metadata Documents</span></span>](../../../docs/framework/wcf/feature-details/how-to-use-svcutil-exe-to-download-metadata-documents.md)
