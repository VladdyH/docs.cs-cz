---
title: 'Postupy: Vytvoření klienta Windows Communication Foundation'
ms.date: 09/14/2018
helpviewer_keywords:
- clients [WCF], running
- WCF clients [WCF], running
ms.assetid: a67884cc-1c4b-416b-8c96-5c954099f19f
ms.openlocfilehash: 1eadb5008575a1a53d685db14d68e42d0dce1360
ms.sourcegitcommit: 2350a091ef6459f0fcfd894301242400374d8558
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 09/21/2018
ms.locfileid: "46539704"
---
# <a name="how-to-create-a-windows-communication-foundation-client"></a><span data-ttu-id="b53b3-102">Postupy: Vytvoření klienta Windows Communication Foundation</span><span class="sxs-lookup"><span data-stu-id="b53b3-102">How to: Create a Windows Communication Foundation Client</span></span>

<span data-ttu-id="b53b3-103">Toto je čtvrtý z šesti úkolů potřebný k vytvoření aplikace Windows Communication Foundation (WCF).</span><span class="sxs-lookup"><span data-stu-id="b53b3-103">This is the fourth of six tasks required to create a Windows Communication Foundation (WCF) application.</span></span> <span data-ttu-id="b53b3-104">Přehled všech šesti úkoly, naleznete v tématu [kurz Začínáme](../../../docs/framework/wcf/getting-started-tutorial.md) tématu.</span><span class="sxs-lookup"><span data-stu-id="b53b3-104">For an overview of all six of the tasks, see the [Getting Started Tutorial](../../../docs/framework/wcf/getting-started-tutorial.md) topic.</span></span>

<span data-ttu-id="b53b3-105">Toto téma popisuje, jak načíst metadata ze služby WCF a použijte ji k vytvoření proxy WCF, které můžete přístup ke službě.</span><span class="sxs-lookup"><span data-stu-id="b53b3-105">This topic describes how to retrieve metadata from a WCF service and use it to create a WCF proxy that can access the service.</span></span> <span data-ttu-id="b53b3-106">Tuto úlohu provedete pomocí **přidat odkaz na službu** funkce poskytované službou Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="b53b3-106">This task is completed by using the **Add Service Reference** functionality provided by Visual Studio.</span></span> <span data-ttu-id="b53b3-107">Tento nástroj získává metadata z koncového bodu služby MEX a vygeneruje soubor spravovaném zdrojovém kódu pro proxy server klienta v jazyce rozhodli (C# ve výchozím nastavení).</span><span class="sxs-lookup"><span data-stu-id="b53b3-107">This tool obtains the metadata from the service’s MEX endpoint and generates a managed source code file for a client proxy in the language you have chosen (C# by default).</span></span> <span data-ttu-id="b53b3-108">Kromě vytvoření proxy serveru klienta, nástroj také vytvoří nebo aktualizuje konfigurační soubor klienta, která umožňuje klientské aplikaci připojení ke službě na jeden z jeho koncových bodů.</span><span class="sxs-lookup"><span data-stu-id="b53b3-108">In addition to creating the client proxy, the tool also creates or updates the client configuration file which enables the client application to connect to the service at one of its endpoints.</span></span>

> [!NOTE]
> <span data-ttu-id="b53b3-109">Můžete také použít [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) nástroj pro generování třídy proxy serveru a konfigurace namísto použití **přidat odkaz na službu** v sadě Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="b53b3-109">You can also use the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) tool to generate the proxy class and configuration instead of using **Add Service Reference** in Visual Studio.</span></span>

> [!NOTE]
> <span data-ttu-id="b53b3-110">Při volání služby WCF z projektu knihovny tříd v sadě Visual Studio, můžete použít **přidat odkaz na službu** funkci, která automaticky generovat proxy serveru a související konfigurační soubor.</span><span class="sxs-lookup"><span data-stu-id="b53b3-110">When calling a WCF service from a class library project in Visual Studio, you can use the **Add Service Reference** feature to automatically generate a proxy and associated configuration file.</span></span> <span data-ttu-id="b53b3-111">Konfigurační soubor se nepoužije projekt knihovny tříd.</span><span class="sxs-lookup"><span data-stu-id="b53b3-111">The configuration file will not be used by the class library project.</span></span> <span data-ttu-id="b53b3-112">Budete muset přidat nastavení v souboru vygenerovanou konfiguraci do souboru app.config pro spustitelný soubor, který volá knihovnu tříd.</span><span class="sxs-lookup"><span data-stu-id="b53b3-112">You need to add the settings in the generated configuration file to the app.config file for the executable that calls the class library.</span></span>

<span data-ttu-id="b53b3-113">Klientská aplikace používá třídu proxy generovaný ke komunikaci se službou.</span><span class="sxs-lookup"><span data-stu-id="b53b3-113">The client application uses the generated proxy class to communicate with the service.</span></span> <span data-ttu-id="b53b3-114">Tento postup je popsaný v [postupy: používání klienta](../../../docs/framework/wcf/how-to-use-a-wcf-client.md).</span><span class="sxs-lookup"><span data-stu-id="b53b3-114">This procedure is described in [How to: Use a Client](../../../docs/framework/wcf/how-to-use-a-wcf-client.md).</span></span>

## <a name="to-create-a-windows-communication-foundation-client"></a><span data-ttu-id="b53b3-115">K vytvoření klienta Windows Communication Foundation</span><span class="sxs-lookup"><span data-stu-id="b53b3-115">To create a Windows Communication Foundation client</span></span>

1. <span data-ttu-id="b53b3-116">Vytvořte nový projekt konzolové aplikace v sadě Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="b53b3-116">Create a new console application project in Visual Studio.</span></span> <span data-ttu-id="b53b3-117">Klikněte pravým tlačítkem na řešení Začínáme v **Průzkumníka řešení** a vyberte **přidat** > **nový projekt**.</span><span class="sxs-lookup"><span data-stu-id="b53b3-117">Right-click on the Getting Started solution in **Solution Explorer** and select **Add** > **New Project**.</span></span> <span data-ttu-id="b53b3-118">V **přidat nový projekt** dialogového okna na levé straně, vyberte **Windows Desktop** kategorie v části **Visual C#** nebo **jazyka Visual Basic**.</span><span class="sxs-lookup"><span data-stu-id="b53b3-118">In the **Add New Project** dialog, on the left-hand side, select the **Windows Desktop** category under **Visual C#** or **Visual Basic**.</span></span> <span data-ttu-id="b53b3-119">Vyberte **Konzolová aplikace (.NET Framework)** šablony a poté pojmenujte projekt **GettingStartedClient**.</span><span class="sxs-lookup"><span data-stu-id="b53b3-119">Select the **Console App (.NET Framework)** template, and then name the project **GettingStartedClient**.</span></span>

2. <span data-ttu-id="b53b3-120">Přidáte odkaz na System.ServiceModel GettingStartedClient projektu.</span><span class="sxs-lookup"><span data-stu-id="b53b3-120">Add a reference to System.ServiceModel to the GettingStartedClient project.</span></span> <span data-ttu-id="b53b3-121">Klikněte pravým tlačítkem na **odkazy** ve složce projektu GettingStartedClient v **Průzkumníka řešení**a pak vyberte **přidat odkaz**.</span><span class="sxs-lookup"><span data-stu-id="b53b3-121">Right-click on the **References** folder under the GettingStartedClient project in **Solution Explorer**, and then select **Add Reference**.</span></span> <span data-ttu-id="b53b3-122">V **přidat odkaz** dialogového okna, vyberte **Framework** na levé straně dialogového okna v části **sestavení**.</span><span class="sxs-lookup"><span data-stu-id="b53b3-122">In the **Add Reference** dialog, select **Framework** on the left-hand side of the dialog under **Assemblies**.</span></span> <span data-ttu-id="b53b3-123">Vyhledejte a vyberte **System.ServiceModel**a klikněte na tlačítko **OK**.</span><span class="sxs-lookup"><span data-stu-id="b53b3-123">Find and select **System.ServiceModel**, and then choose **OK**.</span></span> <span data-ttu-id="b53b3-124">Uložte řešení tak, že vyberete **souboru** > **Uložit vše**.</span><span class="sxs-lookup"><span data-stu-id="b53b3-124">Save the solution by selecting **File** > **Save All**.</span></span>

3. <span data-ttu-id="b53b3-125">Přidání odkazu na službu ve službě kalkulačku.</span><span class="sxs-lookup"><span data-stu-id="b53b3-125">Add a service reference to the Calculator Service.</span></span>

   1. <span data-ttu-id="b53b3-126">Nejprve spusťte GettingStartedHost konzolové aplikace.</span><span class="sxs-lookup"><span data-stu-id="b53b3-126">First, start up the GettingStartedHost console application.</span></span>

   2. <span data-ttu-id="b53b3-127">Po spuštění hostitele, klikněte pravým tlačítkem **odkazy** ve složce projektu GettingStartedClient v **Průzkumníku řešení** a vyberte **přidat**  >   **Odkaz na službu**.</span><span class="sxs-lookup"><span data-stu-id="b53b3-127">Once the host is running, right-click the **References** folder under the GettingStartedClient project in **Solution Explorer** and select **Add** > **Service Reference**.</span></span>

   3. <span data-ttu-id="b53b3-128">Do pole Adresa zadejte následující adresu URL **přidat odkaz na službu** dialogové okno: [http://localhost:8000/GettingStartedClient/Service](http://localhost:8000/GettingStartedClient/Service)</span><span class="sxs-lookup"><span data-stu-id="b53b3-128">Enter the following URL in the address box of the **Add Service Reference** dialog: [http://localhost:8000/GettingStartedClient/Service](http://localhost:8000/GettingStartedClient/Service)</span></span>

   4. <span data-ttu-id="b53b3-129">Zvolte **Přejít**.</span><span class="sxs-lookup"><span data-stu-id="b53b3-129">Choose **Go**.</span></span>

   <span data-ttu-id="b53b3-130">Se zobrazí CalculatorService **služby** pole se seznamem.</span><span class="sxs-lookup"><span data-stu-id="b53b3-130">The CalculatorService is displayed in the **Services** list box.</span></span> <span data-ttu-id="b53b3-131">Dvakrát klikněte na panel CalculatorService se rozbalí a zobrazí služba kontraktů implementovaných službou.</span><span class="sxs-lookup"><span data-stu-id="b53b3-131">Double-click CalculatorService to expand it and show the service contracts implemented by the service.</span></span> <span data-ttu-id="b53b3-132">Ponechte výchozí obor názvů jako- a zvolíte **OK**.</span><span class="sxs-lookup"><span data-stu-id="b53b3-132">Leave the default namespace as-is and choose **OK**.</span></span>

    <span data-ttu-id="b53b3-133">Když přidáte odkaz na službu pomocí sady Visual Studio, objeví nová položka v **Průzkumníka řešení** pod **odkazy na služby** GettingStartedClient projektu ve složce.</span><span class="sxs-lookup"><span data-stu-id="b53b3-133">When you add a reference to a service using Visual Studio, a new item appears in **Solution Explorer** under the **Service References** folder under the GettingStartedClient project.</span></span> <span data-ttu-id="b53b3-134">Pokud používáte [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) jsou generovány nástroj, zdrojový soubor a soubor app.config.</span><span class="sxs-lookup"><span data-stu-id="b53b3-134">If you use the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) tool, a source code file and app.config file are generated.</span></span>

    <span data-ttu-id="b53b3-135">Můžete také použít nástroj příkazového řádku [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) pomocí příslušných přepínačů vytvořte klientský kód.</span><span class="sxs-lookup"><span data-stu-id="b53b3-135">You can also use the command-line tool [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) with the appropriate switches to create the client code.</span></span> <span data-ttu-id="b53b3-136">Následující příklad generuje soubor kódu a konfiguračním souboru služby.</span><span class="sxs-lookup"><span data-stu-id="b53b3-136">The following example generates a code file and a configuration file for the service.</span></span> <span data-ttu-id="b53b3-137">První příklad ukazuje, jak generovat proxy serveru v jazyce Visual Basic a druhý ukazuje, jak generovat proxy serveru v jazyce C#:</span><span class="sxs-lookup"><span data-stu-id="b53b3-137">The first example shows how to generate the proxy in VB, and the second shows how to generate the proxy in C#:</span></span>

    ```shell
    svcutil.exe /language:vb /out:generatedProxy.vb /config:app.config http://localhost:8000/GettingStartedClient/service
    ```

    ```shell
    svcutil.exe /language:cs /out:generatedProxy.cs /config:app.config http://localhost:8000/GettingStartedClient/service
    ```

## <a name="next-steps"></a><span data-ttu-id="b53b3-138">Další kroky</span><span class="sxs-lookup"><span data-stu-id="b53b3-138">Next steps</span></span>

<span data-ttu-id="b53b3-139">Vytvořili jste proxy server, který klientská aplikace bude používat k volání služby kalkulačku.</span><span class="sxs-lookup"><span data-stu-id="b53b3-139">You've created the proxy that the client application will use to call the calculator service.</span></span> <span data-ttu-id="b53b3-140">Pokračujte k dalšímu tématu, v řadě.</span><span class="sxs-lookup"><span data-stu-id="b53b3-140">Proceed to the next topic in the series.</span></span>

> [!div class="nextstepaction"]
> [<span data-ttu-id="b53b3-141">Postupy: Konfigurace klienta</span><span class="sxs-lookup"><span data-stu-id="b53b3-141">How to: Configure a Client</span></span>](../../../docs/framework/wcf/how-to-configure-a-basic-wcf-client.md)

## <a name="see-also"></a><span data-ttu-id="b53b3-142">Viz také:</span><span class="sxs-lookup"><span data-stu-id="b53b3-142">See also</span></span>

- [<span data-ttu-id="b53b3-143">Nástroj metadat modelu služby (Svcutil.exe)</span><span class="sxs-lookup"><span data-stu-id="b53b3-143">ServiceModel Metadata Utility Tool (Svcutil.exe)</span></span>](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md)
- [<span data-ttu-id="b53b3-144">Začínáme</span><span class="sxs-lookup"><span data-stu-id="b53b3-144">Getting Started</span></span>](../../../docs/framework/wcf/samples/getting-started-sample.md)
- [<span data-ttu-id="b53b3-145">Vlastní hostování</span><span class="sxs-lookup"><span data-stu-id="b53b3-145">Self-Host</span></span>](../../../docs/framework/wcf/samples/self-host.md)
- [<span data-ttu-id="b53b3-146">Postupy: Publikování metadat služby promocí konfiguračního souboru</span><span class="sxs-lookup"><span data-stu-id="b53b3-146">How to: Publish Metadata for a Service Using a Configuration File</span></span>](../../../docs/framework/wcf/feature-details/how-to-publish-metadata-for-a-service-using-a-configuration-file.md)
- [<span data-ttu-id="b53b3-147">Postupy: Stažení dokumentů metadat pomocí nástroje Svcutil.exe</span><span class="sxs-lookup"><span data-stu-id="b53b3-147">How to: Use Svcutil.exe to Download Metadata Documents</span></span>](../../../docs/framework/wcf/feature-details/how-to-use-svcutil-exe-to-download-metadata-documents.md)
