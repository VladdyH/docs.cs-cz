---
title: "Principy generovaného klientského kódu"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
dev_langs:
- csharp
- vb
ms.assetid: c3f6e4b0-1131-4c94-aa39-a197c5c2f2ca
caps.latest.revision: "9"
author: Erikre
ms.author: erikre
manager: erikre
ms.openlocfilehash: 4d185371c1648241db7b01f26a49e2e1e8710b0e
ms.sourcegitcommit: bd1ef61f4bb794b25383d3d72e71041a5ced172e
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/18/2017
---
# <a name="understanding-generated-client-code"></a><span data-ttu-id="4e706-102">Principy generovaného klientského kódu</span><span class="sxs-lookup"><span data-stu-id="4e706-102">Understanding Generated Client Code</span></span>
<span data-ttu-id="4e706-103">[ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) generuje kód klienta a konfigurační soubor aplikace klienta pro použití při vytváření klientské aplikace.</span><span class="sxs-lookup"><span data-stu-id="4e706-103">The [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) generates client code and a client application configuration file for use in building client applications.</span></span> <span data-ttu-id="4e706-104">Toto téma obsahuje přehled používání příklady generovaný kód pro scénáře kontraktu služby na úrovni standard.</span><span class="sxs-lookup"><span data-stu-id="4e706-104">This topic provides a tour of generated code examples for standard service contract scenarios.</span></span> [!INCLUDE[crabout](../../../../includes/crabout-md.md)]<span data-ttu-id="4e706-105">vytvoření klientských aplikací pomocí generovaného kódu, najdete v části [klienta WCF – přehled](../../../../docs/framework/wcf/wcf-client-overview.md).</span><span class="sxs-lookup"><span data-stu-id="4e706-105"> building a client application using the generated code, see [WCF Client Overview](../../../../docs/framework/wcf/wcf-client-overview.md).</span></span>  
  
## <a name="overview"></a><span data-ttu-id="4e706-106">Přehled</span><span class="sxs-lookup"><span data-stu-id="4e706-106">Overview</span></span>  
 <span data-ttu-id="4e706-107">Pokud používáte [!INCLUDE[vsprvs](../../../../includes/vsprvs-md.md)] ke generování [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] typů klientů pro svůj projekt, obvykle není nutné prozkoumat kód klienta vygenerovaný.</span><span class="sxs-lookup"><span data-stu-id="4e706-107">If you use [!INCLUDE[vsprvs](../../../../includes/vsprvs-md.md)] to generate [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] client types for your project, you typically do not need to examine the generated client code.</span></span> <span data-ttu-id="4e706-108">Pokud nepoužíváte vývojového prostředí, které provádí stejné služby pro vás, můžete generovat kód klienta a pak pomocí tohoto kódu k vývoji klientskou aplikaci nástroje, jako je Svcutil.exe.</span><span class="sxs-lookup"><span data-stu-id="4e706-108">If you are not using a development environment that performs the same services for you, you can use a tool such as Svcutil.exe to generate client code and then use that code to develop your client application.</span></span>  
  
 <span data-ttu-id="4e706-109">Protože Svcutil.exe má několik možností, které upravte informace generované typu, toto téma nepopisuje všechny scénáře.</span><span class="sxs-lookup"><span data-stu-id="4e706-109">Because Svcutil.exe has a number of options that modify the generated type information, this topic does not discuss all scenarios.</span></span> <span data-ttu-id="4e706-110">Následující úlohy standardní zahrnují vyhledání generovaného kódu:</span><span class="sxs-lookup"><span data-stu-id="4e706-110">However, the following standard tasks involve locating generated code:</span></span>  
  
-   <span data-ttu-id="4e706-111">Identifikace rozhraní kontraktu služby.</span><span class="sxs-lookup"><span data-stu-id="4e706-111">Identifying service contract interfaces.</span></span>  
  
-   <span data-ttu-id="4e706-112">Identifikace [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] třída klienta.</span><span class="sxs-lookup"><span data-stu-id="4e706-112">Identifying the [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client class.</span></span>  
  
-   <span data-ttu-id="4e706-113">Identifikace datové typy.</span><span class="sxs-lookup"><span data-stu-id="4e706-113">Identifying data types.</span></span>  
  
-   <span data-ttu-id="4e706-114">Identifikace kontrakty zpětného volání pro duplexní služby.</span><span class="sxs-lookup"><span data-stu-id="4e706-114">Identifying callback contracts for duplex services.</span></span>  
  
-   <span data-ttu-id="4e706-115">Identifikace rozhraní pomocná kontraktu služby kanálu.</span><span class="sxs-lookup"><span data-stu-id="4e706-115">Identifying the helper service contract channel interface.</span></span>  
  
### <a name="finding-service-contract-interfaces"></a><span data-ttu-id="4e706-116">Rozhraní kontraktu služby hledání</span><span class="sxs-lookup"><span data-stu-id="4e706-116">Finding Service Contract Interfaces</span></span>  
 <span data-ttu-id="4e706-117">Chcete-li vyhledat rozhraní, která modelu kontrakty služeb, vyhledejte rozhraní, které jsou označené <xref:System.ServiceModel.ServiceContractAttribute?displayProperty=nameWithType> atribut.</span><span class="sxs-lookup"><span data-stu-id="4e706-117">To locate the interfaces that model service contracts, search for interfaces that are marked with the <xref:System.ServiceModel.ServiceContractAttribute?displayProperty=nameWithType> attribute.</span></span> <span data-ttu-id="4e706-118">Tento atribut často může být obtížné vyhledat s rychlým číst z důvodu přítomnosti dalších atributů a explicitní vlastnosti, které jsou nastaveny na atribut sám sebe.</span><span class="sxs-lookup"><span data-stu-id="4e706-118">Often this attribute can be difficult to locate with a quick read due to the presence of other attributes and the explicit properties set on the attribute itself.</span></span> <span data-ttu-id="4e706-119">Mějte na paměti, že rozhraní kontraktu služby a rozhraní kontraktu klienta jsou dva různé typy.</span><span class="sxs-lookup"><span data-stu-id="4e706-119">Remember that the service contract interface and the client contract interface are two different types.</span></span> <span data-ttu-id="4e706-120">Následující příklad kódu ukazuje na původní kontrakt služby.</span><span class="sxs-lookup"><span data-stu-id="4e706-120">The following code example shows the original service contract.</span></span>  
  
 [!code-csharp[C_GeneratedCodeFiles#22](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_generatedcodefiles/cs/proxycode.cs#22)]  
  
 <span data-ttu-id="4e706-121">Následující příklad kódu ukazuje na stejné kontrakt služby generovaná Svcutil.exe.</span><span class="sxs-lookup"><span data-stu-id="4e706-121">The following code example shows the same service contract as generated by Svcutil.exe.</span></span>  
  
 [!code-csharp[C_GeneratedCodeFiles#12](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_generatedcodefiles/cs/proxycode.cs#12)]  
  
 <span data-ttu-id="4e706-122">Můžete použít rozhraní kontrakt generovaný služby spolu s <xref:System.ServiceModel.ChannelFactory?displayProperty=nameWithType> třídy za účelem vytvoření [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] kanál objektu, se kterým má být vyvolán operací služby.</span><span class="sxs-lookup"><span data-stu-id="4e706-122">You can use the generated service contract interface along with the <xref:System.ServiceModel.ChannelFactory?displayProperty=nameWithType> class to create a [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] channel object with which to invoke service operations.</span></span> [!INCLUDE[crdefault](../../../../includes/crdefault-md.md)]<span data-ttu-id="4e706-123">[Postupy: použití třídy ChannelFactory](../../../../docs/framework/wcf/feature-details/how-to-use-the-channelfactory.md).</span><span class="sxs-lookup"><span data-stu-id="4e706-123"> [How to: Use the ChannelFactory](../../../../docs/framework/wcf/feature-details/how-to-use-the-channelfactory.md).</span></span>  
  
### <a name="finding-wcf-client-classes"></a><span data-ttu-id="4e706-124">Hledání třídy klienta WCF</span><span class="sxs-lookup"><span data-stu-id="4e706-124">Finding WCF Client Classes</span></span>  
 <span data-ttu-id="4e706-125">Vyhledejte [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] klienta třídu, která implementuje kontrakt služby, kterou chcete použít, hledání pro rozšíření <xref:System.ServiceModel.ClientBase%601?displayProperty=nameWithType>, kde parametr typu je kontrakt služby rozhraní, kterou jste dříve nachází, a který rozšiřuje tohoto rozhraní.</span><span class="sxs-lookup"><span data-stu-id="4e706-125">To locate the [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client class that implements the service contract you want to use, search for an extension of <xref:System.ServiceModel.ClientBase%601?displayProperty=nameWithType>, where the type parameter is the service contract interface that you previously located and that extends that interface.</span></span> <span data-ttu-id="4e706-126">Následující příklad kódu ukazuje <xref:System.ServiceModel.ClientBase%601> – třída typu `ISampleService`.</span><span class="sxs-lookup"><span data-stu-id="4e706-126">The following code example shows the <xref:System.ServiceModel.ClientBase%601> class of type `ISampleService`.</span></span>  
  
 [!code-csharp[C_GeneratedCodeFiles#14](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_generatedcodefiles/cs/proxycode.cs#14)]  
  
 <span data-ttu-id="4e706-127">Můžete to použít [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] třída klienta vytvořením novou instanci a volání metod implementuje.</span><span class="sxs-lookup"><span data-stu-id="4e706-127">You can use this [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client class by creating a new instance of it and calling the methods it implements.</span></span> <span data-ttu-id="4e706-128">Tyto metody vyvolání operace služby, pomocí kterého je navržena a nakonfigurovat tak, aby komunikovat.</span><span class="sxs-lookup"><span data-stu-id="4e706-128">Those methods invoke the service operation with which it is designed and configured to interact.</span></span> [!INCLUDE[crdefault](../../../../includes/crdefault-md.md)]<span data-ttu-id="4e706-129">[Klienta WCF – přehled](../../../../docs/framework/wcf/wcf-client-overview.md).</span><span class="sxs-lookup"><span data-stu-id="4e706-129"> [WCF Client Overview](../../../../docs/framework/wcf/wcf-client-overview.md).</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="4e706-130">Pokud SvcUtil.exe vygeneruje třídy klienta WCF, přidá <xref:System.Diagnostics.DebuggerStepThroughAttribute> k třídě klienta, která zabraňuje ladicí programy z procházení třída klienta WCF.</span><span class="sxs-lookup"><span data-stu-id="4e706-130">When SvcUtil.exe generates a WCF client class, it adds a <xref:System.Diagnostics.DebuggerStepThroughAttribute> to the client class that prevents debuggers from stepping through the WCF client class.</span></span>  
  
### <a name="finding-data-types"></a><span data-ttu-id="4e706-131">Hledání datové typy</span><span class="sxs-lookup"><span data-stu-id="4e706-131">Finding Data Types</span></span>  
 <span data-ttu-id="4e706-132">Datové typy vyhledat v generovaného kódu, je nejzákladnější mechanismus určit název typu uvedených ve smlouvě a vyhledat kód pro tento typ deklarace.</span><span class="sxs-lookup"><span data-stu-id="4e706-132">To locate data types in the generated code, the most basic mechanism is to identify the type name specified in a contract and search the code for that type declaration.</span></span> <span data-ttu-id="4e706-133">Například následující kontrakt Určuje, že `SampleMethod` může vrátit chybu protokolu SOAP typu `microsoft.wcf.documentation.SampleFault`.</span><span class="sxs-lookup"><span data-stu-id="4e706-133">For example, the following contract specifies that the `SampleMethod` can return a SOAP fault of type `microsoft.wcf.documentation.SampleFault`.</span></span>  
  
 [!code-csharp[C_GeneratedCodeFiles#11](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_generatedcodefiles/cs/proxycode.cs#11)]  
  
 <span data-ttu-id="4e706-134">Hledání `SampleFault` vyhledá následující deklaraci typu.</span><span class="sxs-lookup"><span data-stu-id="4e706-134">Searching for `SampleFault` locates the following type declaration.</span></span>  
  
 [!code-csharp[C_GeneratedCodeFiles#30](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_generatedcodefiles/cs/proxycode.cs#30)]  
  
 <span data-ttu-id="4e706-135">V takovém případě datový typ je typ podrobností vyvolané určité výjimky na straně klienta <xref:System.ServiceModel.FaultException%601> kde parametr typu podrobností je `microsoft.wcf.documentation.SampleFault`.</span><span class="sxs-lookup"><span data-stu-id="4e706-135">In this case the data type is the detail type thrown by a specific exception on the client, a <xref:System.ServiceModel.FaultException%601> where the detail type parameter is `microsoft.wcf.documentation.SampleFault`.</span></span> [!INCLUDE[crabout](../../../../includes/crabout-md.md)]<span data-ttu-id="4e706-136">datové typy, najdete v části [zadání přenos dat v kontraktech služby](../../../../docs/framework/wcf/feature-details/specifying-data-transfer-in-service-contracts.md).</span><span class="sxs-lookup"><span data-stu-id="4e706-136"> data types, see [Specifying Data Transfer in Service Contracts](../../../../docs/framework/wcf/feature-details/specifying-data-transfer-in-service-contracts.md).</span></span> [!INCLUDE[crabout](../../../../includes/crabout-md.md)]<span data-ttu-id="4e706-137">zpracování výjimek v klientech, najdete v části [odesílání a přijímání chyb](../../../../docs/framework/wcf/sending-and-receiving-faults.md).</span><span class="sxs-lookup"><span data-stu-id="4e706-137"> handling exceptions in clients, see [Sending and Receiving Faults](../../../../docs/framework/wcf/sending-and-receiving-faults.md).</span></span>  
  
### <a name="finding-callback-contracts-for-duplex-services"></a><span data-ttu-id="4e706-138">Hledání kontrakty zpětného volání pro duplexní služby</span><span class="sxs-lookup"><span data-stu-id="4e706-138">Finding Callback Contracts for Duplex Services</span></span>  
 <span data-ttu-id="4e706-139">Pokud vyhledat kontraktu služby, pro který rozhraní kontrakt Určuje hodnotu <xref:System.ServiceModel.ServiceContractAttribute.CallbackContract%2A?displayProperty=nameWithType> vlastnost a potom tento kontrakt určuje duplexního kontraktu.</span><span class="sxs-lookup"><span data-stu-id="4e706-139">If you locate a service contract for which the contract interface specifies a value for the <xref:System.ServiceModel.ServiceContractAttribute.CallbackContract%2A?displayProperty=nameWithType> property, then that contract specifies a duplex contract.</span></span> <span data-ttu-id="4e706-140">Duplexní kontrakty vyžadují klientská aplikace vytvořte třídu zpětného volání, která implementuje kontrakt zpětného volání a předat instance této třídy <xref:System.ServiceModel.DuplexClientBase%601?displayProperty=nameWithType> nebo <xref:System.ServiceModel.DuplexChannelFactory%601?displayProperty=nameWithType> používaný ke komunikaci se službou.</span><span class="sxs-lookup"><span data-stu-id="4e706-140">Duplex contracts require the client application to create a callback class that implements the callback contract and pass an instance of that class to the <xref:System.ServiceModel.DuplexClientBase%601?displayProperty=nameWithType> or <xref:System.ServiceModel.DuplexChannelFactory%601?displayProperty=nameWithType> used to communicate with the service.</span></span> [!INCLUDE[crabout](../../../../includes/crabout-md.md)]<span data-ttu-id="4e706-141">duplexní klientů naleznete v tématu [postupy: přístup k službám pomocí duplexního kontraktu](../../../../docs/framework/wcf/feature-details/how-to-access-services-with-a-duplex-contract.md).</span><span class="sxs-lookup"><span data-stu-id="4e706-141"> duplex clients, see [How to: Access Services with a Duplex Contract](../../../../docs/framework/wcf/feature-details/how-to-access-services-with-a-duplex-contract.md).</span></span>  
  
 <span data-ttu-id="4e706-142">Následující kontrakt určuje kontraktu zpětného volání typu `SampleDuplexHelloCallback`.</span><span class="sxs-lookup"><span data-stu-id="4e706-142">The following contract specifies a callback contract of type `SampleDuplexHelloCallback`.</span></span>  
  
 [!code-csharp[C_GeneratedCodeFiles#2](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_generatedcodefiles/cs/duplexproxycode.cs#2)]
 [!code-vb[C_GeneratedCodeFiles#2](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_generatedcodefiles/vb/duplexproxycode.vb#2)]  
  
 <span data-ttu-id="4e706-143">Vyhledávání pro tento kontrakt zpětného volání vyhledá následující rozhraní, které musí implementovat klientské aplikace.</span><span class="sxs-lookup"><span data-stu-id="4e706-143">Searching for that callback contract locates the following interface that the client application must implement.</span></span>  
  
 [!code-csharp[C_GeneratedCodeFiles#4](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_generatedcodefiles/cs/duplexproxycode.cs#4)]
 [!code-vb[C_GeneratedCodeFiles#4](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_generatedcodefiles/vb/duplexproxycode.vb#4)]  
  
### <a name="finding-service-contract-channel-interfaces"></a><span data-ttu-id="4e706-144">Kanál kontrakt služby s vyhledáním rozhraní</span><span class="sxs-lookup"><span data-stu-id="4e706-144">Finding Service Contract Channel Interfaces</span></span>  
 <span data-ttu-id="4e706-145">Při použití <xref:System.ServiceModel.ChannelFactory> – třída pomocí rozhraní kontraktu služby, musíte přetypovat <xref:System.ServiceModel.IClientChannel?displayProperty=nameWithType> rozhraní explicitně otevřít, zavřít nebo přerušení kanál.</span><span class="sxs-lookup"><span data-stu-id="4e706-145">When using the <xref:System.ServiceModel.ChannelFactory> class with a service contract interface, you must cast to the <xref:System.ServiceModel.IClientChannel?displayProperty=nameWithType> interface to explicitly open, close, or abort the channel.</span></span> <span data-ttu-id="4e706-146">Aby bylo snazší s ním pracovat, nástroje Svcutil.exe rovněž vygeneruje rozhraní pomocné rutiny, který implementuje rozhraní služby kontrakt rozhraní a <xref:System.ServiceModel.IClientChannel> umožnit komunikovat s infrastrukturou kanálu klienta bez nutnosti přetypovat.</span><span class="sxs-lookup"><span data-stu-id="4e706-146">To make it easier to work with, the Svcutil.exe tool also generates a helper interface that implements both the service contract interface and <xref:System.ServiceModel.IClientChannel> to enable you to interact with the client channel infrastructure without having to cast.</span></span> <span data-ttu-id="4e706-147">Následující kód ukazuje definici kanálu klienta pomocné rutiny, který implementuje předchozí kontrakt služby.</span><span class="sxs-lookup"><span data-stu-id="4e706-147">The following code shows the definition of a helper client channel that implements the preceding service contract.</span></span>  
  
 [!code-csharp[C_GeneratedCodeFiles#13](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_generatedcodefiles/cs/proxycode.cs#13)]  
  
## <a name="see-also"></a><span data-ttu-id="4e706-148">Viz také</span><span class="sxs-lookup"><span data-stu-id="4e706-148">See Also</span></span>  
 [<span data-ttu-id="4e706-149">Klienti WCF – přehled</span><span class="sxs-lookup"><span data-stu-id="4e706-149">WCF Client Overview</span></span>](../../../../docs/framework/wcf/wcf-client-overview.md)
