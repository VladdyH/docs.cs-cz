---
title: Zpracování škodlivých zpráv
ms.date: 03/30/2017
ms.assetid: 8d1c5e5a-7928-4a80-95ed-d8da211b8595
ms.openlocfilehash: b860e239d001a03da191d73de2f7b53e7073c7a6
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 05/04/2018
ms.locfileid: "33496465"
---
# <a name="poison-message-handling"></a><span data-ttu-id="4c8d9-102">Zpracování škodlivých zpráv</span><span class="sxs-lookup"><span data-stu-id="4c8d9-102">Poison Message Handling</span></span>
<span data-ttu-id="4c8d9-103">A *nezpracovatelná zpráva* je zprávu, která byla překročena maximální počet pokusů o doručení do aplikace.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-103">A *poison message* is a message that has exceeded the maximum number of delivery attempts to the application.</span></span> <span data-ttu-id="4c8d9-104">Tato situace mohou vzniknout, když aplikace založenou na fronty nemůže zpracovat zprávu z důvodu chyb.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-104">This situation can arise when a queue-based application cannot process a message because of errors.</span></span> <span data-ttu-id="4c8d9-105">Splňovat požadavky na spolehlivost, aplikace přijímá zprávy v rámci transakce.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-105">To meet reliability demands, a queued application receives messages under a transaction.</span></span> <span data-ttu-id="4c8d9-106">Ruší se transakce, ve kterém byl přijat zprávu ve frontě zanechává zprávy ve frontě, zpráva se pokus o pod novou transakci.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-106">Aborting the transaction in which a queued message was received leaves the message in the queue so that the message is retried under a new transaction.</span></span> <span data-ttu-id="4c8d9-107">Pokud není problém, která způsobila zrušení vyřešen, může být zablokován má přijímající aplikace v smyčku přijímáním a přerušení stejná zpráva, dokud byl překročen maximální počet pokusů o doručení a výsledky poškozená zpráva.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-107">If the problem that caused the transaction to abort is not corrected, the receiving application can get stuck in a loop receiving and aborting the same message until the maximum number of delivery attempts has been exceeded and a poison message results.</span></span>  
  
 <span data-ttu-id="4c8d9-108">Zpráva se může stát nezpracovatelná zpráva z mnoha důvodů.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-108">A message can become a poison message for many reasons.</span></span> <span data-ttu-id="4c8d9-109">Nejčastější příčiny jsou specifické pro aplikaci.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-109">The most common reasons are application specific.</span></span> <span data-ttu-id="4c8d9-110">Například pokud aplikace přečte zprávu z fronty a provádí zpracování některé databáze, aplikace se pravděpodobně nepodaří získat zámek na databázi, způsobuje ho ji přerušit.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-110">For example, if an application reads a message from a queue and performs some database processing, the application may fail to get a lock on the database, causing it to abort the transaction.</span></span> <span data-ttu-id="4c8d9-111">Vzhledem k tomu, že databáze transakce byla přerušena, zůstane zprávy ve frontě, což způsobí, že aplikace znovu načíst zprávu podruhé a ujistěte se, další pokus o získání zámku v databázi.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-111">Because the database transaction was aborted, the message remains in the queue, which causes the application to reread the message a second time and make another attempt to acquire a lock on the database.</span></span> <span data-ttu-id="4c8d9-112">Zprávy se může stát také poškozených v případě, že obsahují neplatné informace.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-112">Messages can also become poison if they contain invalid information.</span></span> <span data-ttu-id="4c8d9-113">Nákupní objednávka může například obsahovat neplatný zákaznické číslo.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-113">For example, a purchase order may contain an invalid customer number.</span></span> <span data-ttu-id="4c8d9-114">V těchto případech může aplikace odpojit přerušení transakce a vynutit zpráva, která má být poškozená zpráva.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-114">In these cases, the application may voluntarily abort the transaction and force the message to become a poison message.</span></span>  
  
 <span data-ttu-id="4c8d9-115">Ve výjimečných případech může selhat zprávy k získání odeslat do aplikace.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-115">On rare occasions, messages can fail to get dispatched to the application.</span></span> <span data-ttu-id="4c8d9-116">Vrstvě Windows Communication Foundation (WCF) může být problém se zprávou, například pokud zpráva má nesprávný rámečku, přihlašovací údaje neplatná zpráva připojen nebo hlavičce neplatná akce.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-116">The Windows Communication Foundation (WCF) layer may find a problem with the message, such as if the message has the wrong frame, invalid message credentials attached to it, or an invalid action header.</span></span> <span data-ttu-id="4c8d9-117">V těchto případech aplikace nikdy obdrží zprávu; zpráva však stále může stát nezpracovatelná zpráva a zpracovat ručně.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-117">In these cases, the application never receives the message; however, the message can still become a poison message and be processed manually.</span></span>  
  
## <a name="handling-poison-messages"></a><span data-ttu-id="4c8d9-118">Zpracování poškozených zpráv</span><span class="sxs-lookup"><span data-stu-id="4c8d9-118">Handling Poison Messages</span></span>  
 <span data-ttu-id="4c8d9-119">Ve službě WCF zpracování poškozených zpráv poskytuje mechanismus pro přijímající aplikace k řešení zprávy, které nelze odeslat do aplikace nebo zprávy, které se odesílají do aplikace, ale které se nepodařilo zpracovat z důvodu konkrétní aplikace z důvodů.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-119">In WCF, poison message handling provides a mechanism for a receiving application to deal with messages that cannot be dispatched to the application, or messages that are dispatched to the application but which fail to be processed because of application-specific reasons.</span></span> <span data-ttu-id="4c8d9-120">Zpracování poškozených zpráv ke konfiguraci pomocí následující vlastnosti v každé vazeb k dispozici zařazených do fronty:</span><span class="sxs-lookup"><span data-stu-id="4c8d9-120">Poison message handling is configured by the following properties in each of the available queued bindings:</span></span>  
  
-   <span data-ttu-id="4c8d9-121">`ReceiveRetryCount`.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-121">`ReceiveRetryCount`.</span></span> <span data-ttu-id="4c8d9-122">Celočíselná hodnota, která určuje maximální počet pokusů o opakování doručení zpráv z fronty aplikace do aplikace.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-122">An integer value that indicates the maximum number of times to retry delivery of a message from the application queue to the application.</span></span> <span data-ttu-id="4c8d9-123">Výchozí hodnota je 5.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-123">The default value is 5.</span></span> <span data-ttu-id="4c8d9-124">Toto je dostatečná v případech, kde okamžitou opakování odstraňuje problém, například s dočasné vzájemné zablokování v databázi.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-124">This is sufficient in cases where an immediate retry fixes the problem, such as with a temporary deadlock on a database.</span></span>  
  
-   <span data-ttu-id="4c8d9-125">`MaxRetryCycles`.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-125">`MaxRetryCycles`.</span></span> <span data-ttu-id="4c8d9-126">Celočíselná hodnota, která určuje maximální počet cyklů opakování.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-126">An integer value that indicates the maximum number of retry cycles.</span></span> <span data-ttu-id="4c8d9-127">Opakování cyklus se skládá z přenosu zprávy z fronty aplikace na dílčí fronta opakování a konfigurovat zpožděním z dílčí fronta opakování zpět do fronty aplikace pro doručování pokuste se znovu spustit.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-127">A retry cycle consists of transferring a message from the application queue to the retry subqueue and, after a configurable delay, from the retry subqueue back into the application queue to reattempt delivery.</span></span> <span data-ttu-id="4c8d9-128">Výchozí hodnota je 2.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-128">The default value is 2.</span></span> <span data-ttu-id="4c8d9-129">Na [!INCLUDE[wv](../../../../includes/wv-md.md)], zkusí se zpráva nesmí být delší než (`ReceiveRetryCount` + 1) \* (`MaxRetryCycles` + 1) časy.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-129">On [!INCLUDE[wv](../../../../includes/wv-md.md)], the message is tried a maximum of (`ReceiveRetryCount` +1) \* (`MaxRetryCycles` + 1) times.</span></span> <span data-ttu-id="4c8d9-130">`MaxRetryCycles` je na ignorována [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)] a [!INCLUDE[wxp](../../../../includes/wxp-md.md)].</span><span class="sxs-lookup"><span data-stu-id="4c8d9-130">`MaxRetryCycles` is ignored on [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)] and [!INCLUDE[wxp](../../../../includes/wxp-md.md)].</span></span>  
  
-   <span data-ttu-id="4c8d9-131">`RetryCycleDelay`.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-131">`RetryCycleDelay`.</span></span> <span data-ttu-id="4c8d9-132">Prodlevu mezi cykly opakování.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-132">The time delay between retry cycles.</span></span> <span data-ttu-id="4c8d9-133">Výchozí hodnota je 30 minut.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-133">The default value is 30 minutes.</span></span> <span data-ttu-id="4c8d9-134">`MaxRetryCycles` a `RetryCycleDelay` společně poskytují mechanismus potíže, kde opakovat po pravidelné zpoždění odstraňuje problém vyřešit.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-134">`MaxRetryCycles` and `RetryCycleDelay` together provide a mechanism to address the problem where a retry after a periodic delay fixes the problem.</span></span> <span data-ttu-id="4c8d9-135">Například zpracovává uzamčeném řádek nastavit v systému SQL Server čeká na potvrzení transakce.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-135">For example, this handles a locked row set in SQL Server pending transaction commit.</span></span>  
  
-   <span data-ttu-id="4c8d9-136">`ReceiveErrorHandling`.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-136">`ReceiveErrorHandling`.</span></span> <span data-ttu-id="4c8d9-137">Výčet, který určuje akce pro zprávu, která se nezdařila doručení, po maximální počet opakovaných pokusů, se pokusilo.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-137">An enumeration that indicates the action to take for a message that has failed delivery after the maximum number of retries has been attempted.</span></span> <span data-ttu-id="4c8d9-138">Hodnoty může být odmítněte odolnost, Drop a přesunout.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-138">The values can be Fault, Drop, Reject, and Move.</span></span> <span data-ttu-id="4c8d9-139">Výchozí možnost je selhání.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-139">The default option is Fault.</span></span>  
  
-   <span data-ttu-id="4c8d9-140">Selhání.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-140">Fault.</span></span> <span data-ttu-id="4c8d9-141">Tato možnost odešle pro naslouchací proces, který způsobil chybu `ServiceHost` k selhání.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-141">This option sends a fault to the listener that caused the `ServiceHost` to fault.</span></span> <span data-ttu-id="4c8d9-142">Zpráva musí odebrána z fronty aplikace pomocí některé externího mechanismu, než aplikace může dál ke zpracování zpráv z fronty.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-142">The message must be removed from the application queue by some external mechanism before the application can continue to process messages from the queue.</span></span>  
  
-   <span data-ttu-id="4c8d9-143">Vyřaďte.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-143">Drop.</span></span> <span data-ttu-id="4c8d9-144">Tato možnost zahodí nezpracovatelná zpráva a nikdy doručení zprávy do aplikace.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-144">This option drops the poison message and the message is never delivered to the application.</span></span> <span data-ttu-id="4c8d9-145">Pokud zpráva `TimeToLive` vlastnost v tomto okamžiku vypršela a pak zpráva se může zobrazit do fronty nedoručených zpráv odesílatele.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-145">If the message's `TimeToLive` property has expired at this point, then the message may appear in the sender's dead-letter queue.</span></span> <span data-ttu-id="4c8d9-146">Pokud ne, zpráva nezobrazí odkudkoli.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-146">If not, the message does not appear anywhere.</span></span> <span data-ttu-id="4c8d9-147">Tato možnost znamená, že uživatel není určeného co dělat, když dojde ke ztrátě zprávy.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-147">This option indicates that the user has not specified what to do if the message is lost.</span></span>  
  
-   <span data-ttu-id="4c8d9-148">Odmítněte.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-148">Reject.</span></span> <span data-ttu-id="4c8d9-149">Tato možnost je dostupná pouze na [!INCLUDE[wv](../../../../includes/wv-md.md)].</span><span class="sxs-lookup"><span data-stu-id="4c8d9-149">This option is available only on [!INCLUDE[wv](../../../../includes/wv-md.md)].</span></span> <span data-ttu-id="4c8d9-150">To se dá pokyn řízení front zpráv (MSMQ) k odeslání záporné potvrzení zpět do odesílání správce front, že aplikace nemůže přijímat zprávy.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-150">This instructs Message Queuing (MSMQ) to send a negative acknowledgement back to the sending queue manager that the application cannot receive the message.</span></span> <span data-ttu-id="4c8d9-151">Zpráva se umístí do fronty odesílání správce front nedoručených zpráv.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-151">The message is placed in the sending queue manager's dead-letter queue.</span></span>  
  
-   <span data-ttu-id="4c8d9-152">Přesunete.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-152">Move.</span></span> <span data-ttu-id="4c8d9-153">Tato možnost je dostupná pouze na [!INCLUDE[wv](../../../../includes/wv-md.md)].</span><span class="sxs-lookup"><span data-stu-id="4c8d9-153">This option is available only on [!INCLUDE[wv](../../../../includes/wv-md.md)].</span></span> <span data-ttu-id="4c8d9-154">Tento krok přesune poškozených zpráv do fronty zpráv poison pro pozdější zpracování zpracování zpráv poison aplikace.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-154">This moves the poison message to a poison-message queue for later processing by a poison-message handling application.</span></span> <span data-ttu-id="4c8d9-155">Fronty zpráv poison je dílčí fronta fronty aplikace.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-155">The poison-message queue is a subqueue of the application queue.</span></span> <span data-ttu-id="4c8d9-156">Zpracování zpráv poison aplikace může být služby WCF, který čte zprávy z fronty poškozených.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-156">A poison-message handling application can be a WCF service that reads messages out of the poison queue.</span></span> <span data-ttu-id="4c8d9-157">Poškozených fronta je dílčí fronta fronty aplikace a lze řešit jako net.msmq://\<*název počítače*>/*applicationQueue*; poškozených, kde  *název počítače* je název počítače, na kterém je fronta umístěna a *applicationQueue* je název fronty pro konkrétní aplikace.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-157">The poison queue is a subqueue of the application queue and can be addressed as net.msmq://\<*machine-name*>/*applicationQueue*;poison, where *machine-name* is the name of the computer on which the queue resides and the *applicationQueue* is the name of the application-specific queue.</span></span>  
  
 <span data-ttu-id="4c8d9-158">Tady jsou maximální počet pokusů o doručení pro zprávu:</span><span class="sxs-lookup"><span data-stu-id="4c8d9-158">The following are the maximum number of delivery attempts made for a message:</span></span>  
  
-   <span data-ttu-id="4c8d9-159">((ReceiveRetryCount+1) \* (MaxRetryCycles + 1)) na [!INCLUDE[wv](../../../../includes/wv-md.md)].</span><span class="sxs-lookup"><span data-stu-id="4c8d9-159">((ReceiveRetryCount+1) \* (MaxRetryCycles + 1)) on [!INCLUDE[wv](../../../../includes/wv-md.md)].</span></span>  
  
-   <span data-ttu-id="4c8d9-160">(ReceiveRetryCount + 1) na [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)] a [!INCLUDE[wxp](../../../../includes/wxp-md.md)].</span><span class="sxs-lookup"><span data-stu-id="4c8d9-160">(ReceiveRetryCount + 1) on [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)] and [!INCLUDE[wxp](../../../../includes/wxp-md.md)].</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="4c8d9-161">Žádné opakování jsou vytvářeny pro zprávu, která je úspěšně doručeno.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-161">No retries are made for a message that is delivered successfully.</span></span>  
  
 <span data-ttu-id="4c8d9-162">Můžete sledovat počet pokusů, dojde k pokusu o čtení zprávy, [!INCLUDE[wv](../../../../includes/wv-md.md)] udržuje vlastnosti trvanlivý zprávy, která vrátí počet přerušení a přesunutí počet vlastnost, která udává počet, kolikrát zprávu přesune mezi frontě aplikace a Podfronty.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-162">To keep track of the number of times a message read is attempted, [!INCLUDE[wv](../../../../includes/wv-md.md)] maintains a durable message property that counts the number of aborts and a move count property that counts the number of times the message moves between the application queue and subqueues.</span></span> <span data-ttu-id="4c8d9-163">Kanál WCF tyto používá k výpočtu receive počet opakování a počet cyklů opakování.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-163">The WCF channel uses these to compute the receive retry count and the retry cycles count.</span></span> <span data-ttu-id="4c8d9-164">Na [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)] a [!INCLUDE[wxp](../../../../includes/wxp-md.md)], počet přerušení je spravován v paměti kanál WCF a se vynuluje, pokud aplikace.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-164">On [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)] and [!INCLUDE[wxp](../../../../includes/wxp-md.md)], the abort count is maintained in memory by the WCF channel and is reset if the application fails.</span></span> <span data-ttu-id="4c8d9-165">Navíc kanál WCF mohou být uloženy že přerušení počty až 256 zprávy v paměti kdykoli.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-165">Also, the WCF channel can hold the abort counts for up to 256 messages in memory at any time.</span></span> <span data-ttu-id="4c8d9-166">Pokud je pro čtení 257th zprávy, se resetuje počet přerušení nejstarší zpráv.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-166">If a 257th message is read, then the oldest message's abort count is reset.</span></span>  
  
 <span data-ttu-id="4c8d9-167">Přerušení počet a počet vlastnosti jsou k dispozici pro operace služby prostřednictvím kontext operaci přesunutí.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-167">The abort count and move count properties are available to the service operation through the operation context.</span></span> <span data-ttu-id="4c8d9-168">Následující příklad kódu ukazuje, jak přistupovat k nim.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-168">The following code example shows how to access them.</span></span>  
  
 [!code-csharp[S_UE_MSMQ_Poison#1](../../../../samples/snippets/csharp/VS_Snippets_CFX/s_ue_msmq_poison/cs/service.cs#1)]  
  
 <span data-ttu-id="4c8d9-169">WCF poskytuje dvě vazby standardní zařazených do fronty:</span><span class="sxs-lookup"><span data-stu-id="4c8d9-169">WCF provides two standard queued bindings:</span></span>  
  
-   <span data-ttu-id="4c8d9-170"><xref:System.ServiceModel.NetMsmqBinding>.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-170"><xref:System.ServiceModel.NetMsmqBinding>.</span></span> <span data-ttu-id="4c8d9-171">A [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] vazby, které jsou vhodné pro provedení komunikace na základě fronty pomocí dalších koncových bodů WCF.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-171">A [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] binding suitable for performing queue-based communication with other WCF endpoints.</span></span>  
  
-   <span data-ttu-id="4c8d9-172"><xref:System.ServiceModel.MsmqIntegration.MsmqIntegrationBinding>.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-172"><xref:System.ServiceModel.MsmqIntegration.MsmqIntegrationBinding>.</span></span> <span data-ttu-id="4c8d9-173">Vazba, která je vhodná pro komunikaci se stávajícími aplikacemi služby Řízení front zpráv.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-173">A binding suitable for communicating with existing Message Queuing applications.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="4c8d9-174">Změnit vlastnosti v těchto vazeb v závislosti na požadavcích vaší služby WCF.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-174">You can alter properties in these bindings based on the requirements of your WCF service.</span></span> <span data-ttu-id="4c8d9-175">Celý nezpracovatelná zpráva mechanismu pro zpracování je místní pro přijímající aplikace.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-175">The entire poison message handling mechanism is local to the receiving application.</span></span> <span data-ttu-id="4c8d9-176">Proces je neviditelná pro odesílající aplikací, pokud má přijímající aplikace nakonec zastaví a odešle záporné potvrzení zpátky do odesílatele.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-176">The process is invisible to the sending application unless the receiving application ultimately stops and sends a negative acknowledgment back to the sender.</span></span> <span data-ttu-id="4c8d9-177">V takovém případě zpráva bude přesunuta do fronty nedoručených zpráv odesílatele.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-177">In that case, the message is moved to the sender's dead-letter queue.</span></span>  
  
## <a name="best-practice-handling-msmqpoisonmessageexception"></a><span data-ttu-id="4c8d9-178">Doporučené postupy: Zpracování msmqpoisonmessageexception –</span><span class="sxs-lookup"><span data-stu-id="4c8d9-178">Best Practice: Handling MsmqPoisonMessageException</span></span>  
 <span data-ttu-id="4c8d9-179">Když služba zjistí, že zprávu poškozených, vyvolá zařazených do fronty přenosu <xref:System.ServiceModel.MsmqPoisonMessageException> obsahující `LookupId` poškozených zprávy.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-179">When the service determines that a message is poison, the queued transport throws a <xref:System.ServiceModel.MsmqPoisonMessageException> that contains the `LookupId` of the poison message.</span></span>  
  
 <span data-ttu-id="4c8d9-180">Můžete implementovat přijímající aplikace <xref:System.ServiceModel.Dispatcher.IErrorHandler> rozhraní pro zpracování chyby, ke kterým aplikace vyžaduje.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-180">A receiving application can implement the <xref:System.ServiceModel.Dispatcher.IErrorHandler> interface to handle any errors that the application requires.</span></span> <span data-ttu-id="4c8d9-181">Další informace najdete v tématu [rozšíření řízení přes zpracování chyb a generování sestav](../../../../docs/framework/wcf/samples/extending-control-over-error-handling-and-reporting.md).</span><span class="sxs-lookup"><span data-stu-id="4c8d9-181">For more information, see [Extending Control Over Error Handling and Reporting](../../../../docs/framework/wcf/samples/extending-control-over-error-handling-and-reporting.md).</span></span>  
  
 <span data-ttu-id="4c8d9-182">Aplikace může vyžadovat nějaké automatizované zpracování poškozených zpráv, která přemísťuje poškozených zpráv do fronty nezpracovatelná zpráva, aby služba přístup zbytek zprávy ve frontě.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-182">The application may require some kind of automated handling of poison messages that moves the poison messages to a poison message queue so that the service can access the rest of the messages in the queue.</span></span> <span data-ttu-id="4c8d9-183">Jediný scénář pro použití mechanismu obslužnou rutinu chyby naslouchat poison zpráva výjimky je, když <xref:System.ServiceModel.Configuration.MsmqBindingElementBase.ReceiveErrorHandling%2A> nastavení je <xref:System.ServiceModel.ReceiveErrorHandling.Fault>.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-183">The only scenario for using the error-handler mechanism to listen for poison-message exceptions is when the <xref:System.ServiceModel.Configuration.MsmqBindingElementBase.ReceiveErrorHandling%2A> setting is set to <xref:System.ServiceModel.ReceiveErrorHandling.Fault>.</span></span> <span data-ttu-id="4c8d9-184">Příklad zprávy poison 3.0 služby Řízení front zpráv znázorňuje toto chování.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-184">The poison-message sample for Message Queuing 3.0 demonstrates this behavior.</span></span> <span data-ttu-id="4c8d9-185">Následující část popisuje kroky pro zpracování poškozených zpráv, včetně osvědčených postupů:</span><span class="sxs-lookup"><span data-stu-id="4c8d9-185">The following outlines the steps to take to handle poison messages, including best practices:</span></span>  
  
1.  <span data-ttu-id="4c8d9-186">Zkontrolujte, zda že nastavení poškozených odpovídají požadavkům aplikace.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-186">Ensure your poison settings reflect the requirements of your application.</span></span> <span data-ttu-id="4c8d9-187">Při práci s nastavením, ujistěte se, budete znát rozdíly mezi funkce služby Řízení front zpráv na [!INCLUDE[wv](../../../../includes/wv-md.md)], [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)], a [!INCLUDE[wxp](../../../../includes/wxp-md.md)].</span><span class="sxs-lookup"><span data-stu-id="4c8d9-187">When working with the settings, ensure that you understand the differences between the capabilities of Message Queuing on [!INCLUDE[wv](../../../../includes/wv-md.md)], [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)], and [!INCLUDE[wxp](../../../../includes/wxp-md.md)].</span></span>  
  
2.  <span data-ttu-id="4c8d9-188">V případě potřeby implementace `IErrorHandler` se budou zpracovávat chyby poison zprávy.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-188">If required, implement the `IErrorHandler` to handle poison-message errors.</span></span> <span data-ttu-id="4c8d9-189">Vzhledem k tomu, že nastavení `ReceiveErrorHandling` k `Fault` vyžaduje ruční mechanismus pro přesun poškozených zpráv z fronty nebo externí závislé problém, typickému využití je implementace `IErrorHandler` při `ReceiveErrorHandling` je nastaven na `Fault`, jako vidět v následujícím kódu.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-189">Because setting `ReceiveErrorHandling` to `Fault` requires a manual mechanism to move the poison message out of the queue or to correct an external dependent issue, the typical usage is to implement `IErrorHandler` when `ReceiveErrorHandling` is set to `Fault`, as shown in the following code.</span></span>  
  
     [!code-csharp[S_UE_MSMQ_Poison#2](../../../../samples/snippets/csharp/VS_Snippets_CFX/s_ue_msmq_poison/cs/poisonerrorhandler.cs#2)]  
  
3.  <span data-ttu-id="4c8d9-190">Vytvoření `PoisonBehaviorAttribute` , můžete použít chování služby.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-190">Create a `PoisonBehaviorAttribute` that the service behavior can use.</span></span> <span data-ttu-id="4c8d9-191">Chování nainstaluje `IErrorHandler` na dispečera.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-191">The behavior installs the `IErrorHandler` on the dispatcher.</span></span> <span data-ttu-id="4c8d9-192">Podívejte se na následující příklad kódu.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-192">See the following code example.</span></span>  
  
     [!code-csharp[S_UE_MSMQ_Poison#3](../../../../samples/snippets/csharp/VS_Snippets_CFX/s_ue_msmq_poison/cs/poisonbehaviorattribute.cs#3)]  
  
4.  <span data-ttu-id="4c8d9-193">Ujistěte se, že služby je označena atributem poškozených chování.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-193">Ensure that your service is annotated with the poison behavior attribute.</span></span>  
  
  
  
 <span data-ttu-id="4c8d9-194">Kromě toho pokud `ReceiveErrorHandling` je nastaven na `Fault`, `ServiceHost` závady při zjištění poškozená zpráva.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-194">In addition, if the `ReceiveErrorHandling` is set to `Fault`, the `ServiceHost` faults when encountering the poison message.</span></span> <span data-ttu-id="4c8d9-195">Můžete spojit s chybou událostí a vypnout službu, provést opravné akce a restartovat.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-195">You can hook up to the faulted event and shut down the service, take corrective actions, and restart.</span></span> <span data-ttu-id="4c8d9-196">Například `LookupId` v <xref:System.ServiceModel.MsmqPoisonMessageException> rozšíří do `IErrorHandler` může být uvedeno a když chyb hostitele služby, můžete použít `System.Messaging` rozhraní API pro příjem zprávy z fronty pomocí `LookupId` k odebrání zprávy z fronty a zprávy v některé externím obchodu nebo jiné fronty úložiště.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-196">For example, the `LookupId` in the <xref:System.ServiceModel.MsmqPoisonMessageException> propagated to the `IErrorHandler` can be noted and when the service host faults, you could use the `System.Messaging` API to receive the message from the queue using the `LookupId` to remove the message from the queue and store the message in some external store or another queue.</span></span> <span data-ttu-id="4c8d9-197">Potom můžete restartovat `ServiceHost` obnovit normální zpracování.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-197">You can then restart `ServiceHost` to resume normal processing.</span></span> <span data-ttu-id="4c8d9-198">[Škodlivých zpracování zpráv v MSMQ 4.0](../../../../docs/framework/wcf/samples/poison-message-handling-in-msmq-4-0.md) ukazuje toto chování.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-198">The [Poison Message Handling in MSMQ 4.0](../../../../docs/framework/wcf/samples/poison-message-handling-in-msmq-4-0.md) demonstrates this behavior.</span></span>  
  
## <a name="transaction-time-out-and-poison-messages"></a><span data-ttu-id="4c8d9-199">Časový limit transakcí a poškozených zpráv</span><span class="sxs-lookup"><span data-stu-id="4c8d9-199">Transaction Time-Out and Poison Messages</span></span>  
 <span data-ttu-id="4c8d9-200">Třída chyb dochází mezi kanál zařazených do fronty přenosu a uživatelského kódu.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-200">A class of errors can occur between the queued transport channel and the user code.</span></span> <span data-ttu-id="4c8d9-201">Tyto chyby lze zjistit pomocí vrstev mezi, jako je například vrstva zabezpečení zprávy nebo odeslání logiky služby.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-201">These errors can be detected by layers in-between, such as the message security layer or the service dispatching logic.</span></span> <span data-ttu-id="4c8d9-202">Například chybějící certifikát X.509 zjistil v vrstva zabezpečení protokolu SOAP a chybějící akce jsou případech, kde získat zprávu odeslat do aplikace.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-202">For example, a missing X.509 certificate detected in the SOAP security layer and a missing action are cases where the message does get dispatched to the application.</span></span> <span data-ttu-id="4c8d9-203">V takovém případě modelu služby zahodí zprávy.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-203">When this happens, the service model drops the message.</span></span> <span data-ttu-id="4c8d9-204">Protože přečtena v transakci a výstupem u dané transakce nemůže být zadaný transakce nakonec vyprší, přerušení a zpráva je vrátit zpět do fronty.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-204">Because the message is read in a transaction and an outcome for that transaction cannot be provided, the transaction eventually times out, aborts, and the message is put back into the queue.</span></span> <span data-ttu-id="4c8d9-205">Jinými slovy některých tříd chyb, transakce není abort okamžitě, ale počká, až vyprší transakce. Můžete upravit transakce časový limit pro službu pomocí <xref:System.ServiceModel.ServiceBehaviorAttribute>.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-205">In other words, for a certain class of errors, the transaction does not immediately abort but waits until the transaction times out. You can modify the transaction time-out for a service using <xref:System.ServiceModel.ServiceBehaviorAttribute>.</span></span>  
  
 <span data-ttu-id="4c8d9-206">Chcete-li změnit časový limit transakcí v rámci celého počítače, upravte souboru machine.config a nastavení časového limitu pro příslušnou transakci. Je důležité si uvědomit, že, v závislosti na časový limit, nastavte v transakci, transakce nakonec zruší a přejde zpět do fronty, a se zvýší jeho počet přerušení.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-206">To change the transaction time-out on a computer-wide basis, modify the machine.config file and set the appropriate transaction time-out. It is important to note that, depending on the time-out set in the transaction, the transaction eventually aborts and goes back to the queue and its abort count is incremented.</span></span> <span data-ttu-id="4c8d9-207">Nakonec se stává poškozených zprávy a správné dispozice přišla podle nastavení uživatele.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-207">Eventually, the message becomes poison and the right disposition is made according to the user settings.</span></span>  
  
## <a name="sessions-and-poison-messages"></a><span data-ttu-id="4c8d9-208">Relace a poškozených zpráv</span><span class="sxs-lookup"><span data-stu-id="4c8d9-208">Sessions and Poison Messages</span></span>  
 <span data-ttu-id="4c8d9-209">Relaci projde stejné opakování a postupy zpracování zpráv poison jako do jedné zprávy.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-209">A session undergoes the same retry and poison-message handling procedures as a single message.</span></span> <span data-ttu-id="4c8d9-210">Vlastnosti dříve uvedené pro poškozených zpráv se vztahují na celé relace.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-210">The properties previously listed for poison messages apply to the entire session.</span></span> <span data-ttu-id="4c8d9-211">To znamená, že se pokus o celé relace a přejde na poslední poison zprávy fronty nebo fronty nedoručených zpráv odesílatele, pokud se odmítne zprávy.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-211">This means that the entire session is retried and goes to a final poison-message queue or the sender’s dead-letter queue if the message is rejected.</span></span>  
  
## <a name="batching-and-poison-messages"></a><span data-ttu-id="4c8d9-212">Dávkování a poškozených zpráv</span><span class="sxs-lookup"><span data-stu-id="4c8d9-212">Batching and Poison Messages</span></span>  
 <span data-ttu-id="4c8d9-213">Pokud zpráva stane poškozených zpráv a je součástí dávky, celý batch je vrácena zpět a kanál vrátí do čtení jednu zprávu najednou.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-213">If a message becomes a poison message and is part of a batch, then the entire batch is rolled back and the channel returns to reading one message at a time.</span></span> <span data-ttu-id="4c8d9-214">Další informace o dávkování najdete v tématu [dávkování zpráv v transakci](../../../../docs/framework/wcf/feature-details/batching-messages-in-a-transaction.md)</span><span class="sxs-lookup"><span data-stu-id="4c8d9-214">For more information about batching, see [Batching Messages in a Transaction](../../../../docs/framework/wcf/feature-details/batching-messages-in-a-transaction.md)</span></span>  
  
## <a name="poison-message-handling-for-messages-in-a-poison-queue"></a><span data-ttu-id="4c8d9-215">Zpracování zpráv ve frontě poškozených Poison zpráv</span><span class="sxs-lookup"><span data-stu-id="4c8d9-215">Poison-message Handling for Messages in a Poison Queue</span></span>  
 <span data-ttu-id="4c8d9-216">Zpracování zpráv Poison nemá na konci při umístění zprávu do fronty poison zpráv.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-216">Poison-message handling does not end when a message is placed in the poison-message queue.</span></span> <span data-ttu-id="4c8d9-217">Zprávy ve frontě poison zprávy musí být stále číst a zpracovávat.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-217">Messages in the poison-message queue must still be read and handled.</span></span> <span data-ttu-id="4c8d9-218">Při čtení zpráv z poslední poškozených dílčí fronta můžete podmnožinu nastavení zpracování poison zpráv.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-218">You can use a subset of the poison-message handling settings when reading messages from the final poison subqueue.</span></span> <span data-ttu-id="4c8d9-219">Použít nastavení `ReceiveRetryCount` a `ReceiveErrorHandling`.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-219">The applicable settings are `ReceiveRetryCount` and `ReceiveErrorHandling`.</span></span> <span data-ttu-id="4c8d9-220">Můžete nastavit `ReceiveErrorHandling` vyřadit, odmítněte, nebo poruch.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-220">You can set `ReceiveErrorHandling` to Drop, Reject, or Fault.</span></span> <span data-ttu-id="4c8d9-221">`MaxRetryCycles` je ignorován a je vyvolána výjimka, pokud `ReceiveErrorHandling` je nastaven na přesunutí.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-221">`MaxRetryCycles` is ignored and an exception is thrown if `ReceiveErrorHandling` is set to Move.</span></span>  
  
## <a name="windows-vista-windows-server-2003-and-windows-xp-differences"></a><span data-ttu-id="4c8d9-222">Windows Vista, Windows Server 2003 a Windows XP rozdíly</span><span class="sxs-lookup"><span data-stu-id="4c8d9-222">Windows Vista, Windows Server 2003, and Windows XP Differences</span></span>  
 <span data-ttu-id="4c8d9-223">Jak již bylo uvedeno dříve, ne všechny zpracování zpráv poison nastavení se vztahují na [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)] a [!INCLUDE[wxp](../../../../includes/wxp-md.md)].</span><span class="sxs-lookup"><span data-stu-id="4c8d9-223">As noted earlier, not all poison-message handling settings apply to [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)] and [!INCLUDE[wxp](../../../../includes/wxp-md.md)].</span></span> <span data-ttu-id="4c8d9-224">Následující klíčové rozdíly mezi služby Řízení front zpráv na [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)], [!INCLUDE[wxp](../../../../includes/wxp-md.md)], a [!INCLUDE[wv](../../../../includes/wv-md.md)] jsou relevantní pro zpracování poison zpráv:</span><span class="sxs-lookup"><span data-stu-id="4c8d9-224">The following key differences between Message Queuing on [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)], [!INCLUDE[wxp](../../../../includes/wxp-md.md)], and [!INCLUDE[wv](../../../../includes/wv-md.md)] are relevant to poison-message handling:</span></span>  
  
-   <span data-ttu-id="4c8d9-225">Zprávy služby Řízení front zpráv v [!INCLUDE[wv](../../../../includes/wv-md.md)] podporuje podfronty, zatímco [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)] a [!INCLUDE[wxp](../../../../includes/wxp-md.md)] nepodporují podfronty.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-225">Message Queuing in [!INCLUDE[wv](../../../../includes/wv-md.md)] supports subqueues, while [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)] and [!INCLUDE[wxp](../../../../includes/wxp-md.md)] do not support subqueues.</span></span> <span data-ttu-id="4c8d9-226">Podfronty se používají při zpracování poison zpráv.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-226">Subqueues are used in poison-message handling.</span></span> <span data-ttu-id="4c8d9-227">Fronty opakování a poškozených fronty jsou podfronty do fronty aplikace, která je vytvořena na základě nastavení zpracování poison zpráv.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-227">The retry queues and the poison queue are subqueues to the application queue that is created based on the poison-message handling settings.</span></span> <span data-ttu-id="4c8d9-228">`MaxRetryCycles` Určuje, kolik opakujte podfronty k vytvoření.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-228">The `MaxRetryCycles` dictates how many retry subqueues to create.</span></span> <span data-ttu-id="4c8d9-229">Proto při spuštění [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)] nebo [!INCLUDE[wxp](../../../../includes/wxp-md.md)], `MaxRetryCycles` jsou ignorovány a `ReceiveErrorHandling.Move` není povolen.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-229">Therefore, when running on [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)] or [!INCLUDE[wxp](../../../../includes/wxp-md.md)], `MaxRetryCycles` are ignored and `ReceiveErrorHandling.Move` is not allowed.</span></span>  
  
-   <span data-ttu-id="4c8d9-230">Zprávy služby Řízení front zpráv v [!INCLUDE[wv](../../../../includes/wv-md.md)] podporuje zápornou potvrzení, zatímco [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)] a [!INCLUDE[wxp](../../../../includes/wxp-md.md)] nepodporují.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-230">Message Queuing in [!INCLUDE[wv](../../../../includes/wv-md.md)] supports negative acknowledgment, while [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)] and [!INCLUDE[wxp](../../../../includes/wxp-md.md)] do not.</span></span> <span data-ttu-id="4c8d9-231">Záporné potvrzení z přijímající správce front způsobí, že odesílání správce front k umístit odmítnuté zprávy do fronty nedoručených zpráv.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-231">A negative acknowledgment from the receiving queue manager causes the sending queue manager to place the rejected message in the dead-letter queue.</span></span> <span data-ttu-id="4c8d9-232">Jako takový `ReceiveErrorHandling.Reject` není povolen u [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)] a [!INCLUDE[wxp](../../../../includes/wxp-md.md)].</span><span class="sxs-lookup"><span data-stu-id="4c8d9-232">As such, `ReceiveErrorHandling.Reject` is not allowed with [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)] and [!INCLUDE[wxp](../../../../includes/wxp-md.md)].</span></span>  
  
-   <span data-ttu-id="4c8d9-233">Zprávy služby Řízení front zpráv v [!INCLUDE[wv](../../../../includes/wv-md.md)] podporuje dojde k pokusu o vlastnosti zprávy, která udržuje počet Počet doručení zpráv.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-233">Message Queuing in [!INCLUDE[wv](../../../../includes/wv-md.md)] supports a message property that keeps count of the number of times message delivery is attempted.</span></span> <span data-ttu-id="4c8d9-234">Tato vlastnost počet přerušení není k dispozici na [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)] a [!INCLUDE[wxp](../../../../includes/wxp-md.md)].</span><span class="sxs-lookup"><span data-stu-id="4c8d9-234">This abort count property is not available on [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)] and [!INCLUDE[wxp](../../../../includes/wxp-md.md)].</span></span> <span data-ttu-id="4c8d9-235">WCF udržuje počet přerušení v paměti, takže je možné, že tato vlastnost nesmí obsahovat přesné hodnoty přečtení stejné zprávy ve více než jeden služby WCF ve farmě.</span><span class="sxs-lookup"><span data-stu-id="4c8d9-235">WCF maintains the abort count in memory, so it is possible that this property may not contain an accurate value when the same message is read by more than one WCF service in a farm.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="4c8d9-236">Viz také</span><span class="sxs-lookup"><span data-stu-id="4c8d9-236">See Also</span></span>  
 [<span data-ttu-id="4c8d9-237">Přehled front</span><span class="sxs-lookup"><span data-stu-id="4c8d9-237">Queues Overview</span></span>](../../../../docs/framework/wcf/feature-details/queues-overview.md)  
 [<span data-ttu-id="4c8d9-238">Rozdíly ve funkcích zařazování do front ve Windows Vista, Windows Serveru 2003 a Windows XP</span><span class="sxs-lookup"><span data-stu-id="4c8d9-238">Differences in Queuing Features in Windows Vista, Windows Server 2003, and Windows XP</span></span>](../../../../docs/framework/wcf/feature-details/diff-in-queue-in-vista-server-2003-windows-xp.md)  
 [<span data-ttu-id="4c8d9-239">Určování a zpracování chyb v kontraktech a službách</span><span class="sxs-lookup"><span data-stu-id="4c8d9-239">Specifying and Handling Faults in Contracts and Services</span></span>](../../../../docs/framework/wcf/specifying-and-handling-faults-in-contracts-and-services.md)
