---
title: Fronty ve WCF
ms.custom: ''
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: ''
ms.suite: ''
ms.technology:
- dotnet-clr
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: e98d76ba-1acf-42cd-b137-0f8214661112
caps.latest.revision: 21
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload:
- dotnet
ms.openlocfilehash: 01dc36c73d9e668dd98cb5ba8b275d3d5177ba61
ms.sourcegitcommit: 03ee570f6f528a7d23a4221dcb26a9498edbdf8c
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 04/28/2018
---
# <a name="queuing-in-wcf"></a><span data-ttu-id="165f8-102">Fronty ve WCF</span><span class="sxs-lookup"><span data-stu-id="165f8-102">Queuing in WCF</span></span>
<span data-ttu-id="165f8-103">Tato část popisuje způsob použití komunikace ve frontě v [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)].</span><span class="sxs-lookup"><span data-stu-id="165f8-103">This section describes how to use queued communication in [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)].</span></span>  
  
## <a name="queues-as-a-wcf-transport-binding"></a><span data-ttu-id="165f8-104">Vazba přenosu fronty jako službou WCF</span><span class="sxs-lookup"><span data-stu-id="165f8-104">Queues as a WCF transport binding</span></span>  
 <span data-ttu-id="165f8-105">V [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)], smluv zadejte, co je během výměny.</span><span class="sxs-lookup"><span data-stu-id="165f8-105">In [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)], the contracts specify what is being exchanged.</span></span> <span data-ttu-id="165f8-106">Kontrakty jsou výměny zpráv závislé na obchodní nebo specifické pro aplikaci.</span><span class="sxs-lookup"><span data-stu-id="165f8-106">Contracts are business-dependent or application-specific message exchanges.</span></span> <span data-ttu-id="165f8-107">Používáno pro výměnu zpráv (nebo "jak") je zadána v vazby.</span><span class="sxs-lookup"><span data-stu-id="165f8-107">The mechanism used to exchange messages (or the "how") is specified in the bindings.</span></span> <span data-ttu-id="165f8-108">Vazby do ve [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] zapouzdření podrobnosti výměny zpráv.</span><span class="sxs-lookup"><span data-stu-id="165f8-108">Bindings in [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] encapsulate details of the message exchange.</span></span> <span data-ttu-id="165f8-109">Vystavují knoflíky konfigurace pro uživatele k řízení různé aspekty přenos nebo protokolu, které představují vazby.</span><span class="sxs-lookup"><span data-stu-id="165f8-109">They expose configuration knobs for the user to control various aspects of the transport or the protocol that the bindings represent.</span></span> <span data-ttu-id="165f8-110">Služba Řízení front v [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] považuje jako všechny ostatní přenosu vazby, což je velký využít pro mnoho aplikací služby Řízení front.</span><span class="sxs-lookup"><span data-stu-id="165f8-110">Queuing in [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] is treated like any other transport binding, which is a big advantage for many queuing applications.</span></span> <span data-ttu-id="165f8-111">V současné době se řada aplikací pro řazení do fronty zapisují jinak z jiných vzdáleného volání procedur (RPC)-styl distribuovaných aplikací, což těžší postupujte podle a údržbu.</span><span class="sxs-lookup"><span data-stu-id="165f8-111">Today, many queuing applications are written differently from other remote procedure call (RPC)-style distributed applications, making it harder to follow and maintain.</span></span> <span data-ttu-id="165f8-112">S [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)], styl psaní distribuované aplikace je podobný, což usnadňuje postupujte podle a udržovat.</span><span class="sxs-lookup"><span data-stu-id="165f8-112">With [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)], the style of writing a distributed application is much the same, making it easier to follow and maintain.</span></span> <span data-ttu-id="165f8-113">Kromě toho řešení se tento mechanismus exchange nezávisle na obchodní logiku, se snadno konfigurovat přenos nebo provést změny bez ovlivnění konkrétního kódu aplikace.</span><span class="sxs-lookup"><span data-stu-id="165f8-113">Moreover, by factoring out the mechanism of exchange separately from the business logic, it is easier to configure the transport or make changes to it without affecting application specific code.</span></span> <span data-ttu-id="165f8-114">Následující obrázek ukazuje strukturu pomocí služby MSMQ přenos klienta a služby WCF.</span><span class="sxs-lookup"><span data-stu-id="165f8-114">The following figure illustrates the structure of a WCF service and client using MSMQ as a transport.</span></span>  
  
 <span data-ttu-id="165f8-115">![Diagram aplikace ve frontě](../../../../docs/framework/wcf/feature-details/media/distributed-queue-figure.jpg "distribuované obrázek fronty")</span><span class="sxs-lookup"><span data-stu-id="165f8-115">![Queued Application Diagram](../../../../docs/framework/wcf/feature-details/media/distributed-queue-figure.jpg "Distributed-Queue-Figure")</span></span>  
  
 <span data-ttu-id="165f8-116">Jak je vidět na předchozím obrázku, klient a služba musí definovat pouze aplikace sémantiky, to znamená, kontrakt a implementaci.</span><span class="sxs-lookup"><span data-stu-id="165f8-116">As you can see from the preceding figure, the client and service must define only the application semantics, that is, the contract and implementation.</span></span> <span data-ttu-id="165f8-117">Služba nakonfiguruje vazbu zařazených do fronty se požadovaná nastavení.</span><span class="sxs-lookup"><span data-stu-id="165f8-117">The service configures a queued binding with preferred settings.</span></span> <span data-ttu-id="165f8-118">Klient použije [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) ke generování [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] klienta ke službě a ke generování konfiguračního souboru, který popisuje vazby používat k odesílání zpráv do služby.</span><span class="sxs-lookup"><span data-stu-id="165f8-118">The client uses the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) to generate a [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client to the service and to generate a configuration file that describes the bindings to use to send messages to the service.</span></span> <span data-ttu-id="165f8-119">Proto odeslat zprávu ve frontě, vytvoří klienta [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] klienta a vyvolá operace na něm.</span><span class="sxs-lookup"><span data-stu-id="165f8-119">Thus, to send a queued message, the client instantiates a [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client and invokes an operation on it.</span></span> <span data-ttu-id="165f8-120">To způsobí, že zpráva, která má být odeslána do fronty přenosu a přenést do cílové fronty.</span><span class="sxs-lookup"><span data-stu-id="165f8-120">This causes the message to be sent to the transmission queue and transferred to the target queue.</span></span> <span data-ttu-id="165f8-121">Aplikace, která odesílá a přijímá zprávy jsou skryta všechny složitosti komunikace ve frontě.</span><span class="sxs-lookup"><span data-stu-id="165f8-121">All the complexities of queued communication are hidden from the application that is sending and receiving messages.</span></span>  
  
 <span data-ttu-id="165f8-122">Upozornění o zařazených do fronty závazné v [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] zahrnují:</span><span class="sxs-lookup"><span data-stu-id="165f8-122">Caveats about queued binding in [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] include:</span></span>  
  
-   <span data-ttu-id="165f8-123">Všechny operace služby musí být jednosměrné, protože výchozí zařazených do fronty závazné v [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] nepodporuje duplexní komunikace pomocí front.</span><span class="sxs-lookup"><span data-stu-id="165f8-123">All service operations must be one-way because the default queued binding in [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] does not support duplex communication using queues.</span></span> <span data-ttu-id="165f8-124">Ukázka obousměrné komunikace ([obousměrné komunikace](../../../../docs/framework/wcf/samples/two-way-communication.md)) ukazuje, jak používat dvě jednosměrné kontrakty implementovat duplexní komunikace pomocí front.</span><span class="sxs-lookup"><span data-stu-id="165f8-124">A two-way communication sample ([Two-Way Communication](../../../../docs/framework/wcf/samples/two-way-communication.md)) illustrates how to use two one-way contracts to implement duplex communication using queues.</span></span>  
  
-   <span data-ttu-id="165f8-125">Generovat [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] klienta pomocí metadat exchange vyžaduje další koncový bod HTTP na službu, takže může být dotazován přímo ke generování [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] klienta a získat informace o vazbě správně nakonfigurovat zařazených do fronty komunikace.</span><span class="sxs-lookup"><span data-stu-id="165f8-125">To generate a [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client using metadata exchange requires an additional HTTP endpoint on the service so that it can be queried directly to generate the [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client and obtain binding information to appropriately configure queued communication.</span></span>  
  
-   <span data-ttu-id="165f8-126">Podle další konfigurace mimo ve vazby ve frontě [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] je vyžadován.</span><span class="sxs-lookup"><span data-stu-id="165f8-126">Based on the queued binding, extra configuration outside of [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] is required.</span></span> <span data-ttu-id="165f8-127">Například <xref:System.ServiceModel.NetMsmqBinding> třídu, která je součástí [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] vyžaduje, abyste nakonfigurujte vazby a také minimálně konfigurovat služby Řízení front zpráv (MSMQ).</span><span class="sxs-lookup"><span data-stu-id="165f8-127">For example, the <xref:System.ServiceModel.NetMsmqBinding> class that is shipped with [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] requires you to configure the bindings as well as minimally configure Message Queuing (MSMQ).</span></span>  
  
 <span data-ttu-id="165f8-128">Následující části popisují konkrétní zařazených do fronty vazby součástí [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)], které jsou založené na služby MSMQ.</span><span class="sxs-lookup"><span data-stu-id="165f8-128">The following sections describe the specific queued bindings shipped with [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)], which are based on MSMQ.</span></span>  
  
### <a name="msmq"></a><span data-ttu-id="165f8-129">MSMQ</span><span class="sxs-lookup"><span data-stu-id="165f8-129">MSMQ</span></span>  
 <span data-ttu-id="165f8-130">Zařazených do fronty přenosu v [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] používá služby MSMQ pro jeho komunikaci ve frontě.</span><span class="sxs-lookup"><span data-stu-id="165f8-130">The queued transport in [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] uses MSMQ for its queued communication.</span></span>  
  
 <span data-ttu-id="165f8-131">MSMQ dodává jako volitelná komponenta s Windows a spustí jako služba NT.</span><span class="sxs-lookup"><span data-stu-id="165f8-131">MSMQ ships as an optional component with Windows and runs as an NT service.</span></span> <span data-ttu-id="165f8-132">Zachycení zprávy k přenosu v přenosové frontě pro doručení v cílové fronty.</span><span class="sxs-lookup"><span data-stu-id="165f8-132">It captures messages for transmission in a transmission queue and for delivery in a target queue.</span></span> <span data-ttu-id="165f8-133">Správci frontu MSMQ implementovat protokol spolehlivého přenos zpráv tak, aby zprávy nejsou ztrátě při přenosu.</span><span class="sxs-lookup"><span data-stu-id="165f8-133">The MSMQ queue managers implement a reliable message-transfer protocol so that messages are not lost in transmission.</span></span> <span data-ttu-id="165f8-134">Protokol může být nativní nebo založený na protokolu SOAP, jako je například protokolu SOAP spolehlivé zpráva SRMP (Protocol).</span><span class="sxs-lookup"><span data-stu-id="165f8-134">The protocol can be either native or SOAP-based, such as the SOAP Reliable Message Protocol (SRMP).</span></span>  
  
 <span data-ttu-id="165f8-135">Služby MSMQ může být fronty transakcí nebo netransakční.</span><span class="sxs-lookup"><span data-stu-id="165f8-135">In MSMQ, queues can be transactional or non-transactional.</span></span> <span data-ttu-id="165f8-136">Transakční fronta umožňuje zprávy a pokuste se zachytit a dodat v transakci a pak bezpečně uložené ve frontě.</span><span class="sxs-lookup"><span data-stu-id="165f8-136">A transactional queue allows messages to be captured and delivered in a transaction and then stored durably in the queue.</span></span> <span data-ttu-id="165f8-137">Zprávy odeslané do fronty transakcí se přenesou právě jednou v pořadí.</span><span class="sxs-lookup"><span data-stu-id="165f8-137">Messages sent to a transactional queue are transferred exactly once in order.</span></span> <span data-ttu-id="165f8-138">Netransakční frontu můžete použít k odeslání zprávy volatile a trvanlivé.</span><span class="sxs-lookup"><span data-stu-id="165f8-138">You can use a non-transactional queue to send both volatile and durable messages.</span></span> <span data-ttu-id="165f8-139">Zprávy odeslané do fronty netransakční neobsahuje žádné záruky, spolehlivé přenos; Proto může dojít ke ztrátě zpráv.</span><span class="sxs-lookup"><span data-stu-id="165f8-139">A message sent to a non-transactional queue does not carry any reliable transfer assurances; thus, messages can be lost.</span></span>  
  
 <span data-ttu-id="165f8-140">Fronty služby MSMQ lze také zabezpečit pomocí zaregistrována adresářové služby Active Directory identitu systému Windows.</span><span class="sxs-lookup"><span data-stu-id="165f8-140">MSMQ queues can also be secured using a Windows identity registered with the Active Directory directory service.</span></span> <span data-ttu-id="165f8-141">Při instalaci služby MSMQ, můžete nainstalovat integrace služby Active Directory, který vyžaduje počítač součástí domény sítě systému Windows.</span><span class="sxs-lookup"><span data-stu-id="165f8-141">When installing MSMQ, you can install Active Directory integration, which requires the computer to be part of a Windows domain network.</span></span>  
  
 [!INCLUDE[crabout](../../../../includes/crabout-md.md)]<span data-ttu-id="165f8-142"> MSMQ, najdete v části [instalaci řízení front zpráv (MSMQ)](../../../../docs/framework/wcf/samples/installing-message-queuing-msmq.md).</span><span class="sxs-lookup"><span data-stu-id="165f8-142"> MSMQ, see [Installing Message Queuing (MSMQ)](../../../../docs/framework/wcf/samples/installing-message-queuing-msmq.md).</span></span>  
  
### <a name="netmsmqbinding"></a><span data-ttu-id="165f8-143">– NetMsmqBinding</span><span class="sxs-lookup"><span data-stu-id="165f8-143">NetMsmqBinding</span></span>  
 <span data-ttu-id="165f8-144">[ \<– NetMsmqBinding >](../../../../docs/framework/configure-apps/file-schema/wcf/netmsmqbinding.md) je ve frontě vazby [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] poskytuje pro dvě [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] koncových bodů na komunikaci pomocí služby MSMQ.</span><span class="sxs-lookup"><span data-stu-id="165f8-144">The [\<netMsmqBinding>](../../../../docs/framework/configure-apps/file-schema/wcf/netmsmqbinding.md) is the queued binding [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] provides for two [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] endpoints to communicate using MSMQ.</span></span> <span data-ttu-id="165f8-145">Vazba, tedy zpřístupní vlastnosti, které jsou specifické pro služby MSMQ.</span><span class="sxs-lookup"><span data-stu-id="165f8-145">The binding, therefore, exposes properties that are specific to MSMQ.</span></span> <span data-ttu-id="165f8-146">Ale ne všechny funkce služby MSMQ a vlastnosti jsou přístupné `NetMsmqBinding`.</span><span class="sxs-lookup"><span data-stu-id="165f8-146">However, not all MSMQ features and properties are exposed in the `NetMsmqBinding`.</span></span> <span data-ttu-id="165f8-147">Compact `NetMsmqBinding` slouží optimální sadou funkcí, které by měl zjistit dostatečná většina zákazníků.</span><span class="sxs-lookup"><span data-stu-id="165f8-147">The compact `NetMsmqBinding` is designed with an optimal set of features that most customers should find sufficient.</span></span>  
  
 <span data-ttu-id="165f8-148">`NetMsmqBinding` Manifesty základní koncepty služby Řízení front doposud popsané ve formě vlastnosti na vazby.</span><span class="sxs-lookup"><span data-stu-id="165f8-148">The `NetMsmqBinding` manifests the core queuing concepts discussed thus far in the form of properties on the bindings.</span></span> <span data-ttu-id="165f8-149">Tyto vlastnosti se pak komunikovat s MSMQ postup přenosu a doručení zprávy.</span><span class="sxs-lookup"><span data-stu-id="165f8-149">These properties, in turn, communicate to MSMQ how to transfer and deliver the messages.</span></span> <span data-ttu-id="165f8-150">Popis kategorie vlastnost je v následujících částech.</span><span class="sxs-lookup"><span data-stu-id="165f8-150">A discussion of the property categories is in the following sections.</span></span> <span data-ttu-id="165f8-151">Další informace najdete v tématu koncepční témata, která popisují specifické vlastnosti více úplně.</span><span class="sxs-lookup"><span data-stu-id="165f8-151">For more information, see the conceptual topics that describe specific properties more completely.</span></span>  
  
#### <a name="exactlyonce-and-durable-properties"></a><span data-ttu-id="165f8-152">ExactlyOnce a trvanlivé vlastnosti</span><span class="sxs-lookup"><span data-stu-id="165f8-152">ExactlyOnce and Durable Properties</span></span>  
 <span data-ttu-id="165f8-153">`ExactlyOnce` a `Durable` vlastnosti vliv na způsob přenosu zpráv mezi fronty:</span><span class="sxs-lookup"><span data-stu-id="165f8-153">The `ExactlyOnce` and `Durable` properties affect how messages are transferred between queues:</span></span>  
  
-   <span data-ttu-id="165f8-154">`ExactlyOnce`: Pokud nastavíte hodnotu `true` (výchozí), ve frontě kanál zajistí, že není duplikovaná zprávu, pokud doručit,.</span><span class="sxs-lookup"><span data-stu-id="165f8-154">`ExactlyOnce`: When set to `true` (the default), the queued channel ensures that the message, if delivered, is not duplicated.</span></span> <span data-ttu-id="165f8-155">Také zajistí, že zpráva není ztraceny.</span><span class="sxs-lookup"><span data-stu-id="165f8-155">It also ensures that the message is not lost.</span></span> <span data-ttu-id="165f8-156">Pokud zprávu nelze doručit, nebo před zprávy mohou být zajišťovány vyprší platnost zprávy čas k za provozu, neúspěšné zpráva spolu s důvodem selhání doručení se zaznamená do fronty nedoručených zpráv.</span><span class="sxs-lookup"><span data-stu-id="165f8-156">If the message cannot be delivered, or the message Time-To Live expires before the message can be delivered, the failed message along with the delivery failure reason is recorded in a dead-letter queue.</span></span> <span data-ttu-id="165f8-157">Pokud nastavíte hodnotu `false`, díky snaze přenosu zprávy ve frontě kanál.</span><span class="sxs-lookup"><span data-stu-id="165f8-157">When set to `false`, the queued channel makes an effort to transfer the message.</span></span> <span data-ttu-id="165f8-158">V takovém případě můžete volitelně vybrat frontu nedoručených zpráv.</span><span class="sxs-lookup"><span data-stu-id="165f8-158">In this case, you can optionally choose a dead-letter queue.</span></span>  
  
-   <span data-ttu-id="165f8-159">`Durable:` Pokud nastavíte hodnotu `true` (výchozí), ve frontě kanál zajistí, že služby MSMQ ukládá zprávy spolehlivě na disk.</span><span class="sxs-lookup"><span data-stu-id="165f8-159">`Durable:` When set to `true` (the default), the queued channel ensures that MSMQ stores the message durably on disk.</span></span> <span data-ttu-id="165f8-160">Proto pokud služby MSMQ zastavit a restartovat, zprávy na disku je přenést do cílové fronty nebo doručit do služby.</span><span class="sxs-lookup"><span data-stu-id="165f8-160">Thus, if the MSMQ service were to stop and restart, the messages on disk is transferred to the target queue or delivered to the service.</span></span> <span data-ttu-id="165f8-161">Pokud nastavíte hodnotu `false`, zprávy jsou uloženy v úložišti volatile a jsou v zastavením a restartováním služby MSMQ ztraceny.</span><span class="sxs-lookup"><span data-stu-id="165f8-161">When set to `false`, the messages are stored in volatile store and are lost on stopping and restarting the MSMQ service.</span></span>  
  
 <span data-ttu-id="165f8-162">Pro `ExactlyOnce` spolehlivé přenos MSMQ vyžaduje fronty využívat transakce.</span><span class="sxs-lookup"><span data-stu-id="165f8-162">For `ExactlyOnce` reliable transfer, MSMQ requires the queue to be transactional.</span></span> <span data-ttu-id="165f8-163">Také MSMQ vyžaduje transakce čtení z fronty transakcí.</span><span class="sxs-lookup"><span data-stu-id="165f8-163">Also, MSMQ requires a transaction to read from a transactional queue.</span></span> <span data-ttu-id="165f8-164">Jako takový, když použijete `NetMsmqBinding`, mějte na paměti, že transakce je potřeba odesílat nebo přijímat zprávy při `ExactlyOnce` je nastaven na `true`.</span><span class="sxs-lookup"><span data-stu-id="165f8-164">As such, when you use the `NetMsmqBinding`, remember that a transaction is required to send or receive messages when `ExactlyOnce` is set to `true`.</span></span> <span data-ttu-id="165f8-165">Podobně MSMQ vyžaduje fronty být netransakční pro záruky best effort, například kdy `ExactlyOnce` je `false` a volatile zasílání zpráv.</span><span class="sxs-lookup"><span data-stu-id="165f8-165">Similarly, MSMQ requires the queue to be non-transactional for best-effort assurances, such as when `ExactlyOnce` is `false` and for volatile messaging.</span></span> <span data-ttu-id="165f8-166">Proto při nastavování `ExactlyOnce` k `false` nebo trvanlivý k `false`, nelze odesílat a přijímat pomocí transakce.</span><span class="sxs-lookup"><span data-stu-id="165f8-166">Thus, when setting `ExactlyOnce` to `false` or durable to `false`, you cannot send or receive using a transaction.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="165f8-167">Ověřte, zda správné fronty (transakční nebo netransakční) je vytvořen na základě nastavení v vazby.</span><span class="sxs-lookup"><span data-stu-id="165f8-167">Ensure that the correct queue (transactional or non-transactional) is created based on settings in the bindings.</span></span> <span data-ttu-id="165f8-168">Pokud `ExactlyOnce` je `true`, použijte transakční fronty, jinak použijte netransakční fronty.</span><span class="sxs-lookup"><span data-stu-id="165f8-168">If `ExactlyOnce` is `true`, use a transactional queue; otherwise, use a non-transactional queue.</span></span>  
  
#### <a name="dead-letter-queue-properties"></a><span data-ttu-id="165f8-169">Vlastnosti fronty nedoručených zpráv</span><span class="sxs-lookup"><span data-stu-id="165f8-169">Dead-Letter Queue Properties</span></span>  
 <span data-ttu-id="165f8-170">Frontu nedoručených zpráv se používá k ukládání zpráv, které nesplní doručení.</span><span class="sxs-lookup"><span data-stu-id="165f8-170">The dead-letter queue is used to store messages that fail delivery.</span></span> <span data-ttu-id="165f8-171">Uživatel může zapisovat zušlechtěných logiky, která čte zprávy z fronty nedoručených zpráv.</span><span class="sxs-lookup"><span data-stu-id="165f8-171">The user can write compensating logic that reads messages out of the dead-letter queue.</span></span>  
  
 <span data-ttu-id="165f8-172">Mnoho front systémy zadejte systémové fronty nedoručených zpráv.</span><span class="sxs-lookup"><span data-stu-id="165f8-172">Many queuing systems provide for a system-wide dead-letter queue.</span></span> <span data-ttu-id="165f8-173">MSMQ poskytuje systémové netransakční frontu nedoručených zpráv pro zprávy, které nesplní doručení netransakční fronty a systémové transakční nedoručených zpráv fronty pro zprávy, které nesplní doručení transakcí fronty.</span><span class="sxs-lookup"><span data-stu-id="165f8-173">MSMQ provides a system-wide non-transactional dead-letter queue for messages that fail delivery to non-transactional queues and a system-wide transactional dead-letter queue for messages that fail delivery to transactional queues.</span></span>  
  
 <span data-ttu-id="165f8-174">Pokud více klientů zasílání zpráv na jiné cílové fronty sdílet služby MSMQ, všechny zprávy od klientů přejděte do stejné fronty nedoručených zpráv.</span><span class="sxs-lookup"><span data-stu-id="165f8-174">If multiple clients sending messages to different target queues share the MSMQ service, all messages sent by the clients go to the same dead-letter queue.</span></span> <span data-ttu-id="165f8-175">Toto není vždy vhodnější.</span><span class="sxs-lookup"><span data-stu-id="165f8-175">This is not always preferable.</span></span> <span data-ttu-id="165f8-176">Pro lepší izolace [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] a služby MSMQ v [!INCLUDE[wv](../../../../includes/wv-md.md)] zadejte vlastní frontu nedoručených zpráv (nebo frontu nedoručených zpráv specifické pro aplikaci), může uživatel zadat pro ukládání zpráv, které nesplní doručení.</span><span class="sxs-lookup"><span data-stu-id="165f8-176">For better isolation, [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] and MSMQ in [!INCLUDE[wv](../../../../includes/wv-md.md)] provide a custom dead-letter queue (or application-specific dead-letter queue) that the user can specify to store messages that fail delivery.</span></span> <span data-ttu-id="165f8-177">Proto různých klientů nesdílejí stejný frontu nedoručených zpráv.</span><span class="sxs-lookup"><span data-stu-id="165f8-177">Therefore, different clients do not share the same dead-letter queue.</span></span>  
  
 <span data-ttu-id="165f8-178">Vazba má dvě vlastnosti, které vás zajímají:</span><span class="sxs-lookup"><span data-stu-id="165f8-178">The binding has two properties of interest:</span></span>  
  
-   <span data-ttu-id="165f8-179">`DeadLetterQueue`: Tato vlastnost je výčet, který označuje, zda je fronta nedoručených zpráv.</span><span class="sxs-lookup"><span data-stu-id="165f8-179">`DeadLetterQueue`: This property is an enumeration that indicates whether a dead-letter queue is requested.</span></span> <span data-ttu-id="165f8-180">Pokud požadovaná, výčtu obsahuje také druh frontu nedoručených zpráv.</span><span class="sxs-lookup"><span data-stu-id="165f8-180">The enumeration also contains the kind of dead-letter queue, if one is requested.</span></span> <span data-ttu-id="165f8-181">Hodnoty jsou `None`, `System`, a `Custom`.</span><span class="sxs-lookup"><span data-stu-id="165f8-181">The values are `None`, `System`, and `Custom`.</span></span> [!INCLUDE[crabout](../../../../includes/crabout-md.md)]<span data-ttu-id="165f8-182"> výklad těchto vlastností najdete v části [pomocí fronty nedoručených zpráv pro zpracování chyb přenosu zpráv](../../../../docs/framework/wcf/feature-details/using-dead-letter-queues-to-handle-message-transfer-failures.md)</span><span class="sxs-lookup"><span data-stu-id="165f8-182"> the interpretation of these properties, see [Using Dead-Letter Queues to Handle Message Transfer Failures](../../../../docs/framework/wcf/feature-details/using-dead-letter-queues-to-handle-message-transfer-failures.md)</span></span>  
  
-   <span data-ttu-id="165f8-183">`CustomDeadLetterQueue`: Tato vlastnost je identifikátor URI (Uniform Resource) adresa fronty nedoručených zpráv specifické pro aplikaci.</span><span class="sxs-lookup"><span data-stu-id="165f8-183">`CustomDeadLetterQueue`: This property is the Uniform Resource Identifier (URI) address of the application-specific dead-letter queue.</span></span> <span data-ttu-id="165f8-184">To je potřeba, pokud `DeadLetterQueue`.`Custom`</span><span class="sxs-lookup"><span data-stu-id="165f8-184">This is required if `DeadLetterQueue`.`Custom`</span></span> <span data-ttu-id="165f8-185">je vybrán.</span><span class="sxs-lookup"><span data-stu-id="165f8-185">is chosen.</span></span>  
  
#### <a name="poison-message-handling-properties"></a><span data-ttu-id="165f8-186">Zacházení s nezpracovatelnými vlastnosti zpracování zpráv</span><span class="sxs-lookup"><span data-stu-id="165f8-186">Poison Message Handling properties</span></span>  
 <span data-ttu-id="165f8-187">Při službu čte zprávy z cílové fronty v rámci transakce, službu může dojít k selhání zpracování zprávy z různých důvodů.</span><span class="sxs-lookup"><span data-stu-id="165f8-187">When the service reads messages from the target queue under a transaction, the service may fail to process the message for various reasons.</span></span> <span data-ttu-id="165f8-188">Zpráva je pak vrátit zpět do fronty se znovu načíst.</span><span class="sxs-lookup"><span data-stu-id="165f8-188">The message is then put back into the queue to be read again.</span></span> <span data-ttu-id="165f8-189">Jak nakládat s zprávy, které nesplní opakovaného sadu zpracování zpráv poison vlastnosti mohou být konfigurovány vazba.</span><span class="sxs-lookup"><span data-stu-id="165f8-189">To deal with messages that fail repeatedly, a set of poison-message handling properties can be configured in the binding.</span></span> <span data-ttu-id="165f8-190">Existují čtyři vlastnosti: `ReceiveRetryCount`, `MaxRetryCycles`, `RetryCycleDelay`, a `ReceiveErrorHandling`.</span><span class="sxs-lookup"><span data-stu-id="165f8-190">There are four properties: `ReceiveRetryCount`, `MaxRetryCycles`, `RetryCycleDelay`, and `ReceiveErrorHandling`.</span></span> [!INCLUDE[crabout](../../../../includes/crabout-md.md)]<span data-ttu-id="165f8-191"> Tyto vlastnosti, najdete v části [zpracování škodlivých zpráv](../../../../docs/framework/wcf/feature-details/poison-message-handling.md).</span><span class="sxs-lookup"><span data-stu-id="165f8-191"> these properties, see [Poison Message Handling](../../../../docs/framework/wcf/feature-details/poison-message-handling.md).</span></span>  
  
#### <a name="security-properties"></a><span data-ttu-id="165f8-192">Vlastnosti zabezpečení</span><span class="sxs-lookup"><span data-stu-id="165f8-192">Security Properties</span></span>  
 <span data-ttu-id="165f8-193">MSMQ zpřístupňuje vlastní model zabezpečení, jako je seznamy řízení přístupu (ACL) ve frontě nebo odesílání zprávy ověřený.</span><span class="sxs-lookup"><span data-stu-id="165f8-193">MSMQ exposes its own security model, such as access control lists (ACLs) on a queue or sending authenticated messages.</span></span> <span data-ttu-id="165f8-194">`NetMsmqBinding` Zpřístupní tyto vlastnosti zabezpečení jako součást nastavení zabezpečení přenosu.</span><span class="sxs-lookup"><span data-stu-id="165f8-194">The `NetMsmqBinding` exposes these security properties as part of its transport security settings.</span></span> <span data-ttu-id="165f8-195">Existují dvě vlastnosti ve vazbě pro zabezpečení přenosu: `MsmqAuthenticationMode` a `MsmqProtectionLevel`.</span><span class="sxs-lookup"><span data-stu-id="165f8-195">There are two properties in the binding for transport security: `MsmqAuthenticationMode` and `MsmqProtectionLevel`.</span></span> <span data-ttu-id="165f8-196">Nastavení v těchto vlastností závisí na konfiguraci služby MSMQ.</span><span class="sxs-lookup"><span data-stu-id="165f8-196">Settings in these properties depend on how MSMQ is configured.</span></span> <span data-ttu-id="165f8-197">Další informace najdete v tématu [zabezpečení zabezpečení zprávy přenosu](../../../../docs/framework/wcf/feature-details/securing-messages-using-transport-security.md).</span><span class="sxs-lookup"><span data-stu-id="165f8-197">For more information, see [Securing Messages Using Transport Security](../../../../docs/framework/wcf/feature-details/securing-messages-using-transport-security.md).</span></span>  
  
 <span data-ttu-id="165f8-198">Kromě zabezpečení přenosu skutečné samotnou zprávu protokolu SOAP se dají zabezpečit zabezpečení zpráv.</span><span class="sxs-lookup"><span data-stu-id="165f8-198">In addition to transport security, the actual SOAP message itself can be secured using message security.</span></span> <span data-ttu-id="165f8-199">Další informace najdete v tématu [zabezpečení zabezpečení zprávy zpráv](../../../../docs/framework/wcf/feature-details/securing-messages-using-message-security.md).</span><span class="sxs-lookup"><span data-stu-id="165f8-199">For more information, see [Securing Messages Using Message Security](../../../../docs/framework/wcf/feature-details/securing-messages-using-message-security.md).</span></span>  
  
 <span data-ttu-id="165f8-200">`MsmqTransportSecurity` také poskytuje dvě vlastnosti `MsmqEncryptionAlgorithm` a `MsmqHashAlgorithm`.</span><span class="sxs-lookup"><span data-stu-id="165f8-200">`MsmqTransportSecurity` also exposes two properties, `MsmqEncryptionAlgorithm` and `MsmqHashAlgorithm`.</span></span> <span data-ttu-id="165f8-201">Jedná se o výčty různé algoritmy zvolit pro algoritmu hash podpisů a šifrování fronty fronty přenosu zpráv.</span><span class="sxs-lookup"><span data-stu-id="165f8-201">These are enumerations of different algorithms to choose for queue-to-queue transfer encryption of messages and hashing of the signatures.</span></span>  
  
#### <a name="other-properties"></a><span data-ttu-id="165f8-202">Ostatní vlastnosti</span><span class="sxs-lookup"><span data-stu-id="165f8-202">Other Properties</span></span>  
 <span data-ttu-id="165f8-203">Kromě předchozích vlastnosti další vlastnosti specifické pro službu MSMQ v zahrnout vazby:</span><span class="sxs-lookup"><span data-stu-id="165f8-203">In addition to the preceding properties, other MSMQ-specific properties exposed in the binding include:</span></span>  
  
-   <span data-ttu-id="165f8-204">`UseSourceJournal`: Je zapnutý vlastnost označující, že zdroj deníku.</span><span class="sxs-lookup"><span data-stu-id="165f8-204">`UseSourceJournal`: A property to indicate that source journaling is turned on.</span></span> <span data-ttu-id="165f8-205">Zdroj deníku je funkce služby MSMQ, která uchovává informace o zprávy, které byly úspěšně odeslány z fronty přenosu.</span><span class="sxs-lookup"><span data-stu-id="165f8-205">Source journaling is an MSMQ feature that keeps track of messages that have been successfully transmitted from the transmission queue.</span></span>  
  
-   <span data-ttu-id="165f8-206">`UseMsmqTracing`: Vlastnost označující, jestli je zapnutá trasování služby MSMQ.</span><span class="sxs-lookup"><span data-stu-id="165f8-206">`UseMsmqTracing`: A property to indicate that MSMQ tracing is turned on.</span></span> <span data-ttu-id="165f8-207">MSMQ trasování odešle zprávy hlášení do fronty hlášení pokaždé, když opustí zpráva nebo zpráva dorazí na počítači hostování správce front služby MSMQ.</span><span class="sxs-lookup"><span data-stu-id="165f8-207">MSMQ tracing sends report messages to a report queue each time a message leaves or arrives at a machine hosting an MSMQ queue manager.</span></span>  
  
-   <span data-ttu-id="165f8-208">`QueueTransferProtocol`: Výčet protokolu používaných pro přenosy mezi zprávu fronty fronty.</span><span class="sxs-lookup"><span data-stu-id="165f8-208">`QueueTransferProtocol`: An enumeration of the protocol to use for queue-to-queue message transfers.</span></span> <span data-ttu-id="165f8-209">MSMQ implementuje protokol nativní fronty fronty přenosu a protokol založený na protokolu SOAP názvem protokol spolehlivého zasílání zpráv na protokolu SOAP (SRMP).</span><span class="sxs-lookup"><span data-stu-id="165f8-209">MSMQ implements a native queue-to-queue transfer protocol and a SOAP-based protocol called SOAP Reliable Messaging Protocol (SRMP).</span></span> <span data-ttu-id="165f8-210">SRMP se používá při použití přenos HTTP pro přenosy fronty fronty.</span><span class="sxs-lookup"><span data-stu-id="165f8-210">SRMP is used when using HTTP transport for queue-to-queue transfers.</span></span> <span data-ttu-id="165f8-211">SRMP zabezpečení se používá při použití protokolu HTTPS pro přenosy fronty fronty.</span><span class="sxs-lookup"><span data-stu-id="165f8-211">SRMP secure is used when using HTTPS for queue-to-queue transfers.</span></span>  
  
-   <span data-ttu-id="165f8-212">`UseActiveDirectory`: Logická hodnota označující, zda služby Active Directory musí být použit pro překlad adres fronty.</span><span class="sxs-lookup"><span data-stu-id="165f8-212">`UseActiveDirectory`: A Boolean value to indicate whether the Active Directory must be used for queue address resolution.</span></span> <span data-ttu-id="165f8-213">Ve výchozím nastavení to je vypnuto.</span><span class="sxs-lookup"><span data-stu-id="165f8-213">By default, this is off.</span></span> <span data-ttu-id="165f8-214">Další informace najdete v tématu [koncové body služby a adresování front](../../../../docs/framework/wcf/feature-details/service-endpoints-and-queue-addressing.md).</span><span class="sxs-lookup"><span data-stu-id="165f8-214">For more information, see [Service Endpoints and Queue Addressing](../../../../docs/framework/wcf/feature-details/service-endpoints-and-queue-addressing.md).</span></span>  
  
### <a name="msmqintegrationbinding"></a><span data-ttu-id="165f8-215">MsmqIntegrationBinding</span><span class="sxs-lookup"><span data-stu-id="165f8-215">MsmqIntegrationBinding</span></span>  
 <span data-ttu-id="165f8-216">`MsmqIntegrationBinding` Se používá, pokud chcete, aby [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] koncového bodu pro komunikaci s existující služby MSMQ aplikace napsané v C, C++, COM nebo System.Messaging rozhraní API.</span><span class="sxs-lookup"><span data-stu-id="165f8-216">The `MsmqIntegrationBinding` is used when you want a [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] endpoint to communicate with an existing MSMQ application written in C, C++, COM, or System.Messaging APIs.</span></span>  
  
 <span data-ttu-id="165f8-217">Vlastnosti vazby jsou stejné jako u `NetMsmqBinding`.</span><span class="sxs-lookup"><span data-stu-id="165f8-217">The binding properties are the same as for `NetMsmqBinding`.</span></span> <span data-ttu-id="165f8-218">Však platí následující rozdíly:</span><span class="sxs-lookup"><span data-stu-id="165f8-218">However, the following differences apply:</span></span>  
  
-   <span data-ttu-id="165f8-219">Operace kontrakt `MsmqIntegrationBinding` je omezen na pořízení jeden parametr typu <xref:System.ServiceModel.MsmqIntegration.MsmqMessage%601> kde parametr typu je typ textu.</span><span class="sxs-lookup"><span data-stu-id="165f8-219">The operation contract for `MsmqIntegrationBinding` is restricted to taking a single parameter of type <xref:System.ServiceModel.MsmqIntegration.MsmqMessage%601> where the type parameter is the body type.</span></span>  
  
-   <span data-ttu-id="165f8-220">Velká část vlastnosti služby MSMQ nativní zprávy jsou přístupné <xref:System.ServiceModel.MsmqIntegration.MsmqMessage%601> pro použití.</span><span class="sxs-lookup"><span data-stu-id="165f8-220">Much of MSMQ native message properties are exposed in the <xref:System.ServiceModel.MsmqIntegration.MsmqMessage%601> for use.</span></span>  
  
-   <span data-ttu-id="165f8-221">Pomoci při serializaci a deserializaci textu zprávy, jsou uvedeny serializátorů například XML a ActiveX.</span><span class="sxs-lookup"><span data-stu-id="165f8-221">To help with serialization and deserialization of the message body, serializers such as XML and ActiveX are provided.</span></span>  
  
### <a name="sample-code"></a><span data-ttu-id="165f8-222">Ukázkový kód</span><span class="sxs-lookup"><span data-stu-id="165f8-222">Sample Code</span></span>  
 <span data-ttu-id="165f8-223">Pokyny krok za krokem na tom, jak psát WCF služby, které používají služby MSMQ naleznete v následujících tématech:</span><span class="sxs-lookup"><span data-stu-id="165f8-223">For step by step instructions on how to write WCF services that use MSMQ see the following topics:</span></span>  
  
-   [<span data-ttu-id="165f8-224">Postupy: Výměna zpráv s koncovými body WCF a aplikací pro řazení zpráv do front</span><span class="sxs-lookup"><span data-stu-id="165f8-224">How to: Exchange Messages with WCF Endpoints and Message Queuing Applications</span></span>](../../../../docs/framework/wcf/feature-details/how-to-exchange-messages-with-wcf-endpoints-and-message-queuing-applications.md)  
  
-   [<span data-ttu-id="165f8-225">Postupy: Výměna zpráv zařazených do fronty s koncovými body WCF</span><span class="sxs-lookup"><span data-stu-id="165f8-225">How to: Exchange Queued Messages with WCF Endpoints</span></span>](../../../../docs/framework/wcf/feature-details/how-to-exchange-queued-messages-with-wcf-endpoints.md)  
  
 <span data-ttu-id="165f8-226">Dokončený kód ukázka ilustrující použití služby MSMQ ve službě WCF najdete v následujících tématech:</span><span class="sxs-lookup"><span data-stu-id="165f8-226">For a completed code sample illustrating the use of MSMQ in WCF see the following topics:</span></span>  
  
-   [<span data-ttu-id="165f8-227">Zpracované vazby služby MSMQ</span><span class="sxs-lookup"><span data-stu-id="165f8-227">Transacted MSMQ Binding</span></span>](../../../../docs/framework/wcf/samples/transacted-msmq-binding.md)  
  
-   [<span data-ttu-id="165f8-228">Nestálá komunikace ve frontě</span><span class="sxs-lookup"><span data-stu-id="165f8-228">Volatile Queued Communication</span></span>](../../../../docs/framework/wcf/samples/volatile-queued-communication.md)  
  
-   [<span data-ttu-id="165f8-229">Fronty nedoručených zpráv</span><span class="sxs-lookup"><span data-stu-id="165f8-229">Dead Letter Queues</span></span>](../../../../docs/framework/wcf/samples/dead-letter-queues.md)  
  
-   [<span data-ttu-id="165f8-230">Relace a fronty</span><span class="sxs-lookup"><span data-stu-id="165f8-230">Sessions and Queues</span></span>](../../../../docs/framework/wcf/samples/sessions-and-queues.md)  
  
-   [<span data-ttu-id="165f8-231">Obousměrná komunikace</span><span class="sxs-lookup"><span data-stu-id="165f8-231">Two-Way Communication</span></span>](../../../../docs/framework/wcf/samples/two-way-communication.md)  
  
-   [<span data-ttu-id="165f8-232">Transakční dávkování</span><span class="sxs-lookup"><span data-stu-id="165f8-232">Transacted Batching</span></span>](../../../../docs/framework/wcf/samples/transacted-batching.md)  
  
-   [<span data-ttu-id="165f8-233">SRMP</span><span class="sxs-lookup"><span data-stu-id="165f8-233">SRMP</span></span>](../../../../docs/framework/wcf/samples/srmp.md)  
  
-   [<span data-ttu-id="165f8-234">Zabezpečení zprávy pomocí služby Řízení front zpráv</span><span class="sxs-lookup"><span data-stu-id="165f8-234">Message Security over Message Queuing</span></span>](../../../../docs/framework/wcf/samples/message-security-over-message-queuing.md)  
  
## <a name="see-also"></a><span data-ttu-id="165f8-235">Viz také</span><span class="sxs-lookup"><span data-stu-id="165f8-235">See Also</span></span>  
 [<span data-ttu-id="165f8-236">Koncové body služby a adresování front</span><span class="sxs-lookup"><span data-stu-id="165f8-236">Service Endpoints and Queue Addressing</span></span>](../../../../docs/framework/wcf/feature-details/service-endpoints-and-queue-addressing.md)  
 [<span data-ttu-id="165f8-237">Webhosting frontové aplikace</span><span class="sxs-lookup"><span data-stu-id="165f8-237">Web Hosting a Queued Application</span></span>](../../../../docs/framework/wcf/feature-details/web-hosting-a-queued-application.md)
