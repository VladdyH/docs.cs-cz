---
title: Fronty ve WCF
ms.date: 03/30/2017
ms.assetid: e98d76ba-1acf-42cd-b137-0f8214661112
ms.openlocfilehash: 7f0a6700dba8eb844cc471704095b29c2a2c7937
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 05/04/2018
ms.locfileid: "33496481"
---
# <a name="queuing-in-wcf"></a><span data-ttu-id="71ece-102">Fronty ve WCF</span><span class="sxs-lookup"><span data-stu-id="71ece-102">Queuing in WCF</span></span>
<span data-ttu-id="71ece-103">Tato část popisuje postup použití komunikace ve frontě v systému Windows Communication Foundation (WCF).</span><span class="sxs-lookup"><span data-stu-id="71ece-103">This section describes how to use queued communication in Windows Communication Foundation (WCF).</span></span>  
  
## <a name="queues-as-a-wcf-transport-binding"></a><span data-ttu-id="71ece-104">Vazba přenosu fronty jako službou WCF</span><span class="sxs-lookup"><span data-stu-id="71ece-104">Queues as a WCF transport binding</span></span>  
 <span data-ttu-id="71ece-105">Ve službě WCF smluv zadejte, co je během výměny.</span><span class="sxs-lookup"><span data-stu-id="71ece-105">In WCF, the contracts specify what is being exchanged.</span></span> <span data-ttu-id="71ece-106">Kontrakty jsou výměny zpráv závislé na obchodní nebo specifické pro aplikaci.</span><span class="sxs-lookup"><span data-stu-id="71ece-106">Contracts are business-dependent or application-specific message exchanges.</span></span> <span data-ttu-id="71ece-107">Používáno pro výměnu zpráv (nebo "jak") je zadána v vazby.</span><span class="sxs-lookup"><span data-stu-id="71ece-107">The mechanism used to exchange messages (or the "how") is specified in the bindings.</span></span> <span data-ttu-id="71ece-108">Vazby ve WCF zapouzdřovat podrobnosti výměny zpráv.</span><span class="sxs-lookup"><span data-stu-id="71ece-108">Bindings in WCF encapsulate details of the message exchange.</span></span> <span data-ttu-id="71ece-109">Vystavují knoflíky konfigurace pro uživatele k řízení různé aspekty přenos nebo protokolu, které představují vazby.</span><span class="sxs-lookup"><span data-stu-id="71ece-109">They expose configuration knobs for the user to control various aspects of the transport or the protocol that the bindings represent.</span></span> <span data-ttu-id="71ece-110">Fronty ve WCF je zpracovaná jako všechny ostatní přenosu vazby, což je velký využít pro mnoho aplikací služby Řízení front.</span><span class="sxs-lookup"><span data-stu-id="71ece-110">Queuing in WCF is treated like any other transport binding, which is a big advantage for many queuing applications.</span></span> <span data-ttu-id="71ece-111">V současné době se řada aplikací pro řazení do fronty zapisují jinak z jiných vzdáleného volání procedur (RPC)-styl distribuovaných aplikací, což těžší postupujte podle a údržbu.</span><span class="sxs-lookup"><span data-stu-id="71ece-111">Today, many queuing applications are written differently from other remote procedure call (RPC)-style distributed applications, making it harder to follow and maintain.</span></span> <span data-ttu-id="71ece-112">S použitím technologie WCF styl psaní distribuované aplikace je podobný, usnadnit postupujte podle a údržbu.</span><span class="sxs-lookup"><span data-stu-id="71ece-112">With WCF, the style of writing a distributed application is much the same, making it easier to follow and maintain.</span></span> <span data-ttu-id="71ece-113">Kromě toho řešení se tento mechanismus exchange nezávisle na obchodní logiku, se snadno konfigurovat přenos nebo provést změny bez ovlivnění konkrétního kódu aplikace.</span><span class="sxs-lookup"><span data-stu-id="71ece-113">Moreover, by factoring out the mechanism of exchange separately from the business logic, it is easier to configure the transport or make changes to it without affecting application specific code.</span></span> <span data-ttu-id="71ece-114">Následující obrázek ukazuje strukturu pomocí služby MSMQ přenos klienta a služby WCF.</span><span class="sxs-lookup"><span data-stu-id="71ece-114">The following figure illustrates the structure of a WCF service and client using MSMQ as a transport.</span></span>  
  
 <span data-ttu-id="71ece-115">![Diagram aplikace ve frontě](../../../../docs/framework/wcf/feature-details/media/distributed-queue-figure.jpg "distribuované obrázek fronty")</span><span class="sxs-lookup"><span data-stu-id="71ece-115">![Queued Application Diagram](../../../../docs/framework/wcf/feature-details/media/distributed-queue-figure.jpg "Distributed-Queue-Figure")</span></span>  
  
 <span data-ttu-id="71ece-116">Jak je vidět na předchozím obrázku, klient a služba musí definovat pouze aplikace sémantiky, to znamená, kontrakt a implementaci.</span><span class="sxs-lookup"><span data-stu-id="71ece-116">As you can see from the preceding figure, the client and service must define only the application semantics, that is, the contract and implementation.</span></span> <span data-ttu-id="71ece-117">Služba nakonfiguruje vazbu zařazených do fronty se požadovaná nastavení.</span><span class="sxs-lookup"><span data-stu-id="71ece-117">The service configures a queued binding with preferred settings.</span></span> <span data-ttu-id="71ece-118">Klient použije [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) ke generování klienta WCF na službu a ke generování konfiguračního souboru, který popisuje vazby používat k odesílání zpráv do služby.</span><span class="sxs-lookup"><span data-stu-id="71ece-118">The client uses the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) to generate a WCF client to the service and to generate a configuration file that describes the bindings to use to send messages to the service.</span></span> <span data-ttu-id="71ece-119">Odeslat zprávu ve frontě, proto klient vytvoří klienta WCF a vyvolá operace na něm.</span><span class="sxs-lookup"><span data-stu-id="71ece-119">Thus, to send a queued message, the client instantiates a WCF client and invokes an operation on it.</span></span> <span data-ttu-id="71ece-120">To způsobí, že zpráva, která má být odeslána do fronty přenosu a přenést do cílové fronty.</span><span class="sxs-lookup"><span data-stu-id="71ece-120">This causes the message to be sent to the transmission queue and transferred to the target queue.</span></span> <span data-ttu-id="71ece-121">Aplikace, která odesílá a přijímá zprávy jsou skryta všechny složitosti komunikace ve frontě.</span><span class="sxs-lookup"><span data-stu-id="71ece-121">All the complexities of queued communication are hidden from the application that is sending and receiving messages.</span></span>  
  
 <span data-ttu-id="71ece-122">Upozornění o vazbě zařazených do fronty ve WCF patří:</span><span class="sxs-lookup"><span data-stu-id="71ece-122">Caveats about queued binding in WCF include:</span></span>  
  
-   <span data-ttu-id="71ece-123">Všechny služby, které musí být operace jednosměrné, protože výchozí vazby ve WCF zařazených do fronty nepodporuje duplexní komunikace pomocí front.</span><span class="sxs-lookup"><span data-stu-id="71ece-123">All service operations must be one-way because the default queued binding in WCF does not support duplex communication using queues.</span></span> <span data-ttu-id="71ece-124">Ukázka obousměrné komunikace ([obousměrné komunikace](../../../../docs/framework/wcf/samples/two-way-communication.md)) ukazuje, jak používat dvě jednosměrné kontrakty implementovat duplexní komunikace pomocí front.</span><span class="sxs-lookup"><span data-stu-id="71ece-124">A two-way communication sample ([Two-Way Communication](../../../../docs/framework/wcf/samples/two-way-communication.md)) illustrates how to use two one-way contracts to implement duplex communication using queues.</span></span>  
  
-   <span data-ttu-id="71ece-125">Ke generování službou WCF klienta pomocí metadat exchange vyžaduje další koncový bod HTTP ve službě, takže může být dotazován přímo ke generování klienta WCF a získat informace o vazbě správně nakonfigurovat komunikace ve frontě.</span><span class="sxs-lookup"><span data-stu-id="71ece-125">To generate a WCF client using metadata exchange requires an additional HTTP endpoint on the service so that it can be queried directly to generate the WCF client and obtain binding information to appropriately configure queued communication.</span></span>  
  
-   <span data-ttu-id="71ece-126">Podle toho, zařazených do fronty vazby, není nutná další konfigurace mimo WCF.</span><span class="sxs-lookup"><span data-stu-id="71ece-126">Based on the queued binding, extra configuration outside of WCF is required.</span></span> <span data-ttu-id="71ece-127">Například <xref:System.ServiceModel.NetMsmqBinding> třídu, která je dodávána s použitím technologie WCF vyžaduje, abyste nakonfigurujte vazby a také minimálně konfigurovat služby Řízení front zpráv (MSMQ).</span><span class="sxs-lookup"><span data-stu-id="71ece-127">For example, the <xref:System.ServiceModel.NetMsmqBinding> class that is shipped with WCF requires you to configure the bindings as well as minimally configure Message Queuing (MSMQ).</span></span>  
  
 <span data-ttu-id="71ece-128">Následující části popisují konkrétní zařazených do fronty vazeb dodávané s použitím technologie WCF, které jsou založeny na služby MSMQ.</span><span class="sxs-lookup"><span data-stu-id="71ece-128">The following sections describe the specific queued bindings shipped with WCF, which are based on MSMQ.</span></span>  
  
### <a name="msmq"></a><span data-ttu-id="71ece-129">MSMQ</span><span class="sxs-lookup"><span data-stu-id="71ece-129">MSMQ</span></span>  
 <span data-ttu-id="71ece-130">Přenos zařazených do fronty ve WCF používá služby MSMQ pro jeho komunikaci ve frontě.</span><span class="sxs-lookup"><span data-stu-id="71ece-130">The queued transport in WCF uses MSMQ for its queued communication.</span></span>  
  
 <span data-ttu-id="71ece-131">MSMQ dodává jako volitelná komponenta s Windows a spustí jako služba NT.</span><span class="sxs-lookup"><span data-stu-id="71ece-131">MSMQ ships as an optional component with Windows and runs as an NT service.</span></span> <span data-ttu-id="71ece-132">Zachycení zprávy k přenosu v přenosové frontě pro doručení v cílové fronty.</span><span class="sxs-lookup"><span data-stu-id="71ece-132">It captures messages for transmission in a transmission queue and for delivery in a target queue.</span></span> <span data-ttu-id="71ece-133">Správci frontu MSMQ implementovat protokol spolehlivého přenos zpráv tak, aby zprávy nejsou ztrátě při přenosu.</span><span class="sxs-lookup"><span data-stu-id="71ece-133">The MSMQ queue managers implement a reliable message-transfer protocol so that messages are not lost in transmission.</span></span> <span data-ttu-id="71ece-134">Protokol může být nativní nebo založený na protokolu SOAP, jako je například protokolu SOAP spolehlivé zpráva SRMP (Protocol).</span><span class="sxs-lookup"><span data-stu-id="71ece-134">The protocol can be either native or SOAP-based, such as the SOAP Reliable Message Protocol (SRMP).</span></span>  
  
 <span data-ttu-id="71ece-135">Služby MSMQ může být fronty transakcí nebo netransakční.</span><span class="sxs-lookup"><span data-stu-id="71ece-135">In MSMQ, queues can be transactional or non-transactional.</span></span> <span data-ttu-id="71ece-136">Transakční fronta umožňuje zprávy a pokuste se zachytit a dodat v transakci a pak bezpečně uložené ve frontě.</span><span class="sxs-lookup"><span data-stu-id="71ece-136">A transactional queue allows messages to be captured and delivered in a transaction and then stored durably in the queue.</span></span> <span data-ttu-id="71ece-137">Zprávy odeslané do fronty transakcí se přenesou právě jednou v pořadí.</span><span class="sxs-lookup"><span data-stu-id="71ece-137">Messages sent to a transactional queue are transferred exactly once in order.</span></span> <span data-ttu-id="71ece-138">Netransakční frontu můžete použít k odeslání zprávy volatile a trvanlivé.</span><span class="sxs-lookup"><span data-stu-id="71ece-138">You can use a non-transactional queue to send both volatile and durable messages.</span></span> <span data-ttu-id="71ece-139">Zprávy odeslané do fronty netransakční neobsahuje žádné záruky, spolehlivé přenos; Proto může dojít ke ztrátě zpráv.</span><span class="sxs-lookup"><span data-stu-id="71ece-139">A message sent to a non-transactional queue does not carry any reliable transfer assurances; thus, messages can be lost.</span></span>  
  
 <span data-ttu-id="71ece-140">Fronty služby MSMQ lze také zabezpečit pomocí zaregistrována adresářové služby Active Directory identitu systému Windows.</span><span class="sxs-lookup"><span data-stu-id="71ece-140">MSMQ queues can also be secured using a Windows identity registered with the Active Directory directory service.</span></span> <span data-ttu-id="71ece-141">Při instalaci služby MSMQ, můžete nainstalovat integrace služby Active Directory, který vyžaduje počítač součástí domény sítě systému Windows.</span><span class="sxs-lookup"><span data-stu-id="71ece-141">When installing MSMQ, you can install Active Directory integration, which requires the computer to be part of a Windows domain network.</span></span>  
  
 <span data-ttu-id="71ece-142">Další informace o MSMQ najdete v tématu [instalaci řízení front zpráv (MSMQ)](../../../../docs/framework/wcf/samples/installing-message-queuing-msmq.md).</span><span class="sxs-lookup"><span data-stu-id="71ece-142">For more information about MSMQ, see [Installing Message Queuing (MSMQ)](../../../../docs/framework/wcf/samples/installing-message-queuing-msmq.md).</span></span>  
  
### <a name="netmsmqbinding"></a><span data-ttu-id="71ece-143">– NetMsmqBinding</span><span class="sxs-lookup"><span data-stu-id="71ece-143">NetMsmqBinding</span></span>  
 <span data-ttu-id="71ece-144">[ \<– NetMsmqBinding >](../../../../docs/framework/configure-apps/file-schema/wcf/netmsmqbinding.md) je ve frontě vazby WCF poskytuje dva koncové body WCF na komunikaci pomocí služby MSMQ.</span><span class="sxs-lookup"><span data-stu-id="71ece-144">The [\<netMsmqBinding>](../../../../docs/framework/configure-apps/file-schema/wcf/netmsmqbinding.md) is the queued binding WCF provides for two WCF endpoints to communicate using MSMQ.</span></span> <span data-ttu-id="71ece-145">Vazba, tedy zpřístupní vlastnosti, které jsou specifické pro služby MSMQ.</span><span class="sxs-lookup"><span data-stu-id="71ece-145">The binding, therefore, exposes properties that are specific to MSMQ.</span></span> <span data-ttu-id="71ece-146">Ale ne všechny funkce služby MSMQ a vlastnosti jsou přístupné `NetMsmqBinding`.</span><span class="sxs-lookup"><span data-stu-id="71ece-146">However, not all MSMQ features and properties are exposed in the `NetMsmqBinding`.</span></span> <span data-ttu-id="71ece-147">Compact `NetMsmqBinding` slouží optimální sadou funkcí, které by měl zjistit dostatečná většina zákazníků.</span><span class="sxs-lookup"><span data-stu-id="71ece-147">The compact `NetMsmqBinding` is designed with an optimal set of features that most customers should find sufficient.</span></span>  
  
 <span data-ttu-id="71ece-148">`NetMsmqBinding` Manifesty základní koncepty služby Řízení front doposud popsané ve formě vlastnosti na vazby.</span><span class="sxs-lookup"><span data-stu-id="71ece-148">The `NetMsmqBinding` manifests the core queuing concepts discussed thus far in the form of properties on the bindings.</span></span> <span data-ttu-id="71ece-149">Tyto vlastnosti se pak komunikovat s MSMQ postup přenosu a doručení zprávy.</span><span class="sxs-lookup"><span data-stu-id="71ece-149">These properties, in turn, communicate to MSMQ how to transfer and deliver the messages.</span></span> <span data-ttu-id="71ece-150">Popis kategorie vlastnost je v následujících částech.</span><span class="sxs-lookup"><span data-stu-id="71ece-150">A discussion of the property categories is in the following sections.</span></span> <span data-ttu-id="71ece-151">Další informace najdete v tématu koncepční témata, která popisují specifické vlastnosti více úplně.</span><span class="sxs-lookup"><span data-stu-id="71ece-151">For more information, see the conceptual topics that describe specific properties more completely.</span></span>  
  
#### <a name="exactlyonce-and-durable-properties"></a><span data-ttu-id="71ece-152">ExactlyOnce a trvanlivé vlastnosti</span><span class="sxs-lookup"><span data-stu-id="71ece-152">ExactlyOnce and Durable Properties</span></span>  
 <span data-ttu-id="71ece-153">`ExactlyOnce` a `Durable` vlastnosti vliv na způsob přenosu zpráv mezi fronty:</span><span class="sxs-lookup"><span data-stu-id="71ece-153">The `ExactlyOnce` and `Durable` properties affect how messages are transferred between queues:</span></span>  
  
-   <span data-ttu-id="71ece-154">`ExactlyOnce`: Pokud nastavíte hodnotu `true` (výchozí), ve frontě kanál zajistí, že není duplikovaná zprávu, pokud doručit,.</span><span class="sxs-lookup"><span data-stu-id="71ece-154">`ExactlyOnce`: When set to `true` (the default), the queued channel ensures that the message, if delivered, is not duplicated.</span></span> <span data-ttu-id="71ece-155">Také zajistí, že zpráva není ztraceny.</span><span class="sxs-lookup"><span data-stu-id="71ece-155">It also ensures that the message is not lost.</span></span> <span data-ttu-id="71ece-156">Pokud zprávu nelze doručit, nebo před zprávy mohou být zajišťovány vyprší platnost zprávy čas k za provozu, neúspěšné zpráva spolu s důvodem selhání doručení se zaznamená do fronty nedoručených zpráv.</span><span class="sxs-lookup"><span data-stu-id="71ece-156">If the message cannot be delivered, or the message Time-To Live expires before the message can be delivered, the failed message along with the delivery failure reason is recorded in a dead-letter queue.</span></span> <span data-ttu-id="71ece-157">Pokud nastavíte hodnotu `false`, díky snaze přenosu zprávy ve frontě kanál.</span><span class="sxs-lookup"><span data-stu-id="71ece-157">When set to `false`, the queued channel makes an effort to transfer the message.</span></span> <span data-ttu-id="71ece-158">V takovém případě můžete volitelně vybrat frontu nedoručených zpráv.</span><span class="sxs-lookup"><span data-stu-id="71ece-158">In this case, you can optionally choose a dead-letter queue.</span></span>  
  
-   <span data-ttu-id="71ece-159">`Durable:` Pokud nastavíte hodnotu `true` (výchozí), ve frontě kanál zajistí, že služby MSMQ ukládá zprávy spolehlivě na disk.</span><span class="sxs-lookup"><span data-stu-id="71ece-159">`Durable:` When set to `true` (the default), the queued channel ensures that MSMQ stores the message durably on disk.</span></span> <span data-ttu-id="71ece-160">Proto pokud služby MSMQ zastavit a restartovat, zprávy na disku je přenést do cílové fronty nebo doručit do služby.</span><span class="sxs-lookup"><span data-stu-id="71ece-160">Thus, if the MSMQ service were to stop and restart, the messages on disk is transferred to the target queue or delivered to the service.</span></span> <span data-ttu-id="71ece-161">Pokud nastavíte hodnotu `false`, zprávy jsou uloženy v úložišti volatile a jsou v zastavením a restartováním služby MSMQ ztraceny.</span><span class="sxs-lookup"><span data-stu-id="71ece-161">When set to `false`, the messages are stored in volatile store and are lost on stopping and restarting the MSMQ service.</span></span>  
  
 <span data-ttu-id="71ece-162">Pro `ExactlyOnce` spolehlivé přenos MSMQ vyžaduje fronty využívat transakce.</span><span class="sxs-lookup"><span data-stu-id="71ece-162">For `ExactlyOnce` reliable transfer, MSMQ requires the queue to be transactional.</span></span> <span data-ttu-id="71ece-163">Také MSMQ vyžaduje transakce čtení z fronty transakcí.</span><span class="sxs-lookup"><span data-stu-id="71ece-163">Also, MSMQ requires a transaction to read from a transactional queue.</span></span> <span data-ttu-id="71ece-164">Jako takový, když použijete `NetMsmqBinding`, mějte na paměti, že transakce je potřeba odesílat nebo přijímat zprávy při `ExactlyOnce` je nastaven na `true`.</span><span class="sxs-lookup"><span data-stu-id="71ece-164">As such, when you use the `NetMsmqBinding`, remember that a transaction is required to send or receive messages when `ExactlyOnce` is set to `true`.</span></span> <span data-ttu-id="71ece-165">Podobně MSMQ vyžaduje fronty být netransakční pro záruky best effort, například kdy `ExactlyOnce` je `false` a volatile zasílání zpráv.</span><span class="sxs-lookup"><span data-stu-id="71ece-165">Similarly, MSMQ requires the queue to be non-transactional for best-effort assurances, such as when `ExactlyOnce` is `false` and for volatile messaging.</span></span> <span data-ttu-id="71ece-166">Proto při nastavování `ExactlyOnce` k `false` nebo trvanlivý k `false`, nelze odesílat a přijímat pomocí transakce.</span><span class="sxs-lookup"><span data-stu-id="71ece-166">Thus, when setting `ExactlyOnce` to `false` or durable to `false`, you cannot send or receive using a transaction.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="71ece-167">Ověřte, zda správné fronty (transakční nebo netransakční) je vytvořen na základě nastavení v vazby.</span><span class="sxs-lookup"><span data-stu-id="71ece-167">Ensure that the correct queue (transactional or non-transactional) is created based on settings in the bindings.</span></span> <span data-ttu-id="71ece-168">Pokud `ExactlyOnce` je `true`, použijte transakční fronty, jinak použijte netransakční fronty.</span><span class="sxs-lookup"><span data-stu-id="71ece-168">If `ExactlyOnce` is `true`, use a transactional queue; otherwise, use a non-transactional queue.</span></span>  
  
#### <a name="dead-letter-queue-properties"></a><span data-ttu-id="71ece-169">Vlastnosti fronty nedoručených zpráv</span><span class="sxs-lookup"><span data-stu-id="71ece-169">Dead-Letter Queue Properties</span></span>  
 <span data-ttu-id="71ece-170">Frontu nedoručených zpráv se používá k ukládání zpráv, které nesplní doručení.</span><span class="sxs-lookup"><span data-stu-id="71ece-170">The dead-letter queue is used to store messages that fail delivery.</span></span> <span data-ttu-id="71ece-171">Uživatel může zapisovat zušlechtěných logiky, která čte zprávy z fronty nedoručených zpráv.</span><span class="sxs-lookup"><span data-stu-id="71ece-171">The user can write compensating logic that reads messages out of the dead-letter queue.</span></span>  
  
 <span data-ttu-id="71ece-172">Mnoho front systémy zadejte systémové fronty nedoručených zpráv.</span><span class="sxs-lookup"><span data-stu-id="71ece-172">Many queuing systems provide for a system-wide dead-letter queue.</span></span> <span data-ttu-id="71ece-173">MSMQ poskytuje systémové netransakční frontu nedoručených zpráv pro zprávy, které nesplní doručení netransakční fronty a systémové transakční nedoručených zpráv fronty pro zprávy, které nesplní doručení transakcí fronty.</span><span class="sxs-lookup"><span data-stu-id="71ece-173">MSMQ provides a system-wide non-transactional dead-letter queue for messages that fail delivery to non-transactional queues and a system-wide transactional dead-letter queue for messages that fail delivery to transactional queues.</span></span>  
  
 <span data-ttu-id="71ece-174">Pokud více klientů zasílání zpráv na jiné cílové fronty sdílet služby MSMQ, všechny zprávy od klientů přejděte do stejné fronty nedoručených zpráv.</span><span class="sxs-lookup"><span data-stu-id="71ece-174">If multiple clients sending messages to different target queues share the MSMQ service, all messages sent by the clients go to the same dead-letter queue.</span></span> <span data-ttu-id="71ece-175">Toto není vždy vhodnější.</span><span class="sxs-lookup"><span data-stu-id="71ece-175">This is not always preferable.</span></span> <span data-ttu-id="71ece-176">Pro lepší izolaci, WCF a služby MSMQ v [!INCLUDE[wv](../../../../includes/wv-md.md)] zadejte vlastní frontu nedoručených zpráv (nebo frontu nedoručených zpráv specifické pro aplikaci), může uživatel zadat pro ukládání zpráv, které nesplní doručení.</span><span class="sxs-lookup"><span data-stu-id="71ece-176">For better isolation, WCF and MSMQ in [!INCLUDE[wv](../../../../includes/wv-md.md)] provide a custom dead-letter queue (or application-specific dead-letter queue) that the user can specify to store messages that fail delivery.</span></span> <span data-ttu-id="71ece-177">Proto různých klientů nesdílejí stejný frontu nedoručených zpráv.</span><span class="sxs-lookup"><span data-stu-id="71ece-177">Therefore, different clients do not share the same dead-letter queue.</span></span>  
  
 <span data-ttu-id="71ece-178">Vazba má dvě vlastnosti, které vás zajímají:</span><span class="sxs-lookup"><span data-stu-id="71ece-178">The binding has two properties of interest:</span></span>  
  
-   <span data-ttu-id="71ece-179">`DeadLetterQueue`: Tato vlastnost je výčet, který označuje, zda je fronta nedoručených zpráv.</span><span class="sxs-lookup"><span data-stu-id="71ece-179">`DeadLetterQueue`: This property is an enumeration that indicates whether a dead-letter queue is requested.</span></span> <span data-ttu-id="71ece-180">Pokud požadovaná, výčtu obsahuje také druh frontu nedoručených zpráv.</span><span class="sxs-lookup"><span data-stu-id="71ece-180">The enumeration also contains the kind of dead-letter queue, if one is requested.</span></span> <span data-ttu-id="71ece-181">Hodnoty jsou `None`, `System`, a `Custom`.</span><span class="sxs-lookup"><span data-stu-id="71ece-181">The values are `None`, `System`, and `Custom`.</span></span> <span data-ttu-id="71ece-182">Další informace o interpretaci těchto vlastností najdete v tématu [pomocí fronty nedoručených zpráv pro zpracování chyb přenosu zpráv](../../../../docs/framework/wcf/feature-details/using-dead-letter-queues-to-handle-message-transfer-failures.md)</span><span class="sxs-lookup"><span data-stu-id="71ece-182">For more information about the interpretation of these properties, see [Using Dead-Letter Queues to Handle Message Transfer Failures](../../../../docs/framework/wcf/feature-details/using-dead-letter-queues-to-handle-message-transfer-failures.md)</span></span>  
  
-   <span data-ttu-id="71ece-183">`CustomDeadLetterQueue`: Tato vlastnost je identifikátor URI (Uniform Resource) adresa fronty nedoručených zpráv specifické pro aplikaci.</span><span class="sxs-lookup"><span data-stu-id="71ece-183">`CustomDeadLetterQueue`: This property is the Uniform Resource Identifier (URI) address of the application-specific dead-letter queue.</span></span> <span data-ttu-id="71ece-184">To je potřeba, pokud `DeadLetterQueue`.`Custom`</span><span class="sxs-lookup"><span data-stu-id="71ece-184">This is required if `DeadLetterQueue`.`Custom`</span></span> <span data-ttu-id="71ece-185">je vybrán.</span><span class="sxs-lookup"><span data-stu-id="71ece-185">is chosen.</span></span>  
  
#### <a name="poison-message-handling-properties"></a><span data-ttu-id="71ece-186">Zacházení s nezpracovatelnými vlastnosti zpracování zpráv</span><span class="sxs-lookup"><span data-stu-id="71ece-186">Poison Message Handling properties</span></span>  
 <span data-ttu-id="71ece-187">Při službu čte zprávy z cílové fronty v rámci transakce, službu může dojít k selhání zpracování zprávy z různých důvodů.</span><span class="sxs-lookup"><span data-stu-id="71ece-187">When the service reads messages from the target queue under a transaction, the service may fail to process the message for various reasons.</span></span> <span data-ttu-id="71ece-188">Zpráva je pak vrátit zpět do fronty se znovu načíst.</span><span class="sxs-lookup"><span data-stu-id="71ece-188">The message is then put back into the queue to be read again.</span></span> <span data-ttu-id="71ece-189">Jak nakládat s zprávy, které nesplní opakovaného sadu zpracování zpráv poison vlastnosti mohou být konfigurovány vazba.</span><span class="sxs-lookup"><span data-stu-id="71ece-189">To deal with messages that fail repeatedly, a set of poison-message handling properties can be configured in the binding.</span></span> <span data-ttu-id="71ece-190">Existují čtyři vlastnosti: `ReceiveRetryCount`, `MaxRetryCycles`, `RetryCycleDelay`, a `ReceiveErrorHandling`.</span><span class="sxs-lookup"><span data-stu-id="71ece-190">There are four properties: `ReceiveRetryCount`, `MaxRetryCycles`, `RetryCycleDelay`, and `ReceiveErrorHandling`.</span></span> <span data-ttu-id="71ece-191">Další informace o těchto vlastnostech najdete v tématu [zpracování škodlivých zpráv](../../../../docs/framework/wcf/feature-details/poison-message-handling.md).</span><span class="sxs-lookup"><span data-stu-id="71ece-191">For more information about these properties, see [Poison Message Handling](../../../../docs/framework/wcf/feature-details/poison-message-handling.md).</span></span>  
  
#### <a name="security-properties"></a><span data-ttu-id="71ece-192">Vlastnosti zabezpečení</span><span class="sxs-lookup"><span data-stu-id="71ece-192">Security Properties</span></span>  
 <span data-ttu-id="71ece-193">MSMQ zpřístupňuje vlastní model zabezpečení, jako je seznamy řízení přístupu (ACL) ve frontě nebo odesílání zprávy ověřený.</span><span class="sxs-lookup"><span data-stu-id="71ece-193">MSMQ exposes its own security model, such as access control lists (ACLs) on a queue or sending authenticated messages.</span></span> <span data-ttu-id="71ece-194">`NetMsmqBinding` Zpřístupní tyto vlastnosti zabezpečení jako součást nastavení zabezpečení přenosu.</span><span class="sxs-lookup"><span data-stu-id="71ece-194">The `NetMsmqBinding` exposes these security properties as part of its transport security settings.</span></span> <span data-ttu-id="71ece-195">Existují dvě vlastnosti ve vazbě pro zabezpečení přenosu: `MsmqAuthenticationMode` a `MsmqProtectionLevel`.</span><span class="sxs-lookup"><span data-stu-id="71ece-195">There are two properties in the binding for transport security: `MsmqAuthenticationMode` and `MsmqProtectionLevel`.</span></span> <span data-ttu-id="71ece-196">Nastavení v těchto vlastností závisí na konfiguraci služby MSMQ.</span><span class="sxs-lookup"><span data-stu-id="71ece-196">Settings in these properties depend on how MSMQ is configured.</span></span> <span data-ttu-id="71ece-197">Další informace najdete v tématu [zabezpečení zabezpečení zprávy přenosu](../../../../docs/framework/wcf/feature-details/securing-messages-using-transport-security.md).</span><span class="sxs-lookup"><span data-stu-id="71ece-197">For more information, see [Securing Messages Using Transport Security](../../../../docs/framework/wcf/feature-details/securing-messages-using-transport-security.md).</span></span>  
  
 <span data-ttu-id="71ece-198">Kromě zabezpečení přenosu skutečné samotnou zprávu protokolu SOAP se dají zabezpečit zabezpečení zpráv.</span><span class="sxs-lookup"><span data-stu-id="71ece-198">In addition to transport security, the actual SOAP message itself can be secured using message security.</span></span> <span data-ttu-id="71ece-199">Další informace najdete v tématu [zabezpečení zabezpečení zprávy zpráv](../../../../docs/framework/wcf/feature-details/securing-messages-using-message-security.md).</span><span class="sxs-lookup"><span data-stu-id="71ece-199">For more information, see [Securing Messages Using Message Security](../../../../docs/framework/wcf/feature-details/securing-messages-using-message-security.md).</span></span>  
  
 <span data-ttu-id="71ece-200">`MsmqTransportSecurity` také poskytuje dvě vlastnosti `MsmqEncryptionAlgorithm` a `MsmqHashAlgorithm`.</span><span class="sxs-lookup"><span data-stu-id="71ece-200">`MsmqTransportSecurity` also exposes two properties, `MsmqEncryptionAlgorithm` and `MsmqHashAlgorithm`.</span></span> <span data-ttu-id="71ece-201">Jedná se o výčty různé algoritmy zvolit pro algoritmu hash podpisů a šifrování fronty fronty přenosu zpráv.</span><span class="sxs-lookup"><span data-stu-id="71ece-201">These are enumerations of different algorithms to choose for queue-to-queue transfer encryption of messages and hashing of the signatures.</span></span>  
  
#### <a name="other-properties"></a><span data-ttu-id="71ece-202">Ostatní vlastnosti</span><span class="sxs-lookup"><span data-stu-id="71ece-202">Other Properties</span></span>  
 <span data-ttu-id="71ece-203">Kromě předchozích vlastnosti další vlastnosti specifické pro službu MSMQ v zahrnout vazby:</span><span class="sxs-lookup"><span data-stu-id="71ece-203">In addition to the preceding properties, other MSMQ-specific properties exposed in the binding include:</span></span>  
  
-   <span data-ttu-id="71ece-204">`UseSourceJournal`: Je zapnutý vlastnost označující, že zdroj deníku.</span><span class="sxs-lookup"><span data-stu-id="71ece-204">`UseSourceJournal`: A property to indicate that source journaling is turned on.</span></span> <span data-ttu-id="71ece-205">Zdroj deníku je funkce služby MSMQ, která uchovává informace o zprávy, které byly úspěšně odeslány z fronty přenosu.</span><span class="sxs-lookup"><span data-stu-id="71ece-205">Source journaling is an MSMQ feature that keeps track of messages that have been successfully transmitted from the transmission queue.</span></span>  
  
-   <span data-ttu-id="71ece-206">`UseMsmqTracing`: Vlastnost označující, jestli je zapnutá trasování služby MSMQ.</span><span class="sxs-lookup"><span data-stu-id="71ece-206">`UseMsmqTracing`: A property to indicate that MSMQ tracing is turned on.</span></span> <span data-ttu-id="71ece-207">MSMQ trasování odešle zprávy hlášení do fronty hlášení pokaždé, když opustí zpráva nebo zpráva dorazí na počítači hostování správce front služby MSMQ.</span><span class="sxs-lookup"><span data-stu-id="71ece-207">MSMQ tracing sends report messages to a report queue each time a message leaves or arrives at a machine hosting an MSMQ queue manager.</span></span>  
  
-   <span data-ttu-id="71ece-208">`QueueTransferProtocol`: Výčet protokolu používaných pro přenosy mezi zprávu fronty fronty.</span><span class="sxs-lookup"><span data-stu-id="71ece-208">`QueueTransferProtocol`: An enumeration of the protocol to use for queue-to-queue message transfers.</span></span> <span data-ttu-id="71ece-209">MSMQ implementuje protokol nativní fronty fronty přenosu a protokol založený na protokolu SOAP názvem protokol spolehlivého zasílání zpráv na protokolu SOAP (SRMP).</span><span class="sxs-lookup"><span data-stu-id="71ece-209">MSMQ implements a native queue-to-queue transfer protocol and a SOAP-based protocol called SOAP Reliable Messaging Protocol (SRMP).</span></span> <span data-ttu-id="71ece-210">SRMP se používá při použití přenos HTTP pro přenosy fronty fronty.</span><span class="sxs-lookup"><span data-stu-id="71ece-210">SRMP is used when using HTTP transport for queue-to-queue transfers.</span></span> <span data-ttu-id="71ece-211">SRMP zabezpečení se používá při použití protokolu HTTPS pro přenosy fronty fronty.</span><span class="sxs-lookup"><span data-stu-id="71ece-211">SRMP secure is used when using HTTPS for queue-to-queue transfers.</span></span>  
  
-   <span data-ttu-id="71ece-212">`UseActiveDirectory`: Logická hodnota označující, zda služby Active Directory musí být použit pro překlad adres fronty.</span><span class="sxs-lookup"><span data-stu-id="71ece-212">`UseActiveDirectory`: A Boolean value to indicate whether the Active Directory must be used for queue address resolution.</span></span> <span data-ttu-id="71ece-213">Ve výchozím nastavení to je vypnuto.</span><span class="sxs-lookup"><span data-stu-id="71ece-213">By default, this is off.</span></span> <span data-ttu-id="71ece-214">Další informace najdete v tématu [koncové body služby a adresování front](../../../../docs/framework/wcf/feature-details/service-endpoints-and-queue-addressing.md).</span><span class="sxs-lookup"><span data-stu-id="71ece-214">For more information, see [Service Endpoints and Queue Addressing](../../../../docs/framework/wcf/feature-details/service-endpoints-and-queue-addressing.md).</span></span>  
  
### <a name="msmqintegrationbinding"></a><span data-ttu-id="71ece-215">MsmqIntegrationBinding</span><span class="sxs-lookup"><span data-stu-id="71ece-215">MsmqIntegrationBinding</span></span>  
 <span data-ttu-id="71ece-216">`MsmqIntegrationBinding` Se používá, pokud chcete, aby koncový bod WCF ke komunikaci s existující služby MSMQ aplikace napsané v C, C++, COM nebo System.Messaging rozhraní API.</span><span class="sxs-lookup"><span data-stu-id="71ece-216">The `MsmqIntegrationBinding` is used when you want a WCF endpoint to communicate with an existing MSMQ application written in C, C++, COM, or System.Messaging APIs.</span></span>  
  
 <span data-ttu-id="71ece-217">Vlastnosti vazby jsou stejné jako u `NetMsmqBinding`.</span><span class="sxs-lookup"><span data-stu-id="71ece-217">The binding properties are the same as for `NetMsmqBinding`.</span></span> <span data-ttu-id="71ece-218">Však platí následující rozdíly:</span><span class="sxs-lookup"><span data-stu-id="71ece-218">However, the following differences apply:</span></span>  
  
-   <span data-ttu-id="71ece-219">Operace kontrakt `MsmqIntegrationBinding` je omezen na pořízení jeden parametr typu <xref:System.ServiceModel.MsmqIntegration.MsmqMessage%601> kde parametr typu je typ textu.</span><span class="sxs-lookup"><span data-stu-id="71ece-219">The operation contract for `MsmqIntegrationBinding` is restricted to taking a single parameter of type <xref:System.ServiceModel.MsmqIntegration.MsmqMessage%601> where the type parameter is the body type.</span></span>  
  
-   <span data-ttu-id="71ece-220">Velká část vlastnosti služby MSMQ nativní zprávy jsou přístupné <xref:System.ServiceModel.MsmqIntegration.MsmqMessage%601> pro použití.</span><span class="sxs-lookup"><span data-stu-id="71ece-220">Much of MSMQ native message properties are exposed in the <xref:System.ServiceModel.MsmqIntegration.MsmqMessage%601> for use.</span></span>  
  
-   <span data-ttu-id="71ece-221">Pomoci při serializaci a deserializaci textu zprávy, jsou uvedeny serializátorů například XML a ActiveX.</span><span class="sxs-lookup"><span data-stu-id="71ece-221">To help with serialization and deserialization of the message body, serializers such as XML and ActiveX are provided.</span></span>  
  
### <a name="sample-code"></a><span data-ttu-id="71ece-222">Ukázkový kód</span><span class="sxs-lookup"><span data-stu-id="71ece-222">Sample Code</span></span>  
 <span data-ttu-id="71ece-223">Pokyny krok za krokem na tom, jak psát WCF služby, které používají služby MSMQ naleznete v následujících tématech:</span><span class="sxs-lookup"><span data-stu-id="71ece-223">For step by step instructions on how to write WCF services that use MSMQ see the following topics:</span></span>  
  
-   [<span data-ttu-id="71ece-224">Postupy: Výměna zpráv s koncovými body WCF a aplikací pro řazení zpráv do front</span><span class="sxs-lookup"><span data-stu-id="71ece-224">How to: Exchange Messages with WCF Endpoints and Message Queuing Applications</span></span>](../../../../docs/framework/wcf/feature-details/how-to-exchange-messages-with-wcf-endpoints-and-message-queuing-applications.md)  
  
-   [<span data-ttu-id="71ece-225">Postupy: Výměna zpráv zařazených do fronty s koncovými body WCF</span><span class="sxs-lookup"><span data-stu-id="71ece-225">How to: Exchange Queued Messages with WCF Endpoints</span></span>](../../../../docs/framework/wcf/feature-details/how-to-exchange-queued-messages-with-wcf-endpoints.md)  
  
 <span data-ttu-id="71ece-226">Dokončený kód ukázka ilustrující použití služby MSMQ ve službě WCF najdete v následujících tématech:</span><span class="sxs-lookup"><span data-stu-id="71ece-226">For a completed code sample illustrating the use of MSMQ in WCF see the following topics:</span></span>  
  
-   [<span data-ttu-id="71ece-227">Zpracované vazby služby MSMQ</span><span class="sxs-lookup"><span data-stu-id="71ece-227">Transacted MSMQ Binding</span></span>](../../../../docs/framework/wcf/samples/transacted-msmq-binding.md)  
  
-   [<span data-ttu-id="71ece-228">Nestálá komunikace ve frontě</span><span class="sxs-lookup"><span data-stu-id="71ece-228">Volatile Queued Communication</span></span>](../../../../docs/framework/wcf/samples/volatile-queued-communication.md)  
  
-   [<span data-ttu-id="71ece-229">Fronty nedoručených zpráv</span><span class="sxs-lookup"><span data-stu-id="71ece-229">Dead Letter Queues</span></span>](../../../../docs/framework/wcf/samples/dead-letter-queues.md)  
  
-   [<span data-ttu-id="71ece-230">Relace a fronty</span><span class="sxs-lookup"><span data-stu-id="71ece-230">Sessions and Queues</span></span>](../../../../docs/framework/wcf/samples/sessions-and-queues.md)  
  
-   [<span data-ttu-id="71ece-231">Obousměrná komunikace</span><span class="sxs-lookup"><span data-stu-id="71ece-231">Two-Way Communication</span></span>](../../../../docs/framework/wcf/samples/two-way-communication.md)  
  
-   [<span data-ttu-id="71ece-232">Transakční dávkování</span><span class="sxs-lookup"><span data-stu-id="71ece-232">Transacted Batching</span></span>](../../../../docs/framework/wcf/samples/transacted-batching.md)  
  
-   [<span data-ttu-id="71ece-233">SRMP</span><span class="sxs-lookup"><span data-stu-id="71ece-233">SRMP</span></span>](../../../../docs/framework/wcf/samples/srmp.md)  
  
-   [<span data-ttu-id="71ece-234">Zabezpečení zprávy pomocí služby Řízení front zpráv</span><span class="sxs-lookup"><span data-stu-id="71ece-234">Message Security over Message Queuing</span></span>](../../../../docs/framework/wcf/samples/message-security-over-message-queuing.md)  
  
## <a name="see-also"></a><span data-ttu-id="71ece-235">Viz také</span><span class="sxs-lookup"><span data-stu-id="71ece-235">See Also</span></span>  
 [<span data-ttu-id="71ece-236">Koncové body služby a adresování front</span><span class="sxs-lookup"><span data-stu-id="71ece-236">Service Endpoints and Queue Addressing</span></span>](../../../../docs/framework/wcf/feature-details/service-endpoints-and-queue-addressing.md)  
 [<span data-ttu-id="71ece-237">Webhosting frontové aplikace</span><span class="sxs-lookup"><span data-stu-id="71ece-237">Web Hosting a Queued Application</span></span>](../../../../docs/framework/wcf/feature-details/web-hosting-a-queued-application.md)
