---
title: Klientské aplikace střední vrstvy
ms.date: 03/30/2017
ms.assetid: f9714a64-d0ae-4a98-bca0-5d370fdbd631
ms.openlocfilehash: 4cca832266b2eb2ab7b1b4eb1a5fe937525db97d
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 05/04/2018
ms.locfileid: "33493488"
---
# <a name="middle-tier-client-applications"></a><span data-ttu-id="6082e-102">Klientské aplikace střední vrstvy</span><span class="sxs-lookup"><span data-stu-id="6082e-102">Middle-Tier Client Applications</span></span>
<span data-ttu-id="6082e-103">Toto téma popisuje různé problémy, které jsou specifické pro střední vrstvy klientské aplikace, které používají Windows Communication Foundation (WCF).</span><span class="sxs-lookup"><span data-stu-id="6082e-103">This topic discusses various issues specific to middle-tier client applications that use Windows Communication Foundation (WCF).</span></span>  
  
## <a name="increasing-middle-tier-client-performance"></a><span data-ttu-id="6082e-104">Zvýšení výkonu klienta střední vrstvy</span><span class="sxs-lookup"><span data-stu-id="6082e-104">Increasing Middle-Tier Client Performance</span></span>  
 <span data-ttu-id="6082e-105">Ve srovnání s předchozí komunikace technologií, jako jsou webové služby pomocí [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)], vytvoření klienta WCF instance může být složitější z důvodu bohaté sadě funkcí služby WCF.</span><span class="sxs-lookup"><span data-stu-id="6082e-105">Compared to previous communications technologies, such as Web services using [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)], the creation of a WCF client instance can be more complex due to the rich feature set of WCF.</span></span> <span data-ttu-id="6082e-106">Například když <xref:System.ServiceModel.ChannelFactory%601> je otevřen objekt ji může vytvořit zabezpečené relaci se službou, procedury, která se prodlouží doba spuštění pro instanci klienta.</span><span class="sxs-lookup"><span data-stu-id="6082e-106">For example, when a <xref:System.ServiceModel.ChannelFactory%601> object is opened it can establish a secure session with the service, a procedure that increases the startup time for the client instance.</span></span> <span data-ttu-id="6082e-107">Obvykle se tyto další funkce funkce nemají vliv klientské aplikace výrazně od klienta WCF přes několik nevolá a poté uzavře.</span><span class="sxs-lookup"><span data-stu-id="6082e-107">Typically, these additional feature capabilities do not affect client applications greatly since the WCF client makes several calls, and then closes.</span></span>  
  
 <span data-ttu-id="6082e-108">Střední vrstvy klientské aplikace, ale můžete rychle vytvořit mnoho objektů klienta WCF a v důsledku toho prostředí vyšší inicializace požadavky.</span><span class="sxs-lookup"><span data-stu-id="6082e-108">Middle-tier client applications, however, can create many WCF client objects quickly and, as a result, experience increased initialization requirements.</span></span> <span data-ttu-id="6082e-109">Pro zvýšení výkonu aplikací střední vrstvy při volání služby dvěma způsoby:</span><span class="sxs-lookup"><span data-stu-id="6082e-109">There are two main approaches to increasing the performance of middle-tier applications when calling services:</span></span>  
  
-   <span data-ttu-id="6082e-110">Objekt klienta WCF do mezipaměti a opakovaně pro následující volání, kde je to možné.</span><span class="sxs-lookup"><span data-stu-id="6082e-110">Cache the WCF client object and reuse it for subsequent calls where possible.</span></span>  
  
-   <span data-ttu-id="6082e-111">Vytvoření <xref:System.ServiceModel.ChannelFactory%601> objektu a poté použít k vytvoření nového klienta WCF objekty kanál pro každé volání objektu.</span><span class="sxs-lookup"><span data-stu-id="6082e-111">Create a <xref:System.ServiceModel.ChannelFactory%601> object and then use that object to create new WCF client channel objects for each call.</span></span>  
  
 <span data-ttu-id="6082e-112">Problémy, které je třeba zvážit při použití těchto přístupů patří:</span><span class="sxs-lookup"><span data-stu-id="6082e-112">Issues to consider when using these approaches include:</span></span>  
  
-   <span data-ttu-id="6082e-113">Pokud služba je zachování stavu specifické pro klienta pomocí relace, nelze vzhledem k tomu, že stav služby je vázaný na střední vrstvě klientských opakovaně klienta WCF střední vrstvy u vrstvy klienta více žádostí.</span><span class="sxs-lookup"><span data-stu-id="6082e-113">If the service is maintaining a client-specific state by using a session, then you cannot reuse the middle-tier WCF client with multiple-client tier requests because the service's state is tied to that of the middle-tier client.</span></span>  
  
-   <span data-ttu-id="6082e-114">Pokud služba musí provést ověření na základě jednotlivé klienty, musíte vytvořit nového klienta pro každého příchozího požadavku na střední vrstvy, namísto opakovaného použití klienta WCF střední vrstvy (nebo objekt kanálu klienta WCF), protože pověření klienta střední vrstvy nelze změnit po klienta WCF (nebo <xref:System.ServiceModel.ChannelFactory%601>) byla vytvořena.</span><span class="sxs-lookup"><span data-stu-id="6082e-114">If the service must perform authentication on a per-client basis, you must create a new client for each incoming request on the middle tier instead of reusing the middle-tier WCF client (or WCF client channel object) because the client credentials of the middle tier cannot be modified after the WCF client (or <xref:System.ServiceModel.ChannelFactory%601>) has been created.</span></span>  
  
-   <span data-ttu-id="6082e-115">Kanály a klienty vytvořené kanály jsou bezpečné pro přístup z více vláken, nemusí podporují zápis více než jeden zprávy k drátové síti současně.</span><span class="sxs-lookup"><span data-stu-id="6082e-115">While channels and clients created by the channels are thread-safe, they might not support writing more than one message to the wire concurrently.</span></span> <span data-ttu-id="6082e-116">Při odesílání zprávy velké, zvlášť pokud streamování, je operaci odeslání mohou blokovat čekání na další odeslat k dokončení.</span><span class="sxs-lookup"><span data-stu-id="6082e-116">If you are sending large messages, particularly if streaming, the send operation might block waiting for another send to complete.</span></span> <span data-ttu-id="6082e-117">To způsobí, že dva druhy problémů: chybějících souběžnosti a možnost zablokování Pokud toku řízení vrátí ke službě opakovaného použití kanálu (to znamená, sdílené klienta zavolá službu, jejichž výsledky cesta kódu v zpětné volání pro sdílené klienta).</span><span class="sxs-lookup"><span data-stu-id="6082e-117">This causes two sorts of problems: a lack of concurrency and the possibility of deadlock if the flow of control returns to the service reusing the channel (that is, the shared client calls a service whose code path results in a callback to the shared client).</span></span> <span data-ttu-id="6082e-118">To platí bez ohledu na typ klienta WCF, které můžete znovu použít.</span><span class="sxs-lookup"><span data-stu-id="6082e-118">This is true regardless of the type of WCF client you reuse.</span></span>  
  
-   <span data-ttu-id="6082e-119">Je nutné zajistit chybný kanály bez ohledu na to, jestli sdílet kanál.</span><span class="sxs-lookup"><span data-stu-id="6082e-119">You must handle faulted channels regardless of whether you share the channel.</span></span> <span data-ttu-id="6082e-120">Když jsou opakovaně kanály, ale můžete chybující kanál vypnout více než jedno čekající žádosti o nebo odeslat.</span><span class="sxs-lookup"><span data-stu-id="6082e-120">When channels are reused, however, a faulting channel can take down more than one pending request or send.</span></span>  
  
 <span data-ttu-id="6082e-121">Příklad, osvědčené postupy pro opětovné použití klienta pro víc požadavků, naleznete v části [datové vazby v klientovi ASP.NET](../../../../docs/framework/wcf/samples/data-binding-in-an-aspnet-client.md).</span><span class="sxs-lookup"><span data-stu-id="6082e-121">For an example that demonstrates best practices for reusing a client for multiple requests, see [Data Binding in an ASP.NET Client](../../../../docs/framework/wcf/samples/data-binding-in-an-aspnet-client.md).</span></span>  
  
 <span data-ttu-id="6082e-122">Kromě toho můžete zvýšit výkon při spuštění pro tyto klienty, kteří používají typy dat, které jsou serializovatelný pomocí <xref:System.Xml.Serialization.XmlSerializer> generování a kompilace kódu serializace pro tyto typy dat za běhu, což může vést k pomalé spuštění výkonu.</span><span class="sxs-lookup"><span data-stu-id="6082e-122">In addition, you can increase the startup performance for those clients that use data types that are serializable using the <xref:System.Xml.Serialization.XmlSerializer> generate and compile serialization code for those data types at runtime, which can result in slow start-up performance.</span></span> <span data-ttu-id="6082e-123">[ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) lze vylepšit výkon spuštění pro tyto aplikace generování kódu nezbytné serializace z kompilované sestavení pro aplikaci.</span><span class="sxs-lookup"><span data-stu-id="6082e-123">The [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) can improve start-up performance for these applications by generating the necessary serialization code from the compiled assemblies for the application.</span></span> <span data-ttu-id="6082e-124">Další informace najdete v tématu [postupy: zlepšení spuštění čas klientských aplikací WCF pomocí třídy XmlSerializer](../../../../docs/framework/wcf/feature-details/startup-time-of-wcf-client-applications-using-the-xmlserializer.md).</span><span class="sxs-lookup"><span data-stu-id="6082e-124">For more information, see [How to: Improve the Startup Time of WCF Client Applications using the XmlSerializer](../../../../docs/framework/wcf/feature-details/startup-time-of-wcf-client-applications-using-the-xmlserializer.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="6082e-125">Viz také</span><span class="sxs-lookup"><span data-stu-id="6082e-125">See Also</span></span>  
 [<span data-ttu-id="6082e-126">Přístup ke službám pomocí klienta WCF</span><span class="sxs-lookup"><span data-stu-id="6082e-126">Accessing Services Using a WCF Client</span></span>](../../../../docs/framework/wcf/feature-details/accessing-services-using-a-client.md)
