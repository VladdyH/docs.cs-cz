---
title: Mechanismy řízení přístupu
ms.date: 03/30/2017
helpviewer_keywords:
- WCF security
- access control [WCF]
ms.assetid: 9d576122-3f55-4425-9acf-b23d0781e966
ms.openlocfilehash: 57ead53dd9e6bc1b2e3624791c7cc0c7d437cd7d
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 05/04/2018
ms.locfileid: "33493162"
---
# <a name="access-control-mechanisms"></a><span data-ttu-id="b99a7-102">Mechanismy řízení přístupu</span><span class="sxs-lookup"><span data-stu-id="b99a7-102">Access Control Mechanisms</span></span>
<span data-ttu-id="b99a7-103">Můžete řídit přístup způsobem několik Windows Communication Foundation (WCF).</span><span class="sxs-lookup"><span data-stu-id="b99a7-103">You can control access in several way with Windows Communication Foundation (WCF).</span></span> <span data-ttu-id="b99a7-104">Toto téma stručně popisuje různé mechanismy a poskytuje návrhy na při použití každé; je určena k vám pomohou vybrat správný mechanismus používat.</span><span class="sxs-lookup"><span data-stu-id="b99a7-104">This topic briefly discusses the various mechanisms and provides suggestions on when to use each; it is intended to help you select the correct mechanism to use.</span></span> <span data-ttu-id="b99a7-105">Technologie pro přístup k jsou uvedeny v pořadí podle složitost.</span><span class="sxs-lookup"><span data-stu-id="b99a7-105">The access technologies are listed in order of complexity.</span></span> <span data-ttu-id="b99a7-106">Nejjednodušší je <xref:System.Security.Permissions.PrincipalPermissionAttribute>; nejvíce komplexní je modelem Identity.</span><span class="sxs-lookup"><span data-stu-id="b99a7-106">The simplest is the <xref:System.Security.Permissions.PrincipalPermissionAttribute>; the most complex is the Identity Model.</span></span>  
  
 <span data-ttu-id="b99a7-107">Kromě těchto mechanismů zosobnění a delegování s použitím technologie WCF je vysvětleno v [delegace a zosobnění](../../../../docs/framework/wcf/feature-details/delegation-and-impersonation-with-wcf.md).</span><span class="sxs-lookup"><span data-stu-id="b99a7-107">In addition to these mechanisms, impersonation and delegation with WCF is explained in [Delegation and Impersonation](../../../../docs/framework/wcf/feature-details/delegation-and-impersonation-with-wcf.md).</span></span>  
  
## <a name="principalpermissionattribute"></a><span data-ttu-id="b99a7-108">PrincipalPermissionAttribute</span><span class="sxs-lookup"><span data-stu-id="b99a7-108">PrincipalPermissionAttribute</span></span>  
 <span data-ttu-id="b99a7-109"><xref:System.Security.Permissions.PrincipalPermissionAttribute> Se používá k omezení přístupu k metodě služby.</span><span class="sxs-lookup"><span data-stu-id="b99a7-109">The <xref:System.Security.Permissions.PrincipalPermissionAttribute> is used to restrict access to a service method.</span></span> <span data-ttu-id="b99a7-110">Pokud je atribut použitý na metodu, může sloužit požadovat konkrétní volající identity nebo členství ve skupině Windows nebo [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] role.</span><span class="sxs-lookup"><span data-stu-id="b99a7-110">When the attribute is applied to a method, it can be used to demand a specific caller's identity or membership in a Windows group or [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] role.</span></span> <span data-ttu-id="b99a7-111">Pokud klient je ověřování pomocí certifikátu X.509, je uveden primární identitou, která se skládá z název předmětu a kryptografický otisk certifikátu.</span><span class="sxs-lookup"><span data-stu-id="b99a7-111">If the client is authenticated using an X.509 certificate, it is given a primary identity that consists of the subject name plus the thumbprint of the certificate.</span></span>  
  
 <span data-ttu-id="b99a7-112">Použití <xref:System.Security.Permissions.PrincipalPermissionAttribute> k řízení přístupu k prostředkům v počítači, který je služba spuštěná, a pokud uživatelé služby budou vždy součástí stejné domény systému Windows, který je služba spuštěná na.</span><span class="sxs-lookup"><span data-stu-id="b99a7-112">Use the <xref:System.Security.Permissions.PrincipalPermissionAttribute> to control access to resources on the computer that the service is running on, and if the users of the service will always be part of the same Windows domain that the service is running on.</span></span> <span data-ttu-id="b99a7-113">Můžete snadno vytvořit skupiny systému Windows, které jste zadali úrovní přístupu (jako jsou none, jen pro čtení, nebo pro čtení a zápis).</span><span class="sxs-lookup"><span data-stu-id="b99a7-113">You can easily create Windows groups that have specified levels of access (such as none, read-only, or read and write).</span></span>  
  
 <span data-ttu-id="b99a7-114">Další informace o používání atribut najdete v tématu [postupy: omezení přístupu pomocí třídy PrincipalPermissionAttribute](../../../../docs/framework/wcf/how-to-restrict-access-with-the-principalpermissionattribute-class.md).</span><span class="sxs-lookup"><span data-stu-id="b99a7-114">For more information about using the attribute, see [How to: Restrict Access with the PrincipalPermissionAttribute Class](../../../../docs/framework/wcf/how-to-restrict-access-with-the-principalpermissionattribute-class.md).</span></span> <span data-ttu-id="b99a7-115">Další informace o identitě najdete v tématu [identita a ověřování služby](../../../../docs/framework/wcf/feature-details/service-identity-and-authentication.md).</span><span class="sxs-lookup"><span data-stu-id="b99a7-115">For more information about identity, see [Service Identity and Authentication](../../../../docs/framework/wcf/feature-details/service-identity-and-authentication.md).</span></span>  
  
## <a name="aspnet-membership-provider"></a><span data-ttu-id="b99a7-116">Poskytovatele členství prostředí ASP.NET</span><span class="sxs-lookup"><span data-stu-id="b99a7-116">ASP.NET Membership Provider</span></span>  
 <span data-ttu-id="b99a7-117">Funkce [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] je zprostředkovatel členství.</span><span class="sxs-lookup"><span data-stu-id="b99a7-117">A feature of [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] is the membership provider.</span></span> <span data-ttu-id="b99a7-118">I když se zprostředkovatel členství není technicky mechanismu řízení přístupu, umožňuje řízení přístupu ke službě omezením sadu možné identit, kteří mohou přistupovat k koncový bod služby.</span><span class="sxs-lookup"><span data-stu-id="b99a7-118">Even though the membership provider is not technically an access control mechanism, it allows controlling access to the service by limiting the set of possible identities that can access the service's endpoint.</span></span> <span data-ttu-id="b99a7-119">Funkce členství zahrnuje databázi, která je možné naplnit kombinace uživatelské jméno a heslo, které umožňují uživatelům webu vytvářet účty s lokalitou.</span><span class="sxs-lookup"><span data-stu-id="b99a7-119">The membership feature includes a database that can be populated with user name/password combinations that enable users of a Web site to establish accounts with the site.</span></span> <span data-ttu-id="b99a7-120">Pro přístup k službě, která používá zprostředkovatel členství, musí uživatel přihlásit pomocí své uživatelské jméno a heslo.</span><span class="sxs-lookup"><span data-stu-id="b99a7-120">To access a service that uses the membership provider, a user must log on with his or her user name and password.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="b99a7-121">Musíte nejprve naplnit databázi pomocí [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] funkcí služby WCF mohli používat pro účely ověření.</span><span class="sxs-lookup"><span data-stu-id="b99a7-121">You must first populate the database using the [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] feature before a WCF service can use it for authorization purposes.</span></span>  
  
 <span data-ttu-id="b99a7-122">Můžete také použít funkci členství, pokud již máte členství databáze z existující [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] webu a chcete povolit stejným uživatelům používat služby oprávnění se stejným uživatelská jména a hesla.</span><span class="sxs-lookup"><span data-stu-id="b99a7-122">You can also use the membership feature if you already have a membership database from an existing [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] Web site and you want to enable the same users to use your service, authorized with the same user names and passwords.</span></span>  
  
 <span data-ttu-id="b99a7-123">Další informace o používání funkce členství ve službě WCF najdete v tématu [postupy: použití poskytovatele členství prostředí ASP.NET](../../../../docs/framework/wcf/feature-details/how-to-use-the-aspnet-membership-provider.md).</span><span class="sxs-lookup"><span data-stu-id="b99a7-123">For more information about using the membership feature in a WCF service, see [How to: Use the ASP.NET Membership Provider](../../../../docs/framework/wcf/feature-details/how-to-use-the-aspnet-membership-provider.md).</span></span>  
  
## <a name="aspnet-role-provider"></a><span data-ttu-id="b99a7-124">Zprostředkovatele rolí ASP.NET</span><span class="sxs-lookup"><span data-stu-id="b99a7-124">ASP.NET Role Provider</span></span>  
 <span data-ttu-id="b99a7-125">Další funkce [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] je schopnost spravovat autorizace pomocí rolí.</span><span class="sxs-lookup"><span data-stu-id="b99a7-125">Another feature of [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] is the ability to manage authorization using roles.</span></span> <span data-ttu-id="b99a7-126">[!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] Zprostředkovatele rolí umožňuje vývojáři k vytvoření role pro uživatele a přiřadit k roli nebo role.</span><span class="sxs-lookup"><span data-stu-id="b99a7-126">The [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] role provider enables a developer to create roles for users and to assign each user to a role or roles.</span></span> <span data-ttu-id="b99a7-127">Jako u zprostředkovatele členství, role a přiřazení jsou uloženy v databázi a je možné importovat pomocí nástroje poskytované subsystémem pro konkrétní implementaci [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] zprostředkovatele rolí.</span><span class="sxs-lookup"><span data-stu-id="b99a7-127">As with the membership provider, the roles and assignments are stored in a database, and can be populated using tools provided by a particular implementation of the [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] role provider.</span></span> <span data-ttu-id="b99a7-128">Jako funkce členství s WCF mohou vývojáři informace v databázi autorizovat uživatele služeb role.</span><span class="sxs-lookup"><span data-stu-id="b99a7-128">As with the membership feature, WCF developers can use the information in the database to authorize service users by roles.</span></span> <span data-ttu-id="b99a7-129">Zprostředkovatele rolí se třeba můžou použít v kombinaci s `PrincipalPermissionAttribute` popsané výše mechanismu řízení přístupu.</span><span class="sxs-lookup"><span data-stu-id="b99a7-129">They can, for example, use the role provider in combination with the `PrincipalPermissionAttribute` access control mechanism described above.</span></span>  
  
 <span data-ttu-id="b99a7-130">Můžete také [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] zprostředkovatele rolí, pokud máte existující [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] role zprostředkovatele databáze a chcete použít stejnou sadu pravidel a přiřazení uživatelských ve službě WCF.</span><span class="sxs-lookup"><span data-stu-id="b99a7-130">You can also use the [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] role provider if you have an existing [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] role provider database and want to use the same set of rules and user assignments in your WCF service.</span></span>  
  
 <span data-ttu-id="b99a7-131">Další informace o používání funkcí zprostředkovatele rolí, najdete v části [postupy: použití zprostředkovatele rolí ASP.NET se službou](../../../../docs/framework/wcf/feature-details/how-to-use-the-aspnet-role-provider-with-a-service.md).</span><span class="sxs-lookup"><span data-stu-id="b99a7-131">For more information about using the role provider feature, see [How to: Use the ASP.NET Role Provider with a Service](../../../../docs/framework/wcf/feature-details/how-to-use-the-aspnet-role-provider-with-a-service.md).</span></span>  
  
## <a name="authorization-manager"></a><span data-ttu-id="b99a7-132">Správce autorizací</span><span class="sxs-lookup"><span data-stu-id="b99a7-132">Authorization Manager</span></span>  
 <span data-ttu-id="b99a7-133">Další funkcí kombinuje Správce autorizací (AzMan) s [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] zprostředkovatele rolí k autorizaci klientů.</span><span class="sxs-lookup"><span data-stu-id="b99a7-133">Another feature combines the Authorization Manager (AzMan) with the [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] role provider to authorize clients.</span></span> <span data-ttu-id="b99a7-134">Když [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] hostitele webové služby, AzMan lze integrovat do aplikace, tak, aby autorizace ke službě se provádí prostřednictvím AzMan.</span><span class="sxs-lookup"><span data-stu-id="b99a7-134">When [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] hosts a Web service, AzMan can be integrated into the application so that authorization to the service is done through AzMan.</span></span> [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)]<span data-ttu-id="b99a7-135"> Správce rolí poskytuje rozhraní API, která umožňuje spravovat aplikační role, přidat, odebrat uživatele z role a zkontrolujte členství v roli, ale neumožňuje vám dotaz, zda je uživatel autorizovaný k provedení úloh s názvem nebo operace.</span><span class="sxs-lookup"><span data-stu-id="b99a7-135"> role manager provides an API that enables you to manage application roles, add and remove users from roles, and check role membership, but it does not allow you to query whether a user is authorized to perform a named task or operation.</span></span> <span data-ttu-id="b99a7-136">AzMan umožňuje definovat jednotlivé operace a zkombinovat do úlohy.</span><span class="sxs-lookup"><span data-stu-id="b99a7-136">AzMan allows you to define individual operations and combine them into tasks.</span></span> <span data-ttu-id="b99a7-137">S AZMan kromě kontroly role, můžete také zkontrolovat zda může uživatel provést úlohu.</span><span class="sxs-lookup"><span data-stu-id="b99a7-137">With AZMan, in addition to role checks, you can also check whether a user can perform a task.</span></span> <span data-ttu-id="b99a7-138">Role ověřování přiřazení a úloh můžete nakonfigurovat mimo aplikaci nebo provést programově v aplikaci.</span><span class="sxs-lookup"><span data-stu-id="b99a7-138">Role assignment and task authorization can be configured outside of the application or performed programmatically within the application.</span></span> <span data-ttu-id="b99a7-139">Správa AzMan modul snap-in konzoly Microsoft Management Console (MMC) umožňuje správci ke změně úlohy, které může role provádět v době běhu a spravovat každý uživatel členství rolí.</span><span class="sxs-lookup"><span data-stu-id="b99a7-139">The AzMan administration Microsoft Management Console (MMC) snap-in allows administrators to change the tasks a role can perform at run time and to manage each user's membership of roles.</span></span>  
  
 <span data-ttu-id="b99a7-140">Můžete také AzMan a [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] zprostředkovatele rolí, pokud již máte přístup do existující instalace AzMan a autorizovat uživatelé služby pomocí funkce kombinace AzMan nebo roli zprostředkovatele.</span><span class="sxs-lookup"><span data-stu-id="b99a7-140">You can also use AzMan and the [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] role provider if you already have access to an existing AzMan installation and want to authorize your service users using the features of the AzMan/role provider combination.</span></span>  
  
 <span data-ttu-id="b99a7-141">Další informace o AzMan a [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] zprostředkovatele rolí, najdete v části [postupy: použití Správce autorizací (AzMan) s prostředím ASP.NET 2.0](http://go.microsoft.com/fwlink/?LinkId=88951).</span><span class="sxs-lookup"><span data-stu-id="b99a7-141">For more information about AzMan and the [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] role provider, see [How To: Use Authorization Manager (AzMan) with ASP.NET 2.0](http://go.microsoft.com/fwlink/?LinkId=88951).</span></span> <span data-ttu-id="b99a7-142">Další informace o používání AzMan a poskytovatel rolí pro služby WCF najdete v tématu [postupy: použití zprostředkovatele rolí Správce autorizací ASP.NET se službou](../../../../docs/framework/wcf/feature-details/how-to-use-the-aspnet-authorization-manager-role-provider-with-a-service.md).</span><span class="sxs-lookup"><span data-stu-id="b99a7-142">For more information about using AzMan and the role provider for WCF services, see [How to: Use the ASP.NET Authorization Manager Role Provider with a Service](../../../../docs/framework/wcf/feature-details/how-to-use-the-aspnet-authorization-manager-role-provider-with-a-service.md).</span></span>  
  
## <a name="identity-model"></a><span data-ttu-id="b99a7-143">Modelu identity</span><span class="sxs-lookup"><span data-stu-id="b99a7-143">Identity Model</span></span>  
 <span data-ttu-id="b99a7-144">Identity Model je sada rozhraní API, které vám umožní spravovat deklarace identity a zásady, autorizace klientů.</span><span class="sxs-lookup"><span data-stu-id="b99a7-144">The Identity Model is a set of APIs that enable you to manage claims and policies to authorize clients.</span></span> <span data-ttu-id="b99a7-145">S modelem Identity můžete zkontrolovat všechny deklarace obsažené v přihlašovací údaje, které volající používá k ověření samotné služby, porovnání deklarace identity na sadě zásad pro službu a udělit nebo odepřít přístup podle porovnání.</span><span class="sxs-lookup"><span data-stu-id="b99a7-145">With the Identity Model, you can examine every claim contained in credentials that the caller used to authenticate itself to the service, compare the claims to the set of policies for the service, and grant or deny access based on the comparison.</span></span>  
  
 <span data-ttu-id="b99a7-146">Pomocí modelu Identity, pokud je třeba přesně řízení a možnost nastavit určitá kritéria před udělením přístupu.</span><span class="sxs-lookup"><span data-stu-id="b99a7-146">Use the Identity Model if you need fine control and the ability to set specific criteria before granting access.</span></span> <span data-ttu-id="b99a7-147">Například při použití <xref:System.Security.Permissions.PrincipalPermissionAttribute>, toto kritérium je jednoduše, že identita uživatele je ověřen a patří do určité role.</span><span class="sxs-lookup"><span data-stu-id="b99a7-147">For example, when using the <xref:System.Security.Permissions.PrincipalPermissionAttribute>, the criterion is simply that the identity of the user is authenticated and belongs to a specific role.</span></span> <span data-ttu-id="b99a7-148">Na rozdíl od použití modelu Identity můžete vytvořit zásadu, která stavů uživatele musí být více než 18 let a má platný ovladač licence dříve, než mohou zobrazení dokumentu.</span><span class="sxs-lookup"><span data-stu-id="b99a7-148">In contrast, using the Identity Model, you can create a policy that states the user must be over 18 years of age and possesses a valid driver's license before being allowed to view a document.</span></span>  
  
 <span data-ttu-id="b99a7-149">Příkladem, kde můžete využívat výhod řízení přístupu na základě deklarace Identity modelu je při použití federační přihlašovací údaje ve scénáři vydaných tokenů.</span><span class="sxs-lookup"><span data-stu-id="b99a7-149">One example where you can benefit from the Identity Model claim-based access control is when using federation credentials in the issued token scenario.</span></span> <span data-ttu-id="b99a7-150">Další informace o federace a vystavené tokeny najdete v tématu [federace a vystavené tokeny](../../../../docs/framework/wcf/feature-details/federation-and-issued-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="b99a7-150">For more information about federation and issued tokens, see [Federation and Issued Tokens](../../../../docs/framework/wcf/feature-details/federation-and-issued-tokens.md).</span></span>  
  
 <span data-ttu-id="b99a7-151">Další informace o modelu Identity najdete v tématu [správa deklarací a autorizace s modelem Identity](../../../../docs/framework/wcf/feature-details/managing-claims-and-authorization-with-the-identity-model.md).</span><span class="sxs-lookup"><span data-stu-id="b99a7-151">For more information about the Identity Model, see [Managing Claims and Authorization with the Identity Model](../../../../docs/framework/wcf/feature-details/managing-claims-and-authorization-with-the-identity-model.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="b99a7-152">Viz také</span><span class="sxs-lookup"><span data-stu-id="b99a7-152">See Also</span></span>  
 <xref:System.Security.Permissions.PrincipalPermissionAttribute>  
 [<span data-ttu-id="b99a7-153">Postupy: Omezení přístupu pomocí třídy PrincipalPermissionAttribute</span><span class="sxs-lookup"><span data-stu-id="b99a7-153">How to: Restrict Access with the PrincipalPermissionAttribute Class</span></span>](../../../../docs/framework/wcf/how-to-restrict-access-with-the-principalpermissionattribute-class.md)  
 [<span data-ttu-id="b99a7-154">Postupy: Použití zprostředkovatele rolí ASP.NET se službou</span><span class="sxs-lookup"><span data-stu-id="b99a7-154">How to: Use the ASP.NET Role Provider with a Service</span></span>](../../../../docs/framework/wcf/feature-details/how-to-use-the-aspnet-role-provider-with-a-service.md)  
 [<span data-ttu-id="b99a7-155">Postupy: Použití zprostředkovatele role Správce autorizací ASP.NET se službou</span><span class="sxs-lookup"><span data-stu-id="b99a7-155">How to: Use the ASP.NET Authorization Manager Role Provider with a Service</span></span>](../../../../docs/framework/wcf/feature-details/how-to-use-the-aspnet-authorization-manager-role-provider-with-a-service.md)  
 [<span data-ttu-id="b99a7-156">Správa deklarací identity a autorizace pomocí modelu identit</span><span class="sxs-lookup"><span data-stu-id="b99a7-156">Managing Claims and Authorization with the Identity Model</span></span>](../../../../docs/framework/wcf/feature-details/managing-claims-and-authorization-with-the-identity-model.md)  
 [<span data-ttu-id="b99a7-157">Delegace a zosobnění</span><span class="sxs-lookup"><span data-stu-id="b99a7-157">Delegation and Impersonation</span></span>](../../../../docs/framework/wcf/feature-details/delegation-and-impersonation-with-wcf.md)
