---
title: Aktivity zasílání zpráv
ms.date: 03/30/2017
ms.assetid: 8498f215-1823-4aba-a6e1-391407f8c273
ms.openlocfilehash: 1ae03b1671aa5c938bb3897edb919643f795f8a0
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 05/04/2018
ms.locfileid: "33496683"
---
# <a name="messaging-activities"></a><span data-ttu-id="5d0a8-102">Aktivity zasílání zpráv</span><span class="sxs-lookup"><span data-stu-id="5d0a8-102">Messaging Activities</span></span>
<span data-ttu-id="5d0a8-103">Zasílání zpráv aktivity umožňují pracovní postupy pro odesílání a přijímání zpráv WCF.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-103">Messaging activities allow workflows to send and receive WCF messages.</span></span> <span data-ttu-id="5d0a8-104">Přidáním aktivity zasílání zpráv do pracovního postupu můžete model žádné libovolně komplexní zpráva exchange vzory (MEP).</span><span class="sxs-lookup"><span data-stu-id="5d0a8-104">By adding messaging activities to a workflow you can model any arbitrarily complex message exchange patterns (MEP).</span></span>  
  
## <a name="message-exchange-patterns"></a><span data-ttu-id="5d0a8-105">Vzory Exchange zpráv</span><span class="sxs-lookup"><span data-stu-id="5d0a8-105">Message Exchange Patterns</span></span>  
 <span data-ttu-id="5d0a8-106">Existují tři vzory exchange základní zpráva:</span><span class="sxs-lookup"><span data-stu-id="5d0a8-106">There are three basic message exchange patterns:</span></span>  
  
-   <span data-ttu-id="5d0a8-107">**Datagram** – při použití datagram MEP klient odešle zprávu do služby, ale služba nereaguje.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-107">**Datagram** - When using the datagram MEP the client sends a message to the service, but the service does not respond.</span></span> <span data-ttu-id="5d0a8-108">To se někdy nazývá "fire a zapomněli".</span><span class="sxs-lookup"><span data-stu-id="5d0a8-108">This is sometimes called "fire and forget".</span></span> <span data-ttu-id="5d0a8-109">A fire a zapomněli exchange je ten, který vyžaduje out-of-band potvrzení úspěšné doručení.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-109">A fire and forget exchange is one that requires out-of-band confirmation of successful delivery.</span></span> <span data-ttu-id="5d0a8-110">Zpráva může dojít ke ztrátě během přenosu a nikdy nedorazí službu.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-110">The message might be lost in transit and never reach the service.</span></span> <span data-ttu-id="5d0a8-111">Pokud klient úspěšně odešle zprávu, není zaručeno, že Služba obdržela zprávu.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-111">If the client successfully sends a message, it does not guarantee that the service has received the message.</span></span> <span data-ttu-id="5d0a8-112">Datagram je základní stavební blok pro zasílání zpráv, jak můžete vytvořit vlastní MEPs nad ho.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-112">The datagram is a fundamental building block for messaging, as you can build your own MEPs on top of it.</span></span>  
  
-   <span data-ttu-id="5d0a8-113">**Požadavků a odpovědí** – když pomocí požadavků a odpovědí MEP klient odešle zprávu, která službu, službu nemá požadované zpracování, a pak zasílá odpověď zpět klientovi.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-113">**Request-Response** - When using the request-response MEP the client sends a message to the service, the service does the required processing, and then sends a response back to the client.</span></span> <span data-ttu-id="5d0a8-114">Vzor se skládá z dvojice požadavků a odpovědí.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-114">The pattern consists of request-response pairs.</span></span> <span data-ttu-id="5d0a8-115">Příkladem volání požadavků a odpovědí jsou vzdálených volání procedur (RPC) a prohlížeče GET požadavky.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-115">Examples of request-response calls are remote procedure calls (RPC) and browser GET requests.</span></span> <span data-ttu-id="5d0a8-116">Tento vzor se také označuje jako poloduplexní.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-116">This pattern is also known as half-duplex.</span></span>  
  
-   <span data-ttu-id="5d0a8-117">**Duplexní** – při použití duplexní MEP klienta a služby mohou zasílat zprávy do sebe navzájem v libovolném pořadí.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-117">**Duplex** - When using the duplex MEP the client and service can send messages to each other in any order.</span></span> <span data-ttu-id="5d0a8-118">Duplexní MEP je třeba je telefonní hovor, kde je jednotlivých slov použitém zprávu.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-118">The duplex MEP is like a phone conversation, where each word being spoken is a message.</span></span>  
  
 <span data-ttu-id="5d0a8-119">Zasílání zpráv aktivity umožňují implementovat některé z těchto základní MEPs i jakékoli libovolně komplexní MEP.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-119">The messaging activities allow you to implement any of these basic MEPs as well as any arbitrarily complex MEP.</span></span>  
  
## <a name="messaging-activities"></a><span data-ttu-id="5d0a8-120">Aktivity zasílání zpráv</span><span class="sxs-lookup"><span data-stu-id="5d0a8-120">Messaging Activities</span></span>  
 <span data-ttu-id="5d0a8-121">[!INCLUDE[netfx_current_long](../../../../includes/netfx-current-long-md.md)] Definuje následující zasílání zpráv aktivity:</span><span class="sxs-lookup"><span data-stu-id="5d0a8-121">The [!INCLUDE[netfx_current_long](../../../../includes/netfx-current-long-md.md)] defines the following messaging activities:</span></span>  
  
-   <span data-ttu-id="5d0a8-122"><xref:System.ServiceModel.Activities.Send>-Použít <xref:System.ServiceModel.Activities.Send> aktivity odeslat zprávu.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-122"><xref:System.ServiceModel.Activities.Send>- Use the <xref:System.ServiceModel.Activities.Send> activity to send a message.</span></span>  
  
-   <span data-ttu-id="5d0a8-123"><xref:System.ServiceModel.Activities.SendReply> -Použít <xref:System.ServiceModel.Activities.SendReply> aktivity pro odesílání odpovědí na přijatou zprávu.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-123"><xref:System.ServiceModel.Activities.SendReply> - Use the <xref:System.ServiceModel.Activities.SendReply> activity to send a response to a received message.</span></span> <span data-ttu-id="5d0a8-124">Tato aktivita používá služby pracovního postupu při implementaci požadavek nebo odpověď MEP.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-124">This activity is used by workflow services when implementing a request/reply MEP.</span></span>  
  
-   <span data-ttu-id="5d0a8-125"><xref:System.ServiceModel.Activities.Receive>-Použít <xref:System.ServiceModel.Activities.Receive> aktivity pro příjem zprávy.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-125"><xref:System.ServiceModel.Activities.Receive>- Use the <xref:System.ServiceModel.Activities.Receive> activity to receive a message.</span></span>  
  
-   <span data-ttu-id="5d0a8-126"><xref:System.ServiceModel.Activities.ReceiveReply> -Použít <xref:System.ServiceModel.Activities.ReceiveReply> aktivity pro příjem zprávy odpovědi.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-126"><xref:System.ServiceModel.Activities.ReceiveReply> - Use the <xref:System.ServiceModel.Activities.ReceiveReply> activity to receive a reply message.</span></span> <span data-ttu-id="5d0a8-127">Tato aktivita se používají klienti služby pracovního postupu při implementaci požadavek nebo odpověď MEP.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-127">This activity is used by workflow service clients when implementing a request/reply MEP.</span></span>  
  
## <a name="messaging-activities-and-message-exchange-patterns"></a><span data-ttu-id="5d0a8-128">Aktivity zasílání zpráv a vzory Exchange zpráv</span><span class="sxs-lookup"><span data-stu-id="5d0a8-128">Messaging Activities and Message Exchange Patterns</span></span>  
 <span data-ttu-id="5d0a8-129">Datagram MEP zahrnuje klient odesílá zprávy a služby danou zprávu přijala.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-129">A datagram MEP involves a client sending a message and a service receiving the message.</span></span> <span data-ttu-id="5d0a8-130">Pokud je klient použití pracovního postupu <xref:System.ServiceModel.Activities.Send> aktivity odeslat zprávu.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-130">If the client is a workflow use a <xref:System.ServiceModel.Activities.Send> activity to send the message.</span></span> <span data-ttu-id="5d0a8-131">Chcete-li přijímat zprávy v pracovním postupu, použijte <xref:System.ServiceModel.Activities.Receive> aktivity.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-131">To receive that message in a workflow, use a <xref:System.ServiceModel.Activities.Receive> activity.</span></span> <span data-ttu-id="5d0a8-132"><xref:System.ServiceModel.Activities.Send> a <xref:System.ServiceModel.Activities.Receive> aktivity každý mít vlastnost s názvem `Content`.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-132">The <xref:System.ServiceModel.Activities.Send> and <xref:System.ServiceModel.Activities.Receive> activities each have a property named `Content`.</span></span> <span data-ttu-id="5d0a8-133">Tato vlastnost obsahuje data se odesílané nebo přijímané.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-133">This property contains the data being sent or received.</span></span> <span data-ttu-id="5d0a8-134">Při implementaci MEP požadavků a odpovědí klienta a službu používají dvojice aktivit.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-134">When implementing the request-response MEP both the client and the service use pairs of activities.</span></span> <span data-ttu-id="5d0a8-135">Klient použije <xref:System.ServiceModel.Activities.Send> aktivity odeslat zprávu a <xref:System.ServiceModel.Activities.ReceiveReply> aktivity získat odpověď ze služby.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-135">The client uses a <xref:System.ServiceModel.Activities.Send> activity to send the message and a <xref:System.ServiceModel.Activities.ReceiveReply> activity to receive the response from the service.</span></span> <span data-ttu-id="5d0a8-136">Tyto dvě aktivity jsou spojeny s jinými pomocí <xref:System.ServiceModel.Activities.ReceiveReply.Request%2A> vlastnost.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-136">These two activities are associated with each other by the <xref:System.ServiceModel.Activities.ReceiveReply.Request%2A> property.</span></span> <span data-ttu-id="5d0a8-137">Tato vlastnost nastavena na <xref:System.ServiceModel.Activities.Send> aktivity, která původní zprávu odeslala.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-137">This property is set to the <xref:System.ServiceModel.Activities.Send> activity that sent the original message.</span></span> <span data-ttu-id="5d0a8-138">Služba také používá pár přidružené aktivit: <xref:System.ServiceModel.Activities.Receive> a <xref:System.ServiceModel.Activities.SendReply>.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-138">The service also uses a pair of associated activities: <xref:System.ServiceModel.Activities.Receive> and <xref:System.ServiceModel.Activities.SendReply>.</span></span> <span data-ttu-id="5d0a8-139">Tyto dvě aktivity jsou přidružené pomocí <xref:System.ServiceModel.Activities.SendReply.Request%2A> vlastnost.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-139">These two activities are associated by the <xref:System.ServiceModel.Activities.SendReply.Request%2A> property.</span></span> <span data-ttu-id="5d0a8-140">Tato vlastnost nastavena na <xref:System.ServiceModel.Activities.Receive> aktivity, která zobrazila původní zprávy.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-140">This property is set to the <xref:System.ServiceModel.Activities.Receive> activity that received the original message.</span></span> <span data-ttu-id="5d0a8-141"><xref:System.ServiceModel.Activities.ReceiveReply> a <xref:System.ServiceModel.Activities.SendReply> aktivity, jako například <xref:System.ServiceModel.Activities.Send> a <xref:System.ServiceModel.Activities.Receive> vám umožní odesílat <xref:System.ServiceModel.Channels.Message> instance nebo zprávu typ kontraktu.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-141">The <xref:System.ServiceModel.Activities.ReceiveReply> and <xref:System.ServiceModel.Activities.SendReply> activities, like <xref:System.ServiceModel.Activities.Send> and <xref:System.ServiceModel.Activities.Receive> allow you to send a <xref:System.ServiceModel.Channels.Message> instance or a message contract type.</span></span>  
  
 <span data-ttu-id="5d0a8-142">Dlouhodobé charakter pracovních postupů je důležité pro vzoru duplexní komunikace podporuje taky dlouho běžící konverzace.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-142">Because of the long-running nature of workflows, it is important for the duplex pattern of communication to also support long-running conversations.</span></span> <span data-ttu-id="5d0a8-143">Pro podporu dlouhodobé konverzace, klienti, kteří zahájit konverzaci musí poskytnout službu příležitost zpětné volání v pozdějším čase, kdy budou data k dispozici.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-143">To support long-running conversations, clients who initiate the conversation must provide the service with an opportunity to call it back at a later time when the data becomes available.</span></span> <span data-ttu-id="5d0a8-144">Například je odeslána žádost pořadí nákupu pro schválení správce, ale nemusí být zpracovány za den, týden nebo i v roce; pracovní postup, který spravuje schválení nákupní objednávky musí znát po schválení lze obnovit.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-144">For example, a purchase order request is submitted for manager approval, but it might not be processed for a day, a week, or even a year; the workflow that manages the purchase order approval must know to resume after the approval is given.</span></span> <span data-ttu-id="5d0a8-145">Tento vzor duplexní komunikace je podporována v pracovních postupech, pomocí korelace.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-145">This pattern of duplex communication is supported in workflows using correlation.</span></span> <span data-ttu-id="5d0a8-146">Chcete-li implementovat duplexní vzor, použijte <xref:System.ServiceModel.Activities.Send> a <xref:System.ServiceModel.Activities.Receive> aktivity.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-146">To implement a duplex pattern, use <xref:System.ServiceModel.Activities.Send> and <xref:System.ServiceModel.Activities.Receive> activities.</span></span> <span data-ttu-id="5d0a8-147">Na <xref:System.ServiceModel.Activities.Receive> aktivity, inicializovat a korelace pomocí speciální klíčovou hodnotu <!--zz <xref:System.ServiceModel.Activities.CorrelationHandle.CallbackHandleName%2A>--> `System.ServiceModel.Activities.CorrelationHandle.CallbackHandleName`.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-147">On the <xref:System.ServiceModel.Activities.Receive> activity, initialize a correlation using the special key value of <!--zz <xref:System.ServiceModel.Activities.CorrelationHandle.CallbackHandleName%2A>-->`System.ServiceModel.Activities.CorrelationHandle.CallbackHandleName`.</span></span> <span data-ttu-id="5d0a8-148">Na <xref:System.ServiceModel.Activities.Send> aktivity nastavený popisovače korelace jako <xref:System.ServiceModel.Activities.Send.CorrelatesWith%2A> hodnotu vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-148">On the <xref:System.ServiceModel.Activities.Send> activity set that correlation handle as the <xref:System.ServiceModel.Activities.Send.CorrelatesWith%2A> property value.</span></span> <span data-ttu-id="5d0a8-149">Další informace najdete v tématu [trvanlivý duplexní](../../../../docs/framework/wcf/feature-details/durable-duplex-correlation.md).</span><span class="sxs-lookup"><span data-stu-id="5d0a8-149">For more information, see [Durable Duplex](../../../../docs/framework/wcf/feature-details/durable-duplex-correlation.md).</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="5d0a8-150">Implementace pracovního postupu pomocí existuje korelace zpětného volání ("trvanlivý duplexní") duplexní režim je určený pro dlouhodobé konverzace.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-150">Workflow’s implementation of duplex using a callback correlation ("Durable Duplex") is intended for long-running conversations.</span></span> <span data-ttu-id="5d0a8-151">Toto není stejný jako WCF duplexní s kontrakty zpětného volání kde konverzace je krátké běžící (životnost kanál).</span><span class="sxs-lookup"><span data-stu-id="5d0a8-151">This is not the same as WCF duplex with callback contracts where the conversation is short-running (the lifetime of the channel).</span></span>  
  
## <a name="message-formatting-and-messaging-activities"></a><span data-ttu-id="5d0a8-152">Formátování zprávy a aktivity zasílání zpráv</span><span class="sxs-lookup"><span data-stu-id="5d0a8-152">Message Formatting and Messaging Activities</span></span>  
 <span data-ttu-id="5d0a8-153"><xref:System.ServiceModel.Activities.Receive> a <xref:System.ServiceModel.Activities.ReceiveReply> aktivity mají vlastnost s názvem `Content`.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-153">The <xref:System.ServiceModel.Activities.Receive> and <xref:System.ServiceModel.Activities.ReceiveReply> activities have a property named `Content`.</span></span> <span data-ttu-id="5d0a8-154">Tato vlastnost je typu <xref:System.ServiceModel.Activities.ReceiveContent> a představuje data <xref:System.ServiceModel.Activities.Receive> nebo <xref:System.ServiceModel.Activities.ReceiveReply> obdrží aktivity.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-154">This property is of type <xref:System.ServiceModel.Activities.ReceiveContent> and represents data the <xref:System.ServiceModel.Activities.Receive> or <xref:System.ServiceModel.Activities.ReceiveReply> activity receives.</span></span> <span data-ttu-id="5d0a8-155">Rozhraní .NET Framework definuje dvě související třídy názvem <xref:System.ServiceModel.Activities.ReceiveMessageContent> a <xref:System.ServiceModel.Activities.ReceiveParametersContent> které jsou odvozeny od <xref:System.ServiceModel.Activities.ReceiveContent>.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-155">The .NET Framework defines two related classes called <xref:System.ServiceModel.Activities.ReceiveMessageContent> and <xref:System.ServiceModel.Activities.ReceiveParametersContent> both of which are derived from <xref:System.ServiceModel.Activities.ReceiveContent>.</span></span> <span data-ttu-id="5d0a8-156">Nastavte <xref:System.ServiceModel.Activities.Receive> nebo <xref:System.ServiceModel.Activities.ReceiveReply> aktivity `Content` vlastnost, která má instance jednoho z těchto typů přijímat data do služby pracovních postupů.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-156">Set the <xref:System.ServiceModel.Activities.Receive> or <xref:System.ServiceModel.Activities.ReceiveReply> activity’s `Content` property to an instance of one of these types to receive data into a workflow service.</span></span> <span data-ttu-id="5d0a8-157">Typ určený k použití závisí na typu dat, které obdrží aktivity.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-157">The type to use depends upon the type of data the activity receives.</span></span> <span data-ttu-id="5d0a8-158">Pokud aktivita přijme `Message` objekt nebo zprávu typ kontraktu, použijte <xref:System.ServiceModel.Activities.ReceiveMessageContent>.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-158">If the activity receives a `Message` object or a message contract type, use <xref:System.ServiceModel.Activities.ReceiveMessageContent>.</span></span> <span data-ttu-id="5d0a8-159">Pokud aktivita obdrží sady kontraktu dat nebo typy XML, které lze serializovat, použijte <xref:System.ServiceModel.Activities.ReceiveParametersContent>.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-159">If the activity receives a set of data contract or XML types that can be serialized, use <xref:System.ServiceModel.Activities.ReceiveParametersContent>.</span></span> <span data-ttu-id="5d0a8-160"><xref:System.ServiceModel.Activities.ReceiveParametersContent> umožní vám odesílat několik parametrů, zatímco <xref:System.ServiceModel.Activities.ReceiveMessageContent> lze pouze jeden objekt odeslání, zprávy (nebo typ kontrakt zprávy).</span><span class="sxs-lookup"><span data-stu-id="5d0a8-160"><xref:System.ServiceModel.Activities.ReceiveParametersContent> allows you to send multiple parameters, whereas <xref:System.ServiceModel.Activities.ReceiveMessageContent> only allows you to send one object, the message (or message contract type).</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="5d0a8-161"><xref:System.ServiceModel.Activities.ReceiveMessageContent> Můžete také použít kontrakt jeden dat nebo typ XML, který lze serializovat.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-161"><xref:System.ServiceModel.Activities.ReceiveMessageContent> can also be used with a single data contract or XML type that can be serialized.</span></span> <span data-ttu-id="5d0a8-162">Rozdíl mezi použitím <xref:System.ServiceModel.Activities.ReceiveParametersContent> s jeden parametr a objekt předaný přímo <xref:System.ServiceModel.Activities.ReceiveMessageContent> je přenosový formát.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-162">The difference between using <xref:System.ServiceModel.Activities.ReceiveParametersContent> with a single parameter and the object passed directly to <xref:System.ServiceModel.Activities.ReceiveMessageContent> is the wire-format.</span></span> <span data-ttu-id="5d0a8-163">Obsah parametr je uzavřen do elementu XML, který odpovídá názvu operace a serializovaný objekt je uzavřen do elementu XML s použitím názvu parametru (například `<Echo><msg>Hello, World</msg></Echo>`).</span><span class="sxs-lookup"><span data-stu-id="5d0a8-163">The parameter’s content is wrapped in an XML element that corresponds to the operation name and the serialized object is wrapped in an XML element using the parameter name (for example, `<Echo><msg>Hello, World</msg></Echo>`).</span></span> <span data-ttu-id="5d0a8-164">Obsah zprávy není zabalen název operace.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-164">The message content is not wrapped by the operation name.</span></span> <span data-ttu-id="5d0a8-165">Místo toho serializovaný objekt je umístěn v rámci elementu XML pomocí názvu XML kvalifikovaný typ (například `<string>Hello, World</string>`).</span><span class="sxs-lookup"><span data-stu-id="5d0a8-165">Instead, the serialized object is placed within an XML element using the XML-qualified type name (for example, `<string>Hello, World</string>`).</span></span>  
  
 <span data-ttu-id="5d0a8-166"><xref:System.ServiceModel.Activities.Send> a <xref:System.ServiceModel.Activities.SendReply> aktivity mají také vlastnost s názvem `Content`.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-166">The <xref:System.ServiceModel.Activities.Send> and <xref:System.ServiceModel.Activities.SendReply> activities also have a property named `Content`.</span></span> <span data-ttu-id="5d0a8-167">Tato vlastnost je typu <xref:System.ServiceModel.Activities.SendContent> a představuje data <xref:System.ServiceModel.Activities.Send> nebo <xref:System.ServiceModel.Activities.SendReply> zasílá aktivity.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-167">This property is of type <xref:System.ServiceModel.Activities.SendContent> and represents data the <xref:System.ServiceModel.Activities.Send> or <xref:System.ServiceModel.Activities.SendReply> activity sends.</span></span> <span data-ttu-id="5d0a8-168">Rozhraní .NET Framework definuje dva typy související názvem <xref:System.ServiceModel.Activities.SendMessageContent> a <xref:System.ServiceModel.Activities.SendParametersContent> které jsou odvozeny od <xref:System.ServiceModel.Activities.SendContent>.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-168">The .NET Framework defines two related types called <xref:System.ServiceModel.Activities.SendMessageContent> and <xref:System.ServiceModel.Activities.SendParametersContent> both of which are derived from <xref:System.ServiceModel.Activities.SendContent>.</span></span> <span data-ttu-id="5d0a8-169">Nastavte <xref:System.ServiceModel.Activities.Send> nebo <xref:System.ServiceModel.Activities.SendReply> aktivity `Content` vlastnost, která má instance jednoho z těchto typů odeslat data ze služby pracovních postupů.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-169">Set the <xref:System.ServiceModel.Activities.Send> or <xref:System.ServiceModel.Activities.SendReply> activity’s `Content` property to an instance of one of these types to send data from a workflow service.</span></span> <span data-ttu-id="5d0a8-170">Typ určený k použití závisí na typu dat, které odesílá aktivity.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-170">The type to use depends upon the type of data the activity sends.</span></span> <span data-ttu-id="5d0a8-171">Pokud aktivita odesílá `Message` objekt nebo zprávu typ kontraktu, použijte <xref:System.ServiceModel.Activities.SendMessageContent>.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-171">If the activity sends a `Message` object or a message contract type, use <xref:System.ServiceModel.Activities.SendMessageContent>.</span></span> <span data-ttu-id="5d0a8-172">Pokud aktivita odesílá k využívání typu kontraktu dat <xref:System.ServiceModel.Activities.SendParametersContent>.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-172">If the activity sends a data contract type use <xref:System.ServiceModel.Activities.SendParametersContent>.</span></span> <span data-ttu-id="5d0a8-173"><xref:System.ServiceModel.Activities.SendParametersContent> umožní vám odesílat několik parametrů, zatímco <xref:System.ServiceModel.Activities.SendMessageContent> pouze umožní vám odesílat jeden objekt, zprávy (nebo typ kontrakt zprávy).</span><span class="sxs-lookup"><span data-stu-id="5d0a8-173"><xref:System.ServiceModel.Activities.SendParametersContent> allows you to send multiple parameters, whereas <xref:System.ServiceModel.Activities.SendMessageContent> only allows you to send one object, the message (or the message contract type).</span></span>  
  
 <span data-ttu-id="5d0a8-174">Při programování imperativní s zasílání zpráv aktivity, je použít Obecné <xref:System.Activities.InArgument%601> a <xref:System.Activities.OutArgument%601> zabalit objekty přiřadit vlastnosti zprávy nebo parametry <xref:System.ServiceModel.Activities.Send>, <xref:System.ServiceModel.Activities.SendReply>, <xref:System.ServiceModel.Activities.Receive>a <xref:System.ServiceModel.Activities.ReceiveReply>aktivity.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-174">When programming imperatively with the messaging activities, you use the generic <xref:System.Activities.InArgument%601> and <xref:System.Activities.OutArgument%601> to wrap the objects you assign to the message or parameters properties of the <xref:System.ServiceModel.Activities.Send>, <xref:System.ServiceModel.Activities.SendReply>, <xref:System.ServiceModel.Activities.Receive>, and <xref:System.ServiceModel.Activities.ReceiveReply> activities.</span></span> <span data-ttu-id="5d0a8-175">Použití <xref:System.Activities.InArgument%601> pro <xref:System.ServiceModel.Activities.Send> a <xref:System.ServiceModel.Activities.SendReply> aktivity a <xref:System.Activities.OutArgument%601> pro <xref:System.ServiceModel.Activities.Receive> a <xref:System.ServiceModel.Activities.ReceiveReply> aktivity.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-175">Use <xref:System.Activities.InArgument%601> for the <xref:System.ServiceModel.Activities.Send> and <xref:System.ServiceModel.Activities.SendReply> activities and <xref:System.Activities.OutArgument%601> for <xref:System.ServiceModel.Activities.Receive> and <xref:System.ServiceModel.Activities.ReceiveReply> activities.</span></span> <span data-ttu-id="5d0a8-176">`In` argumenty se používají v aktivitách odeslat, protože data je předávána do aktivity.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-176">`In` arguments are used with the send activities because the data is being passed into the activities.</span></span> <span data-ttu-id="5d0a8-177">`Out` argumenty se používají v aktivitách receive, protože data je předávána mimo aktivity, jak je znázorněno v následujícím příkladu.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-177">`Out` arguments are used with the receive activities because data is being passed out of the activities, as shown in the following example.</span></span>  
  
```  
Receive reserveSeat = new Receive  
{   
    ...   
    Content = new ReceiveParametersContent  
    {  
        Parameters =  
        {  
            { "ReservationInfo", new OutArgument<ReservationRequest>(reservationInfo) }  
        }  
    }  
};  
SendReply reserveSeat = new SendReply  
{   
    ...   
    Request = reserveSeat,  
    Content = new SendParametersContent  
    {  
        Parameters =  
        {  
            { "ReservationId", new InArgument<string>(reservationId) }  
        }  
    },  
};  
```  
  
 <span data-ttu-id="5d0a8-178">Při implementaci Služba pracovního postupu, která definuje operace požadavků a odpovědí, který vrací void, je třeba vytvořit instanci <xref:System.ServiceModel.Activities.SendReply> aktivity a sady <xref:System.ServiceModel.Activities.SendReply.Content%2A> vlastnost, která má prázdnou instanci jednoho z typů obsahu (<xref:System.ServiceModel.Activities.SendMessageContent> nebo <xref:System.ServiceModel.Activities.SendParametersContent>) jak je znázorněno v následujícím příkladu.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-178">When implementing a workflow service that defines a request/response operation that returns void, you must instantiate a <xref:System.ServiceModel.Activities.SendReply> activity and set the <xref:System.ServiceModel.Activities.SendReply.Content%2A> property to an empty instance of one of the content types (<xref:System.ServiceModel.Activities.SendMessageContent> or <xref:System.ServiceModel.Activities.SendParametersContent>) as shown in the following example.</span></span>  
  
```  
Receive rcv = new Receive()  
{  
ServiceContractName = "IService",  
OperationName = "NullReturningContract",  
Content = new ReceiveParametersContent( new Dictionary<string, OutArgument>() { { "message", new OutArgument<string>() } } )  
};  
SendReply sr = new SendReply()  
{  
Request = rcv  
   Content = new SendParametersContent();  
};  
```  
  
## <a name="add-service-reference"></a><span data-ttu-id="5d0a8-179">Přidání odkazu na službu</span><span class="sxs-lookup"><span data-stu-id="5d0a8-179">Add Service Reference</span></span>  
 <span data-ttu-id="5d0a8-180">Při volání služby pracovního postupu z aplikace pracovního postupu, [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)] generuje vlastní aktivity zasílání zpráv, které zapouzdření obvykle <xref:System.ServiceModel.Activities.Send> a <xref:System.ServiceModel.Activities.ReceiveReply> aktivit používaných v požadavku/odpovědi MEP.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-180">When calling a workflow service from a workflow application, [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)] generates custom messaging activities that encapsulate the usual <xref:System.ServiceModel.Activities.Send> and <xref:System.ServiceModel.Activities.ReceiveReply> activities used in a request/reply MEP.</span></span> <span data-ttu-id="5d0a8-181">Chcete-li použít tuto funkci, klikněte pravým tlačítkem projektu klienta v [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)] a vyberte **přidat odkaz na službu**.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-181">To use this feature right-click the client project in [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)] and select **Add Service Reference**.</span></span> <span data-ttu-id="5d0a8-182">Zadejte základní adresu služby do pole Adresa a kliknutím na Přejít.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-182">Type the base address of the service in the address box and click Go.</span></span> <span data-ttu-id="5d0a8-183">K dispozici služby se zobrazí v **služby:** pole.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-183">The available services are displayed in the **Services:** box.</span></span> <span data-ttu-id="5d0a8-184">Rozbalte uzel služby zobrazíte kontrakty podporována.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-184">Expand the service node to display the contracts supported.</span></span> <span data-ttu-id="5d0a8-185">Zvolte smlouvu, kterou chcete volat a zobrazí se seznam dostupných operací v **Operations** pole.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-185">Select the contract you want to call and the list of available operations is displayed in the **Operations** box.</span></span> <span data-ttu-id="5d0a8-186">Potom můžete zadat obor názvů pro generovaný aktivity a klikněte na tlačítko **OK**.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-186">You can then specify the namespace for the generated activity and click **OK**.</span></span> <span data-ttu-id="5d0a8-187">Zobrazí se dialogové okno, které uvádí operace byla úspěšně dokončena a jestli je vygenerovaný vlastní aktivity v sadě nástrojů po znovu sestavit projekt.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-187">You then see a dialog that says the operation completed successfully and that the generated custom activities are in the toolbox after you have rebuilt the project.</span></span> <span data-ttu-id="5d0a8-188">Je jedna aktivita pro každou operaci definovaný pro kontrakt služby.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-188">There is one activity for each operation defined on the service contract.</span></span> <span data-ttu-id="5d0a8-189">Po projekt znovu sestavit můžete můžete přetahování vlastních aktivit do pracovního postupu a nastavit jakékoliv nezbytné vlastnosti, v okně Vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-189">After rebuilding the project you can drag and drop the custom activities onto your workflow and set any required properties in the properties window.</span></span>  
  
<!--## Messaging Activity Templates  
 To make setting up a request/response MEP on the client and service easier, [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)] provides two messaging activity templates. <xref:System.ServiceModel.Activities.Design.ReceiveAndSendReply> is used on the service and <xref:System.ServiceModel.Activities.Design.SendAndReceiveReply> is used on the client. In both cases the templates add the appropriate messaging activities to your workflow. On the service, the <xref:System.ServiceModel.Activities.Design.ReceiveAndSendReply> adds a <xref:System.ServiceModel.Activities.Receive> activity followed by a <xref:System.ServiceModel.Activities.SendReply> activity. The <xref:System.ServiceModel.Activities.SendReply.Request> property is automatically set to the <xref:System.ServiceModel.Activities.Receive> activity. On the client, the <xref:System.ServiceModel.Activities.Design.SendAndReceiveReply> adds a <xref:System.ServiceModel.Activities.Send> activity followed by a <xref:System.ServiceModel.Activities.ReceiveReply>. The <xref:System.ServiceModel.Activities.ReceiveReply.Request%2A> property is automatically set to the <xref:System.ServiceModel.Activities.Send> activity. To use these templates, just drag and drop the appropriate template onto your workflow.  
-->
## <a name="messaging-activities-and-transactions"></a><span data-ttu-id="5d0a8-190">Aktivity zasílání zpráv a transakce</span><span class="sxs-lookup"><span data-stu-id="5d0a8-190">Messaging Activities and Transactions</span></span>  
 <span data-ttu-id="5d0a8-191">Při volání služby pracovního postupu můžete toku transakci operaci služby.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-191">When a call is made to a workflow service you may want to flow a transaction to the service operation.</span></span> <span data-ttu-id="5d0a8-192">Chcete toto místo <xref:System.ServiceModel.Activities.Receive> aktivita v rámci <xref:System.ServiceModel.Activities.TransactedReceiveScope> aktivity.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-192">To do this place the <xref:System.ServiceModel.Activities.Receive> activity within a <xref:System.ServiceModel.Activities.TransactedReceiveScope> activity.</span></span> <span data-ttu-id="5d0a8-193"><xref:System.ServiceModel.Activities.TransactedReceiveScope> Obsahuje aktivitu `Receive` aktivity a text.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-193">The <xref:System.ServiceModel.Activities.TransactedReceiveScope> activity contains a `Receive` activity and a body.</span></span> <span data-ttu-id="5d0a8-194">Transakce předávány vedlejším v průběhu provádění textu služby zůstane <xref:System.ServiceModel.Activities.TransactedReceiveScope>.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-194">The transaction flowed to the service remains ambient throughout the execution of the body of the <xref:System.ServiceModel.Activities.TransactedReceiveScope>.</span></span> <span data-ttu-id="5d0a8-195">Transakce byla dokončena, když text dokončí provádění.</span><span class="sxs-lookup"><span data-stu-id="5d0a8-195">The transaction is completed when the body finishes executing.</span></span> <span data-ttu-id="5d0a8-196">Další informace o pracovních postupů a transakce v tématu [pracovního postupu transakce](../../../../docs/framework/windows-workflow-foundation/workflow-transactions.md).</span><span class="sxs-lookup"><span data-stu-id="5d0a8-196">For more information about workflows and transactions see [Workflow Transactions](../../../../docs/framework/windows-workflow-foundation/workflow-transactions.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="5d0a8-197">Viz také</span><span class="sxs-lookup"><span data-stu-id="5d0a8-197">See Also</span></span>  
 [<span data-ttu-id="5d0a8-198">Jak odesílat a přijímat chyb v služeb pracovních postupů</span><span class="sxs-lookup"><span data-stu-id="5d0a8-198">How to Send and Receive Faults in Workflow Services</span></span>](http://go.microsoft.com/fwlink/?LinkId=189151)  
 [<span data-ttu-id="5d0a8-199">Vytvoření dlouhodobé služby pracovního postupu</span><span class="sxs-lookup"><span data-stu-id="5d0a8-199">Creating a Long-running Workflow Service</span></span>](../../../../docs/framework/wcf/feature-details/creating-a-long-running-workflow-service.md)
