---
title: Zpřístupnění informací
ms.custom: ''
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: ''
ms.suite: ''
ms.technology:
- dotnet-clr
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 4064c89f-afa6-444a-aa7e-807ef072131c
caps.latest.revision: 11
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload:
- dotnet
ms.openlocfilehash: 0af083ba1d97fcf07eab6f9d789f023a9194070c
ms.sourcegitcommit: 86adcc06e35390f13c1e372c36d2e044f1fc31ef
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 04/26/2018
---
# <a name="information-disclosure"></a><span data-ttu-id="31591-102">Zpřístupnění informací</span><span class="sxs-lookup"><span data-stu-id="31591-102">Information Disclosure</span></span>
<span data-ttu-id="31591-103">Zpřístupnění informací umožňuje útočníkovi získat cenné informace o systému.</span><span class="sxs-lookup"><span data-stu-id="31591-103">Information disclosure enables an attacker to gain valuable information about a system.</span></span> <span data-ttu-id="31591-104">Proto vždy zvažte, které informace jsou odhalil a zda jej lze použít uživatelem se zlými úmysly.</span><span class="sxs-lookup"><span data-stu-id="31591-104">Therefore, always consider what information you are revealing and whether it can be used by a malicious user.</span></span> <span data-ttu-id="31591-105">Následující informace o možných útoků zpřístupnění obsahuje seznam a jejich zmírnění pro každý.</span><span class="sxs-lookup"><span data-stu-id="31591-105">The following lists possible information disclosure attacks and provides mitigations for each.</span></span>  
  
## <a name="message-security-and-http"></a><span data-ttu-id="31591-106">Zabezpečení zpráv a HTTP</span><span class="sxs-lookup"><span data-stu-id="31591-106">Message Security and HTTP</span></span>  
 <span data-ttu-id="31591-107">Pokud používáte zabezpečení na úrovni zpráv přes přenosové vrstvy protokolu HTTP, mějte na paměti, že zabezpečení na úrovni zpráv nechrání hlavičky protokolu HTTP.</span><span class="sxs-lookup"><span data-stu-id="31591-107">If you are using message-level security over an HTTP transport layer, be aware that message-level security does not protect HTTP headers.</span></span> <span data-ttu-id="31591-108">Jediný způsob, jak chránit hlavičky protokolu HTTP je použití přenos HTTPS místo protokolu HTTP.</span><span class="sxs-lookup"><span data-stu-id="31591-108">The only way to protect HTTP headers is to use HTTPS transport instead of HTTP.</span></span> <span data-ttu-id="31591-109">Přenos HTTPS způsobí, že celé zprávy, včetně hlavičky protokolu HTTP k šifrování pomocí protokolu Secure Sockets Layer (SSL).</span><span class="sxs-lookup"><span data-stu-id="31591-109">HTTPS transport causes the entire message, including the HTTP headers, to be encrypted using the Secure Sockets Layer (SSL) protocol.</span></span>  
  
## <a name="policy-information"></a><span data-ttu-id="31591-110">Informace o zásadách</span><span class="sxs-lookup"><span data-stu-id="31591-110">Policy Information</span></span>  
 <span data-ttu-id="31591-111">Zachování zásady zabezpečení je důležité, zejména v federační scénáře, kde je v zásadách vystaven citlivé vydán token požadavky nebo informace o tokenu vystavitele.</span><span class="sxs-lookup"><span data-stu-id="31591-111">Keeping policy secure is important, especially in federation scenarios where sensitive issued-token requirements or token-issuer information is exposed in policy.</span></span> <span data-ttu-id="31591-112">V těchto případech doporučujeme zabezpečit koncový bod zásad federované služby pro aby útočníci nemohli získat informace o službě, jako je typ deklarace identity se umístí vystavený token, nebo přesměrovat klienty na škodlivý tokenu vystavitelů.</span><span class="sxs-lookup"><span data-stu-id="31591-112">In these cases, the recommendation is to secure the federated service's policy endpoint to prevent attackers from obtaining information about the service, such as the type of claims to put in the issued token, or redirecting clients to malicious token issuers.</span></span> <span data-ttu-id="31591-113">Například může útočník zjistit párů jméno a heslo uživatele změnou řetězu federovaného vztahu důvěryhodnosti ukončit v vystavitele, provést útok man-in-the-middle.</span><span class="sxs-lookup"><span data-stu-id="31591-113">For example, an attacker could discover user name/password pairs by reconfiguring the federated trust chain to terminate in an issuer that executed a man-in-the-middle attack.</span></span> <span data-ttu-id="31591-114">Dále je doporučeno, federované klienti, kteří získat jejich vazby prostřednictvím načtení zásad ověřte, zda důvěřují vystavitele v řetězu získaných federovaný vztah důvěryhodnosti.</span><span class="sxs-lookup"><span data-stu-id="31591-114">It is also recommended that federated clients who obtain their bindings through policy retrieval verify that they trust the issuers in the obtained federated trust chain.</span></span> [!INCLUDE[crabout](../../../../includes/crabout-md.md)]<span data-ttu-id="31591-115"> federační scénáře, najdete v části [Federation](../../../../docs/framework/wcf/feature-details/federation.md).</span><span class="sxs-lookup"><span data-stu-id="31591-115"> federation scenarios, see [Federation](../../../../docs/framework/wcf/feature-details/federation.md).</span></span>  
  
## <a name="memory-dumps-can-reveal-claim-information"></a><span data-ttu-id="31591-116">Výpisy paměti může odhalit informace o deklaraci identity</span><span class="sxs-lookup"><span data-stu-id="31591-116">Memory Dumps Can Reveal Claim Information</span></span>  
 <span data-ttu-id="31591-117">Pokud se aplikace nezdaří, přihlaste se soubory, jako jsou ty vyprodukované zotavení po havárii. Watson, může obsahovat informace o deklaraci identity.</span><span class="sxs-lookup"><span data-stu-id="31591-117">When an application fails, log files, such as those produced by Dr. Watson, can contain the claim information.</span></span> <span data-ttu-id="31591-118">Tyto informace by neměl být exportovány do jinými entitami, jako je například týmy podpory; jinak informace o deklaraci identity, obsahující privátní data taky exportovat.</span><span class="sxs-lookup"><span data-stu-id="31591-118">This information should not be exported to other entities, such as support teams; otherwise, the claim information that contains private data is also exported.</span></span> <span data-ttu-id="31591-119">Můžete zmírnit není poslat soubory protokolu na neznámý entity.</span><span class="sxs-lookup"><span data-stu-id="31591-119">You can mitigate this by not sending the log files to unknown entities.</span></span> [!INCLUDE[crdefault](../../../../includes/crdefault-md.md)]<span data-ttu-id="31591-120"> [Windows Server 2003](http://go.microsoft.com/fwlink/?LinkId=89160).</span><span class="sxs-lookup"><span data-stu-id="31591-120"> [Windows Server 2003](http://go.microsoft.com/fwlink/?LinkId=89160).</span></span>  
  
## <a name="endpoint-addresses"></a><span data-ttu-id="31591-121">Adresy koncových bodů</span><span class="sxs-lookup"><span data-stu-id="31591-121">Endpoint Addresses</span></span>  
 <span data-ttu-id="31591-122">Adresy koncového bodu obsahuje informace potřebné ke komunikaci s koncovým bodem.</span><span class="sxs-lookup"><span data-stu-id="31591-122">An endpoint address contains the information needed to communicate with an endpoint.</span></span> <span data-ttu-id="31591-123">Zabezpečení protokolu SOAP musí obsahovat adresu plně ve zprávách vyjednávání zabezpečení, které se vyměňují aby bylo možné vyjednávání symetrického klíče mezi klientem a serverem.</span><span class="sxs-lookup"><span data-stu-id="31591-123">SOAP security must include the address in full in the security negotiation messages that are exchanged in order to negotiate a symmetric key between a client and a server.</span></span> <span data-ttu-id="31591-124">Protože vyjednávání zabezpečení je spuštění procesu, hlavičky adresy nelze zašifrovat během tohoto procesu.</span><span class="sxs-lookup"><span data-stu-id="31591-124">Because security negotiation is a bootstrap process, the address headers cannot be encrypted during this process.</span></span> <span data-ttu-id="31591-125">Proto adresa nesmí obsahovat žádné důvěrných dat; jinak hodnota vede k útokům zpřístupnění informací.</span><span class="sxs-lookup"><span data-stu-id="31591-125">Therefore, the address should not contain any confidential data; otherwise, it leads to information disclosure attacks.</span></span>  
  
## <a name="certificates-transferred-unencrypted"></a><span data-ttu-id="31591-126">Certifikáty přenáší nezašifrovaná</span><span class="sxs-lookup"><span data-stu-id="31591-126">Certificates Transferred Unencrypted</span></span>  
 <span data-ttu-id="31591-127">Při použití certifikátu X.509. certifikát pro ověření klienta, certifikát se přenáší v nešifrované podobě, v hlavičce protokolu SOAP.</span><span class="sxs-lookup"><span data-stu-id="31591-127">When you use an X.509 certificate to authenticate a client, the certificate is transferred in the clear, inside the SOAP header.</span></span> <span data-ttu-id="31591-128">Pamatujte na to jako potenciální zpřístupnění identifikovatelné osobní údaje (PII).</span><span class="sxs-lookup"><span data-stu-id="31591-128">Be aware of this as a potential personally identifiable information (PII) disclosure.</span></span> <span data-ttu-id="31591-129">Toto není problém pro `TransportWithMessageCredential` režimu, kde celé zprávy zašifrované pomocí zabezpečení na úrovni přenosu.</span><span class="sxs-lookup"><span data-stu-id="31591-129">This is not an issue for `TransportWithMessageCredential` mode, where the entire message is encrypted with transport-level security.</span></span>  
  
## <a name="service-references"></a><span data-ttu-id="31591-130">Odkazy na službu</span><span class="sxs-lookup"><span data-stu-id="31591-130">Service References</span></span>  
 <span data-ttu-id="31591-131">Odkaz na službu je odkaz na jinou službu.</span><span class="sxs-lookup"><span data-stu-id="31591-131">A service reference is a reference to another service.</span></span> <span data-ttu-id="31591-132">Služba může například předat odkazu na službu pro klienta v průběhu operace.</span><span class="sxs-lookup"><span data-stu-id="31591-132">For example, a service may pass a service reference to a client in the course of an operation.</span></span> <span data-ttu-id="31591-133">Odkaz na službu se také používá s *důvěřovat identity ověřovatele*, interní součásti, které zajišťuje, aby identita cílový hlavní před odhalení informací, jako jsou data aplikace nebo přihlašovací údaje k cíli.</span><span class="sxs-lookup"><span data-stu-id="31591-133">The service reference is also used with a *trust identity verifier*, an internal component that ensures the identity of the target principal before disclosing information such as application data or credentials to the target.</span></span> <span data-ttu-id="31591-134">Pokud identitu vzdáleného důvěryhodnosti nelze ověřit nebo není správný, odesílatel zkontrolujte, že se žádná data budou mít přístup, které by mohly ohrozit sám sebe, aplikace nebo uživatele.</span><span class="sxs-lookup"><span data-stu-id="31591-134">If the remote trust identity cannot be verified or is incorrect, the sender should ensure that no data was disclosed that could compromise itself, the application, or the user.</span></span>  
  
 <span data-ttu-id="31591-135">Způsoby zmírnění zahrnují následující:</span><span class="sxs-lookup"><span data-stu-id="31591-135">Mitigations include the following:</span></span>  
  
-   <span data-ttu-id="31591-136">Odkazy na službu, jsou považovány za důvěryhodné.</span><span class="sxs-lookup"><span data-stu-id="31591-136">Service references are assumed to be trustworthy.</span></span> <span data-ttu-id="31591-137">Vezměte v potaz při každém přenosu instance služby odkaz zajistit, aby nebyly zaměněny.</span><span class="sxs-lookup"><span data-stu-id="31591-137">Take care whenever transferring service reference instances to ensure that they have not been tampered with.</span></span>  
  
-   <span data-ttu-id="31591-138">Některé aplikace může být činnost koncového uživatele, který umožňuje interaktivní navázání vztahu důvěryhodnosti na základě dat v referenčním a důvěryhodnosti data služby prokazuje vzdáleného hostitele.</span><span class="sxs-lookup"><span data-stu-id="31591-138">Some applications can present a user experience that allows interactive establishment of trust based on data in the service reference and trust data proven by the remote host.</span></span> [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]<span data-ttu-id="31591-139"> Poskytuje rozšíření, které musí body pro taková zařízení, ale uživatel je implementována.</span><span class="sxs-lookup"><span data-stu-id="31591-139"> provides extensibility points for such a facility, but the user must implemented them.</span></span>  
  
## <a name="ntlm"></a><span data-ttu-id="31591-140">NTLM</span><span class="sxs-lookup"><span data-stu-id="31591-140">NTLM</span></span>  
 <span data-ttu-id="31591-141">Ve výchozím nastavení v prostředí domény systému Windows, ověřování systému Windows používá protokol Kerberos k ověřování a autorizaci uživatelů.</span><span class="sxs-lookup"><span data-stu-id="31591-141">By default, in the Windows domain environment, Windows authentication uses the Kerberos protocol to authenticate and authorize users.</span></span> <span data-ttu-id="31591-142">Pokud z nějakého důvodu nelze použít protokol Kerberos, použije se jako zálohu NT LAN Manager (NTLM).</span><span class="sxs-lookup"><span data-stu-id="31591-142">If the Kerberos protocol cannot be used for some reason, NT LAN Manager (NTLM) is used as a fallback.</span></span> <span data-ttu-id="31591-143">Tuto funkci můžete zakázat nastavením <xref:System.ServiceModel.Security.WindowsClientCredential.AllowNtlm%2A> vlastnost `false`.</span><span class="sxs-lookup"><span data-stu-id="31591-143">You can disable this behavior by setting the <xref:System.ServiceModel.Security.WindowsClientCredential.AllowNtlm%2A> property to `false`.</span></span> <span data-ttu-id="31591-144">Problémy na vzít na vědomí při povolení protokolu NTLM patří:</span><span class="sxs-lookup"><span data-stu-id="31591-144">Issues to be aware of when allowing NTLM include:</span></span>  
  
-   <span data-ttu-id="31591-145">NTLM zpřístupní uživatelské jméno klienta.</span><span class="sxs-lookup"><span data-stu-id="31591-145">NTLM exposes the client user name.</span></span> <span data-ttu-id="31591-146">Pokud uživatelské jméno musí být důvěrné, nastavte `AllowNTLM` vlastnost vazby ke `false`.</span><span class="sxs-lookup"><span data-stu-id="31591-146">If the user name needs to be kept confidential, then set the `AllowNTLM` property on the binding to `false`.</span></span>  
  
-   <span data-ttu-id="31591-147">NTLM neumožňuje ověřování serveru.</span><span class="sxs-lookup"><span data-stu-id="31591-147">NTLM does not provide server authentication.</span></span> <span data-ttu-id="31591-148">Klient nemůže proto zkontrolujte, že ho komunikuje s správné služby při použití jako ověřovací protokol NTLM.</span><span class="sxs-lookup"><span data-stu-id="31591-148">Therefore, the client cannot ensure that it is communicating with the right service when you use NTLM as an authentication protocol.</span></span>  
  
### <a name="specifying-client-credentials-or-invalid-identity-forces-ntlm-usage"></a><span data-ttu-id="31591-149">Zadání pověření klienta nebo neplatná identita vynutí použití protokolu NTLM</span><span class="sxs-lookup"><span data-stu-id="31591-149">Specifying Client Credentials or Invalid Identity Forces NTLM Usage</span></span>  
 <span data-ttu-id="31591-150">Při vytváření klienta, zadání přihlašovacích údajů klienta bez názvu domény, nebo zadáte neplatný server identity, způsobí, že protokol NTLM namísto protokolu Kerberos použita (Pokud `AlllowNtlm` je nastavena na `true`).</span><span class="sxs-lookup"><span data-stu-id="31591-150">When creating a client, specifying client credentials without a domain name, or specifying an invalid server identity, causes NTLM to be used instead of the Kerberos protocol (if the `AlllowNtlm` property is set to `true`).</span></span> <span data-ttu-id="31591-151">Protože protokol NTLM neprovádí ověřování serveru, může být odhalena potenciálně informace.</span><span class="sxs-lookup"><span data-stu-id="31591-151">Because  NTLM does not do server authentication, information can potentially be disclosed.</span></span>  
  
 <span data-ttu-id="31591-152">Například je možné zadat pověření klienta Windows bez názvu domény, jak je znázorněno v následujícím kódu jazyka Visual C#.</span><span class="sxs-lookup"><span data-stu-id="31591-152">For example, it is possible to specify Windows client credentials without a domain name, as shown in the following Visual C# code.</span></span>  
  
```  
MyChannelFactory.Credentials.Windows.ClientCredential = new System.Net.NetworkCredential("username", "password");  
```  
  
 <span data-ttu-id="31591-153">Kód není uveden název domény, a proto se použije protokol NTLM.</span><span class="sxs-lookup"><span data-stu-id="31591-153">The code does not specify a domain name, and therefore NTLM will be used.</span></span>  
  
 <span data-ttu-id="31591-154">Pokud je zadané doméně, ale neplatný hlavní název služby je zadán pomocí funkce identitu koncového bodu, se používá protokol NTLM.</span><span class="sxs-lookup"><span data-stu-id="31591-154">If the domain is specified, but an invalid service principal name is specified using the endpoint identity feature, then NTLM is used.</span></span> [!INCLUDE[crabout](../../../../includes/crabout-md.md)]<span data-ttu-id="31591-155"> jak není zadaný koncový bod identity, najdete v části [identita a ověřování služby](../../../../docs/framework/wcf/feature-details/service-identity-and-authentication.md).</span><span class="sxs-lookup"><span data-stu-id="31591-155"> how endpoint identity is specified, see [Service Identity and Authentication](../../../../docs/framework/wcf/feature-details/service-identity-and-authentication.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="31591-156">Viz také</span><span class="sxs-lookup"><span data-stu-id="31591-156">See Also</span></span>  
 [<span data-ttu-id="31591-157">Důležité informace o zabezpečení</span><span class="sxs-lookup"><span data-stu-id="31591-157">Security Considerations</span></span>](../../../../docs/framework/wcf/feature-details/security-considerations-in-wcf.md)  
 [<span data-ttu-id="31591-158">Zvýšení oprávnění</span><span class="sxs-lookup"><span data-stu-id="31591-158">Elevation of Privilege</span></span>](../../../../docs/framework/wcf/feature-details/elevation-of-privilege.md)  
 [<span data-ttu-id="31591-159">Útok DoS</span><span class="sxs-lookup"><span data-stu-id="31591-159">Denial of Service</span></span>](../../../../docs/framework/wcf/feature-details/denial-of-service.md)  
 [<span data-ttu-id="31591-160">Falšování</span><span class="sxs-lookup"><span data-stu-id="31591-160">Tampering</span></span>](../../../../docs/framework/wcf/feature-details/tampering.md)  
 [<span data-ttu-id="31591-161">Nepodporované scénáře</span><span class="sxs-lookup"><span data-stu-id="31591-161">Unsupported Scenarios</span></span>](../../../../docs/framework/wcf/feature-details/unsupported-scenarios.md)  
 [<span data-ttu-id="31591-162">Útoky opakováním</span><span class="sxs-lookup"><span data-stu-id="31591-162">Replay Attacks</span></span>](../../../../docs/framework/wcf/feature-details/replay-attacks.md)
