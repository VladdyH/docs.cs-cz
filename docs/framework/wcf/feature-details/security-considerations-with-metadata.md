---
title: Informace o zabezpečení pro metadata
ms.date: 03/30/2017
ms.assetid: e78ef8ab-4f63-4656-ab93-b1deab2666d5
author: BrucePerlerMS
manager: mbaldwin
ms.openlocfilehash: b8028b27e721e19a5fc01887e4095218d0e14436
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 05/04/2018
ms.locfileid: "33498540"
---
# <a name="security-considerations-with-metadata"></a><span data-ttu-id="ca98a-102">Informace o zabezpečení pro metadata</span><span class="sxs-lookup"><span data-stu-id="ca98a-102">Security Considerations with Metadata</span></span>
<span data-ttu-id="ca98a-103">Pokud používáte metadata funkce v systému Windows Communication Foundation (WCF), zvažte bezpečnostních důsledcích publikování, načítání a pomocí služby metadat.</span><span class="sxs-lookup"><span data-stu-id="ca98a-103">When using the metadata features in Windows Communication Foundation (WCF), consider the security implications of publishing, retrieving, and using service metadata.</span></span>  
  
## <a name="when-to-publish-metadata"></a><span data-ttu-id="ca98a-104">Při publikování metadat</span><span class="sxs-lookup"><span data-stu-id="ca98a-104">When to Publish Metadata</span></span>  
 <span data-ttu-id="ca98a-105">Služby WCF nepublikujte metadata ve výchozím nastavení.</span><span class="sxs-lookup"><span data-stu-id="ca98a-105">WCF services do not publish metadata by default.</span></span> <span data-ttu-id="ca98a-106">K publikování metadat služby WCF je potřeba explicitně povolit publikování metadat přidáním koncové body metadat do služby (viz [publikování metadat](../../../../docs/framework/wcf/feature-details/publishing-metadata.md)).</span><span class="sxs-lookup"><span data-stu-id="ca98a-106">To publish metadata for a WCF service you must explicitly enable metadata publishing by adding metadata endpoints to your service (see [Publishing Metadata](../../../../docs/framework/wcf/feature-details/publishing-metadata.md)).</span></span> <span data-ttu-id="ca98a-107">Opouštění publikování metadat zakázána snižuje prostor pro útoky u služby a snižuje riziko zpřístupnění neúmyslnému informací.</span><span class="sxs-lookup"><span data-stu-id="ca98a-107">Leaving metadata publishing disabled reduces the attack surface for your service and lowers the risk of unintentional information disclosure.</span></span> <span data-ttu-id="ca98a-108">Ne všechny služby musíte publikovat metadat.</span><span class="sxs-lookup"><span data-stu-id="ca98a-108">Not all services must publish metadata.</span></span> <span data-ttu-id="ca98a-109">Pokud nemáte publikování metadat, zvažte, ponechejte vypnutý.</span><span class="sxs-lookup"><span data-stu-id="ca98a-109">If you do not have to publish metadata, consider leaving it turned off.</span></span> <span data-ttu-id="ca98a-110">Všimněte si, že stále mohou generovat kód pro metadata a klienta přímo z vaší služby sestavení s využitím [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md).</span><span class="sxs-lookup"><span data-stu-id="ca98a-110">Note that you can still generate metadata and client code directly from your service assemblies using the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md).</span></span> <span data-ttu-id="ca98a-111">Další informace o používání Svcutil.exe pro export metadat najdete v tématu [postupy: použití Svcutil.exe pro Export metadat z zkompilovat kódu služby](../../../../docs/framework/wcf/feature-details/how-to-use-svcutil-exe-to-export-metadata-from-compiled-service-code.md).</span><span class="sxs-lookup"><span data-stu-id="ca98a-111">For more information about using Svcutil.exe to export metadata, see [How to: Use Svcutil.exe to Export Metadata from Compiled Service Code](../../../../docs/framework/wcf/feature-details/how-to-use-svcutil-exe-to-export-metadata-from-compiled-service-code.md).</span></span>  
  
## <a name="publishing-metadata-using-a-secure-binding"></a><span data-ttu-id="ca98a-112">Publikování metadat pomocí zabezpečené vazby</span><span class="sxs-lookup"><span data-stu-id="ca98a-112">Publishing Metadata Using a Secure Binding</span></span>  
 <span data-ttu-id="ca98a-113">Výchozí metadat vazby, které WCF poskytuje nejsou zabezpečené a povolení anonymního přístupu k metadatům.</span><span class="sxs-lookup"><span data-stu-id="ca98a-113">The default metadata bindings that WCF provides are not secure and they allow anonymous access to the metadata.</span></span> <span data-ttu-id="ca98a-114">Metadata služby, který publikuje služby WCF obsahuje podrobný popis týkající se služby a může úmyslně nebo neúmyslně obsahovat citlivé informace.</span><span class="sxs-lookup"><span data-stu-id="ca98a-114">The service metadata that a WCF service publishes contains a detailed description about the service and may intentionally or unintentionally contain sensitive information.</span></span> <span data-ttu-id="ca98a-115">Metadata služby může například obsahovat informace o operacích infrastruktury, který není určen pro veřejně všesměrového vysílání.</span><span class="sxs-lookup"><span data-stu-id="ca98a-115">For example, service metadata may contain information about infrastructure operations that was not intended to be broadcast publicly.</span></span> <span data-ttu-id="ca98a-116">Metadata služby ochrany před neoprávněným přístupem, můžete vytvořit vazbu zabezpečení pro svůj koncový bod metadat.</span><span class="sxs-lookup"><span data-stu-id="ca98a-116">To protect service metadata from unauthorized access, you can use a secure binding for your metadata endpoint.</span></span> <span data-ttu-id="ca98a-117">Koncové body metadat reagovat na požadavky HTTP/GET, které vám pomůže zabezpečit metadata vrstvy SSL (Secure Sockets).</span><span class="sxs-lookup"><span data-stu-id="ca98a-117">Metadata endpoints respond to HTTP/GET requests that can use Secure Sockets Layer (SSL) to secure the metadata.</span></span> <span data-ttu-id="ca98a-118">Další informace najdete v tématu [postupy: zabezpečené koncové body metadat](../../../../docs/framework/wcf/feature-details/how-to-secure-metadata-endpoints.md).</span><span class="sxs-lookup"><span data-stu-id="ca98a-118">For more information, see [How to: Secure Metadata Endpoints](../../../../docs/framework/wcf/feature-details/how-to-secure-metadata-endpoints.md).</span></span>  
  
 <span data-ttu-id="ca98a-119">Zabezpečení koncových bodů metadat taky poskytuje způsob, jak žadatelů o bezpečně načítat metadata služby bez riziko zneužití nebo falšování identity.</span><span class="sxs-lookup"><span data-stu-id="ca98a-119">Securing your metadata endpoints also provides a way for requesters to securely retrieve service metadata without the risk of tampering or spoofing.</span></span>  
  
## <a name="using-only-trusted-metadata"></a><span data-ttu-id="ca98a-120">Používání jenom důvěryhodných metadat</span><span class="sxs-lookup"><span data-stu-id="ca98a-120">Using Only Trusted Metadata</span></span>  
 <span data-ttu-id="ca98a-121">Metadata služby můžete automaticky vytvořit běhu součásti požadované pro volání služby.</span><span class="sxs-lookup"><span data-stu-id="ca98a-121">You can use service metadata to automatically construct the run-time components required to call the service.</span></span> <span data-ttu-id="ca98a-122">Můžete také použít metadata v době návrhu vyvíjet aplikace klienta nebo v době běhu a dynamicky aktualizovat vazby klient používá k volání služby.</span><span class="sxs-lookup"><span data-stu-id="ca98a-122">You can also use metadata at design time to develop a client application or at runtime to dynamically update the binding a client uses to call a service.</span></span>  
  
 <span data-ttu-id="ca98a-123">Metadata služby můžete manipulováno nebo maskování Pokud načteny nezabezpečeným způsobem.</span><span class="sxs-lookup"><span data-stu-id="ca98a-123">Service metadata can be tampered with or spoofed when retrieved in an insecure manner.</span></span> <span data-ttu-id="ca98a-124">Zmanipulovanou metadata můžete přesměrovat vašeho klienta škodlivý služby, obsahují nastavení ohrožené zabezpečení nebo obsahovat škodlivý struktury XML.</span><span class="sxs-lookup"><span data-stu-id="ca98a-124">Tampered metadata can redirect your client to a malicious service, contain compromised security settings, or contain malicious XML structures.</span></span> <span data-ttu-id="ca98a-125">Metadata dokumentů mohou být velké a často se uloží do systému souborů.</span><span class="sxs-lookup"><span data-stu-id="ca98a-125">Metadata documents can be large and are frequently saved to the file system.</span></span> <span data-ttu-id="ca98a-126">K ochraně proti manipulaci a falšování identity, použijte zabezpečené vazby pro vyžádání metadata služby, pokud je k dispozici.</span><span class="sxs-lookup"><span data-stu-id="ca98a-126">To protect against tampering and spoofing, use a secure binding to request service metadata when one is available.</span></span>  
  
## <a name="using-safe-techniques-for-processing-metadata"></a><span data-ttu-id="ca98a-127">Pomocí bezpečné techniky pro zpracování metadat</span><span class="sxs-lookup"><span data-stu-id="ca98a-127">Using Safe Techniques for Processing Metadata</span></span>  
 <span data-ttu-id="ca98a-128">Metadata služby se často načítají ze služby přes síť pomocí standardizovaných protokolů, jako je WS-MetadataExchange (MEX).</span><span class="sxs-lookup"><span data-stu-id="ca98a-128">Service metadata is frequently retrieved from a service over a network using standardized protocols such as WS-MetadataExchange (MEX).</span></span> <span data-ttu-id="ca98a-129">Mnoho formáty metadat zahrnují odkazující na mechanismy pro odkazující na dalších metadat.</span><span class="sxs-lookup"><span data-stu-id="ca98a-129">Many metadata formats include referencing mechanisms for pointing to additional metadata.</span></span> <span data-ttu-id="ca98a-130"><xref:System.ServiceModel.Description.MetadataExchangeClient> Typ automaticky zpracuje odkazy pro vás v dokumentech webové služby popis Language (WSDL), schématu XML a MEX dokumenty.</span><span class="sxs-lookup"><span data-stu-id="ca98a-130">The <xref:System.ServiceModel.Description.MetadataExchangeClient> type automatically processes references for you in Web Services Description Language (WSDL) documents, XML Schema, and MEX documents.</span></span> <span data-ttu-id="ca98a-131">Velikost <xref:System.ServiceModel.Description.MetadataSet> objekt vytvořený z načtené metadat je přímo úměrná <xref:System.ServiceModel.Description.MetadataExchangeClient.MaximumResolvedReferences%2A> hodnota <xref:System.ServiceModel.Description.MetadataExchangeClient> instanci, která se používá a `MaxReceivedMessageSize` hodnotu pro vazbu, který se používá <xref:System.ServiceModel.Description.MetadataExchangeClient> instance.</span><span class="sxs-lookup"><span data-stu-id="ca98a-131">The size of the <xref:System.ServiceModel.Description.MetadataSet> object created from the retrieved metadata is directly proportional to the <xref:System.ServiceModel.Description.MetadataExchangeClient.MaximumResolvedReferences%2A> value for the <xref:System.ServiceModel.Description.MetadataExchangeClient> instance that is used and the `MaxReceivedMessageSize` value for the binding being used by that <xref:System.ServiceModel.Description.MetadataExchangeClient> instance.</span></span> <span data-ttu-id="ca98a-132">Nastavte tyto kvóty odpovídající hodnoty, protože závisí na vašem scénáři.</span><span class="sxs-lookup"><span data-stu-id="ca98a-132">Set these quotas to appropriate values as dictated by your scenario.</span></span>  
  
 <span data-ttu-id="ca98a-133">Ve službě WCF metadata služby zpracovávány jako XML.</span><span class="sxs-lookup"><span data-stu-id="ca98a-133">In WCF, service metadata is processed as XML.</span></span> <span data-ttu-id="ca98a-134">Při zpracování dokumentů XML, aplikace by měla chránit proti škodlivým struktury XML.</span><span class="sxs-lookup"><span data-stu-id="ca98a-134">When processing XML documents, applications should protect themselves against malicious XML structures.</span></span> <span data-ttu-id="ca98a-135">Použití `XmlDictionaryReader` s příslušným kvóty při zpracování jazyka XML a také nastavit <xref:System.Xml.XmlTextReader.DtdProcessing%2A> vlastnost `Prohibit`.</span><span class="sxs-lookup"><span data-stu-id="ca98a-135">Use the `XmlDictionaryReader` with appropriate quotas when processing XML and also set the <xref:System.Xml.XmlTextReader.DtdProcessing%2A> property to `Prohibit`.</span></span>  
  
 <span data-ttu-id="ca98a-136">Systém metadat ve WCF je rozšiřitelný a metadata přípony můžete být zaregistrovány v konfiguračním souboru aplikace (viz [rozšíření systému metadat](../../../../docs/framework/wcf/extending/extending-the-metadata-system.md)).</span><span class="sxs-lookup"><span data-stu-id="ca98a-136">The metadata system in WCF is extensible and metadata extensions can be registered in your application configuration file (see [Extending the Metadata System](../../../../docs/framework/wcf/extending/extending-the-metadata-system.md)).</span></span> <span data-ttu-id="ca98a-137">Rozšíření metadat můžete spustit libovolný kód, takže byste měli chránit konfiguračním souboru aplikace pomocí řízení přístupu na příslušné seznamy ACL a zaregistrovat pouze důvěryhodné metadata rozšíření implementace.</span><span class="sxs-lookup"><span data-stu-id="ca98a-137">Metadata extensions can run arbitrary code, so you should protect your application configuration file with appropriate access control lists (ACLs) and register only trusted metadata extension implementations.</span></span>  
  
## <a name="validating-generated-clients"></a><span data-ttu-id="ca98a-138">Ověřování generovaného klientů</span><span class="sxs-lookup"><span data-stu-id="ca98a-138">Validating Generated Clients</span></span>  
 <span data-ttu-id="ca98a-139">Při generování kódu klienta z metadat načíst ze zdroje, která není důvěryhodná, ověřte kód klienta vygenerovaný zajistit, že generovaného klienta je v souladu se zásadami zabezpečení vaší klientské aplikace.</span><span class="sxs-lookup"><span data-stu-id="ca98a-139">When generating client code from metadata retrieved from a source that is not trusted, validate the generated client code to ensure that the generated client conforms to your client applications security policies.</span></span> <span data-ttu-id="ca98a-140">Zkontrolujte nastavení na vašeho klienta vazby nebo vizuálně zkontrolovat kód vygenerovaný nástroje můžete použít ověřování chování.</span><span class="sxs-lookup"><span data-stu-id="ca98a-140">You can use a validating behavior to check settings on your client binding or visually inspect code generated by tools.</span></span> <span data-ttu-id="ca98a-141">Příklad implementace klienta, která ověřuje chování naleznete v části [ověření klienta](../../../../docs/framework/wcf/samples/client-validation.md).</span><span class="sxs-lookup"><span data-stu-id="ca98a-141">For an example of how to implement a client that validates behaviors, see [Client Validation](../../../../docs/framework/wcf/samples/client-validation.md).</span></span>  
  
## <a name="protecting-application-configuration-files"></a><span data-ttu-id="ca98a-142">Ochrana konfigurační soubory aplikace</span><span class="sxs-lookup"><span data-stu-id="ca98a-142">Protecting Application Configuration Files</span></span>  
 <span data-ttu-id="ca98a-143">Konfigurační soubor aplikace služby může řídit způsob a zda je publikována metadat.</span><span class="sxs-lookup"><span data-stu-id="ca98a-143">A service's application configuration file may control how and if metadata is published.</span></span> <span data-ttu-id="ca98a-144">Je vhodné k ochraně konfiguračního souboru aplikace pomocí seznamů řízení odpovídající přístupu (ACL) zajišťující, že útočník nelze upravit taková nastavení.</span><span class="sxs-lookup"><span data-stu-id="ca98a-144">It is a good idea to protect the application configuration file with appropriate access control lists (ACLs) to ensure an attacker cannot modify such settings.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="ca98a-145">Viz také</span><span class="sxs-lookup"><span data-stu-id="ca98a-145">See Also</span></span>  
 [<span data-ttu-id="ca98a-146">Postupy: Zabezpečené koncové body metadat</span><span class="sxs-lookup"><span data-stu-id="ca98a-146">How to: Secure Metadata Endpoints</span></span>](../../../../docs/framework/wcf/feature-details/how-to-secure-metadata-endpoints.md)  
 [<span data-ttu-id="ca98a-147">Zabezpečení</span><span class="sxs-lookup"><span data-stu-id="ca98a-147">Security</span></span>](../../../../docs/framework/wcf/feature-details/security.md)
