---
title: "Zvýšení oprávnění"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- elevation of privilege [WCF]
- security [WCF], elevation of privilege
ms.assetid: 146e1c66-2a76-4ed3-98a5-fd77851a06d9
caps.latest.revision: "16"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload: dotnet
ms.openlocfilehash: 4225460698d36b3b56b9b0b03cde34e4502b13c9
ms.sourcegitcommit: 16186c34a957fdd52e5db7294f291f7530ac9d24
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 12/22/2017
---
# <a name="elevation-of-privilege"></a><span data-ttu-id="662a3-102">Zvýšení oprávnění</span><span class="sxs-lookup"><span data-stu-id="662a3-102">Elevation of Privilege</span></span>
<span data-ttu-id="662a3-103">*Zvýšení úrovně oprávnění* výsledkem udělení povolení útočník nad rámec těchto původně udělí oprávnění.</span><span class="sxs-lookup"><span data-stu-id="662a3-103">*Elevation of privilege* results from giving an attacker authorization permissions beyond those initially granted.</span></span> <span data-ttu-id="662a3-104">Například útočník se sadou oprávnění "jen pro čtení" oprávnění nějakým způsobem zvyšuje sadu "pro čtení a zápisu."</span><span class="sxs-lookup"><span data-stu-id="662a3-104">For example, an attacker with a privilege set of "read only" permissions somehow elevates the set to include "read and write."</span></span>  
  
## <a name="trusted-sts-should-sign-saml-token-claims"></a><span data-ttu-id="662a3-105">Důvěryhodné služby tokenů zabezpečení by měl přihlásit deklarací tokenu SAML</span><span class="sxs-lookup"><span data-stu-id="662a3-105">Trusted STS Should Sign SAML Token Claims</span></span>  
 <span data-ttu-id="662a3-106">Token zabezpečení kontrolní výrazy Markup Language (SAML) je obecný token XML, který je výchozím typem pro vydané tokeny.</span><span class="sxs-lookup"><span data-stu-id="662a3-106">A Security Assertions Markup Language (SAML) token is a generic XML token that is the default type for issued tokens.</span></span> <span data-ttu-id="662a3-107">SAML token lze sestavit pomocí zabezpečení tokenu služby (STS), end webová služba vztahy důvěryhodnosti v typické systému exchange.</span><span class="sxs-lookup"><span data-stu-id="662a3-107">A SAML token can be constructed by a Security Token Service (STS) that the end Web service trusts in a typical exchange.</span></span> <span data-ttu-id="662a3-108">Tokeny SAML obsahují deklarace identity v příkazech.</span><span class="sxs-lookup"><span data-stu-id="662a3-108">SAML tokens contain claims in statements.</span></span> <span data-ttu-id="662a3-109">Útočník může kopírovat deklarace identity z platný token, vytvořit nový token SAML a podepište ho pomocí různých vystavitele.</span><span class="sxs-lookup"><span data-stu-id="662a3-109">An attacker may copy the claims from a valid token, create a new SAML token, and sign it with a different issuer.</span></span> <span data-ttu-id="662a3-110">Je cílem zjistit, zda server ověřuje vystavitelů a pokud ne, využívat slabinu vytvořit tokeny SAML, které umožňují oprávnění nad rámec těchto určený pomocí důvěryhodné služby tokenů zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="662a3-110">The intent is to determine whether the server is validating issuers and, if not, utilize the weakness to construct SAML tokens that allow privileges beyond those intended by a trusted STS.</span></span>  
  
 <span data-ttu-id="662a3-111"><xref:System.IdentityModel.Tokens.SamlAssertion> Třída ověřuje digitální podpis obsažených v tokenu SAML a ve výchozím nastavení <xref:System.IdentityModel.Selectors.SamlSecurityTokenAuthenticator> vyžaduje, aby tokeny SAML být podepsány certifikátem X.509, který je platný, kdy <xref:System.ServiceModel.Security.IssuedTokenServiceCredential.CertificateValidationMode%2A> z <xref:System.ServiceModel.Security.IssuedTokenServiceCredential> třída je nastaven na <xref:System.ServiceModel.Security.X509CertificateValidationMode.ChainTrust>.</span><span class="sxs-lookup"><span data-stu-id="662a3-111">The <xref:System.IdentityModel.Tokens.SamlAssertion> class verifies the digital signature contained within a SAML token, and the default <xref:System.IdentityModel.Selectors.SamlSecurityTokenAuthenticator> requires that SAML tokens be signed by an X.509 certificate that is valid when the <xref:System.ServiceModel.Security.IssuedTokenServiceCredential.CertificateValidationMode%2A> of the <xref:System.ServiceModel.Security.IssuedTokenServiceCredential> class is set to <xref:System.ServiceModel.Security.X509CertificateValidationMode.ChainTrust>.</span></span> <span data-ttu-id="662a3-112">`ChainTrust`režim samostatně je nedostatečná pro určení, zda je důvěryhodného vystavitele tokenu SAML.</span><span class="sxs-lookup"><span data-stu-id="662a3-112">`ChainTrust` mode alone is insufficient to determine whether the issuer of the SAML token is trusted.</span></span> <span data-ttu-id="662a3-113">Služby, které vyžadují podrobnější model důvěryhodnosti můžete buď použít ověřování a vynucování zásad pro kontrolu vystavitele deklarace identity sady vyprodukované vydaných tokenů ověřování nebo nastavení ověření X.509 na <xref:System.ServiceModel.Security.IssuedTokenServiceCredential> omezit sadu povoleno, podpisové certifikáty.</span><span class="sxs-lookup"><span data-stu-id="662a3-113">Services that require a more granular trust model can either use authorization and enforcement policies to check the issuer of the claim sets produced by issued token authentication or use the X.509 validation settings on <xref:System.ServiceModel.Security.IssuedTokenServiceCredential> to restrict the set of allowed signing certificates.</span></span> [!INCLUDE[crdefault](../../../../includes/crdefault-md.md)]<span data-ttu-id="662a3-114">[Správa deklarací a autorizace s modelem Identity](../../../../docs/framework/wcf/feature-details/managing-claims-and-authorization-with-the-identity-model.md) a [federace a vystavené tokeny](../../../../docs/framework/wcf/feature-details/federation-and-issued-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="662a3-114"> [Managing Claims and Authorization with the Identity Model](../../../../docs/framework/wcf/feature-details/managing-claims-and-authorization-with-the-identity-model.md) and [Federation and Issued Tokens](../../../../docs/framework/wcf/feature-details/federation-and-issued-tokens.md).</span></span>  
  
## <a name="switching-identity-without-a-security-context"></a><span data-ttu-id="662a3-115">Přepínání Identity bez kontextu zabezpečení</span><span class="sxs-lookup"><span data-stu-id="662a3-115">Switching Identity Without a Security Context</span></span>  
 <span data-ttu-id="662a3-116">Následující se vztahují pouze na [!INCLUDE[vstecwinfx](../../../../includes/vstecwinfx-md.md)].</span><span class="sxs-lookup"><span data-stu-id="662a3-116">The following applies only to [!INCLUDE[vstecwinfx](../../../../includes/vstecwinfx-md.md)].</span></span>  
  
 <span data-ttu-id="662a3-117">Po navázání připojení mezi klientem a serverem, identita klienta nezmění, kromě jednoho situaci: po [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] otevřít klienta, pokud jsou splněny všechny následující podmínky:</span><span class="sxs-lookup"><span data-stu-id="662a3-117">When a connection is established between a client and server, the identity of the client does not change, except in one situation: after the [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client is opened, if all of the following conditions are true:</span></span>  
  
-   <span data-ttu-id="662a3-118">Postup vytvoření kontextu zabezpečení (pomocí zabezpečení přenosu nebo relaci zabezpečení zpráv) je vypnuté (<xref:System.ServiceModel.NonDualMessageSecurityOverHttp.EstablishSecurityContext%2A> je nastavena na `false` v případě zabezpečení zpráv nebo není schopen vytvořit zabezpečení přenosu relace se používá v případě zabezpečení přenosu.</span><span class="sxs-lookup"><span data-stu-id="662a3-118">The procedures to establish a security context (using a transport security session or message security session) is switched off (<xref:System.ServiceModel.NonDualMessageSecurityOverHttp.EstablishSecurityContext%2A> property is set to `false` in case of message security or transport not capable of establishing security sessions is used in transport security case.</span></span> <span data-ttu-id="662a3-119">Příkladem takových přenosu je HTTPS).</span><span class="sxs-lookup"><span data-stu-id="662a3-119">HTTPS is one example of such transport).</span></span>  
  
-   <span data-ttu-id="662a3-120">Používáte ověřování systému Windows.</span><span class="sxs-lookup"><span data-stu-id="662a3-120">You are using Windows authentication.</span></span>  
  
-   <span data-ttu-id="662a3-121">Přihlašovací údaje není explicitně nastavena.</span><span class="sxs-lookup"><span data-stu-id="662a3-121">You do not explicitly set the credential.</span></span>  
  
-   <span data-ttu-id="662a3-122">Při volání služby v kontextu zosobněného zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="662a3-122">You are calling the service under the impersonated security context.</span></span>  
  
 <span data-ttu-id="662a3-123">Pokud jsou splněné tyto podmínky, identita použitá k ověření klienta ke službě může změnit (nemusí být zosobněnou identitou ale identitě procesu místo) po [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] klienta je otevřen.</span><span class="sxs-lookup"><span data-stu-id="662a3-123">If these conditions are true, the identity used to authenticate the client to the service might change (it might not be the impersonated identity but the process identity instead) after the [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client is opened.</span></span> <span data-ttu-id="662a3-124">K tomu dochází, protože pověření systému Windows používá k ověření klienta ke službě se přenáší s každou zprávu a pověření použité pro ověřování se získávají z aktuální vlákno identitu systému Windows.</span><span class="sxs-lookup"><span data-stu-id="662a3-124">This occurs because the Windows credential used to authenticate the client to the service is transmitted with every message, and the credential used for authentication is obtained from the current thread's Windows identity.</span></span> <span data-ttu-id="662a3-125">Pokud se změní identitu Windows aktuální vlákno (například zosobněním různých volající), mohou také změnit pověření, které je připojen ke zprávě a použít k ověření klienta ke službě.</span><span class="sxs-lookup"><span data-stu-id="662a3-125">If the Windows identity of the current thread changes (for example, by impersonating a different caller), the credential that is attached to the message and used to authenticate the client to the service might also change.</span></span>  
  
 <span data-ttu-id="662a3-126">Pokud budete chtít mít deterministické chování při použití ověřování systému Windows společně s zosobnění je třeba explicitně nastavit pověření systému Windows nebo budete muset vytvořit kontext zabezpečení se službou.</span><span class="sxs-lookup"><span data-stu-id="662a3-126">If you want to have deterministic behavior when using Windows authentication together with impersonation you need to explicitly set the Windows credential or you need to establish a security context with the service.</span></span> <span data-ttu-id="662a3-127">K tomu použijte relace zabezpečení zprávy nebo relace přenosu zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="662a3-127">To do this, use a message security session or a transport security session.</span></span> <span data-ttu-id="662a3-128">Přenos net.tcp můžete například zadat relaci zabezpečení přenosu.</span><span class="sxs-lookup"><span data-stu-id="662a3-128">For example, the net.tcp transport can provide a transport security session.</span></span> <span data-ttu-id="662a3-129">Kromě toho musíte použít synchronní verzi klientské operace, při volání služby.</span><span class="sxs-lookup"><span data-stu-id="662a3-129">Additionally, you must use only a synchronous version of client operations when calling the service.</span></span> <span data-ttu-id="662a3-130">Pokud vytvoříte kontextu zabezpečení zprávy, by neměl necháte připojení ke službě otevřete delší než interval obnovování nakonfigurované relace, protože identita můžete také změnit během procesu obnovení relace.</span><span class="sxs-lookup"><span data-stu-id="662a3-130">If you establish a message security context, you should not keep the connection to the service open longer than the configured session renewal period, because the identity can also change during the session renewal process.</span></span>  
  
### <a name="credentials-capture"></a><span data-ttu-id="662a3-131">Zachycení přihlašovacích údajů</span><span class="sxs-lookup"><span data-stu-id="662a3-131">Credentials Capture</span></span>  
 <span data-ttu-id="662a3-132">Toto se vztahuje na [!INCLUDE[netfx35_long](../../../../includes/netfx35-long-md.md)]a další verze.</span><span class="sxs-lookup"><span data-stu-id="662a3-132">The following applies to [!INCLUDE[netfx35_long](../../../../includes/netfx35-long-md.md)], and subsequent versions.</span></span>  
  
 <span data-ttu-id="662a3-133">Pověření používaná klientem nebo služby jsou založené na aktuální vlákno kontextu.</span><span class="sxs-lookup"><span data-stu-id="662a3-133">Credentials used by the client or the service are based on the current context thread.</span></span> <span data-ttu-id="662a3-134">Přihlašovací údaje byly získány při `Open` – metoda (nebo `BeginOpen`, pro asynchronní volání) se nazývá klienta nebo služby.</span><span class="sxs-lookup"><span data-stu-id="662a3-134">The credentials are obtained when the `Open` method (or `BeginOpen`, for asynchronous calls) of the client or service is called.</span></span> <span data-ttu-id="662a3-135">Pro obě <xref:System.ServiceModel.ServiceHost> a <xref:System.ServiceModel.ClientBase%601> třídy, `Open` a `BeginOpen` metody dědit z <xref:System.ServiceModel.Channels.CommunicationObject.Open%2A> a <xref:System.ServiceModel.Channels.CommunicationObject.BeginOpen%2A> metody <xref:System.ServiceModel.Channels.CommunicationObject> třídy.</span><span class="sxs-lookup"><span data-stu-id="662a3-135">For both the <xref:System.ServiceModel.ServiceHost> and <xref:System.ServiceModel.ClientBase%601> classes, the `Open` and `BeginOpen` methods inherit from the <xref:System.ServiceModel.Channels.CommunicationObject.Open%2A> and <xref:System.ServiceModel.Channels.CommunicationObject.BeginOpen%2A> methods of the <xref:System.ServiceModel.Channels.CommunicationObject> class.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="662a3-136">Při použití `BeginOpen` metoda, přihlašovací údaje zachytit nemůže zaručit jako přihlašovací údaje proces, který volá metodu.</span><span class="sxs-lookup"><span data-stu-id="662a3-136">When using the `BeginOpen` method, the credentials captured cannot be guaranteed to be the credentials of the process that calls the method.</span></span>  
  
## <a name="token-caches-allow-replay-using-obsolete-data"></a><span data-ttu-id="662a3-137">Token mezipamětí povolit opětovného přehrání pomocí zastaralá Data</span><span class="sxs-lookup"><span data-stu-id="662a3-137">Token Caches Allow Replay Using Obsolete Data</span></span>  
 [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]<span data-ttu-id="662a3-138">používá místní autority zabezpečení (LSA) `LogonUser` funkce k ověření uživatele podle uživatelského jména a hesla.</span><span class="sxs-lookup"><span data-stu-id="662a3-138"> uses the local security authority (LSA) `LogonUser` function to authenticate users by user name and password.</span></span> <span data-ttu-id="662a3-139">Protože funkce přihlášení je nákladná operace, [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] umožňuje mezipaměti tokeny, které představují ověřeným uživatelům zvýšit výkon.</span><span class="sxs-lookup"><span data-stu-id="662a3-139">Because the logon function is a costly operation, [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] allows you to cache tokens that represent authenticated users to increase performance.</span></span> <span data-ttu-id="662a3-140">Ukládání do mezipaměti mechanismus uloží výsledky z `LogonUser` pro další použití.</span><span class="sxs-lookup"><span data-stu-id="662a3-140">The caching mechanism saves the results from `LogonUser` for subsequent uses.</span></span> <span data-ttu-id="662a3-141">Tento mechanismus vypnutá ve výchozím nastavení; Chcete-li ji povolit, nastavte <xref:System.ServiceModel.Security.UserNamePasswordServiceCredential.CacheLogonTokens%2A> vlastnost `true`, nebo použijte `cacheLogonTokens` atribut [ \<userNameAuthentication >](../../../../docs/framework/configure-apps/file-schema/wcf/usernameauthentication.md).</span><span class="sxs-lookup"><span data-stu-id="662a3-141">This mechanism is disabled by default; to enable it, set the <xref:System.ServiceModel.Security.UserNamePasswordServiceCredential.CacheLogonTokens%2A> property to `true`, or use the `cacheLogonTokens` attribute of the [\<userNameAuthentication>](../../../../docs/framework/configure-apps/file-schema/wcf/usernameauthentication.md).</span></span>  
  
 <span data-ttu-id="662a3-142">Můžete nastavit dobu to Live (TTL) pro uložené v mezipaměti tokeny pomocí nastavení <xref:System.ServiceModel.Security.UserNamePasswordServiceCredential.CachedLogonTokenLifetime%2A> vlastnosti <xref:System.TimeSpan>, nebo použijte `cachedLogonTokenLifetime` atribut `userNameAuthentication` element; výchozí hodnota je 15 minut.</span><span class="sxs-lookup"><span data-stu-id="662a3-142">You can set a Time to Live (TTL) for the cached tokens by setting the <xref:System.ServiceModel.Security.UserNamePasswordServiceCredential.CachedLogonTokenLifetime%2A> property to a <xref:System.TimeSpan>, or use the `cachedLogonTokenLifetime` attribute of the `userNameAuthentication` element; the default is 15 minutes.</span></span> <span data-ttu-id="662a3-143">Všimněte si, že i když token se uloží do mezipaměti, libovolného klienta, který představuje stejné uživatelské jméno a heslo lze použít s tokenem, i v případě, že uživatelský účet je odstraněn ze systému Windows, nebo došlo ke změně jeho heslo.</span><span class="sxs-lookup"><span data-stu-id="662a3-143">Note that while a token is cached, any client that presents the same user name and password can use the token, even if the user account is deleted from Windows or if its password has been changed.</span></span> <span data-ttu-id="662a3-144">Dokud hodnota TTL nevyprší a token se odebere z mezipaměti, [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] umožňuje ověření (potenciálně škodlivý) uživatele.</span><span class="sxs-lookup"><span data-stu-id="662a3-144">Until the TTL expires and the token is removed from the cache, [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] allows the (possibly malicious) user to authenticate.</span></span>  
  
 <span data-ttu-id="662a3-145">Toto riziko lze snížit: snížit okno útoku nastavením `cachedLogonTokenLifetime` hodnotu na nejkratší dobu span uživatelé potřebují.</span><span class="sxs-lookup"><span data-stu-id="662a3-145">To mitigate this: Decrease the attack window by setting the `cachedLogonTokenLifetime` value to the shortest time span your users need.</span></span>  
  
## <a name="issued-token-authorization-expiration-reset-to-large-value"></a><span data-ttu-id="662a3-146">Vystavený Token autorizace: Vypršení platnosti se resetování velké hodnoty</span><span class="sxs-lookup"><span data-stu-id="662a3-146">Issued Token Authorization: Expiration Reset to Large Value</span></span>  
 <span data-ttu-id="662a3-147">Za určitých podmínek <xref:System.IdentityModel.Policy.AuthorizationContext.ExpirationTime%2A> vlastnost <xref:System.IdentityModel.Policy.AuthorizationContext> může být nastaven na hodnotu neočekávaně větší ( <xref:System.DateTime.MaxValue> pole hodnotu minus jeden den, nebo 20 prosince 9999).</span><span class="sxs-lookup"><span data-stu-id="662a3-147">Under certain conditions, the <xref:System.IdentityModel.Policy.AuthorizationContext.ExpirationTime%2A> property of the <xref:System.IdentityModel.Policy.AuthorizationContext> may be set to an unexpectedly larger value (the <xref:System.DateTime.MaxValue> field value minus one day, or December 20, 9999).</span></span>  
  
 <span data-ttu-id="662a3-148">K tomu dojde při použití <xref:System.ServiceModel.WSFederationHttpBinding> a některé z vazby poskytované systémem, které mají token vydaných jako klient typ přihlašovacích údajů.</span><span class="sxs-lookup"><span data-stu-id="662a3-148">This occurs when using the <xref:System.ServiceModel.WSFederationHttpBinding> and any of the system-provided bindings that have an issued token as the client credential type.</span></span>  
  
 <span data-ttu-id="662a3-149">Také k tomu dojde, když vytvoříte vlastní vazby pomocí jedné z následujících metod:</span><span class="sxs-lookup"><span data-stu-id="662a3-149">This also occurs when you create custom bindings by using one of the following methods:</span></span>  
  
-   <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateIssuedTokenBindingElement%2A>  
  
-   <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateIssuedTokenForCertificateBindingElement%2A>  
  
-   <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateIssuedTokenForSslBindingElement%2A>  
  
-   <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateIssuedTokenOverTransportBindingElement%2A>  
  
 <span data-ttu-id="662a3-150">Toto riziko lze snížit musí zkontrolujte zásady autorizace, akci a čas vypršení platnosti, každá zásada autorizace.</span><span class="sxs-lookup"><span data-stu-id="662a3-150">To mitigate this, the authorization policy must check the action and the expiration time of each authorization policy.</span></span>  
  
## <a name="the-service-uses-a-different-certificate-than-the-client-intended"></a><span data-ttu-id="662a3-151">Služba používá jiný certifikát než zamýšleného klienta</span><span class="sxs-lookup"><span data-stu-id="662a3-151">The Service Uses a Different Certificate Than the Client Intended</span></span>  
 <span data-ttu-id="662a3-152">Za určitých podmínek můžete klienta digitálnímu podepisování zpráv společně s certifikátem X.509 a službu načíst jiný certifikát než zamýšlené.</span><span class="sxs-lookup"><span data-stu-id="662a3-152">Under certain conditions, a client can digitally sign a message with an X.509 certificate and have the service retrieve a different certificate than the intended one.</span></span>  
  
 <span data-ttu-id="662a3-153">Tato situace může nastat v následujících případech:</span><span class="sxs-lookup"><span data-stu-id="662a3-153">This can occur under the following circumstances:</span></span>  
  
-   <span data-ttu-id="662a3-154">Klient digitálně podepíše zprávu pomocí certifikátu X.509. certifikát a nepřipojí certifikátu X.509 na zprávu, ale spíš jenom odkazuje na základě jeho identifikátoru klíče subjektu certifikátu.</span><span class="sxs-lookup"><span data-stu-id="662a3-154">The client digitally signs a message using an X.509 certificate and does not attach the X.509 certificate to the message, but rather just references the certificate using its subject key identifier.</span></span>  
  
-   <span data-ttu-id="662a3-155">Služby počítače obsahuje dva nebo víc certifikátů se stejný veřejný klíč, ale obsahují různé informace.</span><span class="sxs-lookup"><span data-stu-id="662a3-155">The service's computer contains two or more certificates with the same public key, but they contain different information.</span></span>  
  
-   <span data-ttu-id="662a3-156">Služba načte certifikát, který odpovídá identifikátoru klíče subjektu, ale není ten, který má klient použít.</span><span class="sxs-lookup"><span data-stu-id="662a3-156">The service retrieves a certificate that matches the subject key identifier, but it is not the one the client intended to use.</span></span> <span data-ttu-id="662a3-157">Když [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] obdrží zprávu a ověří podpis, [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] mapuje informace v nezamýšleným certifikátu X.509 sadu deklarací identity, které jsou jiné a potenciálně zvýšenými z co očekává klienta.</span><span class="sxs-lookup"><span data-stu-id="662a3-157">When [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] receives the message and verifies the signature, [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] maps the information in the unintended X.509 certificate to a set of claims that are different and potentially elevated from what the client expected.</span></span>  
  
 <span data-ttu-id="662a3-158">Toto riziko lze snížit odkaz X.509 certifikátu dalším způsobem, například pomocí <xref:System.ServiceModel.Security.Tokens.X509KeyIdentifierClauseType.IssuerSerial>.</span><span class="sxs-lookup"><span data-stu-id="662a3-158">To mitigate this, reference the X.509 certificate another way, such as using <xref:System.ServiceModel.Security.Tokens.X509KeyIdentifierClauseType.IssuerSerial>.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="662a3-159">Viz také</span><span class="sxs-lookup"><span data-stu-id="662a3-159">See Also</span></span>  
 [<span data-ttu-id="662a3-160">Důležité informace o zabezpečení</span><span class="sxs-lookup"><span data-stu-id="662a3-160">Security Considerations</span></span>](../../../../docs/framework/wcf/feature-details/security-considerations-in-wcf.md)  
 [<span data-ttu-id="662a3-161">Zpřístupnění informací</span><span class="sxs-lookup"><span data-stu-id="662a3-161">Information Disclosure</span></span>](../../../../docs/framework/wcf/feature-details/information-disclosure.md)  
 [<span data-ttu-id="662a3-162">Útok DoS</span><span class="sxs-lookup"><span data-stu-id="662a3-162">Denial of Service</span></span>](../../../../docs/framework/wcf/feature-details/denial-of-service.md)  
 [<span data-ttu-id="662a3-163">Útoky opakováním</span><span class="sxs-lookup"><span data-stu-id="662a3-163">Replay Attacks</span></span>](../../../../docs/framework/wcf/feature-details/replay-attacks.md)  
 [<span data-ttu-id="662a3-164">Falšování</span><span class="sxs-lookup"><span data-stu-id="662a3-164">Tampering</span></span>](../../../../docs/framework/wcf/feature-details/tampering.md)  
 [<span data-ttu-id="662a3-165">Nepodporované scénáře</span><span class="sxs-lookup"><span data-stu-id="662a3-165">Unsupported Scenarios</span></span>](../../../../docs/framework/wcf/feature-details/unsupported-scenarios.md)
