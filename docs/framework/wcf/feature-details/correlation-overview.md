---
title: "Korelace – přehled"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: edcc0315-5d26-44d6-a36d-ea554c418e9f
caps.latest.revision: "12"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload: dotnet
ms.openlocfilehash: a29f761b4a3718293c1786d23d425265603f8c84
ms.sourcegitcommit: c0dd436f6f8f44dc80dc43b07f6841a00b74b23f
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 01/19/2018
---
# <a name="correlation-overview"></a><span data-ttu-id="aaa7b-102">Korelace – přehled</span><span class="sxs-lookup"><span data-stu-id="aaa7b-102">Correlation Overview</span></span>
<span data-ttu-id="aaa7b-103">Korelace je mechanismus pro související zprávy služby pracovního postupu k sobě navzájem nebo stav instance aplikace, jako je například odpovědět na požadavek počáteční nebo konkrétní pořadí ID trvalého stavu pracovním postupu pořadí zpracování.</span><span class="sxs-lookup"><span data-stu-id="aaa7b-103">Correlation is the mechanism for relating workflow service messages to each other or to the application instance state, such as a reply to an initial request, or a particular order ID to the persisted state of an order-processing workflow.</span></span> <span data-ttu-id="aaa7b-104">Toto téma obsahuje přehled korelace.</span><span class="sxs-lookup"><span data-stu-id="aaa7b-104">This topic provides an overview of correlation.</span></span> <span data-ttu-id="aaa7b-105">Na další témata v této části poskytují další informace pro každý typ korelace.</span><span class="sxs-lookup"><span data-stu-id="aaa7b-105">The other topics in this section provide additional information for each type of correlation.</span></span>  
  
## <a name="types-of-correlation"></a><span data-ttu-id="aaa7b-106">Typy korelace</span><span class="sxs-lookup"><span data-stu-id="aaa7b-106">Types of Correlation</span></span>  
 <span data-ttu-id="aaa7b-107">Korelace může být založené na protokolu nebo na základě obsahu.</span><span class="sxs-lookup"><span data-stu-id="aaa7b-107">Correlation can be protocol-based or content-based.</span></span> <span data-ttu-id="aaa7b-108">Založené na protokolu korelací mapování mezi zprávy používá data poskytnutá infrastruktura doručení zprávy.</span><span class="sxs-lookup"><span data-stu-id="aaa7b-108">Protocol-based correlations use data provided by the message delivery infrastructure to provide the mapping between messages.</span></span> <span data-ttu-id="aaa7b-109">Zprávy, které jsou korelační pomocí korelace založené na protokolu jsou ve vzájemném pomocí objektu v paměti, jako třeba <xref:System.ServiceModel.Channels.RequestContext>, nebo token poskytovaný přenosový protokol.</span><span class="sxs-lookup"><span data-stu-id="aaa7b-109">Messages that are correlated using protocol-based correlation are related to each other using an object in memory, such as a <xref:System.ServiceModel.Channels.RequestContext>, or by a token provided by the transport protocol.</span></span> <span data-ttu-id="aaa7b-110">Na základě obsahu korelací související zprávy navzájem pomocí dat určený aplikací.</span><span class="sxs-lookup"><span data-stu-id="aaa7b-110">Content-based correlations relate messages to each other using application-specified data.</span></span> <span data-ttu-id="aaa7b-111">Zprávy, které jsou korelační pomocí korelace na základě obsahu se vztahují k sobě navzájem některá data definované aplikací ve zprávě, jako je například číslo zákazníka.</span><span class="sxs-lookup"><span data-stu-id="aaa7b-111">Messages that are correlated using content-based correlation are related to each other by some application-defined data in the message, such as a customer number.</span></span>  
  
 <span data-ttu-id="aaa7b-112">Aktivity, které jsou součástí korelace použití <xref:System.ServiceModel.Activities.CorrelationHandle> ke svázání zasílání zpráv aktivity společně.</span><span class="sxs-lookup"><span data-stu-id="aaa7b-112">Activities that participate in correlation use a <xref:System.ServiceModel.Activities.CorrelationHandle> to tie the messaging activities together.</span></span> <span data-ttu-id="aaa7b-113">Například <xref:System.ServiceModel.Activities.Send> používané při volání služby a následné <xref:System.ServiceModel.Activities.Receive> sloužící k nebude zpětné volání ze služby, sdílet stejný <xref:System.ServiceModel.Activities.CorrelationHandle>.</span><span class="sxs-lookup"><span data-stu-id="aaa7b-113">For example, a <xref:System.ServiceModel.Activities.Send> that is used to call a service and a subsequent <xref:System.ServiceModel.Activities.Receive> that is used to receive a callback from the service, share the same <xref:System.ServiceModel.Activities.CorrelationHandle>.</span></span> <span data-ttu-id="aaa7b-114">Tento základní vzor se používá, zda korelaci je obsah na základě nebo na základě protokolu.</span><span class="sxs-lookup"><span data-stu-id="aaa7b-114">This basic pattern is used whether the correlation is content based or protocol based.</span></span> <span data-ttu-id="aaa7b-115">Popisovač korelace může být explicitně nastaveny na každou aktivitu nebo může být součástí aktivity <xref:System.ServiceModel.Activities.CorrelationScope> aktivity.</span><span class="sxs-lookup"><span data-stu-id="aaa7b-115">The correlation handle can be explicitly set on each activity or the activities can be contained in a <xref:System.ServiceModel.Activities.CorrelationScope> activity.</span></span> <span data-ttu-id="aaa7b-116">Aktivity obsažené v <xref:System.ServiceModel.Activities.CorrelationScope> jejich korelace popisovači spravuje <xref:System.ServiceModel.Activities.CorrelationScope> a nevyžadují <xref:System.ServiceModel.Activities.CorrelationHandle> být explicitně nastavena.</span><span class="sxs-lookup"><span data-stu-id="aaa7b-116">Activities contained in a <xref:System.ServiceModel.Activities.CorrelationScope> have their correlation handles managed by the <xref:System.ServiceModel.Activities.CorrelationScope> and do not require the <xref:System.ServiceModel.Activities.CorrelationHandle> to be explicitly set.</span></span> <span data-ttu-id="aaa7b-117">A <xref:System.ServiceModel.Activities.CorrelationScope> obor představuje <xref:System.ServiceModel.Activities.CorrelationHandle> správy pro korelace požadavku a odpovědi a jeden typ další korelace.</span><span class="sxs-lookup"><span data-stu-id="aaa7b-117">A <xref:System.ServiceModel.Activities.CorrelationScope> scope provides <xref:System.ServiceModel.Activities.CorrelationHandle> management for a request-reply correlation and one additional correlation type.</span></span> <span data-ttu-id="aaa7b-118">Služby pracovních postupů, které jsou hostované pomocí <xref:System.ServiceModel.Activities.WorkflowServiceHost> mají stejné správu korelace výchozí jako <xref:System.ServiceModel.Activities.CorrelationScope> aktivity.</span><span class="sxs-lookup"><span data-stu-id="aaa7b-118">Workflow services hosted using <xref:System.ServiceModel.Activities.WorkflowServiceHost> have the same default correlation management as the <xref:System.ServiceModel.Activities.CorrelationScope> activity.</span></span> <span data-ttu-id="aaa7b-119">Tato výchozí korelace správu obvykle znamená, že v mnoha scénářích aktivity v zasílání zpráv <xref:System.ServiceModel.Activities.CorrelationScope> nebo služby pracovního postupu nevyžadují, aby jejich <xref:System.ServiceModel.Activities.CorrelationHandle> nastavit, pokud jsou více aktivit zasílání zpráv v paralelní nebo překrývají, jako je například dva <xref:System.ServiceModel.Activities.Receive> aktivity paralelní nebo dva <xref:System.ServiceModel.Activities.Send> aktivity následované dvěma <xref:System.ServiceModel.Activities.Receive> aktivity.</span><span class="sxs-lookup"><span data-stu-id="aaa7b-119">This default correlation management generally means that in many scenarios, messaging activities in a <xref:System.ServiceModel.Activities.CorrelationScope> or a workflow service do not require their <xref:System.ServiceModel.Activities.CorrelationHandle> set unless multiple messaging activities are in parallel or overlap, such as two <xref:System.ServiceModel.Activities.Receive> activities in parallel, or two <xref:System.ServiceModel.Activities.Send> activities followed by two <xref:System.ServiceModel.Activities.Receive> activities.</span></span> <span data-ttu-id="aaa7b-120">Další informace o výchozí korelace najdete v tématech v této části, které se týkají každý konkrétní typ korelace.</span><span class="sxs-lookup"><span data-stu-id="aaa7b-120">More information about default correlation is provided in the topics in this section that cover each specific type of correlation.</span></span> [!INCLUDE[crabout](../../../../includes/crabout-md.md)]<span data-ttu-id="aaa7b-121">aktivity zasílání zpráv najdete v části [zasílání zpráv aktivity](../../../../docs/framework/wcf/feature-details/messaging-activities.md) a [postupy: vytvoření služby pracovního postupu s aktivitami zasílání zpráv](../../../../docs/framework/wcf/feature-details/how-to-create-a-workflow-service-with-messaging-activities.md).</span><span class="sxs-lookup"><span data-stu-id="aaa7b-121"> messaging activities see [Messaging Activities](../../../../docs/framework/wcf/feature-details/messaging-activities.md) and [How to: Create a Workflow Service with Messaging Activities](../../../../docs/framework/wcf/feature-details/how-to-create-a-workflow-service-with-messaging-activities.md).</span></span>  
  
## <a name="protocol-based-correlation"></a><span data-ttu-id="aaa7b-122">Založené na protokolu korelace</span><span class="sxs-lookup"><span data-stu-id="aaa7b-122">Protocol-Based Correlation</span></span>  
 <span data-ttu-id="aaa7b-123">Založené na protokolu korelace používá přenosový mechanismus k související zprávy do sebe navzájem a příslušné instanci.</span><span class="sxs-lookup"><span data-stu-id="aaa7b-123">Protocol-based correlation uses the transport mechanism to relate messages to each other and the appropriate instance.</span></span> <span data-ttu-id="aaa7b-124">Některé poskytované systémem protokol korelací zahrnují korelace požadavku a odpovědi a korelace na základě kontextu.</span><span class="sxs-lookup"><span data-stu-id="aaa7b-124">Some system-provided protocol correlations include request-reply correlation and context-based correlation.</span></span> <span data-ttu-id="aaa7b-125">Korelace požadavku a odpovědi slouží ke sladění jeden pár zasílání zpráv aktivit a vytvoří obousměrný operace, například <xref:System.ServiceModel.Activities.Send> spárované s <xref:System.ServiceModel.Activities.ReceiveReply>, nebo <xref:System.ServiceModel.Activities.Receive> spárované s <xref:System.ServiceModel.Activities.SendReply>.</span><span class="sxs-lookup"><span data-stu-id="aaa7b-125">A request-reply correlation is used to correlate a single pair of messaging activities to form a two-way operation, such as a <xref:System.ServiceModel.Activities.Send> paired with a <xref:System.ServiceModel.Activities.ReceiveReply>, or a <xref:System.ServiceModel.Activities.Receive> paired with a <xref:System.ServiceModel.Activities.SendReply>.</span></span> <span data-ttu-id="aaa7b-126">[!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)] Návrhář postupu provádění také poskytuje sadu šablony aktivit k rychlé implementaci tohoto vzoru.</span><span class="sxs-lookup"><span data-stu-id="aaa7b-126">The [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)] Workflow Designer also provides a set of activity templates to quickly implement this pattern.</span></span> <span data-ttu-id="aaa7b-127">Korelace základě kontextu je založené na mechanismu exchange kontext, který je popsané v [Exchange kontextu .NET – specifikace protokolu](http://go.microsoft.com/fwlink/?LinkID=166059).</span><span class="sxs-lookup"><span data-stu-id="aaa7b-127">A context-based correlation is based on the context exchange mechanism described in the [.NET Context Exchange Protocol Specification](http://go.microsoft.com/fwlink/?LinkID=166059).</span></span> <span data-ttu-id="aaa7b-128">Použít na základě kontextu korelace základě kontextu vazby, jako <xref:System.ServiceModel.BasicHttpContextBinding>, <xref:System.ServiceModel.WSHttpContextBinding> nebo <xref:System.ServiceModel.NetTcpContextBinding> na koncový bod se musí použít.</span><span class="sxs-lookup"><span data-stu-id="aaa7b-128">To use context-based correlation, a context-based binding such as <xref:System.ServiceModel.BasicHttpContextBinding>, <xref:System.ServiceModel.WSHttpContextBinding> or <xref:System.ServiceModel.NetTcpContextBinding> must be used on the endpoint.</span></span>  
  
 [!INCLUDE[crabout](../../../../includes/crabout-md.md)]<span data-ttu-id="aaa7b-129">protokol korelace najdete v tématu [kontextová výměna](../../../../docs/framework/wcf/feature-details/context-exchange-correlation.md), [trvanlivý duplexní](../../../../docs/framework/wcf/feature-details/durable-duplex-correlation.md), a [požadavku a odpovědi](../../../../docs/framework/wcf/feature-details/request-reply-correlation.md).</span><span class="sxs-lookup"><span data-stu-id="aaa7b-129"> protocol correlation, see [Context Exchange](../../../../docs/framework/wcf/feature-details/context-exchange-correlation.md), [Durable Duplex](../../../../docs/framework/wcf/feature-details/durable-duplex-correlation.md), and [Request-Reply](../../../../docs/framework/wcf/feature-details/request-reply-correlation.md).</span></span> [!INCLUDE[crabout](../../../../includes/crabout-md.md)]<span data-ttu-id="aaa7b-130">pomocí [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)] šablony aktivit v Návrháři pracovních postupů, najdete v části [zasílání zpráv aktivity](../../../../docs/framework/wcf/feature-details/messaging-activities.md).</span><span class="sxs-lookup"><span data-stu-id="aaa7b-130"> using the [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)] Workflow Designer activity templates, see [Messaging Activities](../../../../docs/framework/wcf/feature-details/messaging-activities.md).</span></span> <span data-ttu-id="aaa7b-131">Ukázkový kód, najdete [trvanlivý duplexní &#91; Ukázky WF &#93; ](../../../../docs/framework/windows-workflow-foundation/samples/durable-duplex.md) a [NetContextExchangeCorrelation](http://msdn.microsoft.com/library/93c74a1a-b9e2-46c6-95c0-c9b0e9472caf) ukázky.</span><span class="sxs-lookup"><span data-stu-id="aaa7b-131">For sample code, see the [Durable Duplex &#91;WF Samples&#93;](../../../../docs/framework/windows-workflow-foundation/samples/durable-duplex.md) and [NetContextExchangeCorrelation](http://msdn.microsoft.com/library/93c74a1a-b9e2-46c6-95c0-c9b0e9472caf) samples.</span></span>  
  
## <a name="content-based-correlation"></a><span data-ttu-id="aaa7b-132">Korelace na základě obsahu</span><span class="sxs-lookup"><span data-stu-id="aaa7b-132">Content-Based Correlation</span></span>  
 <span data-ttu-id="aaa7b-133">Korelace na základě obsahu používá některá část informace ve zprávě k její přidružení ke konkrétní instanci.</span><span class="sxs-lookup"><span data-stu-id="aaa7b-133">Content-based correlation uses some piece of information in the message to associate it to a particular instance.</span></span> <span data-ttu-id="aaa7b-134">Na rozdíl od založené na protokolu korelace na základě obsahu korelace vyžaduje vytváření aplikací do explicitně stavu, kde tato data lze nalézt v každé související zprávy.</span><span class="sxs-lookup"><span data-stu-id="aaa7b-134">Unlike protocol-based correlation, content-based correlation requires the application author to explicitly state where this data can be found in each related message.</span></span> <span data-ttu-id="aaa7b-135">Aktivity, které používají korelace na základě obsahu zadat tato zpráva data pomocí <xref:System.ServiceModel.MessageQuerySet>.</span><span class="sxs-lookup"><span data-stu-id="aaa7b-135">Activities that use content-based correlation specify this message data by using a <xref:System.ServiceModel.MessageQuerySet>.</span></span> <span data-ttu-id="aaa7b-136">Korelace na základě obsahu je užitečné při komunikaci s služby, které nepoužívají jeden z kontextu vazby, jako <xref:System.ServiceModel.BasicHttpContextBinding>.</span><span class="sxs-lookup"><span data-stu-id="aaa7b-136">Content-based correlation is useful when communicating with services that do not use one of the context bindings such as <xref:System.ServiceModel.BasicHttpContextBinding>.</span></span> [!INCLUDE[crabout](../../../../includes/crabout-md.md)]<span data-ttu-id="aaa7b-137">korelace na základě obsahu najdete v části [na základě obsahu](../../../../docs/framework/wcf/feature-details/content-based-correlation.md).</span><span class="sxs-lookup"><span data-stu-id="aaa7b-137"> content-based correlation, see [Content Based](../../../../docs/framework/wcf/feature-details/content-based-correlation.md).</span></span> <span data-ttu-id="aaa7b-138">Ukázkový kód, najdete [korelace na základě obsahu](../../../../docs/framework/windows-workflow-foundation/samples/content-based-correlation.md) a [korelační kalkulačky](../../../../docs/framework/windows-workflow-foundation/samples/correlated-calculator.md) ukázky.</span><span class="sxs-lookup"><span data-stu-id="aaa7b-138">For sample code, see the [Content-Based Correlation](../../../../docs/framework/windows-workflow-foundation/samples/content-based-correlation.md) and [Correlated Calculator](../../../../docs/framework/windows-workflow-foundation/samples/correlated-calculator.md) samples.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="aaa7b-139">Viz také</span><span class="sxs-lookup"><span data-stu-id="aaa7b-139">See Also</span></span>  
 [<span data-ttu-id="aaa7b-140">Korelace na základě obsahu</span><span class="sxs-lookup"><span data-stu-id="aaa7b-140">Content-Based Correlation</span></span>](../../../../docs/framework/windows-workflow-foundation/samples/content-based-correlation.md)  
 [<span data-ttu-id="aaa7b-141">Korelovaná kalkulačka</span><span class="sxs-lookup"><span data-stu-id="aaa7b-141">Correlated Calculator</span></span>](../../../../docs/framework/windows-workflow-foundation/samples/correlated-calculator.md)  
 [<span data-ttu-id="aaa7b-142">Durable Duplex &#91;WF Samples&#93;</span><span class="sxs-lookup"><span data-stu-id="aaa7b-142">Durable Duplex &#91;WF Samples&#93;</span></span>](../../../../docs/framework/windows-workflow-foundation/samples/durable-duplex.md)  
 [<span data-ttu-id="aaa7b-143">NetContextExchangeCorrelation</span><span class="sxs-lookup"><span data-stu-id="aaa7b-143">NetContextExchangeCorrelation</span></span>](http://msdn.microsoft.com/library/93c74a1a-b9e2-46c6-95c0-c9b0e9472caf)
