---
title: 'Postupy: vytvoření třídy WSFederationHttpBinding'
ms.custom: ''
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: ''
ms.suite: ''
ms.technology:
- dotnet-clr
ms.tgt_pltfrm: ''
ms.topic: article
dev_langs:
- csharp
- vb
helpviewer_keywords:
- WCF, federation
- federation
ms.assetid: e54897d7-aa6c-46ec-a278-b2430c8c2e10
caps.latest.revision: 16
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload:
- dotnet
ms.openlocfilehash: f43b95df73b35b7dc7c34c2e16364dfa7bbdbee4
ms.sourcegitcommit: 94d33cadc5ff81d2ac389bf5f26422c227832052
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 04/30/2018
---
# <a name="how-to-create-a-wsfederationhttpbinding"></a><span data-ttu-id="6a422-102">Postupy: vytvoření třídy WSFederationHttpBinding</span><span class="sxs-lookup"><span data-stu-id="6a422-102">How to: Create a WSFederationHttpBinding</span></span>
<span data-ttu-id="6a422-103">V [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)], <xref:System.ServiceModel.WSFederationHttpBinding> – třída ([\<– wsFederationHttpBinding >](../../../../docs/framework/configure-apps/file-schema/wcf/wsfederationhttpbinding.md) v konfiguraci) poskytuje mechanismus pro vystavení federované služby.</span><span class="sxs-lookup"><span data-stu-id="6a422-103">In [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)], the <xref:System.ServiceModel.WSFederationHttpBinding> class ([\<wsFederationHttpBinding>](../../../../docs/framework/configure-apps/file-schema/wcf/wsfederationhttpbinding.md) in configuration) provides a mechanism for exposing a federated service.</span></span> <span data-ttu-id="6a422-104">To znamená, služby, která vyžaduje ověření pomocí tokenu zabezpečení vydaného služby tokenů zabezpečení klientů.</span><span class="sxs-lookup"><span data-stu-id="6a422-104">That is, a service that requires clients to authenticate using a security token issued by a security token service.</span></span> <span data-ttu-id="6a422-105">Toto téma ukazuje, jak nastavit <xref:System.ServiceModel.WSFederationHttpBinding> v kódu a konfigurace.</span><span class="sxs-lookup"><span data-stu-id="6a422-105">This topic shows how to set up a <xref:System.ServiceModel.WSFederationHttpBinding> in both code and configuration.</span></span> <span data-ttu-id="6a422-106">Po vytvoření vazby, můžete nastavit koncový bod pro tuto vazbu používají.</span><span class="sxs-lookup"><span data-stu-id="6a422-106">Once the binding is created, you can set up an endpoint to use that binding.</span></span>  
  
 <span data-ttu-id="6a422-107">Základní kroky, které jsou uvedeny následujícím způsobem:</span><span class="sxs-lookup"><span data-stu-id="6a422-107">The basic steps are outlined as follows:</span></span>  
  
1.  <span data-ttu-id="6a422-108">Vyberte režim zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="6a422-108">Select a security mode.</span></span> <span data-ttu-id="6a422-109"><xref:System.ServiceModel.WSFederationHttpBinding> Podporuje `Message`, který poskytuje – koncové zabezpečení na úrovni zpráv, dokonce i v jiných několik segmentů směrování, a `TransportWithMessageCredential`, který poskytuje lepší výkon v případech, kde klient a služba může provádět přímé připojení přes PROTOKOL HTTPS.</span><span class="sxs-lookup"><span data-stu-id="6a422-109">The <xref:System.ServiceModel.WSFederationHttpBinding> supports `Message`, which provides end-to-end security at the message level, even across multiple hops, and `TransportWithMessageCredential`, which provides better performance in cases where the client and the service can make a direct connection over HTTPS.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="6a422-110"><xref:System.ServiceModel.WSFederationHttpBinding> Také podporuje `None` jako režim zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="6a422-110">The <xref:System.ServiceModel.WSFederationHttpBinding> also supports `None` as a security mode.</span></span> <span data-ttu-id="6a422-111">Tento režim není zabezpečená a se poskytuje pouze pro účely ladění.</span><span class="sxs-lookup"><span data-stu-id="6a422-111">This mode is not secure and is provided for debugging purposes only.</span></span> <span data-ttu-id="6a422-112">Pokud koncový bod služby se nasazuje s <xref:System.ServiceModel.WSFederationHttpBinding> s režim zabezpečení, který je nastavený na `None`, výsledná klient vazby (vygenerované [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md)) je <<!--zz xref:System.ServiceModel.WsHttpBinding --> `xref:System.ServiceModel.WsHttpBinding`> s režimem zabezpečení z `None`.</span><span class="sxs-lookup"><span data-stu-id="6a422-112">If a service endpoint is deployed with a <xref:System.ServiceModel.WSFederationHttpBinding> with its security mode set to `None`, the resulting client binding (generated by the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md)) is a <<!--zz xref:System.ServiceModel.WsHttpBinding --> `xref:System.ServiceModel.WsHttpBinding`> with a security mode of `None`.</span></span>  
  
     <span data-ttu-id="6a422-113">Na rozdíl od jiných vazby poskytované systémem není nutné vyberte typ pověření klienta při použití `WSFederationHttpBinding`.</span><span class="sxs-lookup"><span data-stu-id="6a422-113">Unlike other system-provided bindings, it is not necessary to select a client credential type when using the `WSFederationHttpBinding`.</span></span> <span data-ttu-id="6a422-114">Je to proto typu pověření klienta je vždy vystavený token.</span><span class="sxs-lookup"><span data-stu-id="6a422-114">This is because the client credential type is always an issued token.</span></span> [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]<span data-ttu-id="6a422-115"> Získá token zabezpečení ze zadaného vystavitele a uvede tento token ke službě pro ověření klienta.</span><span class="sxs-lookup"><span data-stu-id="6a422-115"> acquires a token from a specified issuer and presents that token to the service to authenticate the client.</span></span>  
  
2.  <span data-ttu-id="6a422-116">U federovaných klientů, nastavte <xref:System.ServiceModel.FederatedMessageSecurityOverHttp.IssuerAddress%2A> na adresu URL služby tokenů zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="6a422-116">On federated clients, set the <xref:System.ServiceModel.FederatedMessageSecurityOverHttp.IssuerAddress%2A> property to the URL of the security token service.</span></span> <span data-ttu-id="6a422-117">Nastavte <xref:System.ServiceModel.FederatedMessageSecurityOverHttp.IssuerBinding%2A> pro vazbu na použití ke komunikaci s služby tokenů zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="6a422-117">Set the <xref:System.ServiceModel.FederatedMessageSecurityOverHttp.IssuerBinding%2A> to the binding to use to communicate with the security token service.</span></span>  
  
3.  <span data-ttu-id="6a422-118">Volitelné.</span><span class="sxs-lookup"><span data-stu-id="6a422-118">Optional.</span></span> <span data-ttu-id="6a422-119">Nastavte <xref:System.ServiceModel.FederatedMessageSecurityOverHttp.IssuedTokenType%2A> vlastnost k identifikátor URI (Uniform Resource) tokenu typu.</span><span class="sxs-lookup"><span data-stu-id="6a422-119">Set the <xref:System.ServiceModel.FederatedMessageSecurityOverHttp.IssuedTokenType%2A> property to the Uniform Resource Identifier (URI) of a token type.</span></span> <span data-ttu-id="6a422-120">Na federovaným službám zadejte token typ, který služba očekává.</span><span class="sxs-lookup"><span data-stu-id="6a422-120">On federated services, specify the token type that the service expects.</span></span> <span data-ttu-id="6a422-121">U federovaných klientů zadejte typ tokenu požadavky od služby tokenů zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="6a422-121">On federated clients, specify the token type the client requests from the security token service.</span></span>  
  
     <span data-ttu-id="6a422-122">Pokud není zadán žádný typ. tokenu, klienti generovat WS-Trust žádosti o tokeny zabezpečení (RSTs) bez typ tokenu URI a služby očekávat ověřování klientů pomocí token zabezpečení kontrolní výrazy Markup Language (SAML) 1.1 ve výchozím nastavení.</span><span class="sxs-lookup"><span data-stu-id="6a422-122">If no token type is specified, clients generate WS-Trust Request Security Tokens (RSTs) without a token type URI, and services expect client authentication using a Security Assertions Markup Language (SAML) 1.1 token by default.</span></span>  
  
     <span data-ttu-id="6a422-123">Je identifikátor URI pro SAML 1.1 token "http://docs.oasis-open.org/wss/oasis-wss-saml-token-profile-1.1#SAMLV1.1".</span><span class="sxs-lookup"><span data-stu-id="6a422-123">The URI for a SAML 1.1 token is "http://docs.oasis-open.org/wss/oasis-wss-saml-token-profile-1.1#SAMLV1.1".</span></span>  
  
4.  <span data-ttu-id="6a422-124">Volitelné.</span><span class="sxs-lookup"><span data-stu-id="6a422-124">Optional.</span></span> <span data-ttu-id="6a422-125">Na federovaným službám, nastavte <xref:System.ServiceModel.FederatedMessageSecurityOverHttp.IssuerMetadataAddress%2A> vlastnost na adresu URL metadat služby tokenů zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="6a422-125">On federated services, set the <xref:System.ServiceModel.FederatedMessageSecurityOverHttp.IssuerMetadataAddress%2A> property to the metadata URL of a security token service.</span></span> <span data-ttu-id="6a422-126">Koncový bod metadat umožňuje klientům služby vyberte dvojici odpovídající vazby nebo koncového bodu, pokud služba je nakonfigurována pro publikování metadat.</span><span class="sxs-lookup"><span data-stu-id="6a422-126">The metadata endpoint enables clients of the service to select an appropriate binding/endpoint pair, if the service is configured to publish metadata.</span></span> <span data-ttu-id="6a422-127">Další informace o publikování metadat najdete v tématu [publikování metadat](../../../../docs/framework/wcf/feature-details/publishing-metadata.md).</span><span class="sxs-lookup"><span data-stu-id="6a422-127">For more information about publishing metadata, see [Publishing Metadata](../../../../docs/framework/wcf/feature-details/publishing-metadata.md).</span></span>  
  
 <span data-ttu-id="6a422-128">Můžete také nastavit další vlastnosti, včetně typu klíč používaný jako doklad klíč v vydaných tokenu, algoritmus suite používat mezi klientem a služby, zda Pokud chcete vyjednávání nebo explicitně zadat přihlašovací údaje služby, deklarací žádné konkrétní službu očekává vystavený token, který má obsahovat a další prvky XML, které musí být přidaný do žádosti, které klient odešle do služby tokenů zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="6a422-128">You can also set other properties, including the type of key used as a proof key in the issued token, the algorithm suite to use between the client and the service, whether to negotiate or explicitly specify the service credential, any specific claims the service expects the issued token to contain, and any additional XML elements that must be added to the request the client sends to the security token service.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="6a422-129">`NegotiateServiceCredential` Vlastnost platí pouze při `SecurityMode` je nastaven na `Message`.</span><span class="sxs-lookup"><span data-stu-id="6a422-129">The `NegotiateServiceCredential` property is only relevant when the `SecurityMode` is set to `Message`.</span></span> <span data-ttu-id="6a422-130">Pokud `SecurityMode` je nastaven na `TransportWithMessageCredential`, pak se `NegotiateServiceCredential` vlastnost je ignorována.</span><span class="sxs-lookup"><span data-stu-id="6a422-130">If `SecurityMode` is set to `TransportWithMessageCredential`, then the `NegotiateServiceCredential` property is ignored.</span></span>  
  
### <a name="to-configure-a-wsfederationhttpbinding-in-code"></a><span data-ttu-id="6a422-131">Ke konfiguraci třídy WSFederationHttpBinding v kódu</span><span class="sxs-lookup"><span data-stu-id="6a422-131">To configure a WSFederationHttpBinding in code</span></span>  
  
1.  <span data-ttu-id="6a422-132">Vytvoření instance <xref:System.ServiceModel.WSFederationHttpBinding>.</span><span class="sxs-lookup"><span data-stu-id="6a422-132">Create an instance of the <xref:System.ServiceModel.WSFederationHttpBinding>.</span></span>  
  
2.  <span data-ttu-id="6a422-133">Nastavte <xref:System.ServiceModel.WSFederationHttpSecurity.Mode%2A> vlastnost <xref:System.ServiceModel.WSFederationHttpSecurityMode> nebo <xref:System.ServiceModel.WSFederationHttpSecurityMode.Message> podle potřeby.</span><span class="sxs-lookup"><span data-stu-id="6a422-133">Set the <xref:System.ServiceModel.WSFederationHttpSecurity.Mode%2A> property to <xref:System.ServiceModel.WSFederationHttpSecurityMode> or <xref:System.ServiceModel.WSFederationHttpSecurityMode.Message> as required.</span></span> <span data-ttu-id="6a422-134">Pokud sady algoritmus jinak než <xref:System.ServiceModel.Security.SecurityAlgorithmSuite.Basic256%2A> je nutné, nastavte <xref:System.ServiceModel.FederatedMessageSecurityOverHttp.AlgorithmSuite%2A> vlastnost na hodnotu převzaty z <xref:System.ServiceModel.Security.SecurityAlgorithmSuite>.</span><span class="sxs-lookup"><span data-stu-id="6a422-134">If an algorithm suite other than <xref:System.ServiceModel.Security.SecurityAlgorithmSuite.Basic256%2A> is required, set the <xref:System.ServiceModel.FederatedMessageSecurityOverHttp.AlgorithmSuite%2A> property to a value taken from <xref:System.ServiceModel.Security.SecurityAlgorithmSuite>.</span></span>  
  
3.  <span data-ttu-id="6a422-135">Nastavte <xref:System.ServiceModel.FederatedMessageSecurityOverHttp.NegotiateServiceCredential%2A> vlastnost podle potřeby.</span><span class="sxs-lookup"><span data-stu-id="6a422-135">Set the <xref:System.ServiceModel.FederatedMessageSecurityOverHttp.NegotiateServiceCredential%2A> property as appropriate.</span></span>  
  
4.  <span data-ttu-id="6a422-136">Nastavte <xref:System.ServiceModel.FederatedMessageSecurityOverHttp.IssuedKeyType%2A> vlastnost <xref:System.IdentityModel.Tokens.SecurityKeyType> `SymmetricKey` nebo.`AsymmetricKey`</span><span class="sxs-lookup"><span data-stu-id="6a422-136">Set the <xref:System.ServiceModel.FederatedMessageSecurityOverHttp.IssuedKeyType%2A> property to <xref:System.IdentityModel.Tokens.SecurityKeyType>`SymmetricKey` or .`AsymmetricKey`</span></span> <span data-ttu-id="6a422-137">podle potřeby.</span><span class="sxs-lookup"><span data-stu-id="6a422-137">as required.</span></span>  
  
5.  <span data-ttu-id="6a422-138">Nastavte <xref:System.ServiceModel.FederatedMessageSecurityOverHttp.IssuedTokenType%2A> vlastnost na odpovídající hodnotu.</span><span class="sxs-lookup"><span data-stu-id="6a422-138">Set the <xref:System.ServiceModel.FederatedMessageSecurityOverHttp.IssuedTokenType%2A> property to the appropriate value.</span></span> <span data-ttu-id="6a422-139">Pokud není nastavena žádná hodnota, [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] výchozí nastavení je "http://docs.oasis-open.org/wss/oasis-wss-saml-token-profile-1.1#SAMLV1.1", což naznačuje, tokeny SAML 1.1.</span><span class="sxs-lookup"><span data-stu-id="6a422-139">If no value is set, [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] defaults to "http://docs.oasis-open.org/wss/oasis-wss-saml-token-profile-1.1#SAMLV1.1", which indicates SAML 1.1 tokens.</span></span>  
  
6.  <span data-ttu-id="6a422-140">V klientovi požadováno, pokud není zadán žádný místního vystavitele; volitelné služby.</span><span class="sxs-lookup"><span data-stu-id="6a422-140">Required on the client if no local issuer is specified; optional on the service.</span></span> <span data-ttu-id="6a422-141">Vytvoření <xref:System.ServiceModel.EndpointAddress> obsahující informace o adrese a identitě služby tokenů zabezpečení a přiřaďte <xref:System.ServiceModel.EndpointAddress> instance k <xref:System.ServiceModel.FederatedMessageSecurityOverHttp.IssuerAddress%2A> vlastnost.</span><span class="sxs-lookup"><span data-stu-id="6a422-141">Create an <xref:System.ServiceModel.EndpointAddress> that contains the address and identity information of the security token service and assign the <xref:System.ServiceModel.EndpointAddress> instance to the <xref:System.ServiceModel.FederatedMessageSecurityOverHttp.IssuerAddress%2A> property.</span></span>  
  
7.  <span data-ttu-id="6a422-142">V klientovi požadováno, pokud není zadán žádný místního vystavitele; nepoužívá se na službu.</span><span class="sxs-lookup"><span data-stu-id="6a422-142">Required on the client if no local issuer is specified; not used on the service.</span></span> <span data-ttu-id="6a422-143">Vytvoření <xref:System.ServiceModel.Channels.Binding> pro `SecurityTokenService` a přiřaďte <xref:System.ServiceModel.Channels.Binding> instance k <xref:System.ServiceModel.FederatedMessageSecurityOverHttp.IssuerBinding%2A> vlastnost.</span><span class="sxs-lookup"><span data-stu-id="6a422-143">Create a <xref:System.ServiceModel.Channels.Binding> for the `SecurityTokenService` and assign the <xref:System.ServiceModel.Channels.Binding> instance to the <xref:System.ServiceModel.FederatedMessageSecurityOverHttp.IssuerBinding%2A> property.</span></span>  
  
8.  <span data-ttu-id="6a422-144">Nepoužívá se v klientovi; volitelné služby.</span><span class="sxs-lookup"><span data-stu-id="6a422-144">Not used on the client; optional on the service.</span></span> <span data-ttu-id="6a422-145">Vytvoření <xref:System.ServiceModel.EndpointAddress> instanci pro metadata služby tokenů zabezpečení a přiřadit ji ke `IssuerMetadataAddress` vlastnost.</span><span class="sxs-lookup"><span data-stu-id="6a422-145">Create an <xref:System.ServiceModel.EndpointAddress> instance for the metadata of the security token service and assign it to the `IssuerMetadataAddress` property.</span></span>  
  
9. <span data-ttu-id="6a422-146">Volitelné na klienta a služby.</span><span class="sxs-lookup"><span data-stu-id="6a422-146">Optional on both the client and the service.</span></span> <span data-ttu-id="6a422-147">Vytvořit a přidat jeden nebo víc <xref:System.ServiceModel.Security.Tokens.ClaimTypeRequirement> instance ke kolekci vrácené <xref:System.ServiceModel.FederatedMessageSecurityOverHttp.ClaimTypeRequirements%2A> vlastnost.</span><span class="sxs-lookup"><span data-stu-id="6a422-147">Create and add one or more <xref:System.ServiceModel.Security.Tokens.ClaimTypeRequirement> instances to the collection returned by the <xref:System.ServiceModel.FederatedMessageSecurityOverHttp.ClaimTypeRequirements%2A> property.</span></span>  
  
10. <span data-ttu-id="6a422-148">Volitelné na klienta a služby.</span><span class="sxs-lookup"><span data-stu-id="6a422-148">Optional on both the client and the service.</span></span> <span data-ttu-id="6a422-149">Vytvořit a přidat jeden nebo víc <xref:System.Xml.XmlElement> instance ke kolekci vrácené <xref:System.ServiceModel.FederatedMessageSecurityOverHttp.TokenRequestParameters%2A> vlastnost.</span><span class="sxs-lookup"><span data-stu-id="6a422-149">Create and add one or more <xref:System.Xml.XmlElement> instances to the collection returned by the <xref:System.ServiceModel.FederatedMessageSecurityOverHttp.TokenRequestParameters%2A> property.</span></span>  
  
### <a name="to-create-a-federated-endpoint-in-configuration"></a><span data-ttu-id="6a422-150">Chcete-li vytvořit koncový bod federované v konfiguraci</span><span class="sxs-lookup"><span data-stu-id="6a422-150">To create a federated endpoint in configuration</span></span>  
  
1.  <span data-ttu-id="6a422-151">Vytvoření [ \<– wsFederationHttpBinding >](../../../../docs/framework/configure-apps/file-schema/wcf/wsfederationhttpbinding.md) jako podřízenou [ \<vazby >](../../../../docs/framework/configure-apps/file-schema/wcf/bindings.md) element v konfiguračním souboru aplikace.</span><span class="sxs-lookup"><span data-stu-id="6a422-151">Create a [\<wsFederationHttpBinding>](../../../../docs/framework/configure-apps/file-schema/wcf/wsfederationhttpbinding.md) as a child of the [\<bindings>](../../../../docs/framework/configure-apps/file-schema/wcf/bindings.md) element in the application configuration file.</span></span>  
  
2.  <span data-ttu-id="6a422-152">Vytvoření [ \<vazby >](../../../../docs/framework/misc/binding.md) jako podřízený element [ \<– wsFederationHttpBinding >](../../../../docs/framework/configure-apps/file-schema/wcf/wsfederationhttpbinding.md) a nastavte `name` atribut na odpovídající hodnotu.</span><span class="sxs-lookup"><span data-stu-id="6a422-152">Create a [\<binding>](../../../../docs/framework/misc/binding.md) element as a child of [\<wsFederationHttpBinding>](../../../../docs/framework/configure-apps/file-schema/wcf/wsfederationhttpbinding.md) and set the `name` attribute to an appropriate value.</span></span>  
  
3.  <span data-ttu-id="6a422-153">Vytvoření `<security>` jako podřízený element [ \<vazby >](../../../../docs/framework/misc/binding.md) element.</span><span class="sxs-lookup"><span data-stu-id="6a422-153">Create a `<security>` element as a child of the [\<binding>](../../../../docs/framework/misc/binding.md) element.</span></span>  
  
4.  <span data-ttu-id="6a422-154">Nastavte `mode` atributu u `<security>` element na hodnotu `Message` nebo `TransportWithMessageCredential`, podle potřeby.</span><span class="sxs-lookup"><span data-stu-id="6a422-154">Set the `mode` attribute on the `<security>` element to a value of `Message` or `TransportWithMessageCredential`, as required.</span></span>  
  
5.  <span data-ttu-id="6a422-155">Vytvoření `<message>` jako podřízený element `<security>` elementu.</span><span class="sxs-lookup"><span data-stu-id="6a422-155">Create a `<message>` element as a child of the `<security>` element.</span></span>  
  
6.  <span data-ttu-id="6a422-156">Volitelné.</span><span class="sxs-lookup"><span data-stu-id="6a422-156">Optional.</span></span> <span data-ttu-id="6a422-157">Nastavte `algorithmSuite` atributu u `<message>` element s odpovídající hodnotou.</span><span class="sxs-lookup"><span data-stu-id="6a422-157">Set the `algorithmSuite` attribute on the `<message>` element with an appropriate value.</span></span> <span data-ttu-id="6a422-158">Výchozí hodnota je `Basic256`.</span><span class="sxs-lookup"><span data-stu-id="6a422-158">The default is `Basic256`.</span></span>  
  
7.  <span data-ttu-id="6a422-159">Volitelné.</span><span class="sxs-lookup"><span data-stu-id="6a422-159">Optional.</span></span> <span data-ttu-id="6a422-160">Pokud doklad asymetrický klíč se vyžaduje, nastavit `issuedKeyType` atribut `<message>` element `AsymmetricKey`.</span><span class="sxs-lookup"><span data-stu-id="6a422-160">If an asymmetric proof key is required, set the `issuedKeyType` attribute of the `<message>` element to `AsymmetricKey`.</span></span> <span data-ttu-id="6a422-161">Výchozí hodnota je `SymmetricKey`.</span><span class="sxs-lookup"><span data-stu-id="6a422-161">The default is `SymmetricKey`.</span></span>  
  
8.  <span data-ttu-id="6a422-162">Volitelné.</span><span class="sxs-lookup"><span data-stu-id="6a422-162">Optional.</span></span> <span data-ttu-id="6a422-163">Nastavte `issuedTokenType` atributu u `<message>` elementu.</span><span class="sxs-lookup"><span data-stu-id="6a422-163">Set the `issuedTokenType` attribute on the `<message>` element.</span></span>  
  
9. <span data-ttu-id="6a422-164">V klientovi požadováno, pokud není zadán žádný místního vystavitele; volitelné služby.</span><span class="sxs-lookup"><span data-stu-id="6a422-164">Required on the client if no local issuer is specified; optional on the service.</span></span> <span data-ttu-id="6a422-165">Vytvoření `<issuer>` jako podřízený element `<message>` elementu.</span><span class="sxs-lookup"><span data-stu-id="6a422-165">Create an `<issuer>` element as a child of the `<message>` element.</span></span>  
  
10. <span data-ttu-id="6a422-166">Nastavte `address` atribut `<issuer>` elementu a zadejte adresu, na kterém přijímá služby tokenů zabezpečení žádostí o token.</span><span class="sxs-lookup"><span data-stu-id="6a422-166">Set the `address` attribute to the `<issuer>` element and specify the address at which the security token service accepts token requests.</span></span>  
  
11. <span data-ttu-id="6a422-167">Volitelné.</span><span class="sxs-lookup"><span data-stu-id="6a422-167">Optional.</span></span> <span data-ttu-id="6a422-168">Přidat `<identity>` podřízený element a zadejte identitu služby tokenů zabezpečení</span><span class="sxs-lookup"><span data-stu-id="6a422-168">Add an `<identity>` child element and specify the identity of the security token service</span></span>  
  
12. <span data-ttu-id="6a422-169">Další informace najdete v tématu [identita a ověřování služby](../../../../docs/framework/wcf/feature-details/service-identity-and-authentication.md).</span><span class="sxs-lookup"><span data-stu-id="6a422-169">For more information, see [Service Identity and Authentication](../../../../docs/framework/wcf/feature-details/service-identity-and-authentication.md).</span></span>  
  
13. <span data-ttu-id="6a422-170">V klientovi požadováno, pokud není zadán žádný místního vystavitele; nepoužívá se na službu.</span><span class="sxs-lookup"><span data-stu-id="6a422-170">Required on the client if no local issuer is specified; not used on the service.</span></span> <span data-ttu-id="6a422-171">Vytvoření [ \<vazby >](../../../../docs/framework/misc/binding.md) element v části vazby, který slouží ke komunikaci s služby tokenů zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="6a422-171">Create a [\<binding>](../../../../docs/framework/misc/binding.md) element in the bindings section that can be used to communicate with the security token service.</span></span> <span data-ttu-id="6a422-172">Další informace o vytváření vazby najdete v tématu [postupy: zadání vazby služby v konfiguraci](../../../../docs/framework/wcf/how-to-specify-a-service-binding-in-configuration.md).</span><span class="sxs-lookup"><span data-stu-id="6a422-172">For more information about creating a binding, see [How to: Specify a Service Binding in Configuration](../../../../docs/framework/wcf/how-to-specify-a-service-binding-in-configuration.md).</span></span>  
  
14. <span data-ttu-id="6a422-173">Zadání vazby vytvořený v předchozím kroku nastavení `binding` a `bindingConfiguration` atributy `<issuer>` elementu.</span><span class="sxs-lookup"><span data-stu-id="6a422-173">Specify the binding created in the previous step by setting the `binding` and `bindingConfiguration` attributes of the `<issuer>` element.</span></span>  
  
15. <span data-ttu-id="6a422-174">Nepoužívá se v klientovi; volitelné služby.</span><span class="sxs-lookup"><span data-stu-id="6a422-174">Not used on the client; optional on the service.</span></span> <span data-ttu-id="6a422-175">Vytvoření `<issuerMetadata>` jako podřízený element <`message`> elementu.</span><span class="sxs-lookup"><span data-stu-id="6a422-175">Create an `<issuerMetadata>` element as a child of the <`message`> element.</span></span> <span data-ttu-id="6a422-176">Potom v `address` atributu u `<issuerMetadata>` elementu, zadejte adresu, na které má publikování metadat služby tokenů zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="6a422-176">Then, in an `address` attribute on the `<issuerMetadata>` element, specify the address at which the security token service is to publish its metadata.</span></span> <span data-ttu-id="6a422-177">Volitelně lze přidat `<identity>` podřízený element a zadejte identitu služby tokenů zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="6a422-177">Optionally, add an `<identity>` child element and specify the identity of the security token service.</span></span>  
  
16. <span data-ttu-id="6a422-178">Volitelné na klienta a služby.</span><span class="sxs-lookup"><span data-stu-id="6a422-178">Optional on both the client and the service.</span></span> <span data-ttu-id="6a422-179">Přidat `<claimTypeRequirements>` jako podřízený element `<message>` elementu.</span><span class="sxs-lookup"><span data-stu-id="6a422-179">Add a `<claimTypeRequirements>` element as a child of the `<message>` element.</span></span> <span data-ttu-id="6a422-180">Zadejte požadované a volitelné deklarace identity služba založená na přidáním [ \<Přidat >](../../../../docs/framework/configure-apps/file-schema/wcf/add-of-claimtyperequirements.md) elementů `<claimTypeRequirements>` elementu a určení deklarace identity zadejte s `claimType` atribut.</span><span class="sxs-lookup"><span data-stu-id="6a422-180">Specify required and optional claims that the service relies on by adding [\<add>](../../../../docs/framework/configure-apps/file-schema/wcf/add-of-claimtyperequirements.md) elements to the `<claimTypeRequirements>` element and specifying the claim type with the `claimType` attribute.</span></span> <span data-ttu-id="6a422-181">Určete, zda je daný deklarace identity požadované nebo volitelné nastavením `isOptional` atribut.</span><span class="sxs-lookup"><span data-stu-id="6a422-181">Specify whether a given claim is required or optional by setting the `isOptional` attribute.</span></span>  
  
## <a name="example"></a><span data-ttu-id="6a422-182">Příklad</span><span class="sxs-lookup"><span data-stu-id="6a422-182">Example</span></span>  
 <span data-ttu-id="6a422-183">Následující příklad kódu ukazuje kód pro nastavení `WSFederationHttpBinding` imperativní.</span><span class="sxs-lookup"><span data-stu-id="6a422-183">The following code sample shows code for setting up a `WSFederationHttpBinding` imperatively.</span></span>  
  
 [!code-csharp[c_FederationBinding#2](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_federationbinding/cs/source.cs#2)] 
 [!code-vb[c_FederationBinding#2](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_federationbinding/vb/source.vb#2)]  
  
## <a name="see-also"></a><span data-ttu-id="6a422-184">Viz také</span><span class="sxs-lookup"><span data-stu-id="6a422-184">See Also</span></span>  
 [<span data-ttu-id="6a422-185">Federace</span><span class="sxs-lookup"><span data-stu-id="6a422-185">Federation</span></span>](../../../../docs/framework/wcf/feature-details/federation.md)  
 [<span data-ttu-id="6a422-186">Ukázka federace</span><span class="sxs-lookup"><span data-stu-id="6a422-186">Federation Sample</span></span>](../../../../docs/framework/wcf/samples/federation-sample.md)  
 [<span data-ttu-id="6a422-187">Postupy: Zakázání zabezpečených relací u WSFederationHttpBinding</span><span class="sxs-lookup"><span data-stu-id="6a422-187">How to: Disable Secure Sessions on a WSFederationHttpBinding</span></span>](../../../../docs/framework/wcf/feature-details/how-to-disable-secure-sessions-on-a-wsfederationhttpbinding.md)
