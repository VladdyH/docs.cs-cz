---
title: Migrace WSE 3.0 Web Services do WCF
ms.custom: ''
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: ''
ms.suite: ''
ms.technology:
- dotnet-clr
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 7bc5fff7-a2b2-4dbc-86cc-ecf73653dcdc
caps.latest.revision: ''
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload:
- dotnet
ms.openlocfilehash: a7e7187eb6ed444ba2c28aa301ce4b3b16129030
ms.sourcegitcommit: c883637b41ee028786edceece4fa872939d2e64c
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 03/26/2018
---
# <a name="migrating-wse-30-web-services-to-wcf"></a><span data-ttu-id="8b2c6-102">Migrace WSE 3.0 Web Services do WCF</span><span class="sxs-lookup"><span data-stu-id="8b2c6-102">Migrating WSE 3.0 Web Services to WCF</span></span>
<span data-ttu-id="8b2c6-103">Výhody migrace WSE 3.0 webových služeb pro [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] zahrnují lepší výkon a podporuje další přenosy, další bezpečnostní scénáře a WS-\* specifikace.</span><span class="sxs-lookup"><span data-stu-id="8b2c6-103">The benefits of migrating WSE 3.0 Web services to [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] include improved performance and the support of additional transports, additional security scenarios, and WS-\* specifications.</span></span> <span data-ttu-id="8b2c6-104">Webová služba, která je migrována z WSE 3.0, která [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] může mít až 200 až 400 % výkonu v přírůstcích.</span><span class="sxs-lookup"><span data-stu-id="8b2c6-104">A Web service that is migrated from WSE 3.0 to [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] can experience up to a 200% to 400% performance improvement.</span></span> <span data-ttu-id="8b2c6-105">Další informace o přenosech nepodporuje [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)], najdete v části [volba přenosu](../../../../docs/framework/wcf/feature-details/choosing-a-transport.md).</span><span class="sxs-lookup"><span data-stu-id="8b2c6-105">For more information about the transports supported by [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)], see [Choosing a Transport](../../../../docs/framework/wcf/feature-details/choosing-a-transport.md).</span></span> <span data-ttu-id="8b2c6-106">Seznam scénáře podporované nástrojem [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)], najdete v části [běžné scénáře zabezpečení](../../../../docs/framework/wcf/feature-details/common-security-scenarios.md).</span><span class="sxs-lookup"><span data-stu-id="8b2c6-106">For a list of the scenarios supported by [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)], see [Common Security Scenarios](../../../../docs/framework/wcf/feature-details/common-security-scenarios.md).</span></span> <span data-ttu-id="8b2c6-107">Seznam specifikace, které jsou podporovány [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)], najdete v části [Průvodce interoperabilitou protokolů webových služeb](../../../../docs/framework/wcf/feature-details/web-services-protocols-interoperability-guide.md).</span><span class="sxs-lookup"><span data-stu-id="8b2c6-107">For a list of the specifications that are supported by [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)], see [Web Services Protocols Interoperability Guide](../../../../docs/framework/wcf/feature-details/web-services-protocols-interoperability-guide.md).</span></span>  
  
 <span data-ttu-id="8b2c6-108">V následujících částech najdete pokyny o tom, jak migrovat WSE 3.0 webové služby pro konkrétní funkci [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)].</span><span class="sxs-lookup"><span data-stu-id="8b2c6-108">The following sections provide guidance on how to migrate a specific feature of a WSE 3.0 Web service to [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)].</span></span>  
  
## <a name="general"></a><span data-ttu-id="8b2c6-109">Obecné</span><span class="sxs-lookup"><span data-stu-id="8b2c6-109">General</span></span>  
 <span data-ttu-id="8b2c6-110">WSE 3.0 a [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] aplikace patří úroveň interoperabilita a společnou sadu terminologie.</span><span class="sxs-lookup"><span data-stu-id="8b2c6-110">WSE 3.0 and [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] applications include wire-level interoperability and a common set of terminology.</span></span> <span data-ttu-id="8b2c6-111">WSE 3.0 a [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] aplikace jsou úroveň umožňuje vzájemnou spolupráci založené na sadu WS-\* specifikace, které oba podporují.</span><span class="sxs-lookup"><span data-stu-id="8b2c6-111">WSE 3.0 and [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] applications are wire-level interoperable based on the set of WS-\* specifications that they both support.</span></span> <span data-ttu-id="8b2c6-112">Když WSE 3.0 nebo [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] vyvinutý aplikace je společnou sadu technologiím, jako jsou názvy kontrolní výrazy připraveného zabezpečení ve WSE a režimy ověřování.</span><span class="sxs-lookup"><span data-stu-id="8b2c6-112">When a WSE 3.0 or [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] application is developed there is a common set of terminology, such as the names of the turnkey security assertions in WSE and the authentication modes.</span></span>  
  
 <span data-ttu-id="8b2c6-113">I když jsou mezi mnoha podobné aspekty [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] a technologie ASP.NET nebo WSE 3.0 programovací modely, se liší.</span><span class="sxs-lookup"><span data-stu-id="8b2c6-113">Although there are many similar aspects between the [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] and ASP.NET or WSE 3.0 programming models, they are different.</span></span> <span data-ttu-id="8b2c6-114">Podrobnosti o [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] programovací model, najdete v části [základní programovací životní cyklus](../../../../docs/framework/wcf/basic-programming-lifecycle.md).</span><span class="sxs-lookup"><span data-stu-id="8b2c6-114">For details about the [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] programming model, see [Basic Programming Lifecycle](../../../../docs/framework/wcf/basic-programming-lifecycle.md).</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="8b2c6-115">Migrace WSE webové služby do WCF [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) nástroj lze použít ke generování klienta.</span><span class="sxs-lookup"><span data-stu-id="8b2c6-115">To migrate a WSE Web service to WCF the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) tool can be used to generate a client.</span></span> <span data-ttu-id="8b2c6-116">Tohoto klienta, ale obsahuje rozhraní a třídy, které lze použít jako počáteční bod pro služby WCF příliš.</span><span class="sxs-lookup"><span data-stu-id="8b2c6-116">That client however contains interfaces and classes that can be used as a starting point for a WCF service too.</span></span> <span data-ttu-id="8b2c6-117">Rozhraní, které se vygenerovaly <xref:System.ServiceModel.OperationContractAttribute> atribut použitý k členům kontrakt s <xref:System.ServiceModel.OperationContractAttribute.ReplyAction%2A> vlastnost nastavena na hodnotu `*`.</span><span class="sxs-lookup"><span data-stu-id="8b2c6-117">The interfaces that are generated have the <xref:System.ServiceModel.OperationContractAttribute> attribute applied to the members of the contract with the <xref:System.ServiceModel.OperationContractAttribute.ReplyAction%2A> property set to `*`.</span></span> <span data-ttu-id="8b2c6-118">Když klient WSE volání webové služby s tímto nastavením, je vyvolána následující výjimky: **Web.Services3.ResponseProcessingException: WSE910: došlo k chybě při zpracování zprávy s odpovědí, a můžete najít v vnitřní chyba výjimka**.</span><span class="sxs-lookup"><span data-stu-id="8b2c6-118">When a WSE client calls a Web service with this setting, the following exception is thrown: **Web.Services3.ResponseProcessingException: WSE910: An error happened during the processing of a response message, and you can find the error in the inner exception**.</span></span> <span data-ttu-id="8b2c6-119">Toto riziko lze nastavit <xref:System.ServiceModel.OperationContractAttribute.ReplyAction%2A> vlastnost <xref:System.ServiceModel.OperationContractAttribute> atribut jinou hodnotu než`null` hodnotu, jako například `http://Microsoft.WCF.Documentation/ResponseToOCAMethod`.</span><span class="sxs-lookup"><span data-stu-id="8b2c6-119">To mitigate this, set the <xref:System.ServiceModel.OperationContractAttribute.ReplyAction%2A> property of the <xref:System.ServiceModel.OperationContractAttribute> attribute to a non-`null` value, such as `http://Microsoft.WCF.Documentation/ResponseToOCAMethod`.</span></span>  
  
## <a name="security"></a><span data-ttu-id="8b2c6-120">Zabezpečení</span><span class="sxs-lookup"><span data-stu-id="8b2c6-120">Security</span></span>  
  
### <a name="wse-30-web-services-that-are-secured-using-a-policy-file"></a><span data-ttu-id="8b2c6-121">WSE 3.0 webové služby, které jsou zabezpečené pomocí souboru zásad</span><span class="sxs-lookup"><span data-stu-id="8b2c6-121">WSE 3.0 Web services that are secured using a policy file</span></span>  
 [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]<span data-ttu-id="8b2c6-122"> služby soubor konfigurace můžete použít k zabezpečení služby a že mechanismus je podobný soubor zásad WSE 3.0.</span><span class="sxs-lookup"><span data-stu-id="8b2c6-122"> services can use a configuration file to secure a service and that mechanism is similar to a WSE 3.0 policy file.</span></span> <span data-ttu-id="8b2c6-123">Ve WSE 3.0 při zabezpečení webové služby pomocí soubor zásad použijete připraveného security assertion nebo výraz vlastních zásad.</span><span class="sxs-lookup"><span data-stu-id="8b2c6-123">In WSE 3.0 when securing a Web service using a policy file, you use either a turnkey security assertion or a custom policy assertion.</span></span> <span data-ttu-id="8b2c6-124">Kontrolní výrazy připraveného zabezpečení mapovat úzce režim ověřování [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] zabezpečení prvku vazby.</span><span class="sxs-lookup"><span data-stu-id="8b2c6-124">The turnkey security assertions map closely to the authentication mode of a [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] security binding element.</span></span> <span data-ttu-id="8b2c6-125">Není pouze [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] režimy ověřování a kontrolní výrazy připraveného zabezpečení WSE 3.0 se stejným názvem nebo podobně jejich zabezpečení zprávy pomocí stejné typy přihlašovacích údajů.</span><span class="sxs-lookup"><span data-stu-id="8b2c6-125">Not only are the [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] authentication modes and WSE 3.0 turnkey security assertions named the same or similarly, they secure the messages using the same credential types.</span></span> <span data-ttu-id="8b2c6-126">Například `usernameForCertificate` připraveného security assertion ve WSE 3.0 se mapuje `UsernameForCertificate` režim ověřování v [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)].</span><span class="sxs-lookup"><span data-stu-id="8b2c6-126">For instance, the `usernameForCertificate` turnkey security assertion in WSE 3.0 maps to the `UsernameForCertificate` authentication mode in [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)].</span></span> <span data-ttu-id="8b2c6-127">Následující příklady kódu ukazují, jak minimální zásadu, která používá `usernameForCertificate` připraveného security assertion ve WSE 3.0 se mapuje `UsernameForCertificate` režim ověřování v [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] ve vlastní vazby.</span><span class="sxs-lookup"><span data-stu-id="8b2c6-127">The following code examples demonstrate how a minimal policy that uses the `usernameForCertificate` turnkey security assertion in WSE 3.0 maps to a `UsernameForCertificate` authentication mode in [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] in a custom binding.</span></span>  
  
 <span data-ttu-id="8b2c6-128">**WSE 3.0**</span><span class="sxs-lookup"><span data-stu-id="8b2c6-128">**WSE 3.0**</span></span>  
  
```xml  
<policies>  
  <policy name="MyPolicy">  
    <usernameForCertificate messageProtectionOrder="SignBeforeEncrypt"  
                            requireDeriveKeys="true"/>  
  </policy>  
</policies>  
```  
  
 <span data-ttu-id="8b2c6-129">**WCF**</span><span class="sxs-lookup"><span data-stu-id="8b2c6-129">**WCF**</span></span>  
  
```xml  
<customBinding>  
  <binding name="MyBinding">  
    <security authenticationMode="UserNameForCertificate"   
              messageProtectionOrder="SignBeforeEncrypt"  
              requireDerivedKeys="true"/>  
  </binding>  
</customBinding>  
```  
  
 <span data-ttu-id="8b2c6-130">K migraci nastavení zabezpečení WSE 3.0 Web služby, které jsou určené v soubor zásad, který chcete [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)], vlastní vazby je nutné vytvořit v konfiguračním souboru, a to security assertion musí být nastavená na režim ekvivalentní ověřování.</span><span class="sxs-lookup"><span data-stu-id="8b2c6-130">To migrate the security settings of a WSE 3.0 Web service that are specified in a policy file to [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)], a custom binding must be created in a configuration file and the turnkey security assertion must be set to its equivalent authentication mode.</span></span> <span data-ttu-id="8b2c6-131">Kromě toho musí být vlastní vazby nakonfigurován pro použití v srpnu 2004 specifikaci WS-Addressing Pokud WSE 3.0 klienti komunikují se službou.</span><span class="sxs-lookup"><span data-stu-id="8b2c6-131">Additionally, the custom binding must be configured to use the August 2004 WS-Addressing specification when WSE 3.0 clients communicate with the service.</span></span> <span data-ttu-id="8b2c6-132">Když migrovaných [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] služba nevyžaduje komunikaci s klienty WSE 3.0 a musí udržovat pouze paritní zabezpečení, zvažte použití [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] definovaná systémem vazby s příslušná nastavení zabezpečení místo vytvoření vlastní vazba.</span><span class="sxs-lookup"><span data-stu-id="8b2c6-132">When the migrated [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] service does not require communication with WSE 3.0 clients and must only maintain security parity, consider using the [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] system-defined bindings with appropriate security settings instead of creating a custom binding.</span></span>  
  
 <span data-ttu-id="8b2c6-133">Následující tabulka uvádí mapování mezi soubor zásad WSE 3.0 a jeho ekvivalent vlastní vazby ve [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)].</span><span class="sxs-lookup"><span data-stu-id="8b2c6-133">The following table lists the mapping between a WSE 3.0 policy file and the equivalent custom binding in [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)].</span></span>  
  
|<span data-ttu-id="8b2c6-134">Kontrolní výraz WSE 3.0 to zabezpečení</span><span class="sxs-lookup"><span data-stu-id="8b2c6-134">WSE 3.0 Turnkey Security Assertion</span></span>|<span data-ttu-id="8b2c6-135">Konfigurace vlastních vazeb WCF</span><span class="sxs-lookup"><span data-stu-id="8b2c6-135">WCF custom binding configuration</span></span>|  
|----------------------------------------|--------------------------------------|  
|<span data-ttu-id="8b2c6-136">\<usernameOverTransportSecurity /></span><span class="sxs-lookup"><span data-stu-id="8b2c6-136">\<usernameOverTransportSecurity /></span></span>|`<customBinding>   <binding name="MyBinding">     <security authenticationMode="UserNameOverTransport" />     <textMessageEncoding messageVersion="Soap12WSAddressingAugust2004" />   </binding> </customBinding>`|  
|<span data-ttu-id="8b2c6-137">\<mutualCertificate10Security / ></span><span class="sxs-lookup"><span data-stu-id="8b2c6-137">\<mutualCertificate10Security /></span></span>|`<customBinding>   <binding name="MyBinding">     <security messageSecurityVersion="WSSecurity10WSTrustFebruary2005WSSecureConversationFebruary2005WSSecurityPolicy11BasicSecurityProfile10" authenticationMode="MutualCertificate" />     <textMessageEncoding messageVersion="Soap12WSAddressingAugust2004" />   </binding> </customBinding>`|  
|<span data-ttu-id="8b2c6-138">\<usernameForCertificateSecurity /></span><span class="sxs-lookup"><span data-stu-id="8b2c6-138">\<usernameForCertificateSecurity /></span></span>|`<customBinding>   <binding name="MyBinding">     <security authenticationMode="UsernameForCertificate"/>     <textMessageEncoding messageVersion="Soap12WSAddressingAugust2004" />   </binding> </customBinding>`|  
|<span data-ttu-id="8b2c6-139">\<anonymousForCertificateSecurity / ></span><span class="sxs-lookup"><span data-stu-id="8b2c6-139">\<anonymousForCertificateSecurity /></span></span>|`<customBinding>   <binding name="MyBinding">     <security authenticationMode="AnonymousForCertificate"/>     <textMessageEncoding messageVersion="Soap12WSAddressingAugust2004" />   </binding> </customBinding>`|  
|<span data-ttu-id="8b2c6-140">\<kerberosSecurity /></span><span class="sxs-lookup"><span data-stu-id="8b2c6-140">\<kerberosSecurity /></span></span>|`<customBinding>   <binding name="MyBinding">     <security authenticationMode="Kerberos"/>     <textMessageEncoding messageVersion="Soap12WSAddressingAugust2004" />   </binding> </customBinding>`|  
|<span data-ttu-id="8b2c6-141">\<mutualCertificate11Security / ></span><span class="sxs-lookup"><span data-stu-id="8b2c6-141">\<mutualCertificate11Security /></span></span>|`<customBinding>   <binding name="MyBinding">     <security authenticationMode="MutualCertificate"/>     <textMessageEncoding messageVersion="Soap12WSAddressingAugust2004" />   </binding> </customBinding>`|  
  
 <span data-ttu-id="8b2c6-142">Další informace o vytváření vlastních vazeb ve službě WCF najdete v tématu [vlastní vazby](../../../../docs/framework/wcf/extending/custom-bindings.md).</span><span class="sxs-lookup"><span data-stu-id="8b2c6-142">For more information about creating custom bindings in WCF, see [Custom Bindings](../../../../docs/framework/wcf/extending/custom-bindings.md).</span></span>  
  
### <a name="wse-30-web-services-that-are-secured-using-application-code"></a><span data-ttu-id="8b2c6-143">WSE 3.0 webové služby, které jsou zabezpečené pomocí kódu aplikace</span><span class="sxs-lookup"><span data-stu-id="8b2c6-143">WSE 3.0 Web services that are secured using application code</span></span>  
 <span data-ttu-id="8b2c6-144">Jestli WSE 3.0 nebo [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] se používá, požadavky na zabezpečení lze zadat v kódu aplikace místo v konfiguraci.</span><span class="sxs-lookup"><span data-stu-id="8b2c6-144">Whether WSE 3.0 or [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] is used, the security requirements can be specified in application code instead of in configuration.</span></span> <span data-ttu-id="8b2c6-145">Ve WSE 3.0 toho dosahuje tak, že vytvoříte třídu odvozenou z `Policy` třídy a tím požadavky na přidání voláním `Add` metoda.</span><span class="sxs-lookup"><span data-stu-id="8b2c6-145">In WSE 3.0, this is accomplished by creating a class that derives from the `Policy` class and then by adding the requirements by calling the `Add` method.</span></span> <span data-ttu-id="8b2c6-146">Další informace o zadávání požadavky na zabezpečení v kódu najdete v tématu [postupy: zabezpečené webové bez službu pomocí souboru zásad](http://go.microsoft.com/fwlink/?LinkId=73747).</span><span class="sxs-lookup"><span data-stu-id="8b2c6-146">For more details about specifying the security requirements in code, see [How to: Secure a Web Service Without Using a Policy File](http://go.microsoft.com/fwlink/?LinkId=73747).</span></span> <span data-ttu-id="8b2c6-147">V [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)], abyste mohli určit požadavky na zabezpečení v kódu, vytvořte instanci <xref:System.ServiceModel.Channels.BindingElementCollection> třídu a přidejte instance <xref:System.ServiceModel.Channels.SecurityBindingElement> k <xref:System.ServiceModel.Channels.BindingElementCollection>.</span><span class="sxs-lookup"><span data-stu-id="8b2c6-147">In [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)], to specify security requirements in code, create an instance of the <xref:System.ServiceModel.Channels.BindingElementCollection> class and add an instance of a <xref:System.ServiceModel.Channels.SecurityBindingElement> to the <xref:System.ServiceModel.Channels.BindingElementCollection>.</span></span> <span data-ttu-id="8b2c6-148">Kontrolní výraz požadavky na zabezpečení jsou nastaveny pomocí statické režimu pomocné metody ověřování <xref:System.ServiceModel.Channels.SecurityBindingElement> třídy.</span><span class="sxs-lookup"><span data-stu-id="8b2c6-148">The security assertion requirements are set using the static authentication mode helper methods of the <xref:System.ServiceModel.Channels.SecurityBindingElement> class.</span></span> <span data-ttu-id="8b2c6-149">Další informace o určení požadavky na zabezpečení v kódu pomocí [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)], najdete v části [postupy: vytvoření vlastní vazby pomocí elementu SecurityBindingElement](../../../../docs/framework/wcf/feature-details/how-to-create-a-custom-binding-using-the-securitybindingelement.md) a [postupy: vytvoření elementu SecurityBindingElement pro Zadaný režim ověřování](../../../../docs/framework/wcf/feature-details/how-to-create-a-securitybindingelement-for-a-specified-authentication-mode.md).</span><span class="sxs-lookup"><span data-stu-id="8b2c6-149">For more details about specifying security requirements in code using [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)], see [How to: Create a Custom Binding Using the SecurityBindingElement](../../../../docs/framework/wcf/feature-details/how-to-create-a-custom-binding-using-the-securitybindingelement.md) and [How to: Create a SecurityBindingElement for a Specified Authentication Mode](../../../../docs/framework/wcf/feature-details/how-to-create-a-securitybindingelement-for-a-specified-authentication-mode.md).</span></span>  
  
### <a name="wse-30-custom-policy-assertion"></a><span data-ttu-id="8b2c6-150">Výraz WSE 3.0 vlastních zásad</span><span class="sxs-lookup"><span data-stu-id="8b2c6-150">WSE 3.0 Custom Policy Assertion</span></span>  
 <span data-ttu-id="8b2c6-151">Ve WSE 3.0 existují dva typy kontrolních výrazů vlastních zásad: ty, které zabezpečení zprávu protokolu SOAP a ty, které není zabezpečené zprávu protokolu SOAP.</span><span class="sxs-lookup"><span data-stu-id="8b2c6-151">In WSE 3.0 there are two types of custom policy assertions: those that secure a SOAP message and those that do not secure a SOAP message.</span></span> <span data-ttu-id="8b2c6-152">Kontrolní výrazy zásad, které zabezpečené protokolu SOAP zprávy jsou odvozeny od WSE 3.0 `SecurityPolicyAssertion` třídy a koncepční ekvivalent v [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] je <xref:System.ServiceModel.Channels.SecurityBindingElement> třídy.</span><span class="sxs-lookup"><span data-stu-id="8b2c6-152">Policy assertions that secure SOAP messages derive from WSE 3.0 `SecurityPolicyAssertion` class and the conceptual equivalent in [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] is the <xref:System.ServiceModel.Channels.SecurityBindingElement> class.</span></span>  
  
 <span data-ttu-id="8b2c6-153">Důležitá poznámka: je, že kontrolní výrazy připraveného zabezpečení WSE 3.0 jsou podmnožinou [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] režimy ověřování.</span><span class="sxs-lookup"><span data-stu-id="8b2c6-153">An important point to note is that the WSE 3.0 turnkey security assertions are a subset of the [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] authentication modes.</span></span> <span data-ttu-id="8b2c6-154">Pokud jste vytvořili vlastní zásady assertion ve WSE 3.0, může být ekvivalentní [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] režim ověřování.</span><span class="sxs-lookup"><span data-stu-id="8b2c6-154">If you have created a custom policy assertion in WSE 3.0, there may be an equivalent [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] authentication mode.</span></span> <span data-ttu-id="8b2c6-155">Například WSE 3.0 neposkytuje assertion CertificateOverTransport zabezpečení, která se o ekvivalent `UsernameOverTransport` assertion připraveného zabezpečení, ale používá certifikát X.509 pro účely ověření klienta.</span><span class="sxs-lookup"><span data-stu-id="8b2c6-155">For example, WSE 3.0 does not provide a CertificateOverTransport security assertion that is the equivalent to `UsernameOverTransport` turnkey security assertion, but uses an X.509 certificate for client authentication purposes.</span></span> <span data-ttu-id="8b2c6-156">Pokud jste definovali vlastní výraz vlastních zásad pro tento scénář [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] díky migrace je přehledné.</span><span class="sxs-lookup"><span data-stu-id="8b2c6-156">If you have defined your own custom policy assertion for this scenario, [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] makes the migration straightforward.</span></span> [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]<span data-ttu-id="8b2c6-157"> Definuje režim ověřování pro tento scénář, můžete využít výhod statické ověřování režimu pomocné metody pro konfiguraci [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] <xref:System.ServiceModel.Channels.SecurityBindingElement>.</span><span class="sxs-lookup"><span data-stu-id="8b2c6-157"> defines an authentication mode for this scenario, so you can take advantage of the static authentication mode helper methods to configure a [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]<xref:System.ServiceModel.Channels.SecurityBindingElement>.</span></span>  
  
 <span data-ttu-id="8b2c6-158">Pokud není k dispozici [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] režim ověřování, který je ekvivalentní assertion vlastní zásady, které slouží k zabezpečení protokolu SOAP zprávy odvození třídy z <xref:System.ServiceModel.Channels.TransportSecurityBindingElement>, <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement> nebo <xref:System.ServiceModel.Channels.AsymmetricSecurityBindingElement> [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] třídy a zadání ekvivalentní vazby element.</span><span class="sxs-lookup"><span data-stu-id="8b2c6-158">When there is not a [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] authentication mode that is equivalent to a custom policy assertion that secures SOAP messages, derive a class from <xref:System.ServiceModel.Channels.TransportSecurityBindingElement>, <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement> or <xref:System.ServiceModel.Channels.AsymmetricSecurityBindingElement>[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] classes and specify the equivalent binding element.</span></span> <span data-ttu-id="8b2c6-159">Další podrobnosti najdete v tématu [postupy: vytvoření vlastní vazby pomocí elementu SecurityBindingElement](../../../../docs/framework/wcf/feature-details/how-to-create-a-custom-binding-using-the-securitybindingelement.md).</span><span class="sxs-lookup"><span data-stu-id="8b2c6-159">For more details, see [How to: Create a Custom Binding Using the SecurityBindingElement](../../../../docs/framework/wcf/feature-details/how-to-create-a-custom-binding-using-the-securitybindingelement.md).</span></span>  
  
 <span data-ttu-id="8b2c6-160">Převést vlastní zásady kontrolní výraz, který nezabezpečuje zprávu protokolu SOAP, najdete v části [filtrování](../../../../docs/framework/wcf/feature-details/filtering.md) a ukázky [vlastní zachycování zpráv](../../../../docs/framework/wcf/samples/custom-message-interceptor.md).</span><span class="sxs-lookup"><span data-stu-id="8b2c6-160">To convert a custom policy assertion that does not secure a SOAP message, see [Filtering](../../../../docs/framework/wcf/feature-details/filtering.md) and the sample [Custom Message Interceptor](../../../../docs/framework/wcf/samples/custom-message-interceptor.md).</span></span>  
  
### <a name="wse-30-custom-security-token"></a><span data-ttu-id="8b2c6-161">Token WSE 3.0 vlastní zabezpečení</span><span class="sxs-lookup"><span data-stu-id="8b2c6-161">WSE 3.0 Custom Security Token</span></span>  
 <span data-ttu-id="8b2c6-162">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] Programovací model pro vytvoření vlastního tokenu se liší od WSE 3.0.</span><span class="sxs-lookup"><span data-stu-id="8b2c6-162">The [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] programming model for creating a custom token is different than WSE 3.0.</span></span> <span data-ttu-id="8b2c6-163">Podrobnosti o vytváření vlastního tokenu ve WSE najdete v tématu [vytváření vlastní tokeny zabezpečení](http://go.microsoft.com/fwlink/?LinkID=73750).</span><span class="sxs-lookup"><span data-stu-id="8b2c6-163">For details about creating a custom token in WSE, see [Creating Custom Security Tokens](http://go.microsoft.com/fwlink/?LinkID=73750).</span></span> <span data-ttu-id="8b2c6-164">Podrobnosti o vytvoření vlastního tokenu v [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)], najdete v části [postupy: vytvoření vlastního tokenu](../../../../docs/framework/wcf/extending/how-to-create-a-custom-token.md).</span><span class="sxs-lookup"><span data-stu-id="8b2c6-164">For details about creating a custom token in [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)], see [How to: Create a Custom Token](../../../../docs/framework/wcf/extending/how-to-create-a-custom-token.md).</span></span>  
  
### <a name="wse-30-custom-token-manager"></a><span data-ttu-id="8b2c6-165">WSE 3.0 vlastní Správce tokenu</span><span class="sxs-lookup"><span data-stu-id="8b2c6-165">WSE 3.0 Custom Token Manager</span></span>  
 <span data-ttu-id="8b2c6-166">Programovací model pro vytváření vlastních tokenů manager se liší v [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] než WSE 3.0.</span><span class="sxs-lookup"><span data-stu-id="8b2c6-166">The programming model for creating a custom token manager is different in [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] than WSE 3.0.</span></span> <span data-ttu-id="8b2c6-167">Podrobnosti o tom, jak vytvořit vlastní tokenu správce a ostatní součásti, které jsou požadovány pro token vlastní zabezpečení najdete v tématu [postupy: vytvoření vlastního tokenu](../../../../docs/framework/wcf/extending/how-to-create-a-custom-token.md).</span><span class="sxs-lookup"><span data-stu-id="8b2c6-167">For details about how to create a custom token manager and the other components that are required for a custom security token, see [How to: Create a Custom Token](../../../../docs/framework/wcf/extending/how-to-create-a-custom-token.md).</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="8b2c6-168">Pokud jste vytvořili vlastní `UsernameToken` Správce tokenů zabezpečení [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] poskytuje snadný nástroj k určení logiku ověřování než vytváření vlastní zabezpečení Správce tokenu.</span><span class="sxs-lookup"><span data-stu-id="8b2c6-168">If you have created a custom `UsernameToken` security token manager, [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] provides an easier mechanism to specify the authentication logic than creating a custom security token manager.</span></span> <span data-ttu-id="8b2c6-169">Další podrobnosti najdete v tématu [postupy: použití vlastní uživatelské jméno a heslo validátoru](../../../../docs/framework/wcf/feature-details/how-to-use-a-custom-user-name-and-password-validator.md).</span><span class="sxs-lookup"><span data-stu-id="8b2c6-169">For more details, see [How to: Use a Custom User Name and Password Validator](../../../../docs/framework/wcf/feature-details/how-to-use-a-custom-user-name-and-password-validator.md).</span></span>  
  
### <a name="wse-30-web-services-that-use-mtom-encoded-soap-messages"></a><span data-ttu-id="8b2c6-170">WSE 3.0 webové služby, které používají MTOM kódování zprávy protokolu SOAP</span><span class="sxs-lookup"><span data-stu-id="8b2c6-170">WSE 3.0 Web services that use MTOM encoded SOAP messages</span></span>  
 <span data-ttu-id="8b2c6-171">Jako WSE 3 aplikaci, [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] aplikace můžete zadat zprávu MTOM kódování v konfiguraci.</span><span class="sxs-lookup"><span data-stu-id="8b2c6-171">Like a WSE 3 application, a [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] application can specify the MTOM message encoding in configuration.</span></span> <span data-ttu-id="8b2c6-172">Chcete-li provést migraci tohoto nastavení, přidejte [ \<mtomMessageEncoding >](../../../../docs/framework/configure-apps/file-schema/wcf/mtommessageencoding.md) pro vazbu pro danou službu.</span><span class="sxs-lookup"><span data-stu-id="8b2c6-172">To migrate this setting, add the [\<mtomMessageEncoding>](../../../../docs/framework/configure-apps/file-schema/wcf/mtommessageencoding.md) to the binding for the service.</span></span> <span data-ttu-id="8b2c6-173">Následující příklad kódu ukazuje, jak kódování MTOM je zadaný v WSE 3.0 pro službu, která je ekvivalentní v [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)].</span><span class="sxs-lookup"><span data-stu-id="8b2c6-173">The following code example demonstrates how MTOM encoding is specified in WSE 3.0 for a service that is equivalent in [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)].</span></span>  
  
 <span data-ttu-id="8b2c6-174">**WSE 3.0**</span><span class="sxs-lookup"><span data-stu-id="8b2c6-174">**WSE 3.0**</span></span>  
  
```xml  
<messaging>  
    <mtom clientMode="On"/>  
</messaging>  
```  
  
 <span data-ttu-id="8b2c6-175">**WCF**</span><span class="sxs-lookup"><span data-stu-id="8b2c6-175">**WCF**</span></span>  
  
```xml  
<customBinding>  
  <binding name="MyBinding">  
    <mtomMessageEncoding/>  
  </binding>  
</customBinding>  
```  
  
## <a name="messaging"></a><span data-ttu-id="8b2c6-176">Zasílání zpráv</span><span class="sxs-lookup"><span data-stu-id="8b2c6-176">Messaging</span></span>  
  
### <a name="wse-30-applications-that-use-the-wse-messaging-api"></a><span data-ttu-id="8b2c6-177">WSE 3.0 aplikací, které používají rozhraní API WSE zasílání zpráv</span><span class="sxs-lookup"><span data-stu-id="8b2c6-177">WSE 3.0 Applications that use the WSE Messaging API</span></span>  
 <span data-ttu-id="8b2c6-178">Pokud rozhraní API WSE zasílání zpráv se používá k získat přímý přístup do formátu XML, které informace se předávají mezi klientem a webové služby, aplikace lze převést na použití "Prostý formát XML" (POX).</span><span class="sxs-lookup"><span data-stu-id="8b2c6-178">When the WSE Messaging API is used to gain direct access to the XML that is communicated between the client and Web service, the application can be converted to use "Plain Old XML" (POX).</span></span> <span data-ttu-id="8b2c6-179">Další podrobnosti o POX najdete v tématu [vzájemná funkční spolupráce s aplikacemi POX](../../../../docs/framework/wcf/feature-details/interoperability-with-pox-applications.md).</span><span class="sxs-lookup"><span data-stu-id="8b2c6-179">For more details about POX, see [Interoperability with POX Applications](../../../../docs/framework/wcf/feature-details/interoperability-with-pox-applications.md).</span></span> <span data-ttu-id="8b2c6-180">Další informace o rozhraní API WSE zasílání zpráv najdete v tématu [odesílání a přijímání protokolu SOAP zprávy pomocí WSE zasílání zpráv na úrovni rozhraní API](http://go.microsoft.com/fwlink/?LinkID=73755).</span><span class="sxs-lookup"><span data-stu-id="8b2c6-180">For more details about the WSE Messaging API, see [Sending and Receiving SOAP Messages Using WSE Messaging API](http://go.microsoft.com/fwlink/?LinkID=73755).</span></span>  
  
## <a name="transports"></a><span data-ttu-id="8b2c6-181">Přenosy</span><span class="sxs-lookup"><span data-stu-id="8b2c6-181">Transports</span></span>  
  
### <a name="tcp"></a><span data-ttu-id="8b2c6-182">TCP</span><span class="sxs-lookup"><span data-stu-id="8b2c6-182">TCP</span></span>  
 <span data-ttu-id="8b2c6-183">Ve výchozím nastavení, klienty WSE 3.0 a webové služby, které odesílají zprávy protokolu SOAP pomocí přenos TCP nespolupracují s [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] klientů a webové služby.</span><span class="sxs-lookup"><span data-stu-id="8b2c6-183">By default, WSE 3.0 clients and Web services that send SOAP messages using the TCP transport do not interoperate with [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] clients and Web services.</span></span> <span data-ttu-id="8b2c6-184">Tato nekompatibilita je z důvodu rozdíly v rámcovacích používat v protokolu TCP a z důvodů výkonu.</span><span class="sxs-lookup"><span data-stu-id="8b2c6-184">This incompatibility is due to differences in the framing used in the TCP protocol and for performance reasons.</span></span> <span data-ttu-id="8b2c6-185">Ale [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] ukázka podrobnosti o tom, jak implementovat vlastní relaci protokolu TCP, které spolupracuje s WSE 3.0.</span><span class="sxs-lookup"><span data-stu-id="8b2c6-185">However, a [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] sample details how to implement a custom TCP session that interoperates with WSE 3.0.</span></span> <span data-ttu-id="8b2c6-186">Podrobnosti o této ukázky najdete v tématu [přenos: součinnost TCP ve WSE 3.0](../../../../docs/framework/wcf/samples/transport-wse-3-0-tcp-interoperability.md).</span><span class="sxs-lookup"><span data-stu-id="8b2c6-186">For details about this sample, see [Transport: WSE 3.0 TCP Interoperability](../../../../docs/framework/wcf/samples/transport-wse-3-0-tcp-interoperability.md).</span></span>  
  
 <span data-ttu-id="8b2c6-187">Chcete-li určit, že [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] aplikace používá přenos TCP, použijte [ \<netTcpBinding >](../../../../docs/framework/configure-apps/file-schema/wcf/nettcpbinding.md).</span><span class="sxs-lookup"><span data-stu-id="8b2c6-187">To specify that a [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] application uses the TCP transport, use the [\<netTcpBinding>](../../../../docs/framework/configure-apps/file-schema/wcf/nettcpbinding.md).</span></span>  
  
### <a name="custom-transport"></a><span data-ttu-id="8b2c6-188">Vlastní přenosu</span><span class="sxs-lookup"><span data-stu-id="8b2c6-188">Custom Transport</span></span>  
 <span data-ttu-id="8b2c6-189">Ekvivalent vlastní přenos WSE 3.0 v [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] je rozšíření kanálu.</span><span class="sxs-lookup"><span data-stu-id="8b2c6-189">The equivalent of a WSE 3.0 custom transport in [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] is a channel extension.</span></span> <span data-ttu-id="8b2c6-190">Podrobnosti o vytváření rozšíření pro kanál najdete v tématu [rozšíření vrstvy kanálu](../../../../docs/framework/wcf/extending/extending-the-channel-layer.md).</span><span class="sxs-lookup"><span data-stu-id="8b2c6-190">For details about creating a channel extension, see [Extending the Channel Layer](../../../../docs/framework/wcf/extending/extending-the-channel-layer.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="8b2c6-191">Viz také</span><span class="sxs-lookup"><span data-stu-id="8b2c6-191">See Also</span></span>  
 [<span data-ttu-id="8b2c6-192">Základní programovací životní cyklus</span><span class="sxs-lookup"><span data-stu-id="8b2c6-192">Basic Programming Lifecycle</span></span>](../../../../docs/framework/wcf/basic-programming-lifecycle.md)  
 [<span data-ttu-id="8b2c6-193">Vlastní vazby</span><span class="sxs-lookup"><span data-stu-id="8b2c6-193">Custom Bindings</span></span>](../../../../docs/framework/wcf/extending/custom-bindings.md)  
 [<span data-ttu-id="8b2c6-194">Postupy: Vytvoření vlastní vazby pomocí SecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="8b2c6-194">How to: Create a Custom Binding Using the SecurityBindingElement</span></span>](../../../../docs/framework/wcf/feature-details/how-to-create-a-custom-binding-using-the-securitybindingelement.md)  
 [<span data-ttu-id="8b2c6-195">Postupy: Vytvoření SecurityBindingElement pro zadaný režim ověřování</span><span class="sxs-lookup"><span data-stu-id="8b2c6-195">How to: Create a SecurityBindingElement for a Specified Authentication Mode</span></span>](../../../../docs/framework/wcf/feature-details/how-to-create-a-securitybindingelement-for-a-specified-authentication-mode.md)
