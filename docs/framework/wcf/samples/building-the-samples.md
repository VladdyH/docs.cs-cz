---
title: "Ukázky vytváření Windows Communication Foundation"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 2899e7a5-9cb2-4e8d-b8d2-f31391549198
caps.latest.revision: "33"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.openlocfilehash: 26a47e6ea0d93d81275d7b3b87c88d0d3ab595df
ms.sourcegitcommit: ce279f2d7fe2220e6ea0a25a8a7a5370ddf8d9f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 12/02/2017
---
# <a name="building-the-windows-communication-foundation-samples"></a><span data-ttu-id="8ef49-102">Ukázky vytváření Windows Communication Foundation</span><span class="sxs-lookup"><span data-stu-id="8ef49-102">Building the Windows Communication Foundation Samples</span></span>
<span data-ttu-id="8ef49-103">[!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] Ukázky se dají vytvářet pomocí sady Visual Studio 2010 nebo pomocí **msbuild** příkazu z příkazového řádku.</span><span class="sxs-lookup"><span data-stu-id="8ef49-103">The [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] samples can be built using Visual Studio 2010 or using the **msbuild** command from the command line.</span></span> <span data-ttu-id="8ef49-104">Oba postupy jsou popsány v tomto tématu.</span><span class="sxs-lookup"><span data-stu-id="8ef49-104">Both procedures are described in this topic.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="8ef49-105">Před sestavení nebo s některým z [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] ukázky, zkontrolujte, že jste provedli [jednorázové postup nastavení pro ukázky Windows Communication Foundation](../../../../docs/framework/wcf/samples/one-time-setup-procedure-for-the-wcf-samples.md).</span><span class="sxs-lookup"><span data-stu-id="8ef49-105">Before building or running any of the [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] samples, ensure you have performed the [One-Time Setup Procedure for the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/one-time-setup-procedure-for-the-wcf-samples.md).</span></span>  
  
### <a name="to-build-the-sample-using-a-command-prompt"></a><span data-ttu-id="8ef49-106">Chcete-li sestavit ukázku pomocí příkazového řádku</span><span class="sxs-lookup"><span data-stu-id="8ef49-106">To build the sample using a command prompt</span></span>  
  
1.  <span data-ttu-id="8ef49-107">Otevřete [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)] příkazový řádek s oprávněními správce a přejděte do konkrétní jazyk podadresáře v části umístění adresáře, kam jste nainstalovali vzorku.</span><span class="sxs-lookup"><span data-stu-id="8ef49-107">Open the [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)] command prompt with administrator privileges and navigate to the language-specific subdirectory under the directory location where you installed the sample.</span></span>  
  
2.  <span data-ttu-id="8ef49-108">Typ `msbuild` na příkazovém řádku.</span><span class="sxs-lookup"><span data-stu-id="8ef49-108">Type `msbuild` at the command line.</span></span> <span data-ttu-id="8ef49-109">Soubory programu klienta jsou vytvořeny tak client\bin a soubory programu služby jsou vytvořeny tak service\bin.</span><span class="sxs-lookup"><span data-stu-id="8ef49-109">The client program files are built to client\bin and the service program files are built to service\bin.</span></span> <span data-ttu-id="8ef49-110">Pokud je služba hostovaná Internetové informační služby (IIS), zkopírují se k adresáři servicemodelsamples a podadresář \bin také soubory programu služby.</span><span class="sxs-lookup"><span data-stu-id="8ef49-110">If the service is hosted by Internet Information Services (IIS), the service program files are also copied to the servicemodelsamples directory and its \bin subdirectory.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="8ef49-111">Seznamy ACL musíte nastavit na %systemdrive%\inetpub\wwwroot udělit oprávnění pro účet, pod kterým jste přihlášeni k úpravě.</span><span class="sxs-lookup"><span data-stu-id="8ef49-111">You must set the ACLs on %systemdrive%\inetpub\wwwroot to grant modify permissions to the account under which you are running.</span></span> <span data-ttu-id="8ef49-112">V opačném případě některé post sestavení událostí selhání.</span><span class="sxs-lookup"><span data-stu-id="8ef49-112">Otherwise some post build events fail.</span></span> <span data-ttu-id="8ef49-113">Alternativně můžete ponechat seznamy ACL, jak jsou a spustit příkazový řádek SDK jako správce.</span><span class="sxs-lookup"><span data-stu-id="8ef49-113">Alternatively, you can leave the ACLs as they are and run the SDK command prompt as administrator.</span></span>  
  
### <a name="to-build-the-sample-using-visual-studio"></a><span data-ttu-id="8ef49-114">K vytvoření vzorku pomocí sady Visual Studio</span><span class="sxs-lookup"><span data-stu-id="8ef49-114">To build the sample using Visual Studio</span></span>  
  
1.  <span data-ttu-id="8ef49-115">Pokud používáte [!INCLUDE[wv](../../../../includes/wv-md.md)], [!INCLUDE[lserver](../../../../includes/lserver-md.md)], Windows 7 nebo Windows Server 2008 R2 a spuštění [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)], je nutné spustit [!INCLUDE[vsprvs](../../../../includes/vsprvs-md.md)] s vyššími oprávněními.</span><span class="sxs-lookup"><span data-stu-id="8ef49-115">If you are using [!INCLUDE[wv](../../../../includes/wv-md.md)], [!INCLUDE[lserver](../../../../includes/lserver-md.md)], Windows 7, or Windows Server 2008 R2, and running [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)], you must run [!INCLUDE[vsprvs](../../../../includes/vsprvs-md.md)] with elevated permission.</span></span> <span data-ttu-id="8ef49-116">Chcete-li to provést, klikněte pravým tlačítkem myši na ikonu v nabídce Start a pak klikněte na **spustit jako správce**.</span><span class="sxs-lookup"><span data-stu-id="8ef49-116">To do so, right-click the icon on the Start menu and then click **Run as administrator**.</span></span>  
  
2.  <span data-ttu-id="8ef49-117">Z **soubor** nabídky v [!INCLUDE[vs_current_short](../../../../includes/vs-current-short-md.md)], klikněte na tlačítko **otevřete**, pak klikněte na tlačítko **projekt nebo řešení**.</span><span class="sxs-lookup"><span data-stu-id="8ef49-117">From the **File** menu in [!INCLUDE[vs_current_short](../../../../includes/vs-current-short-md.md)], click **Open**, then click **Project/Solution**.</span></span> <span data-ttu-id="8ef49-118">Přejděte na konkrétní jazyk podadresáře v adresáři, do které jste nainstalovali vzorku a dvakrát klikněte na ikonu .sln soubor otevřete řešení v [!INCLUDE[vsprvs](../../../../includes/vsprvs-md.md)].</span><span class="sxs-lookup"><span data-stu-id="8ef49-118">Navigate to the language-specific subdirectory under the directory in which you installed the sample, and double-click the .sln file icon to open the solution in [!INCLUDE[vsprvs](../../../../includes/vsprvs-md.md)].</span></span>  
  
3.  <span data-ttu-id="8ef49-119">V **sestavení** nabídce vyberte možnost **znovu sestavit řešení**.</span><span class="sxs-lookup"><span data-stu-id="8ef49-119">In the **Build** menu, select **Rebuild Solution**.</span></span> <span data-ttu-id="8ef49-120">Soubory programu klienta jsou vytvořeny tak client\bin a soubory programu služby jsou vytvořeny tak service\bin.</span><span class="sxs-lookup"><span data-stu-id="8ef49-120">The client program files are built to client\bin and the service program files are built to service\bin.</span></span> <span data-ttu-id="8ef49-121">Pokud je služba hostovaná ve službě IIS, zkopírují se k adresáři servicemodelsamples a podadresář \bin také soubory programu služby.</span><span class="sxs-lookup"><span data-stu-id="8ef49-121">If the service is hosted in IIS, the service program files are also copied to the servicemodelsamples directory and its \bin subdirectory.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="8ef49-122">Seznamy ACL musíte nastavit na %systemdrive%\inetpub\wwwroot udělit oprávnění pro účet, pod kterým jste přihlášeni k úpravě.</span><span class="sxs-lookup"><span data-stu-id="8ef49-122">You must set the ACLs on %systemdrive%\inetpub\wwwroot to grant modify permissions to the account under which you are running.</span></span> <span data-ttu-id="8ef49-123">V opačném případě některé post sestavení událostí selhání.</span><span class="sxs-lookup"><span data-stu-id="8ef49-123">Otherwise some post build events fail.</span></span> <span data-ttu-id="8ef49-124">Alternativně můžete ponechat seznamy ACL, jak jsou a spustit příkazový řádek SDK nebo sady Visual Studio jako správce.</span><span class="sxs-lookup"><span data-stu-id="8ef49-124">Alternatively, you can leave the ACLs as they are and run the SDK command prompt or Visual Studio as administrator.</span></span> <span data-ttu-id="8ef49-125">Některé akce Visual Studio (jako je připojení ladicího programu pracovnímu procesu ASP.Net) taky vyžadují oprávnění správce.</span><span class="sxs-lookup"><span data-stu-id="8ef49-125">Some Visual Studio actions (such as attaching a debugger to the ASP.Net worker process) also require administrative privileges.</span></span>  
  
## <a name="setup-batch-files-and-scripts"></a><span data-ttu-id="8ef49-126">Instalační program dávkové soubory a skripty</span><span class="sxs-lookup"><span data-stu-id="8ef49-126">Setup Batch Files and Scripts</span></span>  
 <span data-ttu-id="8ef49-127">Setup.exe a Cleanup.exe dávkové soubory a skripty mají spustit z příkazového řádku Visual Studia.</span><span class="sxs-lookup"><span data-stu-id="8ef49-127">Setup.exe and Cleanup.exe batch files and scripts should be run from a Visual Studio command prompt.</span></span> <span data-ttu-id="8ef49-128">Několik set nahoru a vyčištění souborů provádět úlohy, které vyžadují oprávnění správce a musí být spuštěna s oprávněními správce.</span><span class="sxs-lookup"><span data-stu-id="8ef49-128">Several set up and clean up files perform tasks that require administrative privileges and should be launched with administrator privileges.</span></span>  
  
## <a name="important-security-information-about-metadata-endpoints"></a><span data-ttu-id="8ef49-129">Důležité informace o zabezpečení o koncové body metadat</span><span class="sxs-lookup"><span data-stu-id="8ef49-129">Important Security Information about Metadata Endpoints</span></span>  
 <span data-ttu-id="8ef49-130">Aby se zabránilo neúmyslnému zveřejnění metadata potenciálně citlivých služby, výchozí konfiguraci pro [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] zakáže publikování metadat služby.</span><span class="sxs-lookup"><span data-stu-id="8ef49-130">To prevent unintentional disclosure of potentially sensitive service metadata, the default configuration for [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] services disables metadata publishing.</span></span> <span data-ttu-id="8ef49-131">Toto chování je ve výchozím nastavení zabezpečení, ale také znamená, že nelze použít metadata importovat nástroj (například Svcutil.exe) ke generování kódu klienta pro volání služby, pokud není výslovně povolena chování publikování metadat služby v konfiguraci požadován.</span><span class="sxs-lookup"><span data-stu-id="8ef49-131">This behavior is secure by default, but also means that you cannot use a metadata import tool (such as Svcutil.exe) to generate the client code required to call the service unless the service’s metadata publishing behavior is explicitly enabled in configuration.</span></span> <span data-ttu-id="8ef49-132">Chcete-li experimentování se ukázky jednodušší, téměř všechny ukázky vystavit zabezpečená metadata publikování koncový bod.</span><span class="sxs-lookup"><span data-stu-id="8ef49-132">To make experimenting with the samples easier, almost all samples expose an unsecured metadata publishing endpoint.</span></span> <span data-ttu-id="8ef49-133">Tyto koncové body jsou potenciálně dostupné pro anonymní neověřené spotřebitelů a musí dát pozor před nasazením těchto koncových bodů a zajistit tak veřejně předání metadata služby příslušné.</span><span class="sxs-lookup"><span data-stu-id="8ef49-133">Such endpoints are potentially available to anonymous unauthenticated consumers and care must be taken before deploying such endpoints to ensure that publicly disclosing a service’s metadata is appropriate.</span></span> [!INCLUDE[crabout](../../../../includes/crabout-md.md)]<span data-ttu-id="8ef49-134">publikování metadat služby najdete v článku [chování publikování metadat](../../../../docs/framework/wcf/samples/metadata-publishing-behavior.md) ukázka.</span><span class="sxs-lookup"><span data-stu-id="8ef49-134"> publishing service metadata, see the [Metadata Publishing Behavior](../../../../docs/framework/wcf/samples/metadata-publishing-behavior.md) sample.</span></span> <span data-ttu-id="8ef49-135">Najdete v článku [koncový bod metadat zabezpečení vlastní](../../../../docs/framework/wcf/samples/custom-secure-metadata-endpoint.md) ukázku pro ukázku zabezpečení koncový bod metadat.</span><span class="sxs-lookup"><span data-stu-id="8ef49-135">See the [Custom Secure Metadata Endpoint](../../../../docs/framework/wcf/samples/custom-secure-metadata-endpoint.md) sample for a sample securing a metadata endpoint.</span></span>  
  
## <a name="exception-handling"></a><span data-ttu-id="8ef49-136">Zpracování výjimek</span><span class="sxs-lookup"><span data-stu-id="8ef49-136">Exception Handling</span></span>  
 <span data-ttu-id="8ef49-137">Obecně řečeno tyto ukázky nezahrnují tento kód se zaměřuje na předmět ukázky zpracování výjimek.</span><span class="sxs-lookup"><span data-stu-id="8ef49-137">Generally speaking these samples do not include exception handling to keep the code focused on the subject of the sample.</span></span> [!INCLUDE[crabout](../../../../includes/crabout-md.md)]<span data-ttu-id="8ef49-138">zpracování výjimek, najdete v článku [očekává výjimky](../../../../docs/framework/wcf/samples/expected-exceptions.md) ukázka.</span><span class="sxs-lookup"><span data-stu-id="8ef49-138"> exception handling, see the [Expected Exceptions](../../../../docs/framework/wcf/samples/expected-exceptions.md) sample.</span></span>  
  
## <a name="regenerating-clients-and-configuration-with-svcutil"></a><span data-ttu-id="8ef49-139">Obnovuje se klienti a konfigurací s Svcutil</span><span class="sxs-lookup"><span data-stu-id="8ef49-139">Regenerating Clients and Configuration with Svcutil</span></span>  
 <span data-ttu-id="8ef49-140">Můžete použít [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) znovu vygenerovat kód klienta a konfigurace pro většinu ukázky.</span><span class="sxs-lookup"><span data-stu-id="8ef49-140">You can use the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) to regenerate client code and configuration for most of the samples.</span></span> <span data-ttu-id="8ef49-141">Některé ukázky vyžadovat ručně upravená konfiguraci.</span><span class="sxs-lookup"><span data-stu-id="8ef49-141">Some samples require manually edited configuration.</span></span> <span data-ttu-id="8ef49-142">Například pokud použijete Svcutil.exe znovu vygenerovat konfiguraci pro ukázku, která používá přihlašovací údaje certifikátu klienta, ručně zadejte přihlašovací údaje předtím nakonfigurovali.</span><span class="sxs-lookup"><span data-stu-id="8ef49-142">For example, if you use Svcutil.exe to regenerate the configuration for a sample that uses client certificate credentials, you must manually specify the credentials previously configured.</span></span> <span data-ttu-id="8ef49-143">Některé ukázky použít konkrétní možnosti Svcutil.exe ovlivnit generovaný kód, tyto možnosti jsou určené v konkrétní ukázka témata.</span><span class="sxs-lookup"><span data-stu-id="8ef49-143">Some samples use specific Svcutil.exe options to affect the generated code, these options are specified in the specific sample topics.</span></span>  
  
#### <a name="to-regenerate-the-client-and-configuration-files"></a><span data-ttu-id="8ef49-144">K opětovnému vytvoření klienta a konfiguračních souborů</span><span class="sxs-lookup"><span data-stu-id="8ef49-144">To regenerate the client and configuration files</span></span>  
  
1.  <span data-ttu-id="8ef49-145">Otevřete příkazový řádek SDK a přejděte do konkrétní jazyk podadresáře v části umístění adresáře, kam jste nainstalovali vzorku.</span><span class="sxs-lookup"><span data-stu-id="8ef49-145">Open an SDK command prompt and navigate to the language-specific subdirectory under the directory location where you installed the sample.</span></span>  
  
2.  <span data-ttu-id="8ef49-146">Pokud služba je typu hostuje Web, použijte následující příkaz.</span><span class="sxs-lookup"><span data-stu-id="8ef49-146">If the service is a Web-hosted type, use the following command.</span></span>  
  
    ```  
    svcutil.exe /n:"http://Microsoft.ServiceModel.Samples,Microsoft.ServiceModel.Samples" http://localhost/servicemodelsamples/service.svc/mex /out:generatedClient.cs  
    ```  
  
     <span data-ttu-id="8ef49-147">Pokud je služba vlastním hostováním zadejte následující příkaz.</span><span class="sxs-lookup"><span data-stu-id="8ef49-147">If the service is a self-hosted type the following command.</span></span>  
  
    ```  
    svcutil.exe /n:"http://Microsoft.ServiceModel.Samples,Microsoft.ServiceModel.Samples" http://localhost:8000/servicemodelsamples/service.svc/mex /out:generatedClient.cs  
    ```  
  
     <span data-ttu-id="8ef49-148">Nahraďte http://localhost:8000/ServiceModelSamples/service.svc/mex adresu koncového bodu mex samoobslužné hostovanou službu.</span><span class="sxs-lookup"><span data-stu-id="8ef49-148">Replace http://localhost:8000/ServiceModelSamples/service.svc/mex with the address of the self-hosted service's mex endpoint.</span></span>  
  
     <span data-ttu-id="8ef49-149">Ke generování klienta v jazyce Visual Basic typu, použijte následující příkaz.</span><span class="sxs-lookup"><span data-stu-id="8ef49-149">To generate the client in a Visual Basic type, use the following command.</span></span>  
  
    ```  
    svcutil.exe /n:"http://Microsoft.ServiceModel.Samples,Microsoft.ServiceModel.Samples" http://localhost/servicemodelsamples/service.svc/mex /l:vb /out:generatedClient.vb  
    ```  
  
     <span data-ttu-id="8ef49-150">Je-li služba vlastním hostováním typ, použijte následující příkaz.</span><span class="sxs-lookup"><span data-stu-id="8ef49-150">If the service is a self-hosted type, use the following command.</span></span>  
  
    ```  
    svcutil.exe /n:"http://Microsoft.ServiceModel.Samples,Microsoft.ServiceModel.Samples" http://localhost:8000/servicemodelsamples/service.svc/mex /l:vb /out:generatedClient.vb  
    ```  
  
    > [!NOTE]
    >  <span data-ttu-id="8ef49-151">Tak, aby přeskočil generování konfigurace klienta přidat **/noconfig** možnost.</span><span class="sxs-lookup"><span data-stu-id="8ef49-151">To skip the generation of client configuration add the **/noConfig** option.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="8ef49-152">Viz také</span><span class="sxs-lookup"><span data-stu-id="8ef49-152">See Also</span></span>  
 [<span data-ttu-id="8ef49-153">Spuštění ukázky Windows Communication Foundation</span><span class="sxs-lookup"><span data-stu-id="8ef49-153">Running the Windows Communication Foundation Samples</span></span>](../../../../docs/framework/wcf/samples/running-the-samples.md)  
 [<span data-ttu-id="8ef49-154">Nástroj ServiceModel Metadata Utility (Svcutil.exe)</span><span class="sxs-lookup"><span data-stu-id="8ef49-154">ServiceModel Metadata Utility Tool (Svcutil.exe)</span></span>](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md)
