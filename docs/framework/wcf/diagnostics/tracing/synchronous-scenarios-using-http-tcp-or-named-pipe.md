---
title: Synchronní scénáře využívající HTTP, TCP nebo pojmenované kanály
ms.date: 03/30/2017
ms.assetid: 7e90af1b-f8f6-41b9-a63a-8490ada502b1
ms.openlocfilehash: 11a5d8f43d12d35728c65c7a60ad8a4fa2fc1b3a
ms.sourcegitcommit: 15109844229ade1c6449f48f3834db1b26907824
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 05/07/2018
ms.locfileid: "33810171"
---
# <a name="synchronous-scenarios-using-http-tcp-or-named-pipe"></a><span data-ttu-id="c041f-102">Synchronní scénáře využívající HTTP, TCP nebo pojmenované kanály</span><span class="sxs-lookup"><span data-stu-id="c041f-102">Synchronous Scenarios using HTTP, TCP or Named-Pipe</span></span>
<span data-ttu-id="c041f-103">Toto téma popisuje aktivity a přenosy pro různé synchronní požadavek nebo odpověď scénáře s jedním podprocesem klienta, pomocí protokolu HTTP, TCP nebo pojmenovaného kanálu.</span><span class="sxs-lookup"><span data-stu-id="c041f-103">This topic describes the activities and transfers for different synchronous request/reply scenarios, with a single-threaded client, using HTTP, TCP or named pipe.</span></span> <span data-ttu-id="c041f-104">V tématu [asynchronní scénáře použití HTTP, TCP nebo pojmenované kanály](../../../../../docs/framework/wcf/diagnostics/tracing/asynchronous-scenarios-using-http-tcp-or-named-pipe.md) Další informace o Vícevláknová požadavky.</span><span class="sxs-lookup"><span data-stu-id="c041f-104">See [Asynchronous Scenarios using HTTP, TCP, or Named-Pipe](../../../../../docs/framework/wcf/diagnostics/tracing/asynchronous-scenarios-using-http-tcp-or-named-pipe.md) for more information on multi-threaded requests.</span></span>  
  
## <a name="synchronous-requestreply-without-errors"></a><span data-ttu-id="c041f-105">Synchronní požadavek nebo odpověď bez chyb</span><span class="sxs-lookup"><span data-stu-id="c041f-105">Synchronous Request/Reply without Errors</span></span>  
 <span data-ttu-id="c041f-106">Tato část popisuje aktivity a přenosy pro scénář platný synchronní požadavek nebo odpověď s jedním podprocesem klienta.</span><span class="sxs-lookup"><span data-stu-id="c041f-106">This section describes the activities and transfers for a valid synchronous request/reply scenario, with single-threaded client.</span></span>  
  
### <a name="client"></a><span data-ttu-id="c041f-107">Klient</span><span class="sxs-lookup"><span data-stu-id="c041f-107">Client</span></span>  
  
#### <a name="establishing-communication-with-service-endpoint"></a><span data-ttu-id="c041f-108">Navazování komunikace se koncový bod služby</span><span class="sxs-lookup"><span data-stu-id="c041f-108">Establishing Communication with Service Endpoint</span></span>  
 <span data-ttu-id="c041f-109">Klient je vytvořená a otevřít.</span><span class="sxs-lookup"><span data-stu-id="c041f-109">A client is constructed and opened.</span></span> <span data-ttu-id="c041f-110">Pro každý z těchto kroků vedlejším aktivity (A) přenesen na "Vytvořit klienta" (B) a "Otevřete klienta" (C) aktivitu v uvedeném pořadí.</span><span class="sxs-lookup"><span data-stu-id="c041f-110">For each of these steps, the ambient activity (A) is transferred to a "Construct Client" (B) and "Open Client" (C) activity respectively.</span></span> <span data-ttu-id="c041f-111">Pro každou aktivitu přenášení na vedlejším aktivity je pozastaven, dokud nedojde k převodu zpět, tedy dokud ServiceModel kód se spustí.</span><span class="sxs-lookup"><span data-stu-id="c041f-111">For each activity being transferred to, the ambient activity is suspended until there is a transfer back, that is, until ServiceModel code is executed.</span></span>  
  
#### <a name="making-a-request-to-service-endpoint"></a><span data-ttu-id="c041f-112">Vytváření požadavku na koncový bod služby</span><span class="sxs-lookup"><span data-stu-id="c041f-112">Making a Request to Service Endpoint</span></span>  
 <span data-ttu-id="c041f-113">Vedlejším aktivity je převede na aktivitu "ProcessAction" (D).</span><span class="sxs-lookup"><span data-stu-id="c041f-113">The ambient activity is transferred to a "ProcessAction" (D) activity.</span></span> <span data-ttu-id="c041f-114">V rámci této aktivity je odeslána zpráva požadavku a obdrží zprávu odpovědi.</span><span class="sxs-lookup"><span data-stu-id="c041f-114">Within this activity, a request message is sent, and a response message is received.</span></span> <span data-ttu-id="c041f-115">Aktivity skončí, když řízení vrátí do uživatelského kódu.</span><span class="sxs-lookup"><span data-stu-id="c041f-115">The activity ends when control returns to user code.</span></span> <span data-ttu-id="c041f-116">Protože se jedná o žádost o synchronní, vedlejším aktivity pozastaví, dokud vrátí ovládací prvek.</span><span class="sxs-lookup"><span data-stu-id="c041f-116">Because this is a synchronous request, the ambient activity suspends until control returns.</span></span>  
  
#### <a name="closing-communication-with-service-endpoint"></a><span data-ttu-id="c041f-117">Zavřením komunikaci s koncovým bodem služby</span><span class="sxs-lookup"><span data-stu-id="c041f-117">Closing Communication with Service Endpoint</span></span>  
 <span data-ttu-id="c041f-118">Aktivity uzavření klienta (I) je vytvořen z vedlejším aktivity.</span><span class="sxs-lookup"><span data-stu-id="c041f-118">The client's close activity (I) is created from the ambient activity.</span></span> <span data-ttu-id="c041f-119">Toto je stejný jako nové a otevřete.</span><span class="sxs-lookup"><span data-stu-id="c041f-119">This is identical to new and open.</span></span>  
  
### <a name="server"></a><span data-ttu-id="c041f-120">Server</span><span class="sxs-lookup"><span data-stu-id="c041f-120">Server</span></span>  
  
#### <a name="setting-up-a-service-host"></a><span data-ttu-id="c041f-121">Nastavení hostitele služby</span><span class="sxs-lookup"><span data-stu-id="c041f-121">Setting up a Service Host</span></span>  
 <span data-ttu-id="c041f-122">ServiceHost nové a otevřete aktivity (N a O) jsou vytvořeny z vedlejším aktivity (M).</span><span class="sxs-lookup"><span data-stu-id="c041f-122">The ServiceHost’s new and open activities (N and O) are created from the ambient activity (M).</span></span>  
  
 <span data-ttu-id="c041f-123">Otevření ServiceHost pro každý naslouchací proces se vytvoří naslouchací proces aktivity (P).</span><span class="sxs-lookup"><span data-stu-id="c041f-123">A listener activity (P) is created from opening a ServiceHost for each listener.</span></span> <span data-ttu-id="c041f-124">Aktivita naslouchací proces čeká na přijímat a zpracovávat data.</span><span class="sxs-lookup"><span data-stu-id="c041f-124">The listener activity waits to receive and process data.</span></span>  
  
#### <a name="receiving-data-on-the-wire"></a><span data-ttu-id="c041f-125">Přijetí dat v drátové síti</span><span class="sxs-lookup"><span data-stu-id="c041f-125">Receiving Data on the Wire</span></span>  
 <span data-ttu-id="c041f-126">Když data dorazí v drátové síti, vytvoří se aktivita "ReceiveBytes" Pokud již neexistuje (Q) ke zpracování přijatých dat.</span><span class="sxs-lookup"><span data-stu-id="c041f-126">When data arrives on the wire, a "ReceiveBytes" activity is created if it does not already exist (Q) to process the received data.</span></span> <span data-ttu-id="c041f-127">Tuto aktivitu můžete znovu použít pro více zpráv v rámci připojení a fronty.</span><span class="sxs-lookup"><span data-stu-id="c041f-127">This activity can be reused for multiple messages within a connection or queue.</span></span>  
  
 <span data-ttu-id="c041f-128">ReceiveBytes aktivity spouští aktivitu ProcessMessage (R), pokud má dostatek dat na formuláři Akce zprávu protokolu SOAP.</span><span class="sxs-lookup"><span data-stu-id="c041f-128">The ReceiveBytes activity launches a ProcessMessage activity (R) if it has enough data to form a SOAP action message.</span></span>  
  
 <span data-ttu-id="c041f-129">V aktivitě R jsou zpracovávány záhlaví zprávy a bude ověřen hlavičku aktivity.</span><span class="sxs-lookup"><span data-stu-id="c041f-129">In activity R, the message headers are processed, and the activityID header is verified.</span></span> <span data-ttu-id="c041f-130">Pokud tuto hlavičku je k dispozici, ID aktivity nastavená na aktivity ProcessAction; jinak se vytvoří nové ID.</span><span class="sxs-lookup"><span data-stu-id="c041f-130">If this header is present, the activity ID is set to the ProcessAction activity; otherwise, a new ID is created.</span></span>  
  
 <span data-ttu-id="c041f-131">Vytvoření aktivity ProcessAction (S) a přenášení na při volání je zpracovat.</span><span class="sxs-lookup"><span data-stu-id="c041f-131">ProcessAction activity (S) is created and being transferred to, when the call is processed.</span></span> <span data-ttu-id="c041f-132">Tato aktivita končí po dokončení veškeré zpracování související s příchozí zprávy, včetně spuštění uživatelského kódu (T) a odešle zprávu odpovědi, pokud je k dispozici.</span><span class="sxs-lookup"><span data-stu-id="c041f-132">This activity ends when all processing related to the incoming message is completed, including executing user code (T) and sending the response message if applicable.</span></span>  
  
#### <a name="closing-a-service-host"></a><span data-ttu-id="c041f-133">Ukončování hostitele služby</span><span class="sxs-lookup"><span data-stu-id="c041f-133">Closing a Service Host</span></span>  
 <span data-ttu-id="c041f-134">Hostiteli služby zavřít aktivity (Z) je vytvořený z vedlejším aktivity.</span><span class="sxs-lookup"><span data-stu-id="c041f-134">The ServiceHost’s close activity (Z) is created from the ambient activity.</span></span>  
  
 <span data-ttu-id="c041f-135">![Synchronní scénáře využívající HTTP&#47;TCP&#47; pojmenovaných kanálů](../../../../../docs/framework/wcf/diagnostics/tracing/media/sync.gif "synchronizace")</span><span class="sxs-lookup"><span data-stu-id="c041f-135">![Synchronous scenarios using HTTP&#47;TCP&#47; Named Pipes](../../../../../docs/framework/wcf/diagnostics/tracing/media/sync.gif "Sync")</span></span>  
  
 <span data-ttu-id="c041f-136">V \<A: název >, `A` je symbol zástupce, který popisuje aktivitu v předchozí textu a v tabulce 3.</span><span class="sxs-lookup"><span data-stu-id="c041f-136">In \<A: name>, `A` is a shortcut symbol that describes the activity in the previous text and in table 3.</span></span> <span data-ttu-id="c041f-137">`Name` je zkrácený název aktivity.</span><span class="sxs-lookup"><span data-stu-id="c041f-137">`Name` is a shortened name of the activity.</span></span>  
  
 <span data-ttu-id="c041f-138">Pokud `propagateActivity` = `true`, proces akce na klientovi a služby mají stejné ID aktivity.</span><span class="sxs-lookup"><span data-stu-id="c041f-138">If `propagateActivity`=`true`, Process Action on both the client and service have the same activity ID.</span></span>  
  
## <a name="synchronous-requestreply-with-errors"></a><span data-ttu-id="c041f-139">Synchronní požadavek nebo odpověď s chybami</span><span class="sxs-lookup"><span data-stu-id="c041f-139">Synchronous Request/Reply with Errors</span></span>  
 <span data-ttu-id="c041f-140">Jediným rozdílem s předchozím scénáři je, že zprávu o chybě protokolu SOAP se vrátí jako zprávu odpovědi.</span><span class="sxs-lookup"><span data-stu-id="c041f-140">The only difference with the previous scenario is that a SOAP fault message is returned as a response message.</span></span> <span data-ttu-id="c041f-141">Pokud `propagateActivity` = `true`, ID aktivity zprávy požadavku se přidá do selhání zprávu protokolu SOAP.</span><span class="sxs-lookup"><span data-stu-id="c041f-141">If `propagateActivity`=`true`, the activity ID of the request message is added to the SOAP fault message.</span></span>  
  
## <a name="synchronous-one-way-without-errors"></a><span data-ttu-id="c041f-142">Synchronní jednosměrný bez chyb</span><span class="sxs-lookup"><span data-stu-id="c041f-142">Synchronous One-Way without Errors</span></span>  
 <span data-ttu-id="c041f-143">První scénář jediným rozdílem je, že na server je vrácena žádná zpráva.</span><span class="sxs-lookup"><span data-stu-id="c041f-143">The only difference with the first scenario is that no message is returned to the server.</span></span> <span data-ttu-id="c041f-144">Pro protokoly založené na protokolu HTTP, stav (platné nebo chyba) je stále vrácen do klienta.</span><span class="sxs-lookup"><span data-stu-id="c041f-144">For HTTP-based protocols, a status (valid or error) is still returned to the client.</span></span> <span data-ttu-id="c041f-145">Je to proto, že je protokol pouze s sémantiku požadavků a odpovědí, který je součástí v zásobníku protokolů WCF HTTP.</span><span class="sxs-lookup"><span data-stu-id="c041f-145">This is because HTTP is the only protocol with a request-response semantics that is part of the WCF protocol stack.</span></span> <span data-ttu-id="c041f-146">Protože zpracování protokolu TCP je skryta WCF, potvrzení je odeslán do klienta.</span><span class="sxs-lookup"><span data-stu-id="c041f-146">Because TCP processing is hidden from WCF, no acknowledgement is sent to the client.</span></span>  
  
## <a name="synchronous-one-way-with-errors"></a><span data-ttu-id="c041f-147">Synchronní jednosměrný s chybami</span><span class="sxs-lookup"><span data-stu-id="c041f-147">Synchronous One-Way with Errors</span></span>  
 <span data-ttu-id="c041f-148">Pokud dojde k chybě při zpracování zprávy (Q nebo novější), žádná oznámení je vrácen do klienta.</span><span class="sxs-lookup"><span data-stu-id="c041f-148">If an error occurs while processing the message (Q or beyond), no notification is returned to the client.</span></span> <span data-ttu-id="c041f-149">Toto je stejný jako scénář "Synchronní One-Way bez chyby".</span><span class="sxs-lookup"><span data-stu-id="c041f-149">This is identical to the "Synchronous One-Way without Errors" scenario.</span></span> <span data-ttu-id="c041f-150">Jednosměrný situaci byste neměli používat, pokud chcete zobrazit chybová zpráva.</span><span class="sxs-lookup"><span data-stu-id="c041f-150">You should not use a One-Way scenario if you want to receive an error message.</span></span>  
  
## <a name="duplex"></a><span data-ttu-id="c041f-151">Duplex</span><span class="sxs-lookup"><span data-stu-id="c041f-151">Duplex</span></span>  
 <span data-ttu-id="c041f-152">Rozdíl oproti předchozím scénáře je, že klient funguje jako služba, ve kterém se vytvoří ReceiveBytes a ProcessMessage aktivity, podobně jako asynchronní scénáře.</span><span class="sxs-lookup"><span data-stu-id="c041f-152">The difference with the previous scenarios is that the client acts as a service, in which it creates the ReceiveBytes and ProcessMessage activities, similar to the Asynchronous scenarios.</span></span>
