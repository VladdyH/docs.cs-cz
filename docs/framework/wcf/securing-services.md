---
title: Zabezpečení služeb
ms.custom: ''
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: ''
ms.suite: ''
ms.technology:
- dotnet-clr
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- configuration [WCF], securing services
- WCF security
- WCF, security
ms.assetid: f0ecc6f7-f4b5-42a4-9cb1-b02e28e26620
caps.latest.revision: 28
author: BrucePerlerMS
ms.author: bruceper
manager: mbaldwin
ms.workload:
- dotnet
ms.openlocfilehash: d5fed0e842abd815d0483e26e1e1f350899d1506
ms.sourcegitcommit: 03ee570f6f528a7d23a4221dcb26a9498edbdf8c
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 04/28/2018
---
# <a name="securing-services"></a><span data-ttu-id="edea1-102">Zabezpečení služeb</span><span class="sxs-lookup"><span data-stu-id="edea1-102">Securing Services</span></span>
<span data-ttu-id="edea1-103">Zabezpečení [!INCLUDE[indigo1](../../../includes/indigo1-md.md)] služby se skládá ze dvou primární požadavky: přenos zabezpečení a autorizaci.</span><span class="sxs-lookup"><span data-stu-id="edea1-103">Security of a [!INCLUDE[indigo1](../../../includes/indigo1-md.md)] service consists of two primary requirements: transfer security and authorization.</span></span> <span data-ttu-id="edea1-104">(Třetí požadavek, auditování událostí zabezpečení, je popsaný v [auditování](../../../docs/framework/wcf/feature-details/auditing-security-events.md).) Stručně řečeno zabezpečení přenosu zahrnuje ověření (ověření identity služby a klient), důvěrnost (šifrování zpráv) a integrita (digitální podepisování, které zjistit případnou manipulaci).</span><span class="sxs-lookup"><span data-stu-id="edea1-104">(A third requirement, auditing of security events, is described in [Auditing](../../../docs/framework/wcf/feature-details/auditing-security-events.md).) In brief, transfer security includes authentication (verifying the identity of both the service and the client), confidentiality (message encryption), and integrity (digital signing to detect tampering).</span></span> <span data-ttu-id="edea1-105">Autorizace je řízení přístupu k prostředkům, například povolení jenom mohou uživatelé s oprávněním ke čtení souboru.</span><span class="sxs-lookup"><span data-stu-id="edea1-105">Authorization is the control of access to resources, for example, allowing only privileged users to read a file.</span></span> <span data-ttu-id="edea1-106">Pomocí funkce [!INCLUDE[indigo2](../../../includes/indigo2-md.md)], jsou požadavky na dva primární snadno implementovat.</span><span class="sxs-lookup"><span data-stu-id="edea1-106">Using features of [!INCLUDE[indigo2](../../../includes/indigo2-md.md)], the two primary requirements are easily implemented.</span></span>  
  
 <span data-ttu-id="edea1-107">S výjimkou produktů <xref:System.ServiceModel.BasicHttpBinding> – třída (nebo [ \<basicHttpBinding >](../../../docs/framework/configure-apps/file-schema/wcf/basichttpbinding.md) element v konfiguraci), ve výchozím nastavení pro všechny předdefinované vazby je povolené zabezpečení přenosu.</span><span class="sxs-lookup"><span data-stu-id="edea1-107">With the exception of the <xref:System.ServiceModel.BasicHttpBinding> class (or the [\<basicHttpBinding>](../../../docs/framework/configure-apps/file-schema/wcf/basichttpbinding.md) element in configuration), transfer security is enabled by default for all of the predefined bindings.</span></span> <span data-ttu-id="edea1-108">Témata v této části se týkají dva základní scénáře: implementace zabezpečení přenosu a autorizace na intranetu službu hostované na Internetové informační služby (IIS) a implementaci zabezpečení přenosu a autorizace na službě hostované ve službě IIS.</span><span class="sxs-lookup"><span data-stu-id="edea1-108">The topics in this section cover two basic scenarios: implementing transfer security and authorization on an intranet service hosted on Internet Information Services (IIS), and implementing transfer security and authorization on a service hosted on IIS.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="edea1-109">Windows XP Home nepodporuje ověřování systému Windows.</span><span class="sxs-lookup"><span data-stu-id="edea1-109">Windows XP Home does not support Windows authentication.</span></span> <span data-ttu-id="edea1-110">Proto by nemělo spuštění služby v daném systému.</span><span class="sxs-lookup"><span data-stu-id="edea1-110">Therefore, you should not run a service on that system.</span></span>  
  
## <a name="security-basics"></a><span data-ttu-id="edea1-111">Základy zabezpečení</span><span class="sxs-lookup"><span data-stu-id="edea1-111">Security Basics</span></span>  
 <span data-ttu-id="edea1-112">Zabezpečení je závislé na *pověření*.</span><span class="sxs-lookup"><span data-stu-id="edea1-112">Security relies on *credentials*.</span></span> <span data-ttu-id="edea1-113">Pověření prokáže, že entita je, kdo se vydává.</span><span class="sxs-lookup"><span data-stu-id="edea1-113">A credential proves that an entity is who it claims to be.</span></span> <span data-ttu-id="edea1-114">( *Entity* může být uživatel, proces softwaru, společnost nebo všechno, co lze udělit oprávnění.) Například klient služby zadává *deklarace identity* z *identity*, a přihlašovací údaje prokáže, že deklarace identity nějakým způsobem.</span><span class="sxs-lookup"><span data-stu-id="edea1-114">(An *entity* can be a person, a software process, a company, or anything that can be authorized.) For example, a client of a service makes a *claim* of *identity*, and the credential proves that claim in some manner.</span></span> <span data-ttu-id="edea1-115">Na Typický scénář dojde k výměně přihlašovací údaje.</span><span class="sxs-lookup"><span data-stu-id="edea1-115">In a typical scenario, an exchange of credentials occurs.</span></span> <span data-ttu-id="edea1-116">Služby nejprve vytvoří deklaraci identity a prokáže klientovi s pověřením.</span><span class="sxs-lookup"><span data-stu-id="edea1-116">First, a service makes a claim of its identity and proves it to the client with a credential.</span></span> <span data-ttu-id="edea1-117">Naopak klienta provádí deklarace identity a používá přihlašovací údaje ke službě.</span><span class="sxs-lookup"><span data-stu-id="edea1-117">Conversely, the client makes a claim of identity and presents a credential to the service.</span></span> <span data-ttu-id="edea1-118">Pokud obě strany důvěřovat jiný přihlašovací údaje, pak *zabezpečené kontextu* lze navázat, ve které všechny zprávy se vyměňují v důvěrnost, a všechny zprávy přihlášení k ochraně jejich integritu.</span><span class="sxs-lookup"><span data-stu-id="edea1-118">If both parties trust the other's credentials, then a *secure context* can be established in which all messages are exchanged in confidentiality, and all messages are signed to protect their integrity.</span></span> <span data-ttu-id="edea1-119">Po službu vytvoří identitu klienta, můžete pak odpovídat deklarací identity ve přihlašovacích údajů do *role* nebo *členství* ve skupině.</span><span class="sxs-lookup"><span data-stu-id="edea1-119">After the service establishes the client's identity, it can then match the claims in the credential to a *role* or *membership* in a group.</span></span> <span data-ttu-id="edea1-120">V obou případech pomocí roli nebo skupinu, do které patří klienta, službu *autorizuje* klienta provádět omezenou sadu operací na základě role nebo skupiny oprávnění.</span><span class="sxs-lookup"><span data-stu-id="edea1-120">In either case, using the role or the group to which the client belongs, the service *authorizes* the client to perform a limited set of operations based on the role or group privileges.</span></span>  
  
## <a name="windows-security-mechanisms"></a><span data-ttu-id="edea1-121">Mechanismy zabezpečení systému Windows</span><span class="sxs-lookup"><span data-stu-id="edea1-121">Windows Security Mechanisms</span></span>  
 <span data-ttu-id="edea1-122">Pokud klient a počítače služby jsou i v doméně systému Windows, který vyžaduje i pro přihlášení k síti, přihlašovací údaje jsou poskytovány infrastruktury systému Windows.</span><span class="sxs-lookup"><span data-stu-id="edea1-122">If the client and the service computer are both on a Windows domain that requires both to log on to the network, the credentials are provided by Windows infrastructure.</span></span> <span data-ttu-id="edea1-123">V takovém případě přihlašovací údaje jsou určeny, když uživatel počítače přihlásí k síti.</span><span class="sxs-lookup"><span data-stu-id="edea1-123">In that case, the credentials are established when a computer user logs on to the network.</span></span> <span data-ttu-id="edea1-124">Každý uživatel a každý počítač v síti musí být ověřený jako náležící do sady důvěryhodných uživatelů a počítačů.</span><span class="sxs-lookup"><span data-stu-id="edea1-124">Every user and every computer on the network must be validated as belonging to the trusted set of users and computers.</span></span> <span data-ttu-id="edea1-125">V systému Windows, každý uživatel a počítač se také označuje jako *objekt zabezpečení*.</span><span class="sxs-lookup"><span data-stu-id="edea1-125">On a Windows system, every such user and computer is also known as a *security principal*.</span></span>  
  
 <span data-ttu-id="edea1-126">V doméně systému Windows, který je zálohovaný díky *Kerberos* řadiči řadičem protokolu Kerberos používá schéma podle udělování lístků pro každý objekt zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="edea1-126">On a Windows domain backed by a *Kerberos* controller, the Kerberos controller uses a scheme based on granting tickets to each security principal.</span></span> <span data-ttu-id="edea1-127">Lístky uděluje řadiče jsou důvěryhodné v jiných předpisech lístek v systému.</span><span class="sxs-lookup"><span data-stu-id="edea1-127">The tickets the controller grants are trusted by other ticket granters in the system.</span></span> <span data-ttu-id="edea1-128">Vždy, když se pokusí provádět některé operace nebo přístup entity *prostředků* (například soubor nebo adresář na počítači), je zkontrolován the-ticket její platnosti a, pokud se předá, objekt povolen jiný lístek pro operaci.</span><span class="sxs-lookup"><span data-stu-id="edea1-128">Whenever an entity tries to perform some operation or access a *resource* (such as a file or directory on a machine), the ticket is examined for its validity and, if it passes, the principal is granted another ticket for the operation.</span></span> <span data-ttu-id="edea1-129">Tato metoda přidělování lístků je efektivnější než alternativní z pokusu o ověření objektu zabezpečení pro všechny operace.</span><span class="sxs-lookup"><span data-stu-id="edea1-129">This method of granting tickets is more efficient than the alternative of trying to validate the principal for every operation.</span></span>  
  
 <span data-ttu-id="edea1-130">Mechanismus starší, méně bezpečné použít v doménách systému Windows je NT LAN Manager (NTLM).</span><span class="sxs-lookup"><span data-stu-id="edea1-130">An older, less-secure mechanism used on Windows domains is NT LAN Manager (NTLM).</span></span> <span data-ttu-id="edea1-131">V případech, kdy nejde použít protokolu Kerberos (obvykle mimo domény systému Windows, například v pracovní skupině) protokol NTLM slouží jako alternativu.</span><span class="sxs-lookup"><span data-stu-id="edea1-131">In cases where Kerberos cannot be used (typically outside of a Windows domain, such as in a workgroup), NTLM can be used as an alternative.</span></span> <span data-ttu-id="edea1-132">NTLM je také k dispozici jako možnost zabezpečení pro službu IIS.</span><span class="sxs-lookup"><span data-stu-id="edea1-132">NTLM is also available as a security option for IIS.</span></span>  
  
 <span data-ttu-id="edea1-133">V systému Windows autorizace funguje přiřazením jednotlivých počítačů a uživatelů pro sadu rolí a skupin.</span><span class="sxs-lookup"><span data-stu-id="edea1-133">On a Windows system, authorization works by assigning each computer and user to a set of roles and groups.</span></span> <span data-ttu-id="edea1-134">Například musí být každý počítač se systémem Windows nastavit a řídí osoba (nebo skupiny uživatelů) v roli *správce*.</span><span class="sxs-lookup"><span data-stu-id="edea1-134">For example, every Windows computer must be set up and controlled by a person (or group of people) in the role of the *administrator*.</span></span> <span data-ttu-id="edea1-135">Jiné role, je *uživatele*, který má víc omezené sadu oprávnění.</span><span class="sxs-lookup"><span data-stu-id="edea1-135">Another role is that of the *user*, which has a much more constrained set of permissions.</span></span> <span data-ttu-id="edea1-136">Kromě role uživatele přiřazené do skupin.</span><span class="sxs-lookup"><span data-stu-id="edea1-136">In addition to the role, users are assigned to groups.</span></span> <span data-ttu-id="edea1-137">Skupinu umožňuje více uživatelům provádět v na stejný atribut role.</span><span class="sxs-lookup"><span data-stu-id="edea1-137">A group allows multiple users to perform in the same role.</span></span> <span data-ttu-id="edea1-138">V praxi tedy počítače s Windows je spravuje přiřazování uživatelů do skupiny.</span><span class="sxs-lookup"><span data-stu-id="edea1-138">In practice, therefore, a Windows machine is administered by assigning users to groups.</span></span> <span data-ttu-id="edea1-139">Například několik uživatelé se dají přiřadit ke skupině uživatelů, počítače a víc omezené sadu uživatelů lze přiřadit ke skupině správců.</span><span class="sxs-lookup"><span data-stu-id="edea1-139">For example, several users can be assigned to the group of users of a computer, and a much more constrained set of users can be assigned to the group of administrators.</span></span> <span data-ttu-id="edea1-140">V místním počítači správce také vytvářet nové skupiny a přiřaďte jiní uživatelé (nebo i další skupiny) do skupiny.</span><span class="sxs-lookup"><span data-stu-id="edea1-140">On a local machine, an administrator can also create new groups and assign other users (or even other groups) to the group.</span></span>  
  
 <span data-ttu-id="edea1-141">V počítači se systémem Windows je možné chránit všechny složky v adresáři.</span><span class="sxs-lookup"><span data-stu-id="edea1-141">On a computer running Windows, every folder in a directory can be protected.</span></span> <span data-ttu-id="edea1-142">To znamená můžete vybrat složku a určovat, kdo má přístup k souborům, a zda můžete zkopírovat soubor nebo (v případě nejvíce privilegovaných) změnit soubor, odstranění souboru, nebo přidat soubory do složky.</span><span class="sxs-lookup"><span data-stu-id="edea1-142">That is, you can select a folder and control who can access the files, and whether or not they can copy the file, or (in the most privileged case) change a file, delete a file, or add files to the folder.</span></span> <span data-ttu-id="edea1-143">To se označuje jako řízení přístupu a mechanismus pro něj se označuje jako seznam řízení přístupu (ACL).</span><span class="sxs-lookup"><span data-stu-id="edea1-143">This is known as access control, and the mechanism for it is known as the access control list (ACL).</span></span> <span data-ttu-id="edea1-144">Při vytváření seznamu ACL, můžete přiřadit přístupová oprávnění pro všechny skupiny nebo skupin, stejně jako jednotlivé členy domény.</span><span class="sxs-lookup"><span data-stu-id="edea1-144">When creating the ACL, you can assign access privileges to any group or groups, as well as individual members of a domain.</span></span>  
  
 <span data-ttu-id="edea1-145">[!INCLUDE[indigo2](../../../includes/indigo2-md.md)] Infrastruktury umožňuje použít tyto mechanismy zabezpečení systému Windows.</span><span class="sxs-lookup"><span data-stu-id="edea1-145">The [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] infrastructure is designed to use these Windows security mechanisms.</span></span> <span data-ttu-id="edea1-146">Proto při vytváření služby, který je nasazen na intranetu, a jehož klienti omezen na členy domény systému Windows, zabezpečení je snadno implementovat.</span><span class="sxs-lookup"><span data-stu-id="edea1-146">Therefore, if you are creating a service that is deployed on an intranet, and whose clients are restricted to members of the Windows domain, security is easily implemented.</span></span> <span data-ttu-id="edea1-147">Jenom oprávnění uživatelé můžou přihlásit k doméně.</span><span class="sxs-lookup"><span data-stu-id="edea1-147">Only valid users can log on to the domain.</span></span> <span data-ttu-id="edea1-148">Po přihlášení uživatele, řadičem Kerberos umožňuje každého uživatele k navázání zabezpečeného kontexty s jinými počítači nebo aplikace.</span><span class="sxs-lookup"><span data-stu-id="edea1-148">After users are logged on, the Kerberos controller enables each user to establish secure contexts with any other computer or application.</span></span> <span data-ttu-id="edea1-149">V místním počítači můžete snadno vytvořit skupiny, a při ochraně určitých složek, tyto skupiny můžete použít k přiřazování přístupovými oprávněními v počítači.</span><span class="sxs-lookup"><span data-stu-id="edea1-149">On a local machine, groups can be easily created, and when protecting specific folders, those groups can be used to assign access privileges on the computer.</span></span>  
  
## <a name="implementing-windows-security-on-intranet-services"></a><span data-ttu-id="edea1-150">Implementace zabezpečení systému Windows na intranetu služby</span><span class="sxs-lookup"><span data-stu-id="edea1-150">Implementing Windows Security on Intranet Services</span></span>  
 <span data-ttu-id="edea1-151">Chcete-li zabezpečit aplikaci spuštěnou výhradně v doméně systému Windows, můžete použít výchozí nastavení zabezpečení buď <xref:System.ServiceModel.WSHttpBinding> nebo <xref:System.ServiceModel.NetTcpBinding> vazby.</span><span class="sxs-lookup"><span data-stu-id="edea1-151">To secure an application that runs exclusively on a Windows domain, you can use the default security settings of either the <xref:System.ServiceModel.WSHttpBinding> or the <xref:System.ServiceModel.NetTcpBinding> binding.</span></span> <span data-ttu-id="edea1-152">Ve výchozím nastavení, kdokoli ve stejné doméně systému Windows přístup [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] služby.</span><span class="sxs-lookup"><span data-stu-id="edea1-152">By default, anyone on the same Windows domain can access [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] services.</span></span> <span data-ttu-id="edea1-153">Protože tyto uživatelé přihlásí k síti, jsou důvěryhodné.</span><span class="sxs-lookup"><span data-stu-id="edea1-153">Because those users have logged on to the network, they are trusted.</span></span> <span data-ttu-id="edea1-154">Zprávy mezi službou a klienta jsou utajení šifrována a podepsaný integritu.</span><span class="sxs-lookup"><span data-stu-id="edea1-154">The messages between a service and a client are encrypted for confidentiality and signed for integrity.</span></span> [!INCLUDE[crabout](../../../includes/crabout-md.md)]<span data-ttu-id="edea1-155"> jak vytvořit službu, která využívá zabezpečení systému Windows, najdete v části [postupy: zabezpečení služby s pověřeními Windows](../../../docs/framework/wcf/how-to-secure-a-service-with-windows-credentials.md).</span><span class="sxs-lookup"><span data-stu-id="edea1-155"> how to create a service that uses Windows security, see [How to: Secure a Service with Windows Credentials](../../../docs/framework/wcf/how-to-secure-a-service-with-windows-credentials.md).</span></span>  
  
### <a name="authorization-using-the-principalpermissionattribute-class"></a><span data-ttu-id="edea1-156">Autorizace pomocí třídy PrincipalPermissionAttribute</span><span class="sxs-lookup"><span data-stu-id="edea1-156">Authorization Using the PrincipalPermissionAttribute Class</span></span>  
 <span data-ttu-id="edea1-157">Pokud potřebujete omezit přístup k prostředkům v počítači, nejjednodušším způsobem je použít <xref:System.Security.Permissions.PrincipalPermissionAttribute> třídy.</span><span class="sxs-lookup"><span data-stu-id="edea1-157">If you need to restrict the access of resources on a computer, the easiest way is to use the <xref:System.Security.Permissions.PrincipalPermissionAttribute> class.</span></span> <span data-ttu-id="edea1-158">Tento atribut umožňuje omezit volání náročných operací služby, které uživatel bude v zadané skupině Windows nebo role, nebo na konkrétního uživatele.</span><span class="sxs-lookup"><span data-stu-id="edea1-158">This attribute enables you to restrict the invocation of service operations by demanding that the user be in a specified Windows group or role, or to be a specific user.</span></span> <span data-ttu-id="edea1-159">Další informace najdete v tématu [postupy: omezení přístupu pomocí třídy PrincipalPermissionAttribute](../../../docs/framework/wcf/how-to-restrict-access-with-the-principalpermissionattribute-class.md).</span><span class="sxs-lookup"><span data-stu-id="edea1-159">For more information, see [How to: Restrict Access with the PrincipalPermissionAttribute Class](../../../docs/framework/wcf/how-to-restrict-access-with-the-principalpermissionattribute-class.md).</span></span>  
  
### <a name="impersonation"></a><span data-ttu-id="edea1-160">Zosobnění</span><span class="sxs-lookup"><span data-stu-id="edea1-160">Impersonation</span></span>  
 <span data-ttu-id="edea1-161">Zosobnění je jiný mechanismus, který můžete použít k řízení přístupu k prostředkům.</span><span class="sxs-lookup"><span data-stu-id="edea1-161">Impersonation is another mechanism that you can use to control access to resources.</span></span> <span data-ttu-id="edea1-162">Ve výchozím nastavení spustí službě hostované službou IIS s identitou účtu ASPNET.</span><span class="sxs-lookup"><span data-stu-id="edea1-162">By default, a service hosted by IIS will run under the identity of the ASPNET account.</span></span> <span data-ttu-id="edea1-163">U účtu ASPNET můžete přístup pouze k prostředkům, pro které má oprávnění.</span><span class="sxs-lookup"><span data-stu-id="edea1-163">The ASPNET account can access only the resources for which it has permission.</span></span> <span data-ttu-id="edea1-164">Nicméně je možné nastavit seznam řízení přístupu pro složku vyloučit ASPNET účet služby, ale povolit určité identity pro přístup do složky.</span><span class="sxs-lookup"><span data-stu-id="edea1-164">However, it is possible to set the ACL for a folder to exclude the ASPNET service account, but allow certain other identities to access the folder.</span></span> <span data-ttu-id="edea1-165">Otázka pak stane jak umožnit uživatelům přístup ke složce, pokud uděláte to tak není povoleno účtu ASPNET.</span><span class="sxs-lookup"><span data-stu-id="edea1-165">The question then becomes how to allow those users to access the folder if the ASPNET account is not allowed to do so.</span></span> <span data-ttu-id="edea1-166">Odpověď je použití zosobnění, které je povoleno službu používat pověření klienta pro přístup k určitému prostředku.</span><span class="sxs-lookup"><span data-stu-id="edea1-166">The answer is to use impersonation, whereby the service is allowed to use the credentials of the client to access a particular resource.</span></span> <span data-ttu-id="edea1-167">Dalším příkladem je při přístupu k databázi systému SQL Server, ke kterému mají jenom určitým uživatelům oprávnění.</span><span class="sxs-lookup"><span data-stu-id="edea1-167">Another example is when accessing a SQL Server database to which only certain users have permission.</span></span> [!INCLUDE[crabout](../../../includes/crabout-md.md)]<span data-ttu-id="edea1-168"> pomocí zosobnění, najdete v tématu [postupy: zosobnění klienta ve službě](../../../docs/framework/wcf/how-to-impersonate-a-client-on-a-service.md) a [delegace a zosobnění](../../../docs/framework/wcf/feature-details/delegation-and-impersonation-with-wcf.md).</span><span class="sxs-lookup"><span data-stu-id="edea1-168"> using impersonation, see [How to: Impersonate a Client on a Service](../../../docs/framework/wcf/how-to-impersonate-a-client-on-a-service.md) and [Delegation and Impersonation](../../../docs/framework/wcf/feature-details/delegation-and-impersonation-with-wcf.md).</span></span>  
  
## <a name="security-on-the-internet"></a><span data-ttu-id="edea1-169">Zabezpečení Internetu</span><span class="sxs-lookup"><span data-stu-id="edea1-169">Security on the Internet</span></span>  
 <span data-ttu-id="edea1-170">Zabezpečení na Internetu se skládá ze stejné požadavky jako zabezpečení v síti intranet.</span><span class="sxs-lookup"><span data-stu-id="edea1-170">Security on the Internet consists of the same requirements as security on an intranet.</span></span> <span data-ttu-id="edea1-171">Služba potřebuje pro svoje přihlašovací údaje k prokázání své pravosti k dispozici, a klienti se musí k prokázání své identity ke službě.</span><span class="sxs-lookup"><span data-stu-id="edea1-171">A service needs to present its credentials to prove its authenticity, and clients need to prove their identity to the service.</span></span> <span data-ttu-id="edea1-172">Jakmile je ověřené identity klienta, můžete řídit službu kolik přístup k prostředkům má klient.</span><span class="sxs-lookup"><span data-stu-id="edea1-172">Once a client's identity is proven, the service can control how much access the client has to resources.</span></span> <span data-ttu-id="edea1-173">Kvůli heterogenní povaha Internetu, však přihlašovací údaje lišit od těch, které používá v doméně systému Windows.</span><span class="sxs-lookup"><span data-stu-id="edea1-173">However, due to the heterogeneous nature of the Internet, the credentials presented differ from those used on a Windows domain.</span></span> <span data-ttu-id="edea1-174">Zatímco zpracovává řadič protokolu Kerberos k ověřování uživatelů v doméně s lístky pro přihlašovací údaje na Internetu, služeb a klientů závisí na některý ze několik různých způsobů, jak přihlašovací údaje k dispozici.</span><span class="sxs-lookup"><span data-stu-id="edea1-174">Whereas a Kerberos controller handles the authentication of users on a domain with tickets for credentials, on the Internet, services and clients rely on any one of several different ways to present credentials.</span></span> <span data-ttu-id="edea1-175">Cílem tohoto tématu, ale je k dispozici běžný postup, který umožňuje vytvářet [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] službu, která je přístupné z Internetu.</span><span class="sxs-lookup"><span data-stu-id="edea1-175">The objective of this topic, however, is to present a common approach that enables you to create a [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] service that is accessible on the Internet.</span></span>  
  
### <a name="using-iis-and-aspnet"></a><span data-ttu-id="edea1-176">Pomocí služby IIS a ASP.NET</span><span class="sxs-lookup"><span data-stu-id="edea1-176">Using IIS and ASP.NET</span></span>  
 <span data-ttu-id="edea1-177">Požadavky na zabezpečení Internetu, a na mechanismy k řešení těchto problémů nejsou nové.</span><span class="sxs-lookup"><span data-stu-id="edea1-177">The requirements of Internet security, and the mechanisms to solve those problems, are not new.</span></span> <span data-ttu-id="edea1-178">Služba IIS je webový server společnosti Microsoft pro Internet a obsahuje mnoho funkcí zabezpečení, které řeší tyto problémy; Kromě toho [!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)] zahrnuje funkce zabezpečení, které [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] služby můžou používat.</span><span class="sxs-lookup"><span data-stu-id="edea1-178">IIS is Microsoft's Web server for the Internet and has many security features that address those problems; in addition, [!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)] includes security features that [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] services can use.</span></span> <span data-ttu-id="edea1-179">Abyste mohli využívat tyto funkce zabezpečení, hostitele [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] služby ve službě IIS.</span><span class="sxs-lookup"><span data-stu-id="edea1-179">To take advantage of these security features, host an [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] service on IIS.</span></span>  
  
#### <a name="using-aspnet-membership-and-role-providers"></a><span data-ttu-id="edea1-180">Pomocí členství technologie ASP.NET a zprostředkovatelů rolí</span><span class="sxs-lookup"><span data-stu-id="edea1-180">Using ASP.NET Membership and Role Providers</span></span>  
 <span data-ttu-id="edea1-181">Technologie ASP.NET obsahuje zprostředkovatele členství a rolí.</span><span class="sxs-lookup"><span data-stu-id="edea1-181">ASP.NET includes a membership and role provider.</span></span> <span data-ttu-id="edea1-182">Zprostředkovatel je databáze párů uživatelské jméno a heslo pro ověření volání, která umožňuje také zadat každou volající přístupová oprávnění.</span><span class="sxs-lookup"><span data-stu-id="edea1-182">The provider is a database of user name/password pairs for authenticating callers that also allows you to specify each caller's access privileges.</span></span> <span data-ttu-id="edea1-183">S [!INCLUDE[indigo2](../../../includes/indigo2-md.md)], můžete snadno použít už existující členství a zprostředkovatele rolí prostřednictvím konfigurace.</span><span class="sxs-lookup"><span data-stu-id="edea1-183">With [!INCLUDE[indigo2](../../../includes/indigo2-md.md)], you can easily use a pre-existing membership and role provider through configuration.</span></span> <span data-ttu-id="edea1-184">Ukázkové aplikace, která ukazuje na to, najdete v článku [členství a poskytovatel rolí](../../../docs/framework/wcf/samples/membership-and-role-provider.md) ukázka.</span><span class="sxs-lookup"><span data-stu-id="edea1-184">For a sample application that demonstrates this, see the [Membership and Role Provider](../../../docs/framework/wcf/samples/membership-and-role-provider.md) sample.</span></span>  
  
### <a name="credentials-used-by-iis"></a><span data-ttu-id="edea1-185">Přihlašovací údaje používané službou IIS</span><span class="sxs-lookup"><span data-stu-id="edea1-185">Credentials Used by IIS</span></span>  
 <span data-ttu-id="edea1-186">Na rozdíl od založenou na protokolu Kerberos řadiče domény systému Windows Internet je prostředí bez jeden řadič pro správu miliony uživatelů přihlásit kdykoli.</span><span class="sxs-lookup"><span data-stu-id="edea1-186">Unlike a Windows domain backed by a Kerberos controller, the Internet is an environment without a single controller to manage the millions of users logging on at any time.</span></span> <span data-ttu-id="edea1-187">Místo toho přihlašovací údaje na Internetu jsou nejčastěji ve formě certifikáty X.509 (také označované jako (Secure Sockets Layer) nebo SSL, certifikáty).</span><span class="sxs-lookup"><span data-stu-id="edea1-187">Instead, credentials on the Internet most often are in the form of X.509 certificates (also known as Secure Sockets Layer, or SSL, certificates).</span></span> <span data-ttu-id="edea1-188">Tyto certifikáty jsou obvykle vydává *certifikační autority*, může být jiné společnosti, která se zaručuje za pravost certifikát a uživatel je vystavený pro.</span><span class="sxs-lookup"><span data-stu-id="edea1-188">These certificates are typically issued by a *certification authority*, which can be a third-party company that vouches for the authenticity of the certificate and the person it has been issued to.</span></span> <span data-ttu-id="edea1-189">Chcete-li vystavit služby v síti Internet, je nutné zadat také důvěryhodný certifikát k ověření služby.</span><span class="sxs-lookup"><span data-stu-id="edea1-189">To expose your service on the Internet, you must also supply such a trusted certificate to authenticate your service.</span></span>  
  
 <span data-ttu-id="edea1-190">Otázka v tomto okamžiku dojde, jak můžete získat tento certifikát?</span><span class="sxs-lookup"><span data-stu-id="edea1-190">The question arises at this point, how do you get such a certificate?</span></span> <span data-ttu-id="edea1-191">Jeden z přístupů je přejít na certifikační autority, například Authenticode nebo VeriSign, až budete připraveni k nasazení služby a zakupte certifikát pro vaši službu.</span><span class="sxs-lookup"><span data-stu-id="edea1-191">One approach is to go to a third-party certification authority, such as Authenticode or VeriSign, when you are ready to deploy your service, and purchase a certificate for your service.</span></span> <span data-ttu-id="edea1-192">Ale pokud jste ve fázi vývoje s [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] a není ještě připraven pro potvrzení při nákupu certifikát, nástroje a techniky existují pro vytváření certifikátů X.509, které můžete použít k simulaci produkčním nasazení.</span><span class="sxs-lookup"><span data-stu-id="edea1-192">However, if you are in the development phase with [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] and not yet ready to commit to purchasing a certificate, tools and techniques exist for creating X.509 certificates that you can use to simulate a production deployment.</span></span> <span data-ttu-id="edea1-193">Další informace najdete v tématu [práce s certifikáty](../../../docs/framework/wcf/feature-details/working-with-certificates.md).</span><span class="sxs-lookup"><span data-stu-id="edea1-193">For more information, see [Working with Certificates](../../../docs/framework/wcf/feature-details/working-with-certificates.md).</span></span>  
  
## <a name="security-modes"></a><span data-ttu-id="edea1-194">Režimy zabezpečení</span><span class="sxs-lookup"><span data-stu-id="edea1-194">Security Modes</span></span>  
 <span data-ttu-id="edea1-195">Programování [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] zabezpečení zahrnuje několik důležitých rozhodovací body.</span><span class="sxs-lookup"><span data-stu-id="edea1-195">Programming [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] security entails a few critical decision points.</span></span> <span data-ttu-id="edea1-196">Jeden z Většina základních je volba *režim zabezpečení*.</span><span class="sxs-lookup"><span data-stu-id="edea1-196">One of the most basic is the choice of *security mode*.</span></span> <span data-ttu-id="edea1-197">Jsou dva režimy hlavní zabezpečení *režim přenosu* a *režim zprávy*.</span><span class="sxs-lookup"><span data-stu-id="edea1-197">The two major security modes are *transport mode* and *message mode*.</span></span>  
  
 <span data-ttu-id="edea1-198">Je třetí režimu, který kombinuje sémantika oba hlavní režimy, *přenosu s režimem přihlašovací údaje zpráva*.</span><span class="sxs-lookup"><span data-stu-id="edea1-198">A third mode, which combines the semantics of both major modes, is *transport with message credentials mode*.</span></span>  
  
 <span data-ttu-id="edea1-199">Režim zabezpečení určuje, jak jsou zabezpečené zprávy, a každou volbu obsahuje výhody a nevýhody, jak je popsáno níže.</span><span class="sxs-lookup"><span data-stu-id="edea1-199">The security mode determines how messages are secured, and each choice has advantages and disadvantages, as explained below.</span></span> [!INCLUDE[crabout](../../../includes/crabout-md.md)]<span data-ttu-id="edea1-200"> nastavení režimu zabezpečení, najdete v části [postupy: nastavení režimu zabezpečení](../../../docs/framework/wcf/how-to-set-the-security-mode.md).</span><span class="sxs-lookup"><span data-stu-id="edea1-200"> setting the security mode, see [How to: Set the Security Mode](../../../docs/framework/wcf/how-to-set-the-security-mode.md).</span></span>  
  
#### <a name="transport-mode"></a><span data-ttu-id="edea1-201">Režim přenosu</span><span class="sxs-lookup"><span data-stu-id="edea1-201">Transport Mode</span></span>  
 <span data-ttu-id="edea1-202">Existuje několik vrstev mezi sítí a aplikace.</span><span class="sxs-lookup"><span data-stu-id="edea1-202">There are several layers between the network and the application.</span></span> <span data-ttu-id="edea1-203">Jedním z nich je *přenosu* vrstvy *,* které spravuje přenos zpráv mezi koncovými body.</span><span class="sxs-lookup"><span data-stu-id="edea1-203">One of these is the *transport* layer *,* which manages the transfer of messages between endpoints.</span></span> <span data-ttu-id="edea1-204">K dispozici účelu je jenom potřeba, abyste rozuměli tomu, [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] používá několik přenosové protokoly, z nichž každý můžete zabezpečit přenos zpráv.</span><span class="sxs-lookup"><span data-stu-id="edea1-204">For the present purpose, it is only required that you understand that [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] uses several transport protocols, each of which can secure the transfer of messages.</span></span> <span data-ttu-id="edea1-205">([!INCLUDE[crabout](../../../includes/crabout-md.md)] přenosy, najdete v části [přenosy](../../../docs/framework/wcf/feature-details/transports.md).)</span><span class="sxs-lookup"><span data-stu-id="edea1-205">([!INCLUDE[crabout](../../../includes/crabout-md.md)] transports, see [Transports](../../../docs/framework/wcf/feature-details/transports.md).)</span></span>  
  
 <span data-ttu-id="edea1-206">Běžně používané protokol je HTTP; Další je TCP.</span><span class="sxs-lookup"><span data-stu-id="edea1-206">A commonly used protocol is HTTP; another is TCP.</span></span> <span data-ttu-id="edea1-207">Každý z těchto protokolů můžete zabezpečit přenos mechanismus (nebo mechanismy) konkrétní zprávu protokolu.</span><span class="sxs-lookup"><span data-stu-id="edea1-207">Each of these protocols can secure message transfer by a mechanism (or mechanisms) particular to the protocol.</span></span> <span data-ttu-id="edea1-208">Například je protokol HTTP zabezpečené pomocí protokolu SSL přes protokol HTTP, často se používá zkratka jako "Protokol HTTPS."</span><span class="sxs-lookup"><span data-stu-id="edea1-208">For example, the HTTP protocol is secured using SSL over HTTP, commonly abbreviated as "HTTPS."</span></span> <span data-ttu-id="edea1-209">Pokud vyberete režim přenosu pro zabezpečení, jsou proto rozhodnete použít mechanismus, jak je stanoveno protokolem.</span><span class="sxs-lookup"><span data-stu-id="edea1-209">Thus, when you select the transport mode for security, you are choosing to use the mechanism as dictated by the protocol.</span></span> <span data-ttu-id="edea1-210">Například, pokud jste vybrali <xref:System.ServiceModel.WSHttpBinding> třídy a nastavte režim zabezpečení na přenos, vybíráte SSL přes protokol HTTP (HTTPS) jako mechanismus zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="edea1-210">For example, if you select the <xref:System.ServiceModel.WSHttpBinding> class and set its security mode to Transport, you are selecting SSL over HTTP (HTTPS) as the security mechanism.</span></span> <span data-ttu-id="edea1-211">Výhodou režim přenosu je, že je efektivnější než režim zprávy protože zabezpečení je integrované srovnatelně nízké úrovni.</span><span class="sxs-lookup"><span data-stu-id="edea1-211">The advantage of the transport mode is that it is more efficient than message mode because security is integrated at a comparatively low level.</span></span> <span data-ttu-id="edea1-212">Pokud používáte režim přenosu, musí být implementována mechanismus zabezpečení podle specifikace pro přenos, a proto zprávy můžete procházet bezpečně jenom z typu point-to-point prostřednictvím přenosu.</span><span class="sxs-lookup"><span data-stu-id="edea1-212">When using transport mode, the security mechanism must be implemented according to the specification for the transport, and thus messages can flow securely only from point-to-point over the transport.</span></span>  
  
#### <a name="message-mode"></a><span data-ttu-id="edea1-213">Režim zprávy</span><span class="sxs-lookup"><span data-stu-id="edea1-213">Message Mode</span></span>  
 <span data-ttu-id="edea1-214">Režim zprávy naopak poskytuje zabezpečení včetně zabezpečení dat v rámci každé zprávy.</span><span class="sxs-lookup"><span data-stu-id="edea1-214">In contrast, message mode provides security by including the security data as part of every message.</span></span> <span data-ttu-id="edea1-215">Pomocí XML a zabezpečení hlavičky SOAP, pověření a dalších dat potřebných k zajištění integrity a důvěrnosti zprávy, které jsou součástí každou zprávu.</span><span class="sxs-lookup"><span data-stu-id="edea1-215">Using XML and SOAP security headers, the credentials and other data needed to ensure the integrity and confidentiality of the message are included with every message.</span></span> <span data-ttu-id="edea1-216">Všechny zprávy je i zabezpečení dat, je výsledkem projedou na výkon, protože musí být každá zpráva zpracuje jednotlivě.</span><span class="sxs-lookup"><span data-stu-id="edea1-216">Every message includes security data, so it results in a toll on performance because each message must be individually processed.</span></span> <span data-ttu-id="edea1-217">(V režimu přenosu po přenosové vrstvy musí být zabezpečená, všechny zprávy toku volně.) Zabezpečení zpráv má však jednou z výhod přes zabezpečení přenosu: je flexibilnější.</span><span class="sxs-lookup"><span data-stu-id="edea1-217">(In transport mode, once the transport layer is secured, all messages flow freely.) However, message security has one advantage over transport security: it is more flexible.</span></span> <span data-ttu-id="edea1-218">To znamená požadavky na zabezpečení nejsou určen přenos.</span><span class="sxs-lookup"><span data-stu-id="edea1-218">That is, the security requirements are not determined by the transport.</span></span> <span data-ttu-id="edea1-219">Jakýkoli typ pověření klienta můžete použít k zabezpečení zprávy.</span><span class="sxs-lookup"><span data-stu-id="edea1-219">You can use any type of client credential to secure the message.</span></span> <span data-ttu-id="edea1-220">(V režimu přenosu přenosový protokol Určuje typ pověření klienta, který můžete použít.)</span><span class="sxs-lookup"><span data-stu-id="edea1-220">(In transport mode, the transport protocol determines the type of client credential that you can use.)</span></span>  
  
#### <a name="transport-with-message-credentials"></a><span data-ttu-id="edea1-221">Přenos s pověřením zpráv</span><span class="sxs-lookup"><span data-stu-id="edea1-221">Transport with Message Credentials</span></span>  
 <span data-ttu-id="edea1-222">Třetí režimu kombinují nejlepší zabezpečení přenosu a zprávy.</span><span class="sxs-lookup"><span data-stu-id="edea1-222">The third mode combines the best of both transport and message security.</span></span> <span data-ttu-id="edea1-223">V tomto režimu zabezpečení přenosu umožňuje efektivně zajistit důvěrnost a integrity každé zprávy.</span><span class="sxs-lookup"><span data-stu-id="edea1-223">In this mode, transport security is used to efficiently ensure the confidentiality and integrity of every message.</span></span> <span data-ttu-id="edea1-224">Současně všechny zprávy je i jeho data přihlašovacích údajů, což umožňuje zpráva, která má být ověřen.</span><span class="sxs-lookup"><span data-stu-id="edea1-224">At the same time, every message includes its credential data, which allows the message to be authenticated.</span></span> <span data-ttu-id="edea1-225">Pomocí ověřování autorizace můžete implementovat také.</span><span class="sxs-lookup"><span data-stu-id="edea1-225">With authentication, authorization can also be implemented.</span></span> <span data-ttu-id="edea1-226">Tak, že odesílatele, přístup k prostředkům může být povolen (nebo odepřen) podle identity uživatele.</span><span class="sxs-lookup"><span data-stu-id="edea1-226">By authenticating a sender, access to resources can be granted (or denied) according to the sender's identity.</span></span>  
  
## <a name="specifying-the-client-credential-type-and-credential-value"></a><span data-ttu-id="edea1-227">Určení typu pověření klienta a hodnotu přihlašovacích údajů</span><span class="sxs-lookup"><span data-stu-id="edea1-227">Specifying the Client Credential Type and Credential Value</span></span>  
 <span data-ttu-id="edea1-228">Poté, co jste vybrali režim zabezpečení, můžete také k určení typu pověření klienta.</span><span class="sxs-lookup"><span data-stu-id="edea1-228">After you have selected a security mode, you may also want to specify a client credential type.</span></span> <span data-ttu-id="edea1-229">Tento typ přihlašovacích údajů klienta Určuje, jaký typ klient musí použít k vlastnímu ověření serveru.</span><span class="sxs-lookup"><span data-stu-id="edea1-229">The client credential type specifies what type a client must use to authenticate itself to the server.</span></span>  
  
 <span data-ttu-id="edea1-230">Ne všechny scénáře vyžadují typu pověření klienta, ale.</span><span class="sxs-lookup"><span data-stu-id="edea1-230">Not all scenarios require a client credential type, however.</span></span> <span data-ttu-id="edea1-231">Použití protokolu SSL přes protokol HTTP (HTTPS), služba se ověří na klientovi.</span><span class="sxs-lookup"><span data-stu-id="edea1-231">Using SSL over HTTP (HTTPS), a service authenticates itself to the client.</span></span> <span data-ttu-id="edea1-232">V rámci tohoto ověřování služby certifikát odeslán do klienta v procesu označovaného jako *vyjednávání*.</span><span class="sxs-lookup"><span data-stu-id="edea1-232">As part of this authentication, the service's certificate is sent to the client in a process called *negotiation*.</span></span> <span data-ttu-id="edea1-233">Přenos zabezpečené protokolem SSL jistotu, že všechny zprávy důvěrné.</span><span class="sxs-lookup"><span data-stu-id="edea1-233">The SSL-secured transport ensures that all messages are confidential.</span></span>  
  
 <span data-ttu-id="edea1-234">Pokud vytváříte službu, která vyžaduje ověření klienta, zvoleného typu pověření klienta závisí na přenos a vybraný režim.</span><span class="sxs-lookup"><span data-stu-id="edea1-234">If you are creating a service that requires that the client be authenticated, your choice of a client credential type depends on the transport and mode selected.</span></span> <span data-ttu-id="edea1-235">Například pomocí přenosového protokolu HTTP a vybrat režim přenosu k dispozici několik možností, jako je například Digest, Basic a dalších.</span><span class="sxs-lookup"><span data-stu-id="edea1-235">For example, using the HTTP transport and choosing transport mode gives you several choices, such as Basic, Digest, and others.</span></span> <span data-ttu-id="edea1-236">([!INCLUDE[crabout](../../../includes/crabout-md.md)] najdete v těchto typů přihlašovacích údajů [ověřování protokolu HTTP Principy](../../../docs/framework/wcf/feature-details/understanding-http-authentication.md).)</span><span class="sxs-lookup"><span data-stu-id="edea1-236">([!INCLUDE[crabout](../../../includes/crabout-md.md)] these credential types, see [Understanding HTTP Authentication](../../../docs/framework/wcf/feature-details/understanding-http-authentication.md).)</span></span>  
  
 <span data-ttu-id="edea1-237">Při vytváření služby v doméně systému Windows, která bude k dispozici pouze jiným uživatelům v síti, je nejjednodušší používat typu pověření klienta systému Windows.</span><span class="sxs-lookup"><span data-stu-id="edea1-237">If you are creating a service on a Windows domain that will be available only to other users of the network, the easiest to use is the Windows client credential type.</span></span> <span data-ttu-id="edea1-238">Však může také potřebujete poskytovat služby pomocí certifikátu.</span><span class="sxs-lookup"><span data-stu-id="edea1-238">However, you may also need to provide a service with a certificate.</span></span> <span data-ttu-id="edea1-239">To je ukázáno v [postup: Zadejte hodnot přihlašovacích údajů klienta](../../../docs/framework/wcf/how-to-specify-client-credential-values.md).</span><span class="sxs-lookup"><span data-stu-id="edea1-239">This is shown in [How to: Specify Client Credential Values](../../../docs/framework/wcf/how-to-specify-client-credential-values.md).</span></span>  
  
#### <a name="credential-values"></a><span data-ttu-id="edea1-240">Hodnot přihlašovacích údajů</span><span class="sxs-lookup"><span data-stu-id="edea1-240">Credential Values</span></span>  
 <span data-ttu-id="edea1-241">A *pověření hodnota* je skutečnou pověření používá služby.</span><span class="sxs-lookup"><span data-stu-id="edea1-241">A *credential value* is the actual credential the service uses.</span></span> <span data-ttu-id="edea1-242">Po zadání typ přihlašovacích údajů, můžete také nakonfigurovat služby s aktuálními pověřeními.</span><span class="sxs-lookup"><span data-stu-id="edea1-242">Once you have specified a credential type, you may also need to configure your service with the actual credentials.</span></span> <span data-ttu-id="edea1-243">Pokud jste vybrali systému Windows (a služba bude spuštěna v doméně systému Windows), pak nezadáte hodnotu skutečné přihlašovacích údajů.</span><span class="sxs-lookup"><span data-stu-id="edea1-243">If you have selected Windows (and the service will run on a Windows domain), then you do not specify an actual credential value.</span></span>  
  
## <a name="identity"></a><span data-ttu-id="edea1-244">Identita</span><span class="sxs-lookup"><span data-stu-id="edea1-244">Identity</span></span>  
 <span data-ttu-id="edea1-245">V [!INCLUDE[indigo2](../../../includes/indigo2-md.md)], termín *identity* má odlišný význam na server a klienta.</span><span class="sxs-lookup"><span data-stu-id="edea1-245">In [!INCLUDE[indigo2](../../../includes/indigo2-md.md)], the term *identity* has different meanings to the server and the client.</span></span> <span data-ttu-id="edea1-246">Stručně řečeno při kterém běží služba, identity je přiřazený k kontext zabezpečení po ověření.</span><span class="sxs-lookup"><span data-stu-id="edea1-246">In brief, when running a service, an identity is assigned to the security context after authentication.</span></span> <span data-ttu-id="edea1-247">Chcete-li zobrazit skutečné identitu, zkontrolujte <xref:System.ServiceModel.ServiceSecurityContext.WindowsIdentity%2A> a <xref:System.ServiceModel.ServiceSecurityContext.PrimaryIdentity%2A> vlastnosti <xref:System.ServiceModel.ServiceSecurityContext> třídy.</span><span class="sxs-lookup"><span data-stu-id="edea1-247">To view the actual identity, check the <xref:System.ServiceModel.ServiceSecurityContext.WindowsIdentity%2A> and <xref:System.ServiceModel.ServiceSecurityContext.PrimaryIdentity%2A> properties of the <xref:System.ServiceModel.ServiceSecurityContext> class.</span></span> <span data-ttu-id="edea1-248">Další informace najdete v tématu [postupy: prozkoumání kontextu zabezpečení](../../../docs/framework/wcf/how-to-examine-the-security-context.md).</span><span class="sxs-lookup"><span data-stu-id="edea1-248">For more information, see [How to: Examine the Security Context](../../../docs/framework/wcf/how-to-examine-the-security-context.md).</span></span>  
  
 <span data-ttu-id="edea1-249">Na klientovi, na rozdíl od identity slouží k ověření služby.</span><span class="sxs-lookup"><span data-stu-id="edea1-249">In contrast, on the client, identity is used to validate the service.</span></span> <span data-ttu-id="edea1-250">V době návrhu, můžete nastavit vývojář klienta [ \<identity >](../../../docs/framework/configure-apps/file-schema/wcf/identity.md) element na hodnotu získat ze služby.</span><span class="sxs-lookup"><span data-stu-id="edea1-250">At design time, a client developer can set the [\<identity>](../../../docs/framework/configure-apps/file-schema/wcf/identity.md) element to a value obtained from the service.</span></span> <span data-ttu-id="edea1-251">V době běhu klient zkontroluje hodnota elementu proti skutečné identitu služby.</span><span class="sxs-lookup"><span data-stu-id="edea1-251">At run time, the client checks the value of the element against the actual identity of the service.</span></span> <span data-ttu-id="edea1-252">Pokud kontrola selže, ukončí klient komunikace.</span><span class="sxs-lookup"><span data-stu-id="edea1-252">If the check fails, the client terminates the communication.</span></span> <span data-ttu-id="edea1-253">Hodnota může být hlavní název uživatele (UPN), pokud je služba spuštěna pod identitou konkrétní uživatele nebo hlavní název služby (SPN), pokud je služba spuštěna pod účtem počítače.</span><span class="sxs-lookup"><span data-stu-id="edea1-253">The value can be a user principal name (UPN) if the service runs under a particular user's identity or a service principal name (SPN) if the service runs under a machine account.</span></span> <span data-ttu-id="edea1-254">Další informace najdete v tématu [identita a ověřování služby](../../../docs/framework/wcf/feature-details/service-identity-and-authentication.md).</span><span class="sxs-lookup"><span data-stu-id="edea1-254">For more information, see [Service Identity and Authentication](../../../docs/framework/wcf/feature-details/service-identity-and-authentication.md).</span></span> <span data-ttu-id="edea1-255">Přihlašovací údaje mohou být také certifikát nebo pole na certifikát, který identifikuje certifikát nalezen.</span><span class="sxs-lookup"><span data-stu-id="edea1-255">The credential could also be a certificate, or a field found on a certificate that identifies the certificate.</span></span>  
  
## <a name="protection-levels"></a><span data-ttu-id="edea1-256">Úrovně ochrany</span><span class="sxs-lookup"><span data-stu-id="edea1-256">Protection Levels</span></span>  
 <span data-ttu-id="edea1-257">`ProtectionLevel` Vlastnost proběhne několik třídy atributů (například <xref:System.ServiceModel.ServiceContractAttribute> a <xref:System.ServiceModel.OperationContractAttribute> třídy).</span><span class="sxs-lookup"><span data-stu-id="edea1-257">The `ProtectionLevel` property occurs on several attribute classes (such as the <xref:System.ServiceModel.ServiceContractAttribute> and the <xref:System.ServiceModel.OperationContractAttribute> classes).</span></span> <span data-ttu-id="edea1-258">Úroveň ochrany je hodnota, která určuje, zda zprávy (nebo části zprávy) podporující služby jsou podepsané, podepsané a šifrovaná nebo odeslán bez informace podpisy nebo šifrování.</span><span class="sxs-lookup"><span data-stu-id="edea1-258">The protection level is a value that specifies whether the messages (or message parts) that support a service are signed, signed and encrypted, or sent without signatures or encryption.</span></span> [!INCLUDE[crabout](../../../includes/crabout-md.md)]<span data-ttu-id="edea1-259"> vlastnost, najdete v části [úroveň ochrany Principy](../../../docs/framework/wcf/understanding-protection-level.md)a programovací příklady najdete v tématu [postupy: nastavení vlastnosti ProtectionLevel](../../../docs/framework/wcf/how-to-set-the-protectionlevel-property.md).</span><span class="sxs-lookup"><span data-stu-id="edea1-259"> the property, see [Understanding Protection Level](../../../docs/framework/wcf/understanding-protection-level.md), and for programming examples, see [How to: Set the ProtectionLevel Property](../../../docs/framework/wcf/how-to-set-the-protectionlevel-property.md).</span></span> [!INCLUDE[crabout](../../../includes/crabout-md.md)]<span data-ttu-id="edea1-260"> navrhování kontrakt služby s `ProtectionLevel` v kontextu, najdete v části [navrhování kontraktů služby](../../../docs/framework/wcf/designing-service-contracts.md).</span><span class="sxs-lookup"><span data-stu-id="edea1-260"> designing a service contract with the `ProtectionLevel` in context, see [Designing Service Contracts](../../../docs/framework/wcf/designing-service-contracts.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="edea1-261">Viz také</span><span class="sxs-lookup"><span data-stu-id="edea1-261">See Also</span></span>  
 <xref:System.ServiceModel>  
 <xref:System.ServiceModel.Description.ServiceCredentials>  
 <xref:System.ServiceModel.ServiceContractAttribute>  
 <xref:System.ServiceModel.OperationContractAttribute>  
 [<span data-ttu-id="edea1-262">Identita a ověřování služby</span><span class="sxs-lookup"><span data-stu-id="edea1-262">Service Identity and Authentication</span></span>](../../../docs/framework/wcf/feature-details/service-identity-and-authentication.md)  
 [<span data-ttu-id="edea1-263">Princip úrovně ochrany</span><span class="sxs-lookup"><span data-stu-id="edea1-263">Understanding Protection Level</span></span>](../../../docs/framework/wcf/understanding-protection-level.md)  
 [<span data-ttu-id="edea1-264">Delegace a zosobnění</span><span class="sxs-lookup"><span data-stu-id="edea1-264">Delegation and Impersonation</span></span>](../../../docs/framework/wcf/feature-details/delegation-and-impersonation-with-wcf.md)  
 [<span data-ttu-id="edea1-265">Navrhování kontraktů služby</span><span class="sxs-lookup"><span data-stu-id="edea1-265">Designing Service Contracts</span></span>](../../../docs/framework/wcf/designing-service-contracts.md)  
 [<span data-ttu-id="edea1-266">Zabezpečení</span><span class="sxs-lookup"><span data-stu-id="edea1-266">Security</span></span>](../../../docs/framework/wcf/feature-details/security.md)  
 [<span data-ttu-id="edea1-267">Přehled zabezpečení</span><span class="sxs-lookup"><span data-stu-id="edea1-267">Security Overview</span></span>](../../../docs/framework/wcf/feature-details/security-overview.md)  
 [<span data-ttu-id="edea1-268">Postupy: Nastavení vlastnosti ProtectionLevel</span><span class="sxs-lookup"><span data-stu-id="edea1-268">How to: Set the ProtectionLevel Property</span></span>](../../../docs/framework/wcf/how-to-set-the-protectionlevel-property.md)  
 [<span data-ttu-id="edea1-269">Postupy: Zabezpečení služby pomocí přihlašovacích údajů Windows</span><span class="sxs-lookup"><span data-stu-id="edea1-269">How to: Secure a Service with Windows Credentials</span></span>](../../../docs/framework/wcf/how-to-secure-a-service-with-windows-credentials.md)  
 [<span data-ttu-id="edea1-270">Postupy: Nastavení režimu zabezpečení</span><span class="sxs-lookup"><span data-stu-id="edea1-270">How to: Set the Security Mode</span></span>](../../../docs/framework/wcf/how-to-set-the-security-mode.md)  
 [<span data-ttu-id="edea1-271">Postupy: Určení typu přihlašovacích údajů klienta</span><span class="sxs-lookup"><span data-stu-id="edea1-271">How to: Specify the Client Credential Type</span></span>](../../../docs/framework/wcf/how-to-specify-the-client-credential-type.md)  
 [<span data-ttu-id="edea1-272">Postupy: Omezení přístupu pomocí třídy PrincipalPermissionAttribute</span><span class="sxs-lookup"><span data-stu-id="edea1-272">How to: Restrict Access with the PrincipalPermissionAttribute Class</span></span>](../../../docs/framework/wcf/how-to-restrict-access-with-the-principalpermissionattribute-class.md)  
 [<span data-ttu-id="edea1-273">Postupy: Zosobnění klienta ve službě</span><span class="sxs-lookup"><span data-stu-id="edea1-273">How to: Impersonate a Client on a Service</span></span>](../../../docs/framework/wcf/how-to-impersonate-a-client-on-a-service.md)  
 [<span data-ttu-id="edea1-274">Postupy: Prozkoumání kontextu zabezpečení</span><span class="sxs-lookup"><span data-stu-id="edea1-274">How to: Examine the Security Context</span></span>](../../../docs/framework/wcf/how-to-examine-the-security-context.md)
