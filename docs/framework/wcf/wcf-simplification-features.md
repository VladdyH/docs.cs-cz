---
title: Funkce zjednodušení WCF
ms.date: 03/30/2017
ms.assetid: 4535a511-6064-4da0-b361-80262a891663
ms.openlocfilehash: e5a18d721ed05bc064abca88768e393748951a5b
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 05/04/2018
ms.locfileid: "33508697"
---
# <a name="wcf-simplification-features"></a><span data-ttu-id="346e1-102">Funkce zjednodušení WCF</span><span class="sxs-lookup"><span data-stu-id="346e1-102">WCF Simplification Features</span></span>
<span data-ttu-id="346e1-103">Toto téma popisuje nové funkce, které zápis WCF aplikace jednodušší.</span><span class="sxs-lookup"><span data-stu-id="346e1-103">This topic discusses new features that make writing WCF applications simpler.</span></span>  
  
## <a name="simplified-generated-configuration-files"></a><span data-ttu-id="346e1-104">Zjednodušená generované konfigurační soubory</span><span class="sxs-lookup"><span data-stu-id="346e1-104">Simplified Generated Configuration Files</span></span>  
 <span data-ttu-id="346e1-105">Při přidání odkazu služby v sadě Visual Studio nebo pomocí nástroje SvcUtil.exe generuje soubor konfigurace klienta.</span><span class="sxs-lookup"><span data-stu-id="346e1-105">When you add a service reference in Visual Studio or use the SvcUtil.exe tool a client configuration file is generated.</span></span> <span data-ttu-id="346e1-106">V předchozích verzích služby WCF tyto konfigurační soubory obsažené hodnotu každé vlastnosti vazby, i když její hodnota je výchozí hodnota.</span><span class="sxs-lookup"><span data-stu-id="346e1-106">In previous versions of WCF these configuration files contained the value of every binding property even if its value is the default value.</span></span> <span data-ttu-id="346e1-107">Ve WCF 4.5 generované konfigurační soubory, které obsahují pouze vazby vlastnosti, které jsou nastaveny na jiné než výchozí hodnotu.</span><span class="sxs-lookup"><span data-stu-id="346e1-107">In WCF 4.5 the generated configuration files contain only those binding properties that are set to a non-default value.</span></span>  
  
 <span data-ttu-id="346e1-108">Následuje příklad konfiguračního souboru generované WCF 3.0.</span><span class="sxs-lookup"><span data-stu-id="346e1-108">The following is an example of a configuration file generated by WCF 3.0.</span></span>  
  
```xml  
<?xml version="1.0" encoding="utf-8"?>  
<configuration>  
    <system.serviceModel>  
        <bindings>  
            <basicHttpBinding>  
                <binding name="BasicHttpBinding_IService1" closeTimeout="00:01:00"  
                    openTimeout="00:01:00" receiveTimeout="00:10:00" sendTimeout="00:01:00"  
                    allowCookies="false" bypassProxyOnLocal="false"   
                    hostNameComparisonMode="StrongWildcard" maxBufferSize="65536"   
                    maxBufferPoolSize="524288" maxReceivedMessageSize="65536"  
                    messageEncoding="Text" textEncoding="utf-8" transferMode="Buffered"  
                    useDefaultWebProxy="true">  
                    <readerQuotas maxDepth="32" maxStringContentLength="8192"   
                        maxArrayLength="16384" maxBytesPerRead="4096"  
                        maxNameTableCharCount="16384" />  
                    <security mode="None">  
                        <transport clientCredentialType="None" proxyCredentialType="None"  
                            realm="" />  
                        <message clientCredentialType="UserName" algorithmSuite="Default" />  
                    </security>  
                </binding>  
            </basicHttpBinding>  
        </bindings>  
        <client>  
            <endpoint address="http://localhost:36906/Service1.svc" binding="basicHttpBinding"  
                bindingConfiguration="BasicHttpBinding_IService1" contract="IService1"  
                name="BasicHttpBinding_IService1" />  
        </client>  
    </system.serviceModel>  
</configuration>  
```  
  
 <span data-ttu-id="346e1-109">Následuje příklad stejného souboru konfigurace generované WCF 4.5.</span><span class="sxs-lookup"><span data-stu-id="346e1-109">The following is an example of the same configuration file generated by WCF 4.5.</span></span>  
  
```xml  
<?xml version="1.0" encoding="utf-8"?>  
<configuration>  
    <system.serviceModel>  
        <bindings>  
            <basicHttpBinding>  
                <binding name="BasicHttpBinding_IService1" />  
            </basicHttpBinding>  
        </bindings>  
        <client>  
            <endpoint address="http://localhost:36906/Service1.svc" binding="basicHttpBinding"  
                bindingConfiguration="BasicHttpBinding_IService1" contract="IService1"  
                name="BasicHttpBinding_IService1" />  
        </client>  
    </system.serviceModel>  
</configuration>  
```  
  
## <a name="contract-first-development"></a><span data-ttu-id="346e1-110">Vývoj s včasným kontraktu</span><span class="sxs-lookup"><span data-stu-id="346e1-110">Contract-First Development</span></span>  
 <span data-ttu-id="346e1-111">WCF nyní obsahuje podporu pro vývoj s včasným kontrakt.</span><span class="sxs-lookup"><span data-stu-id="346e1-111">WCF now has support for contract-first development.</span></span> <span data-ttu-id="346e1-112">Nástroj svcutl.exe má /serviceContract přepínač, který vám umožní generovat kontraktů služby a data z dokumentu WSDL.</span><span class="sxs-lookup"><span data-stu-id="346e1-112">The svcutl.exe tool has a /serviceContract switch which allows you to generate service and data contracts from a WSDL document.</span></span>  
  
## <a name="add-service-reference-from-a-portable-subset-project"></a><span data-ttu-id="346e1-113">Přidat odkaz na službu z přenosném dílčím projektu</span><span class="sxs-lookup"><span data-stu-id="346e1-113">Add Service Reference From a Portable Subset Project</span></span>  
 <span data-ttu-id="346e1-114">Projekty přenosném dílčím povolit programátorům sestavení .NET udržovat stromu jednoho zdroje a sestavení systému, přičemž musí zároveň podporovat více implementace rozhraní .NET (plochy, Silverlight, Windows Phone a XBOX).</span><span class="sxs-lookup"><span data-stu-id="346e1-114">Portable subset projects enable .NET assembly programmers to maintain a single source tree and build system while still supporting multiple .NET implementations (desktop, Silverlight, Windows Phone, and XBOX).</span></span> <span data-ttu-id="346e1-115">Projekty přenosném dílčím odkazovat pouze na přenosné knihovny .NET, které jsou sestavení rozhraní .NET framework, který lze použít na žádnou implementaci rozhraní .NET.</span><span class="sxs-lookup"><span data-stu-id="346e1-115">Portable subset projects only reference .NET portable libraries which are a .NET framework assembly that can be used on any .NET implementation.</span></span> <span data-ttu-id="346e1-116">Možnosti vývojáře je stejný jako přidání odkazu na službu v rámci žádnou jinou aplikaci klienta WCF.</span><span class="sxs-lookup"><span data-stu-id="346e1-116">The developer experience is the same as adding a service reference within any other WCF client application.</span></span> <span data-ttu-id="346e1-117">Další informace najdete v tématu [přidat odkaz na službu v přenosných dílčím projektu](../../../docs/framework/wcf/add-service-reference-in-a-portable-subset-project.md).</span><span class="sxs-lookup"><span data-stu-id="346e1-117">For more information, see [Add Service Reference in a Portable Subset Project](../../../docs/framework/wcf/add-service-reference-in-a-portable-subset-project.md).</span></span>  
  
## <a name="aspnet-compatibility-mode-default-changed"></a><span data-ttu-id="346e1-118">Výchozí režim kompatibility ASP.NET změnit</span><span class="sxs-lookup"><span data-stu-id="346e1-118">ASP.NET Compatibility Mode Default Changed</span></span>  
 <span data-ttu-id="346e1-119">WCF poskytuje režim kompatibility ASP.NET udělit vývojáři úplný přístup k funkcím v kanálu ASP.NET HTTP při zápisu služby WCF.</span><span class="sxs-lookup"><span data-stu-id="346e1-119">WCF provides ASP.NET compatibility mode to grant developers full access to the features in the ASP.NET HTTP pipeline when writing WCF services.</span></span> <span data-ttu-id="346e1-120">Chcete-li použít tento režim, musíte nastavit `aspNetCompatibilityEnabled` atributu na hodnotu true v [ \<serviceHostingEnvironment >](../../../docs/framework/configure-apps/file-schema/wcf/servicehostingenvironment.md) části souboru Web.config. Kromě toho musí mít všechny služby v této doméně appDomain `RequirementsMode` vlastnost na jeho <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsAttribute> nastavena na <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode.Allowed> nebo <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode.Required>.</span><span class="sxs-lookup"><span data-stu-id="346e1-120">To use this mode, you must set the `aspNetCompatibilityEnabled` attribute to true in the [\<serviceHostingEnvironment>](../../../docs/framework/configure-apps/file-schema/wcf/servicehostingenvironment.md) section of web.config. Additionally, any service in this appDomain needs to have the `RequirementsMode` property on its <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsAttribute> set to <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode.Allowed> or <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode.Required>.</span></span> <span data-ttu-id="346e1-121">Ve výchozím nastavení <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsAttribute> je teď nastavená na <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode.Allowed> a výchozí WCF služby sady šablony aplikace `aspNetCompatibilityEnabled` atribut `true`.</span><span class="sxs-lookup"><span data-stu-id="346e1-121">By default <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsAttribute> is now set to <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode.Allowed> and the default WCF service application template sets the `aspNetCompatibilityEnabled` attribute to `true`.</span></span> <span data-ttu-id="346e1-122">Další informace najdete v tématu [co je nového ve Windows Communication Foundation 4.5](../../../docs/framework/wcf/whats-new.md) a [služby WCF a ASP.NET](../../../docs/framework/wcf/feature-details/wcf-services-and-aspnet.md).</span><span class="sxs-lookup"><span data-stu-id="346e1-122">For more information, see [What's New in Windows Communication Foundation 4.5](../../../docs/framework/wcf/whats-new.md) and [WCF Services and ASP.NET](../../../docs/framework/wcf/feature-details/wcf-services-and-aspnet.md).</span></span>  
  
## <a name="streaming-improvements"></a><span data-ttu-id="346e1-123">Streamování vylepšení</span><span class="sxs-lookup"><span data-stu-id="346e1-123">Streaming Improvements</span></span>  
  
-   <span data-ttu-id="346e1-124">Nová podpora pro asynchronní streamování přidala do WCF.</span><span class="sxs-lookup"><span data-stu-id="346e1-124">New support for asynchronous streaming has been added to WCF.</span></span> <span data-ttu-id="346e1-125">Chcete-li povolit asynchronní streamování, přidejte <xref:System.ServiceModel.Description.DispatcherSynchronizationBehavior> chování koncového bodu do hostitele služby a nastavte její <xref:System.ServiceModel.Description.DispatcherSynchronizationBehavior.AsynchronousSendEnabled%2A> vlastnost `true`.</span><span class="sxs-lookup"><span data-stu-id="346e1-125">To enable asynchronous streaming, add the  <xref:System.ServiceModel.Description.DispatcherSynchronizationBehavior> endpoint behavior to the service host and set its <xref:System.ServiceModel.Description.DispatcherSynchronizationBehavior.AsynchronousSendEnabled%2A> property to `true`.</span></span>  <span data-ttu-id="346e1-126">Škálovatelnost to může přinést výhody při služby odesílá proudu zpráv do více klientů, které jsou čtení pomalu.</span><span class="sxs-lookup"><span data-stu-id="346e1-126">This can benefit scalability when a service is sending streamed messages to multiple clients which are reading slowly.</span></span> <span data-ttu-id="346e1-127">WCF neblokuje jedno vlákno na jeden klienta už a uvolní vlákno služby jiného klienta.</span><span class="sxs-lookup"><span data-stu-id="346e1-127">WCF does not block one thread per client anymore and will free up the thread to service another client.</span></span>  
  
-   <span data-ttu-id="346e1-128">Odebrané omezení kolem ukládání do vyrovnávací paměti zpráv po služby hostované služby IIS.</span><span class="sxs-lookup"><span data-stu-id="346e1-128">Removed limitations around buffering of messages when a service is IIS hosted.</span></span> <span data-ttu-id="346e1-129">V předchozích verzích služby WCF při přijímání zprávy pro služby hostované službou IIS, který používá streamování přenosu zpráv ASP.NET by vyrovnávací paměti celé zprávy před odesláním do WCF.</span><span class="sxs-lookup"><span data-stu-id="346e1-129">In previous versions of WCF when receiving a message for an IIS-hosted service that used streaming message transfer, ASP.NET would buffer the entire message before sending it to WCF.</span></span> <span data-ttu-id="346e1-130">To by způsobilo spotřeby velké paměti.</span><span class="sxs-lookup"><span data-stu-id="346e1-130">This would cause large memory consumption.</span></span> <span data-ttu-id="346e1-131">Tato ukládání do vyrovnávací paměti byla odebrána v rozhraní .NET 4.5 a služby WCF hostované IIS můžete spustit nyní zpracování příchozí datový proud před celá zpráva byla přijata, a umožňuje true streamování.</span><span class="sxs-lookup"><span data-stu-id="346e1-131">This buffering has been removed in .NET 4.5 and now IIS-hosted WCF services can start processing the incoming stream before the entire message has been received, thereby enabling true streaming.</span></span> <span data-ttu-id="346e1-132">To umožňuje WCF reagovat okamžitě na zprávy a umožňuje lepší výkon.</span><span class="sxs-lookup"><span data-stu-id="346e1-132">This allows WCF to respond immediately to messages and allows improved performance.</span></span> <span data-ttu-id="346e1-133">Kromě toho už muset zadat hodnotu pro `maxRequestLength`, limit velikosti ASP.NET na příchozí požadavky.</span><span class="sxs-lookup"><span data-stu-id="346e1-133">In addition, you no longer have to specify a value for `maxRequestLength`, the ASP.NET size limit on incoming requests.</span></span> <span data-ttu-id="346e1-134">Pokud je tato vlastnost nastavena, je ignorován.</span><span class="sxs-lookup"><span data-stu-id="346e1-134">If this property is set, it is ignored.</span></span> <span data-ttu-id="346e1-135">Další informace o `maxRequestLength` najdete v části [ \<httpRuntime > konfigurační prvek](http://go.microsoft.com/fwlink/?LinkId=223344).</span><span class="sxs-lookup"><span data-stu-id="346e1-135">For more information about `maxRequestLength` see [\<httpRuntime> configuration element](http://go.microsoft.com/fwlink/?LinkId=223344).</span></span> <span data-ttu-id="346e1-136">Je stále nutné nakonfigurovat maxAllowedContentLength, další informace najdete v tématu [omezení počtu požadavků služby IIS](http://go.microsoft.com/fwlink/?LinkId=225908).</span><span class="sxs-lookup"><span data-stu-id="346e1-136">You will still need to configure the maxAllowedContentLength, For more information, see [IIS Request Limits](http://go.microsoft.com/fwlink/?LinkId=225908).</span></span>  
  
## <a name="new-transport-default-values"></a><span data-ttu-id="346e1-137">Nové výchozí hodnoty přenosu</span><span class="sxs-lookup"><span data-stu-id="346e1-137">New Transport Default Values</span></span>  
 <span data-ttu-id="346e1-138">Následující tabulka popisuje nastavení, které se změnily a kde najít další informace.</span><span class="sxs-lookup"><span data-stu-id="346e1-138">The following table describes the settings that have changed and where to find additional information.</span></span>  
  
|<span data-ttu-id="346e1-139">Vlastnost</span><span class="sxs-lookup"><span data-stu-id="346e1-139">Property</span></span>|<span data-ttu-id="346e1-140">On</span><span class="sxs-lookup"><span data-stu-id="346e1-140">On</span></span>|<span data-ttu-id="346e1-141">Nový výchozí</span><span class="sxs-lookup"><span data-stu-id="346e1-141">New Default</span></span>|<span data-ttu-id="346e1-142">Další informace</span><span class="sxs-lookup"><span data-stu-id="346e1-142">More Information</span></span>|  
|--------------|--------|-----------------|----------------------|  
|<span data-ttu-id="346e1-143">ChannelInitializationTimeout</span><span class="sxs-lookup"><span data-stu-id="346e1-143">channelInitializationTimeout</span></span>|<xref:System.ServiceModel.NetTcpBinding>|<span data-ttu-id="346e1-144">30 sekund</span><span class="sxs-lookup"><span data-stu-id="346e1-144">30 seconds</span></span>|<span data-ttu-id="346e1-145">Tato vlastnost určuje, jak dlouho může trvat připojení TCP kterými se ověří pomocí .net rámců protokolu.</span><span class="sxs-lookup"><span data-stu-id="346e1-145">This property determines how long a TCP connection can take to authenticate itself using the .Net Framing protocol.</span></span> <span data-ttu-id="346e1-146">Klient musí poslat některé počáteční data předtím, než má server dostatek informací k provedení ověřování.</span><span class="sxs-lookup"><span data-stu-id="346e1-146">A client needs to send some initial data before the server has enough information to perform authentication.</span></span> <span data-ttu-id="346e1-147">Tento časový limit přišla záměrně menší než ReceiveTimeout (10 min.), tak, aby se zlými úmysly neověřené klienty by neměly být připojení svázané k serveru pro dlouho.</span><span class="sxs-lookup"><span data-stu-id="346e1-147">This timeout is intentionally made smaller than the ReceiveTimeout (10 min) so that malicious unauthenticated clients do not keep the connections tied up to the server for long.</span></span> <span data-ttu-id="346e1-148">Výchozí hodnota je 30 sekund.</span><span class="sxs-lookup"><span data-stu-id="346e1-148">The default value is 30 seconds.</span></span> <span data-ttu-id="346e1-149">Další informace o <xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement.ChannelInitializationTimeout%2A></span><span class="sxs-lookup"><span data-stu-id="346e1-149">For more information about <xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement.ChannelInitializationTimeout%2A></span></span>|  
|<span data-ttu-id="346e1-150">listenBacklog</span><span class="sxs-lookup"><span data-stu-id="346e1-150">listenBacklog</span></span>|<xref:System.ServiceModel.NetTcpBinding>|<span data-ttu-id="346e1-151">16 \* počet procesorů</span><span class="sxs-lookup"><span data-stu-id="346e1-151">16 \* number of processors</span></span>|<span data-ttu-id="346e1-152">Tato vlastnost úrovni soketu popisuje "přijmout čekající na vyřízení" počet požadavků ve frontě.</span><span class="sxs-lookup"><span data-stu-id="346e1-152">This socket-level property describes the number of "pending accept" requests to be queued.</span></span> <span data-ttu-id="346e1-153">Pokud nevyřízených položek fronty naslouchání zaplní, budou odmítnuty nové žádosti o soketu.</span><span class="sxs-lookup"><span data-stu-id="346e1-153">If the listen backlog queue fills up, new socket requests will be rejected.</span></span> <span data-ttu-id="346e1-154">Další informace o <xref:System.ServiceModel.NetTcpBinding.ListenBacklog%2A></span><span class="sxs-lookup"><span data-stu-id="346e1-154">For more information about <xref:System.ServiceModel.NetTcpBinding.ListenBacklog%2A></span></span>|  
|<span data-ttu-id="346e1-155">maxPendingAccepts</span><span class="sxs-lookup"><span data-stu-id="346e1-155">maxPendingAccepts</span></span>|<span data-ttu-id="346e1-156">ConnectionOrientedTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="346e1-156">ConnectionOrientedTransportBindingElement</span></span><br /><br /> <span data-ttu-id="346e1-157">SMSvcHost.exe</span><span class="sxs-lookup"><span data-stu-id="346e1-157">SMSvcHost.exe</span></span>|<span data-ttu-id="346e1-158">2 \* počet procesorů pro přenos</span><span class="sxs-lookup"><span data-stu-id="346e1-158">2 \* number of processors for transport</span></span><br /><br /> <span data-ttu-id="346e1-159">4 \* počet procesorů pro SMSvcHost.exe</span><span class="sxs-lookup"><span data-stu-id="346e1-159">4 \* number of processors for SMSvcHost.exe</span></span>|<span data-ttu-id="346e1-160">Tato vlastnost omezuje počet kanálů, které server může mít čekání na naslouchací proces.</span><span class="sxs-lookup"><span data-stu-id="346e1-160">This property limits the number of channels that the server can have waiting on a listener.</span></span> <span data-ttu-id="346e1-161">Když MaxPendingAccepts příliš nízké, budou existovat malé interval času, ve kterém všechny kanály čekání spustili obsluhy připojení, ale nové kanály, které jste začali naslouchá.</span><span class="sxs-lookup"><span data-stu-id="346e1-161">When MaxPendingAccepts is too low, there will be a small interval of time in which all of the waiting channels have started servicing connections, but no new channels have begun listening.</span></span> <span data-ttu-id="346e1-162">Připojení může doručení během tohoto intervalu a selže, protože nic čeká se na serveru.</span><span class="sxs-lookup"><span data-stu-id="346e1-162">A connection can arrive during this interval and will fail because nothing is waiting for it on the server.</span></span> <span data-ttu-id="346e1-163">Tato vlastnost se dá nakonfigurovat nastavení <xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement.MaxPendingConnections%2A> vlastnost, která má vyšší číslo.</span><span class="sxs-lookup"><span data-stu-id="346e1-163">This property can be configured by setting the <xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement.MaxPendingConnections%2A> property to a larger number.</span></span> <span data-ttu-id="346e1-164">Další informace najdete v tématu <xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement.MaxPendingAccepts%2A> a [konfigurace služby Sdílení portů Net.TCP](http://msdn.microsoft.com/library/b6dd81fa-68b7-4e1b-868e-88e5901b7ea0)</span><span class="sxs-lookup"><span data-stu-id="346e1-164">For more information, see <xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement.MaxPendingAccepts%2A> and [Configuring the Net.TCP Port Sharing Service](http://msdn.microsoft.com/library/b6dd81fa-68b7-4e1b-868e-88e5901b7ea0)</span></span>|  
|<span data-ttu-id="346e1-165">maxPendingConnections</span><span class="sxs-lookup"><span data-stu-id="346e1-165">maxPendingConnections</span></span>|<span data-ttu-id="346e1-166">ConnectionOrientedTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="346e1-166">ConnectionOrientedTransportBindingElement</span></span>|<span data-ttu-id="346e1-167">12 \* počet procesorů</span><span class="sxs-lookup"><span data-stu-id="346e1-167">12 \* number of processors</span></span>|<span data-ttu-id="346e1-168">Tato vlastnost určuje, kolik připojení přenosu přijal ale nebyly zachyceny ServiceModel dispečera.</span><span class="sxs-lookup"><span data-stu-id="346e1-168">This property controls how many connections a transport has accepted but have not been picked up by the ServiceModel Dispatcher.</span></span> <span data-ttu-id="346e1-169">Pokud chcete nastavit tuto hodnotu, použijte `MaxConnections` na vazby nebo `maxOutboundConnectionsPerEndpoint` u prvku vazby.</span><span class="sxs-lookup"><span data-stu-id="346e1-169">To set this value, use `MaxConnections` on the binding or `maxOutboundConnectionsPerEndpoint` on the binding element.</span></span> <span data-ttu-id="346e1-170">Další informace o <xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement.MaxPendingConnections%2A></span><span class="sxs-lookup"><span data-stu-id="346e1-170">For more information about <xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement.MaxPendingConnections%2A></span></span>|  
|<span data-ttu-id="346e1-171">receiveTimeout</span><span class="sxs-lookup"><span data-stu-id="346e1-171">receiveTimeout</span></span>|<span data-ttu-id="346e1-172">SMSvcHost.exe</span><span class="sxs-lookup"><span data-stu-id="346e1-172">SMSvcHost.exe</span></span>|<span data-ttu-id="346e1-173">30 sekund</span><span class="sxs-lookup"><span data-stu-id="346e1-173">30 seconds</span></span>|<span data-ttu-id="346e1-174">Tato vlastnost určuje časový limit pro čtení dat rámcovacích TCP a provádění připojení odeslání od základní připojení.</span><span class="sxs-lookup"><span data-stu-id="346e1-174">This property specifies the timeout for reading the TCP framing data and performing connection dispatching from the underlying connections.</span></span> <span data-ttu-id="346e1-175">To existuje umístí cap množství času, který je ponechat službu SMSvcHost.exe aktivnější číst data preambule z příchozího připojení.</span><span class="sxs-lookup"><span data-stu-id="346e1-175">This exists to put a cap on the amount of time SMSvcHost.exe service is kept engaged to read the preamble data from an incoming connection.</span></span> <span data-ttu-id="346e1-176">Další informace najdete v tématu [konfigurace služby Sdílení portů Net.TCP](http://msdn.microsoft.com/library/b6dd81fa-68b7-4e1b-868e-88e5901b7ea0).</span><span class="sxs-lookup"><span data-stu-id="346e1-176">For more information, see [Configuring the Net.TCP Port Sharing Service](http://msdn.microsoft.com/library/b6dd81fa-68b7-4e1b-868e-88e5901b7ea0).</span></span>|  
  
> [!NOTE]
>  <span data-ttu-id="346e1-177">Tyto nové výchozí hodnoty se používají pouze v případě, že nasazení služby WCF na počítači s rozhraní .NET Framework 4.5.</span><span class="sxs-lookup"><span data-stu-id="346e1-177">These new defaults are used only if you deploy the WCF service on a machine with .NET Framework 4.5.</span></span> <span data-ttu-id="346e1-178">Pokud nasadíte stejnou službu na počítači s rozhraní .NET Framework 4.0, je použito výchozí nastavení rozhraní .NET Framework 4.0.</span><span class="sxs-lookup"><span data-stu-id="346e1-178">If you deploy the same service on a machine with .NET Framework 4.0, then the .NET Framework 4.0 defaults are used.</span></span> <span data-ttu-id="346e1-179">V takových případech se doporučuje k nakonfigurování těchto nastavení explicitně.</span><span class="sxs-lookup"><span data-stu-id="346e1-179">In such cases it is recommended to configure these settings explicitly.</span></span>  
  
## <a name="xmldictionaryreaderquotas"></a><span data-ttu-id="346e1-180">XmlDictionaryReaderQuotas</span><span class="sxs-lookup"><span data-stu-id="346e1-180">XmlDictionaryReaderQuotas</span></span>  
 <span data-ttu-id="346e1-181"><xref:System.Xml.XmlDictionaryReaderQuotas> obsahuje hodnoty konfigurovat kvóty pro slovník čtečky XML, které omezit množství paměti využívaných kodér při vytváření zprávu.</span><span class="sxs-lookup"><span data-stu-id="346e1-181"><xref:System.Xml.XmlDictionaryReaderQuotas> contains configurable quota values for XML dictionary readers which limit the amount of memory utilized by an encoder while creating a message.</span></span> <span data-ttu-id="346e1-182">Při těchto kvót se dají konfigurovat, výchozí hodnoty změnili na zmírnění možnost, že vývojář potřeba explicitně nastaven.</span><span class="sxs-lookup"><span data-stu-id="346e1-182">While these quotas are configurable, the default values have changed to lessen the possibility that a developer will need to set them explicitly.</span></span> <span data-ttu-id="346e1-183">`MaxReceivedMessageSize` kvóta nebylo změněno tak, aby ho stále můžete omezit využití paměti brání potřebu zabývat složitosti <xref:System.Xml.XmlDictionaryReaderQuotas>.</span><span class="sxs-lookup"><span data-stu-id="346e1-183">`MaxReceivedMessageSize` quota has not been changed so that it can still limit memory consumption preventing the need for you to deal with the complexity of the <xref:System.Xml.XmlDictionaryReaderQuotas>.</span></span> <span data-ttu-id="346e1-184">Následující tabulka uvádí kvóty, nové výchozí hodnoty a stručné vysvětlení každé kvóty používá pro.</span><span class="sxs-lookup"><span data-stu-id="346e1-184">The following table shows the quotas, their new default values and a brief explanation of what each quota is used for.</span></span>  
  
|<span data-ttu-id="346e1-185">Název kvóty</span><span class="sxs-lookup"><span data-stu-id="346e1-185">Quota Name</span></span>|<span data-ttu-id="346e1-186">Výchozí hodnota</span><span class="sxs-lookup"><span data-stu-id="346e1-186">Default Value</span></span>|<span data-ttu-id="346e1-187">Popis</span><span class="sxs-lookup"><span data-stu-id="346e1-187">Description</span></span>|  
|----------------|-------------------|-----------------|  
|<xref:System.Xml.XmlDictionaryReaderQuotas.MaxArrayLength%2A>|<span data-ttu-id="346e1-188">Int32.MaxValue</span><span class="sxs-lookup"><span data-stu-id="346e1-188">Int32.MaxValue</span></span>|<span data-ttu-id="346e1-189">Získá nebo nastaví maximální povolená délka pole.</span><span class="sxs-lookup"><span data-stu-id="346e1-189">Gets and sets the maximum allowed array length.</span></span> <span data-ttu-id="346e1-190">Tato kvóta omezuje maximální velikost pole primitivních elementů, které vrací čtecí modul XML, včetně pole bajtů.</span><span class="sxs-lookup"><span data-stu-id="346e1-190">This quota limits the maximum size of an array of primitives that the XML reader returns, including byte arrays.</span></span> <span data-ttu-id="346e1-191">Tato kvóta neomezuje využití paměti v samotné čtecí modul XML, ale v jakémkoli součásti používající čtečky.</span><span class="sxs-lookup"><span data-stu-id="346e1-191">This quota does not limit memory consumption in the XML reader itself, but in whatever component that is using the reader.</span></span> <span data-ttu-id="346e1-192">Například, když <xref:System.Runtime.Serialization.DataContractSerializer> používá čtečku zabezpečen <xref:System.Xml.XmlDictionaryReaderQuotas.MaxArrayLength%2A>, ji deserializovat není větší než tato kvóta pole bajtů.</span><span class="sxs-lookup"><span data-stu-id="346e1-192">For example, when the <xref:System.Runtime.Serialization.DataContractSerializer> uses a reader secured with <xref:System.Xml.XmlDictionaryReaderQuotas.MaxArrayLength%2A>, it does not deserialize byte arrays larger than this quota.</span></span>|  
|<xref:System.Xml.XmlDictionaryReaderQuotas.MaxBytesPerRead%2A>|<span data-ttu-id="346e1-193">Int32.MaxValue</span><span class="sxs-lookup"><span data-stu-id="346e1-193">Int32.MaxValue</span></span>|<span data-ttu-id="346e1-194">Získá nebo nastaví maximální povolený počet bajtů, vrátí pro každou čtení.</span><span class="sxs-lookup"><span data-stu-id="346e1-194">Gets and sets the maximum allowed bytes returned for each read.</span></span> <span data-ttu-id="346e1-195">Tato kvóta omezí počet bajtů, které se čtou v rámci jedné operace čtení při čtení element spuštění značku a její atributy.</span><span class="sxs-lookup"><span data-stu-id="346e1-195">This quota limits the number of bytes that are read in a single Read operation when reading the element start tag and its attributes.</span></span> <span data-ttu-id="346e1-196">(V případech,-streamování, není počítáno samotný název elementu proti kvóta).</span><span class="sxs-lookup"><span data-stu-id="346e1-196">(In non-streamed cases, the element name itself is not counted against the quota).</span></span> <span data-ttu-id="346e1-197">Má příliš mnoho atributů XML může použít až nesoustředil příliš velký doba zpracování, protože názvy atributů musí být vráceny jedinečnosti.</span><span class="sxs-lookup"><span data-stu-id="346e1-197">Having too many XML attributes may use up disproportionate processing time because attribute names have to be checked for uniqueness.</span></span> <span data-ttu-id="346e1-198"><xref:System.Xml.XmlDictionaryReaderQuotas.MaxBytesPerRead%2A> omezuje tuto hrozbu.</span><span class="sxs-lookup"><span data-stu-id="346e1-198"><xref:System.Xml.XmlDictionaryReaderQuotas.MaxBytesPerRead%2A> mitigates this threat.</span></span>|  
|<xref:System.Xml.XmlDictionaryReaderQuotas.MaxDepth%2A>|<span data-ttu-id="346e1-199">hloubkové 128 uzlů</span><span class="sxs-lookup"><span data-stu-id="346e1-199">128 nodes deep</span></span>|<span data-ttu-id="346e1-200">Tato kvóta omezuje maximální hloubky vnoření elementů XML.</span><span class="sxs-lookup"><span data-stu-id="346e1-200">This quota limits the maximum nesting depth of XML elements.</span></span>  <span data-ttu-id="346e1-201"><xref:System.Xml.XmlDictionaryReaderQuotas.MaxDepth%2A> komunikuje s <xref:System.Xml.XmlDictionaryReaderQuotas.MaxBytesPerRead%2A>: Čtečka vždy uchovává data v paměti pro aktuální prvek a veškeré jeho předchůdců, je spotřeba maximální paměť čtečky úměrný tato dvě nastavení.</span><span class="sxs-lookup"><span data-stu-id="346e1-201"><xref:System.Xml.XmlDictionaryReaderQuotas.MaxDepth%2A> interacts with <xref:System.Xml.XmlDictionaryReaderQuotas.MaxBytesPerRead%2A>: the reader always keeps data in memory for the current element and all of its ancestors, so the maximum memory consumption of the reader is proportional to the product of these two settings.</span></span> <span data-ttu-id="346e1-202">Při deserializaci hluboko vnořený objekt grafu, pro přístup k celý zásobník a throw k neodstranitelné je nucen deserializátor <xref:System.StackOverflowException>.</span><span class="sxs-lookup"><span data-stu-id="346e1-202">When deserializing a deeply-nested object graph, the deserializer is forced to access the entire stack and throw an unrecoverable <xref:System.StackOverflowException>.</span></span> <span data-ttu-id="346e1-203">Přímá korelace mezi vnoření XML a objekt vnoření obě existuje <xref:System.Runtime.Serialization.DataContractSerializer> a <!--zz <xref:System.Runtime.Serialization.XmlSerializer>--> `System.Runtime.Serialization.XmlSerializer`.</span><span class="sxs-lookup"><span data-stu-id="346e1-203">A direct correlation exists between XML nesting and object nesting for both the <xref:System.Runtime.Serialization.DataContractSerializer> and the <!--zz <xref:System.Runtime.Serialization.XmlSerializer>--> `System.Runtime.Serialization.XmlSerializer`.</span></span> <span data-ttu-id="346e1-204"><xref:System.Xml.XmlDictionaryReaderQuotas.MaxDepth%2A> slouží k zmírnění této hrozby.</span><span class="sxs-lookup"><span data-stu-id="346e1-204"><xref:System.Xml.XmlDictionaryReaderQuotas.MaxDepth%2A> is used to mitigate this threat.</span></span>|  
|<xref:System.Xml.XmlDictionaryReaderQuotas.MaxNameTableCharCount%2A>|<span data-ttu-id="346e1-205">Int32.MaxValue</span><span class="sxs-lookup"><span data-stu-id="346e1-205">Int32.MaxValue</span></span>|<span data-ttu-id="346e1-206">Tato kvóta omezuje maximální počet povolených znaků v tabulky názvů.</span><span class="sxs-lookup"><span data-stu-id="346e1-206">This quota limits the maximum number of characters allowed in a nametable.</span></span> <span data-ttu-id="346e1-207">Pracovat s tabulkou názvů obsahuje některé řetězce (například obory názvů a předpony), které jsou došlo při zpracování dokument XML.</span><span class="sxs-lookup"><span data-stu-id="346e1-207">The nametable contains certain strings (such as namespaces and prefixes) that are encountered when processing an XML document.</span></span> <span data-ttu-id="346e1-208">Jak tyto řetězce jsou uložená do vyrovnávací paměti v paměti, tato kvóta se používá při prevenci nadměrné ukládání do vyrovnávací paměti při streamování se očekává.</span><span class="sxs-lookup"><span data-stu-id="346e1-208">As these strings are buffered in memory, this quota is used to prevent excessive buffering when streaming is expected.</span></span>|  
|<xref:System.Xml.XmlDictionaryReaderQuotas.MaxStringContentLength%2A>|<span data-ttu-id="346e1-209">Int32.MaxValue</span><span class="sxs-lookup"><span data-stu-id="346e1-209">Int32.MaxValue</span></span>|<span data-ttu-id="346e1-210">Tato kvóta omezuje velikost maximální řetězec, který vrací čtecí modul XML.</span><span class="sxs-lookup"><span data-stu-id="346e1-210">This quota limits the maximum string size that the XML reader returns.</span></span> <span data-ttu-id="346e1-211">Tato kvóta neomezuje využití paměti v samotné čtecí modul XML, ale v komponentě používající čtečky.</span><span class="sxs-lookup"><span data-stu-id="346e1-211">This quota does not limit memory consumption in the XML reader itself, but in the component that is using the reader.</span></span> <span data-ttu-id="346e1-212">Například, když <xref:System.Runtime.Serialization.DataContractSerializer> používá čtečku zabezpečen <xref:System.Xml.XmlDictionaryReaderQuotas.MaxStringContentLength%2A>, ji deserializovat není větší než tato kvóta řetězce.</span><span class="sxs-lookup"><span data-stu-id="346e1-212">For example, when the <xref:System.Runtime.Serialization.DataContractSerializer> uses a reader secured with <xref:System.Xml.XmlDictionaryReaderQuotas.MaxStringContentLength%2A>, it does not deserialize strings larger than this quota.</span></span>|  
  
> [!IMPORTANT]
>  <span data-ttu-id="346e1-213">Odkazovat na "Pomocí XML bezpečně" v části [důležité informace o zabezpečení pro Data](../../../docs/framework/wcf/feature-details/security-considerations-for-data.md) Další informace o zabezpečení vaše data.</span><span class="sxs-lookup"><span data-stu-id="346e1-213">Refer to "Using XML Safely" under [Security Considerations for Data](../../../docs/framework/wcf/feature-details/security-considerations-for-data.md) for more information about securing your data.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="346e1-214">Tyto nové výchozí hodnoty se používají pouze v případě, že nasazení služby WCF na počítači s rozhraní .NET Framework 4.5.</span><span class="sxs-lookup"><span data-stu-id="346e1-214">These new defaults are used only if you deploy the WCF service on a machine with .NET Framework 4.5.</span></span> <span data-ttu-id="346e1-215">Pokud nasadíte stejnou službu na počítači s rozhraní .NET Framework 4.0, je použito výchozí nastavení rozhraní .NET Framework 4.0.</span><span class="sxs-lookup"><span data-stu-id="346e1-215">If you deploy the same service on a machine with .NET Framework 4.0, then the .NET Framework 4.0 defaults are used.</span></span> <span data-ttu-id="346e1-216">V takových případech se doporučuje k nakonfigurování těchto nastavení explicitně.</span><span class="sxs-lookup"><span data-stu-id="346e1-216">In such cases it is recommended to configure these settings explicitly.</span></span>  
  
## <a name="wcf-configuration-validation"></a><span data-ttu-id="346e1-217">Ověření konfigurace WCF</span><span class="sxs-lookup"><span data-stu-id="346e1-217">WCF Configuration Validation</span></span>  
 <span data-ttu-id="346e1-218">Jako součást procesu sestavení v sadě Visual Studio se teď ověří WCF konfigurační soubory.</span><span class="sxs-lookup"><span data-stu-id="346e1-218">As part of the build process within Visual Studio, WCF configuration files are now validated.</span></span> <span data-ttu-id="346e1-219">Seznam chyb při ověřování nebo upozornění se zobrazí v sadě Visual Studio, pokud se ověření nezdaří.</span><span class="sxs-lookup"><span data-stu-id="346e1-219">A list of validation errors or warnings are displayed in Visual Studio if the validation fails.</span></span>  
  
## <a name="xml-editor-tooltips"></a><span data-ttu-id="346e1-220">Popisy tlačítek Editor XML</span><span class="sxs-lookup"><span data-stu-id="346e1-220">XML Editor Tooltips</span></span>  
 <span data-ttu-id="346e1-221">Abyste pomohli nových nebo stávajících vývojáři služeb WCF konfigurace služeb, editor souborů XML Visual Studio teď poskytuje popisy tlačítek pro každý element, konfigurace a její vlastnosti, které je součástí konfigurační soubor služby.</span><span class="sxs-lookup"><span data-stu-id="346e1-221">In order to help new and existing WCF service developers to configure their services, the Visual Studio XML editor now provides tooltips for every configuration element and its properties that is part of the service configuration file.</span></span>  
  
## <a name="basichttpbinding-improvements"></a><span data-ttu-id="346e1-222">Vylepšení BasicHttpBinding</span><span class="sxs-lookup"><span data-stu-id="346e1-222">BasicHttpBinding Improvements</span></span>  
  
1.  <span data-ttu-id="346e1-223">Umožňuje jeden koncový bod WCF reagovat na různá ověřovací režimy.</span><span class="sxs-lookup"><span data-stu-id="346e1-223">Enables a single WCF endpoint to respond to different authentication modes.</span></span>  
  
2.  <span data-ttu-id="346e1-224">Umožňuje nastavení zabezpečení služby WCF pro řízení službou IIS</span><span class="sxs-lookup"><span data-stu-id="346e1-224">Enables a WCF service’s security settings to be controlled by IIS</span></span>
