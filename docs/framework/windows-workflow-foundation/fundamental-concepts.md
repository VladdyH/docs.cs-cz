---
title: Základní Windows Workflow koncepty
ms.custom: ''
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 0e930e80-5060-45d2-8a7a-95c0690105d4
caps.latest.revision: 27
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload:
- dotnet
ms.openlocfilehash: faeb05045049e9a53babf754f1ec058c6aac2f05
ms.sourcegitcommit: 03ee570f6f528a7d23a4221dcb26a9498edbdf8c
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 04/28/2018
---
# <a name="fundamental-windows-workflow-concepts"></a><span data-ttu-id="712f3-102">Základní Windows Workflow koncepty</span><span class="sxs-lookup"><span data-stu-id="712f3-102">Fundamental Windows Workflow Concepts</span></span>
<span data-ttu-id="712f3-103">Vývoj pro pracovní postup v [!INCLUDE[netfx_current_long](../../../includes/netfx-current-long-md.md)] používá koncepty, které může být nový někteří vývojáři.</span><span class="sxs-lookup"><span data-stu-id="712f3-103">Workflow development in the [!INCLUDE[netfx_current_long](../../../includes/netfx-current-long-md.md)] uses concepts that may be new to some developers.</span></span> <span data-ttu-id="712f3-104">Toto téma popisuje některé koncepty a jak jsou implementované.</span><span class="sxs-lookup"><span data-stu-id="712f3-104">This topic describes some of the concepts and how they are implemented.</span></span>  
  
## <a name="workflows-and-activities"></a><span data-ttu-id="712f3-105">Pracovní postupy a aktivity</span><span class="sxs-lookup"><span data-stu-id="712f3-105">Workflows and Activities</span></span>  
 <span data-ttu-id="712f3-106">Pracovní postup je strukturovaných sadu akcí modelů proces.</span><span class="sxs-lookup"><span data-stu-id="712f3-106">A workflow is a structured collection of actions that models a process.</span></span> <span data-ttu-id="712f3-107">Každá akce v pracovním postupu je modelovaná jako aktivita.</span><span class="sxs-lookup"><span data-stu-id="712f3-107">Each action in the workflow is modeled as an activity.</span></span> <span data-ttu-id="712f3-108">Hostitel komunikuje s pracovního postupu pomocí <xref:System.Activities.WorkflowInvoker> pro vyvolání pracovního postupu, jako by šlo metodu, <xref:System.Activities.WorkflowApplication> explicitní kontrolu nad spuštění instance jednoho pracovního postupu, a <xref:System.ServiceModel.WorkflowServiceHost> pro interakce na základě zpráv v s více instancemi scénáře.</span><span class="sxs-lookup"><span data-stu-id="712f3-108">A host interacts with a workflow by using <xref:System.Activities.WorkflowInvoker> for invoking a workflow as if it were a method,  <xref:System.Activities.WorkflowApplication> for explicit control over the execution of a single workflow instance, and <xref:System.ServiceModel.WorkflowServiceHost> for message-based interactions in multi-instance scenarios.</span></span> <span data-ttu-id="712f3-109">Protože kroky pracovního postupu jsou definovány jako hierarchie aktivit, nejhornější aktivity v hierarchii můžete tyto definovat samotného pracovního postupu.</span><span class="sxs-lookup"><span data-stu-id="712f3-109">Because steps of the workflow are defined as a hierarchy of activities, the topmost activity in the hierarchy can be said to define the workflow itself.</span></span> <span data-ttu-id="712f3-110">Tento model hierarchie přebírá místo explicitní `SequentialWorkflow` a `StateMachineWorkflow` třídy z předchozích verzí.</span><span class="sxs-lookup"><span data-stu-id="712f3-110">This hierarchy model takes the place of the explicit `SequentialWorkflow` and `StateMachineWorkflow` classes from previous versions.</span></span> <span data-ttu-id="712f3-111">Aktivity sami jsou vyvinutý jako kolekce jiných aktivit (pomocí <xref:System.Activities.Activity> třída jako základní, obvykle definovány pomocí jazyka XAML) nebo jsou vytvořené pomocí vlastním <xref:System.Activities.CodeActivity> třídy, která můžete použít modul runtime pro přístup k datům, nebo pomocí <xref:System.Activities.NativeActivity> třída, která zpřístupňuje šířky modulu runtime pracovního postupu autorovi aktivity.</span><span class="sxs-lookup"><span data-stu-id="712f3-111">Activities themselves are developed as collections of other activities (using the <xref:System.Activities.Activity> class as a base, usually defined by using XAML) or are custom created by using the <xref:System.Activities.CodeActivity> class, which can use the runtime for data access, or by using the <xref:System.Activities.NativeActivity> class, which exposes the breadth of the workflow runtime to the activity author.</span></span> <span data-ttu-id="712f3-112">Aktivity vyvinuté pomocí <xref:System.Activities.CodeActivity> a <xref:System.Activities.NativeActivity> se vytváří pomocí standardem CLR jazyků, například C#.</span><span class="sxs-lookup"><span data-stu-id="712f3-112">Activities developed by using <xref:System.Activities.CodeActivity> and <xref:System.Activities.NativeActivity> are created by using CLR-compliant languages such as C#.</span></span>  
  
## <a name="activity-data-model"></a><span data-ttu-id="712f3-113">Aktivita datový Model</span><span class="sxs-lookup"><span data-stu-id="712f3-113">Activity Data Model</span></span>  
 <span data-ttu-id="712f3-114">Aktivity ukládat a sdílet data pomocí typy uvedené v následující tabulce.</span><span class="sxs-lookup"><span data-stu-id="712f3-114">Activities store and share data by using the types shown in the following table.</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="712f3-115">Proměnná</span><span class="sxs-lookup"><span data-stu-id="712f3-115">Variable</span></span>|<span data-ttu-id="712f3-116">Ukládá data v aktivitě.</span><span class="sxs-lookup"><span data-stu-id="712f3-116">Stores data in an activity.</span></span>|  
|<span data-ttu-id="712f3-117">Argument</span><span class="sxs-lookup"><span data-stu-id="712f3-117">Argument</span></span>|<span data-ttu-id="712f3-118">Přesouvá data do a z aktivity.</span><span class="sxs-lookup"><span data-stu-id="712f3-118">Moves data into and out of an activity.</span></span>|  
|<span data-ttu-id="712f3-119">Výraz</span><span class="sxs-lookup"><span data-stu-id="712f3-119">Expression</span></span>|<span data-ttu-id="712f3-120">Aktivitu se zvýšenými oprávněními návratovou hodnotu, která používá v argumentu vazby.</span><span class="sxs-lookup"><span data-stu-id="712f3-120">An activity with an elevated return value used in argument bindings.</span></span>|  
  
## <a name="workflow-runtime"></a><span data-ttu-id="712f3-121">Modulu Runtime pracovního postupu</span><span class="sxs-lookup"><span data-stu-id="712f3-121">Workflow Runtime</span></span>  
 <span data-ttu-id="712f3-122">Modul runtime pracovního postupu je prostředí, ve kterém se spustit pracovní postupy.</span><span class="sxs-lookup"><span data-stu-id="712f3-122">The workflow runtime is the environment in which workflows execute.</span></span> <span data-ttu-id="712f3-123"><xref:System.Activities.WorkflowInvoker> je nejjednodušší způsob, jak spustit pracovní postup.</span><span class="sxs-lookup"><span data-stu-id="712f3-123"><xref:System.Activities.WorkflowInvoker> is the simplest way to execute a workflow.</span></span> <span data-ttu-id="712f3-124">Hostitel používá <xref:System.Activities.WorkflowInvoker> pro následující:</span><span class="sxs-lookup"><span data-stu-id="712f3-124">The host uses <xref:System.Activities.WorkflowInvoker> for the following:</span></span>  
  
-   <span data-ttu-id="712f3-125">Chcete-li synchronně vyvolat pracovního postupu.</span><span class="sxs-lookup"><span data-stu-id="712f3-125">To synchronously invoke a workflow.</span></span>  
  
-   <span data-ttu-id="712f3-126">K zadání nebo načíst výstup z pracovního postupu.</span><span class="sxs-lookup"><span data-stu-id="712f3-126">To provide input to, or retrieve output from a workflow.</span></span>  
  
-   <span data-ttu-id="712f3-127">Chcete-li přidat rozšíření má být používána aktivity.</span><span class="sxs-lookup"><span data-stu-id="712f3-127">To add extensions to be used by activities.</span></span>  
  
 <span data-ttu-id="712f3-128"><xref:System.Activities.ActivityInstance> je bezpečné pro přístup z více vláken proxy serverem, který hostitelů můžete použít k interakci s modulem runtime.</span><span class="sxs-lookup"><span data-stu-id="712f3-128"><xref:System.Activities.ActivityInstance> is the thread-safe proxy that hosts can use to interact with the runtime.</span></span> <span data-ttu-id="712f3-129">Hostitel používá <xref:System.Activities.ActivityInstance> pro následující:</span><span class="sxs-lookup"><span data-stu-id="712f3-129">The host uses <xref:System.Activities.ActivityInstance> for the following:</span></span>  
  
-   <span data-ttu-id="712f3-130">Získat instanci její vytvoření nebo načtení z úložiště instance.</span><span class="sxs-lookup"><span data-stu-id="712f3-130">To acquire an instance by creating it or loading it from an instance store.</span></span>  
  
-   <span data-ttu-id="712f3-131">Oznámení životního cyklu událostí instance.</span><span class="sxs-lookup"><span data-stu-id="712f3-131">To be notified of instance life-cycle events.</span></span>  
  
-   <span data-ttu-id="712f3-132">K řízení provádění pracovního postupu.</span><span class="sxs-lookup"><span data-stu-id="712f3-132">To control workflow execution.</span></span>  
  
-   <span data-ttu-id="712f3-133">K zadání nebo načíst výstup z pracovního postupu.</span><span class="sxs-lookup"><span data-stu-id="712f3-133">To provide input to, or retrieve output from a workflow.</span></span>  
  
-   <span data-ttu-id="712f3-134">Signal pokračování pracovní postup a předejte hodnoty do pracovního postupu.</span><span class="sxs-lookup"><span data-stu-id="712f3-134">To signal a workflow continuation and pass values into the workflow.</span></span>  
  
-   <span data-ttu-id="712f3-135">Chcete-li zachovat data pracovního postupu.</span><span class="sxs-lookup"><span data-stu-id="712f3-135">To persist workflow data.</span></span>  
  
-   <span data-ttu-id="712f3-136">Chcete-li přidat rozšíření má být používána aktivity.</span><span class="sxs-lookup"><span data-stu-id="712f3-136">To add extensions to be used by activities.</span></span>  
  
 <span data-ttu-id="712f3-137">Aktivity získat přístup k prostředí runtime pracovního postupu pomocí odpovídající <xref:System.Activities.ActivityContext> odvozené třídy, jako například <xref:System.Activities.NativeActivityContext> nebo <xref:System.Activities.CodeActivityContext>.</span><span class="sxs-lookup"><span data-stu-id="712f3-137">Activities gain access to the workflow runtime environment by using the appropriate <xref:System.Activities.ActivityContext> derived class, such as <xref:System.Activities.NativeActivityContext> or <xref:System.Activities.CodeActivityContext>.</span></span> <span data-ttu-id="712f3-138">To používají pro překlad argumenty a proměnné pro plánování podřízené aktivity a mnoha dalším účelům.</span><span class="sxs-lookup"><span data-stu-id="712f3-138">They use this for resolving arguments and variables, for scheduling child activities, and for many other purposes.</span></span>  
  
## <a name="services"></a><span data-ttu-id="712f3-139">Služby</span><span class="sxs-lookup"><span data-stu-id="712f3-139">Services</span></span>  
 <span data-ttu-id="712f3-140">Pracovní postupy poskytují přirozené způsob, jak implementovat a získat přístup ke službám volně vázány pomocí zasílání zpráv aktivit.</span><span class="sxs-lookup"><span data-stu-id="712f3-140">Workflows provide a natural way to implement and access loosely-coupled services, using messaging activities.</span></span> <span data-ttu-id="712f3-141">Zasílání zpráv aktivity jsou postaveny na [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] a primární mechanizmus použít k získání dat do a z pracovního postupu.</span><span class="sxs-lookup"><span data-stu-id="712f3-141">Messaging activities are built on [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] and are the primary mechanism used to get data into and out of a workflow.</span></span> <span data-ttu-id="712f3-142">Můžete vytvořit zasílání zpráv aktivity společně pro modelování jakýkoli druh vzorce výměny zpráv, které chcete.</span><span class="sxs-lookup"><span data-stu-id="712f3-142">You can compose messaging activities together to model any kind of message exchange pattern you wish.</span></span> <span data-ttu-id="712f3-143">Další informace najdete v tématu najdete v části [zasílání zpráv aktivity](../../../docs/framework/wcf/feature-details/messaging-activities.md).</span><span class="sxs-lookup"><span data-stu-id="712f3-143">For more information, see see [Messaging Activities](../../../docs/framework/wcf/feature-details/messaging-activities.md).</span></span> <span data-ttu-id="712f3-144">Služby pracovních postupů jsou hostované pomocí <xref:System.ServiceModel.Activities.WorkflowServiceHost> třídy.</span><span class="sxs-lookup"><span data-stu-id="712f3-144">Workflow services are hosted using the <xref:System.ServiceModel.Activities.WorkflowServiceHost> class.</span></span> <span data-ttu-id="712f3-145">Další informace najdete v tématu [přehled hostování služeb pracovních postupů](../../../docs/framework/wcf/feature-details/hosting-workflow-services-overview.md).</span><span class="sxs-lookup"><span data-stu-id="712f3-145">For more information, see [Hosting Workflow Services Overview](../../../docs/framework/wcf/feature-details/hosting-workflow-services-overview.md).</span></span> [!INCLUDE[crabout](../../../includes/crabout-md.md)]<span data-ttu-id="712f3-146"> pracovní postup služby najdete v tématu [služeb pracovních postupů](../../../docs/framework/wcf/feature-details/workflow-services.md)</span><span class="sxs-lookup"><span data-stu-id="712f3-146"> workflow services see [Workflow Services](../../../docs/framework/wcf/feature-details/workflow-services.md)</span></span>  
  
## <a name="persistence-unloading-and-long-running-workflows"></a><span data-ttu-id="712f3-147">Trvalost, uvolnění a dlouhodobé pracovních postupů</span><span class="sxs-lookup"><span data-stu-id="712f3-147">Persistence, Unloading, and Long-Running Workflows</span></span>  
 <span data-ttu-id="712f3-148">Pracovní postup prostředí Windows zjednodušuje vytváření dlouhodobé reaktivní programy tím, že poskytuje:</span><span class="sxs-lookup"><span data-stu-id="712f3-148">Windows Workflow simplifies the authoring of long-running reactive programs by providing:</span></span>  
  
-   <span data-ttu-id="712f3-149">Aktivity, které přístup k externí vstup.</span><span class="sxs-lookup"><span data-stu-id="712f3-149">Activities that access external input.</span></span>  
  
-   <span data-ttu-id="712f3-150">Schopnost vytvářet <xref:System.Activities.Bookmark> objekty, které lze obnovit pomocí naslouchací proces hostitele.</span><span class="sxs-lookup"><span data-stu-id="712f3-150">The ability to create <xref:System.Activities.Bookmark> objects that can be resumed by a host listener.</span></span>  
  
-   <span data-ttu-id="712f3-151">Možnost zachovat data pracovního postupu a uvolnění pracovního postupu a pak znovu načíst a znovu aktivovat pracovní postup v reakci na obnovení <xref:System.Activities.Bookmark> objekty v určitý pracovní postup.</span><span class="sxs-lookup"><span data-stu-id="712f3-151">The ability to persist a workflow’s data and unload the workflow, and then reload and reactivate the workflow in response to the resumption of <xref:System.Activities.Bookmark> objects in a particular workflow.</span></span>  
  
 <span data-ttu-id="712f3-152">Pracovní postup nepřetržitě provádí aktivity, dokud nejsou žádné další aktivity nebo dokud všechny aktuálně prováděné aktivity, které čekají na vstup.</span><span class="sxs-lookup"><span data-stu-id="712f3-152">A workflow continuously executes activities until there are no more activities to execute or until all currently executing activities are waiting for input.</span></span> <span data-ttu-id="712f3-153">V tomto stavu pozdější nečinný pracovního postupu.</span><span class="sxs-lookup"><span data-stu-id="712f3-153">In this latter state, the workflow is idle.</span></span> <span data-ttu-id="712f3-154">Je běžné pro hostitele se uvolnit pracovní postupy, které šly nečinnosti a načíst znovu, je pro pokračování v provádění při zpráva dorazí.</span><span class="sxs-lookup"><span data-stu-id="712f3-154">It is common for a host to unload workflows that have gone idle and to reload them to continue execution when a message arrives.</span></span> <span data-ttu-id="712f3-155"><xref:System.ServiceModel.Activities.WorkflowServiceHost> poskytuje funkce pro tuto funkci a poskytuje zásadu extensible uvolnění.</span><span class="sxs-lookup"><span data-stu-id="712f3-155"><xref:System.ServiceModel.Activities.WorkflowServiceHost> provides functionality for this feature and provides an extensible unload policy.</span></span> <span data-ttu-id="712f3-156">Pro bloky spuštění, které používají data o stavu volatile nebo další data, která nelze nastavit jako trvalý, můžete označit aktivitu na hostitele, že by neměl být trvalé pomocí <xref:System.Activities.NoPersistHandle>.</span><span class="sxs-lookup"><span data-stu-id="712f3-156">For blocks of execution that use volatile state data or other data that cannot be persisted, an activity can indicate to a host that it should not be persisted by using the <xref:System.Activities.NoPersistHandle>.</span></span> <span data-ttu-id="712f3-157">Pracovní postup můžete také explicitně zachovat svá data do trvalého úložiště média pomocí <xref:System.Activities.Statements.Persist> aktivity.</span><span class="sxs-lookup"><span data-stu-id="712f3-157">A workflow can also explicitly persist its data to a durable storage medium by using the <xref:System.Activities.Statements.Persist> activity.</span></span>
