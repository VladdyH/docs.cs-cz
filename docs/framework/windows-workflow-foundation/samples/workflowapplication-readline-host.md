---
title: WorkflowApplication ReadLine hostitele
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: f7b362be-cb42-40d7-b9ef-cfc4aed2455b
caps.latest.revision: "14"
author: Erikre
ms.author: erikre
manager: erikre
ms.openlocfilehash: 5efe784f434ff357120343061c1c4b9447cc8cd1
ms.sourcegitcommit: 5177d6ae2e9baf026f07ee0631556700a5a193f7
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 11/28/2017
---
# <a name="workflowapplication-readline-host"></a><span data-ttu-id="6987f-102">WorkflowApplication ReadLine hostitele</span><span class="sxs-lookup"><span data-stu-id="6987f-102">WorkflowApplication ReadLine Host</span></span>
<span data-ttu-id="6987f-103">Tato ukázka je obecný ReadLine hostitele.</span><span class="sxs-lookup"><span data-stu-id="6987f-103">This sample is a generic ReadLine host.</span></span> <span data-ttu-id="6987f-104">Můžete načíst a spustit žádný pracovní postup pomocí zahrnutou `ReadLine` aktivity (nebo ostatní aktivity, jako je získávající data z záložky pokračuje s řetězce).</span><span class="sxs-lookup"><span data-stu-id="6987f-104">You can load and run any workflow using the included `ReadLine` activity (or other activities like it that get data from bookmarks resumed with strings).</span></span> <span data-ttu-id="6987f-105">Výstup z `WriteLine` aktivity nebo nic zápis do <xref:System.Activities.Statements.WriteLine.TextWriter%2A> rozšíření se nasměruje do okna hostitele.</span><span class="sxs-lookup"><span data-stu-id="6987f-105">Output from the `WriteLine` activity or anything writing to the <xref:System.Activities.Statements.WriteLine.TextWriter%2A> extension is directed to the host window.</span></span> <span data-ttu-id="6987f-106">Při nečinnosti instance, k dispozici záložky u dané instance se objeví v poli se seznamem.</span><span class="sxs-lookup"><span data-stu-id="6987f-106">When an instance is idle, the available bookmarks for that instance appear in a combo box.</span></span> <span data-ttu-id="6987f-107">Vyberte záložku, vložení textu, některé a kliknutím na tlačítko Obnovit záložku pokračovat v provádění pracovního postupu.</span><span class="sxs-lookup"><span data-stu-id="6987f-107">Selecting a bookmark, inputting some text, and pressing the resume bookmark button continue the execution of the workflow.</span></span> <span data-ttu-id="6987f-108">Můžete také zrušit, zrušení nebo ukončení vybrané pracovního postupu.</span><span class="sxs-lookup"><span data-stu-id="6987f-108">You can also cancel, abort, or terminate a selected workflow.</span></span> <span data-ttu-id="6987f-109">Trvalost je ve výchozím – můžete vypnout hostitele a vrátí ji zpět a naplnění seznamu instanci s instancemi uloženy v databázi.</span><span class="sxs-lookup"><span data-stu-id="6987f-109">Persistence is on by default – you can shut down the host and bring it back, and the instance list is populated with the instances stored in the database.</span></span> <span data-ttu-id="6987f-110">Sledování se používá k výstupu <xref:System.Activities.WorkflowApplication>-úroveň události na hostitele s možností přidat podrobné sledování na úrovni aktivity.</span><span class="sxs-lookup"><span data-stu-id="6987f-110">Tracking is used to output <xref:System.Activities.WorkflowApplication>-level events to the host with the option to add detailed tracking at the activity level.</span></span>  
  
## <a name="sample-details"></a><span data-ttu-id="6987f-111">Ukázka podrobnosti</span><span class="sxs-lookup"><span data-stu-id="6987f-111">Sample Details</span></span>  
 <span data-ttu-id="6987f-112">Existují dvě vrstvy pro tohoto hostitele: zobrazení a správce instance.</span><span class="sxs-lookup"><span data-stu-id="6987f-112">There are two layers to this host: the view and the instance manager.</span></span> <span data-ttu-id="6987f-113">Zobrazení se skládá z `HostView` a `WorkflowApplicationInfo` třídy.</span><span class="sxs-lookup"><span data-stu-id="6987f-113">The view consists of the `HostView` and `WorkflowApplicationInfo` classes.</span></span> <span data-ttu-id="6987f-114">Obecné vzor pro tohoto hostitele je pro `HostView` zobrazíte dostupné možnosti pro uživatele na základě `WorkflowApplicationInfo` objekty, které jsou zachovány přiměřeně v synchronizaci se instance představují.</span><span class="sxs-lookup"><span data-stu-id="6987f-114">The general pattern for this host is for the `HostView` class to display available options to the user based on `WorkflowApplicationInfo` objects that are kept reasonably in synchronization with the instances they represent.</span></span> <span data-ttu-id="6987f-115">Vrstva manager instance se skládá z `WorkflowApplicationManager` třída, která je základní veškerá komunikace hostitele, a `WorkflowDefinitionExtension` několik dalších třídy a třídy, která potrvají vztah mezi instance a definice program byl spuštěn s.</span><span class="sxs-lookup"><span data-stu-id="6987f-115">The instance manager layer consists of the `WorkflowApplicationManager` class, which is the core of all host communications, and the `WorkflowDefinitionExtension` class, which persists the relationship between an instance and the program definition it was started with and a few other classes.</span></span> <span data-ttu-id="6987f-116">`HostView` Volání řízení operací na `WorkflowApplicationManager`.</span><span class="sxs-lookup"><span data-stu-id="6987f-116">The `HostView` calls control operations on the `WorkflowApplicationManager`.</span></span> <span data-ttu-id="6987f-117">Tyto volání jsou obvykle asynchronní udržovat reagující uživatelské rozhraní.</span><span class="sxs-lookup"><span data-stu-id="6987f-117">These calls are typically asynchronous to maintain a responsive user interface.</span></span> <span data-ttu-id="6987f-118">Když asynchronní volání dokončení `WorkflowApplicationManager` provádí volání zpět do zobrazení vrstvy přes dobře definované rozhraní (`IHostView`).</span><span class="sxs-lookup"><span data-stu-id="6987f-118">When the asynchronous calls complete, the `WorkflowApplicationManager` makes calls back into the view layer through a well-defined interface (`IHostView`).</span></span> <span data-ttu-id="6987f-119">`HostView` Třída nejčastěji odešle tyto volání z `WorkflowApplicationManager` třída pro uživatelské rozhraní vlákno.</span><span class="sxs-lookup"><span data-stu-id="6987f-119">The `HostView` class most often dispatches these calls from the `WorkflowApplicationManager` class to the user interface thread.</span></span> <span data-ttu-id="6987f-120">Zápis textu se provádí pro bezpečné pro přístup z více vláken <xref:System.Activities.Statements.WriteLine.TextWriter%2A> objektů poskytované `HostView` třídy.</span><span class="sxs-lookup"><span data-stu-id="6987f-120">Text writing is done to thread-safe <xref:System.Activities.Statements.WriteLine.TextWriter%2A> objects provided by the `HostView` class.</span></span> <span data-ttu-id="6987f-121">Uživatelské rozhraní není jediné, co generování událostí.</span><span class="sxs-lookup"><span data-stu-id="6987f-121">The user interface is not the only thing generating events.</span></span> <span data-ttu-id="6987f-122"><xref:System.Activities.WorkflowApplication> Objekty také signál `WorkflowApplicationManager` když přejde `Idle`, `Complete`, nebo jsou `Aborted`, např.</span><span class="sxs-lookup"><span data-stu-id="6987f-122">The <xref:System.Activities.WorkflowApplication> objects also signal the `WorkflowApplicationManager` when they go `Idle`, `Complete`, or are `Aborted`, for example.</span></span> <span data-ttu-id="6987f-123">`WorkflowApplicationManager` Třída získá vypnout vlákno událost odeslání vyčistit nebo aktualizaci pracovní na hostitele.</span><span class="sxs-lookup"><span data-stu-id="6987f-123">The `WorkflowApplicationManager` class gets off the event thread by dispatching clean up or updating work to the host.</span></span>  
  
 <span data-ttu-id="6987f-124">Nahrávání souboru použitý ke spuštění <xref:System.Activities.WorkflowApplication> usnadňují `WorkflowDefinitionExtension` třídy.</span><span class="sxs-lookup"><span data-stu-id="6987f-124">The recording of the file used to launch a <xref:System.Activities.WorkflowApplication> is facilitated by the `WorkflowDefinitionExtension` class.</span></span> <span data-ttu-id="6987f-125">Implementuje <xref:System.Activities.Persistence.PersistenceIOParticipant> rozhraní pro účast v trvalosti a zachovat cestu k definice pracovního postupu.</span><span class="sxs-lookup"><span data-stu-id="6987f-125">It implements the <xref:System.Activities.Persistence.PersistenceIOParticipant> interface to participate in persistence and persist the path to the workflow definition.</span></span>  
  
 <span data-ttu-id="6987f-126">`WorkflowApplicationManager.Load` Metoda používá k vytvoření instance vyžaduje pro načítání nedokončené programy pracovního postupu uloženou cestu <xref:System.Activities.WorkflowApplication> objekty.</span><span class="sxs-lookup"><span data-stu-id="6987f-126">The `WorkflowApplicationManager.Load` method uses the stored path to instantiate the workflow programs required for loading unfinished <xref:System.Activities.WorkflowApplication> objects.</span></span>  
  
#### <a name="to-set-up-build-and-run-the-sample"></a><span data-ttu-id="6987f-127">Pokud chcete nastavit, sestavit a spustit ukázku</span><span class="sxs-lookup"><span data-stu-id="6987f-127">To set up, build, and run the sample</span></span>  
  
1.  <span data-ttu-id="6987f-128">Tato ukázka vyžaduje systém SQL Express k instalaci.</span><span class="sxs-lookup"><span data-stu-id="6987f-128">This sample requires SQL Express to be installed.</span></span> <span data-ttu-id="6987f-129">SQL Express se dodává s [!INCLUDE[vs2010](../../../../includes/vs2010-md.md)].</span><span class="sxs-lookup"><span data-stu-id="6987f-129">SQL Express comes with [!INCLUDE[vs2010](../../../../includes/vs2010-md.md)].</span></span>  
  
2.  <span data-ttu-id="6987f-130">Otevřete příkazový řádek sady Visual Studio 2010.</span><span class="sxs-lookup"><span data-stu-id="6987f-130">Open a Visual Studio 2010 command prompt.</span></span>  
  
3.  <span data-ttu-id="6987f-131">Přejděte do adresáře ukázkové (\WF\Basic\Execution\ControllingWorkflowApplications) a spusťte CreateInstanceStore.cmd.</span><span class="sxs-lookup"><span data-stu-id="6987f-131">Navigate to the sample directory (\WF\Basic\Execution\ControllingWorkflowApplications) and run CreateInstanceStore.cmd.</span></span>  
  
4.  <span data-ttu-id="6987f-132">Skript CreateInstanceStore.cmd se pokusí vytvořit databázi na výchozí instanci systému SQL Server 2008 Express.</span><span class="sxs-lookup"><span data-stu-id="6987f-132">The CreateInstanceStore.cmd script attempts to create the database on the default instance of SQL Server 2008 Express.</span></span> <span data-ttu-id="6987f-133">Pokud chcete pro instalaci databáze na jinou instanci, upravte skript tak, aby tak.</span><span class="sxs-lookup"><span data-stu-id="6987f-133">If you want to install the database on a different instance, modify the script to do so.</span></span>  
  
5.  <span data-ttu-id="6987f-134">Kompilace projektu WorkflowApplicationReadLineHost a potom ho spusťte z příkazového řádku.</span><span class="sxs-lookup"><span data-stu-id="6987f-134">Compile the WorkflowApplicationReadLineHost project and run it from the command line.</span></span>  
  
6.  <span data-ttu-id="6987f-135">Po spuštění, můžete volitelně zapnout stálost nebo vypnout.</span><span class="sxs-lookup"><span data-stu-id="6987f-135">Once running, you can optionally turn persistence off or on.</span></span> <span data-ttu-id="6987f-136">Navíc můžete volitelně zapnout podrobné aktivity sledování zapnout nebo vypnout.</span><span class="sxs-lookup"><span data-stu-id="6987f-136">Further, you can optionally turn detailed activity tracking on or off.</span></span>  
  
7.  <span data-ttu-id="6987f-137">Stiskněte tlačítko se třemi tečkami vedle **spustit** tlačítko procházení pro pracovní postup definované v souboru XAML</span><span class="sxs-lookup"><span data-stu-id="6987f-137">Press the ellipsis button next to the **Run** button to browse for a workflow defined in a XAML file</span></span>  
  
     <span data-ttu-id="6987f-138">Dvou vzorcích naleznete ve složce SampleWorkflows.</span><span class="sxs-lookup"><span data-stu-id="6987f-138">Two samples can be found under the SampleWorkflows folder.</span></span> <span data-ttu-id="6987f-139">Příklad parallel1.xaml přejde nečinnosti.</span><span class="sxs-lookup"><span data-stu-id="6987f-139">The parallel1.xaml example goes idle.</span></span>  
  
8.  <span data-ttu-id="6987f-140">Po výběru je příklad, stiskněte **spustit** tlačítko.</span><span class="sxs-lookup"><span data-stu-id="6987f-140">Once an example is selected, press the **Run** button.</span></span>  
  
9. <span data-ttu-id="6987f-141">Pokud nebo nečinné, přejde pracovního postupu **záložky** – pole se seznamem se zobrazí v dostupné záložky.</span><span class="sxs-lookup"><span data-stu-id="6987f-141">If or when the workflow goes idle, the **Bookmarks** combo box is populated with available bookmarks.</span></span>  
  
10. <span data-ttu-id="6987f-142">V tomto okamžiku jsou možnosti obnovit záložku, zrušení, zrušení nebo ukončení pracovního postupu.</span><span class="sxs-lookup"><span data-stu-id="6987f-142">The options at this point are to resume a bookmark, cancel, abort, or terminate the workflow.</span></span> <span data-ttu-id="6987f-143">Můžete také vypnout hostitele a restartujte ji.</span><span class="sxs-lookup"><span data-stu-id="6987f-143">You can also shut down the host and restart it.</span></span> <span data-ttu-id="6987f-144">Pokud je na stálost, instance jsou uvolněny na vypnutí nebo při spuštění nahoru.</span><span class="sxs-lookup"><span data-stu-id="6987f-144">If persistence is left on, the instances are unloaded on shutdown and reloaded on start up.</span></span>  
  
     <span data-ttu-id="6987f-145">Chcete-li obnovit záložku, vyberte požadovanou záložku, zadejte hodnotu v textovém poli vedle pole se seznamem a stiskněte klávesu **obnovit záložku**.</span><span class="sxs-lookup"><span data-stu-id="6987f-145">To resume a bookmark, select the desired bookmark, type in a value in the text box next to the combo box and press **Resume Bookmark**.</span></span>  
  
#### <a name="to-remove-the-instance-store-database"></a><span data-ttu-id="6987f-146">K odebrání instance úložiště databáze</span><span class="sxs-lookup"><span data-stu-id="6987f-146">To remove the instance store database</span></span>  
  
1.  <span data-ttu-id="6987f-147">Otevřete příkazový řádek sady Visual Studio 2010.</span><span class="sxs-lookup"><span data-stu-id="6987f-147">Open a Visual Studio 2010 command prompt.</span></span>  
  
2.  <span data-ttu-id="6987f-148">Přejděte do adresáře ukázkové (\WF\Basic\Execution\ControllingWorkflowApplications) a spusťte RemoveInstanceStore.cmd.</span><span class="sxs-lookup"><span data-stu-id="6987f-148">Navigate to the sample directory (\WF\Basic\Execution\ControllingWorkflowApplications) and run RemoveInstanceStore.cmd.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="6987f-149">Ukázky může být již nainstalována na váš počítač.</span><span class="sxs-lookup"><span data-stu-id="6987f-149">The samples may already be installed on your machine.</span></span> <span data-ttu-id="6987f-150">Před pokračováním zkontrolovat na následující adresář (výchozí).</span><span class="sxs-lookup"><span data-stu-id="6987f-150">Check for the following (default) directory before continuing.</span></span>  
>   
>  `<InstallDrive>:\WF_WCF_Samples`  
>   
>  <span data-ttu-id="6987f-151">Pokud tento adresář neexistuje, přejděte na [Windows Communication Foundation (WCF) a ukázky Windows Workflow Foundation (WF) pro rozhraní .NET Framework 4](http://go.microsoft.com/fwlink/?LinkId=150780) ke stažení všechny [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] a [!INCLUDE[wf1](../../../../includes/wf1-md.md)] ukázky.</span><span class="sxs-lookup"><span data-stu-id="6987f-151">If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](http://go.microsoft.com/fwlink/?LinkId=150780) to download all [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples.</span></span> <span data-ttu-id="6987f-152">Tato ukázka se nachází v následujícím adresáři.</span><span class="sxs-lookup"><span data-stu-id="6987f-152">This sample is located in the following directory.</span></span>  
>   
>  `<InstallDrive>:\WF_WCF_Samples\WF\Basic\Execution\ControllingWorkflowApplications`