---
title: "Interval obnovování hostitele zámku"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: f8ba94fc-27e0-4d8e-8f85-50a6d2a3cd43
caps.latest.revision: "5"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload: dotnet
ms.openlocfilehash: b7447d11e93cf33e69bc52d2cdec239c1be55bcd
ms.sourcegitcommit: 16186c34a957fdd52e5db7294f291f7530ac9d24
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 12/22/2017
---
# <a name="host-lock-renewal-period"></a><span data-ttu-id="47ac3-102">Interval obnovování hostitele zámku</span><span class="sxs-lookup"><span data-stu-id="47ac3-102">Host Lock Renewal Period</span></span>
<span data-ttu-id="47ac3-103">**Interval obnovování hostitele zámku** vlastnost úložiště Instance pracovního postupu SQL umožňuje určit časové období, ve kterém hostitele obnovuje jeho zámku na instanci pracovního postupu.</span><span class="sxs-lookup"><span data-stu-id="47ac3-103">The **Host Lock Renewal Period** property of the SQL Workflow Instance Store lets you specify the time period within which the host renews its lock on a workflow instance.</span></span> <span data-ttu-id="47ac3-104">Zámek zůstane platný pro interval obnovování hostitele zámku + 30 sekund.</span><span class="sxs-lookup"><span data-stu-id="47ac3-104">The lock remains valid for Host Lock Renewal Period + 30 seconds.</span></span> <span data-ttu-id="47ac3-105">Hostitel selže-li obnovit zámek (jinými slovy, prodloužit zapůjčení) během tohoto období vyprší platnost zámek a poskytovateli trvalost odemkne instance.</span><span class="sxs-lookup"><span data-stu-id="47ac3-105">If the host fails to renew the lock (in other words, extend the lease) within this time period, the lock expires and the persistence provider unlocks the instance.</span></span> <span data-ttu-id="47ac3-106">Hodnota této vlastnosti je typu časový interval ve formátu hh: mm".</span><span class="sxs-lookup"><span data-stu-id="47ac3-106">The value for this property is of type TimeSpan of the form "hh:mm:ss".</span></span> <span data-ttu-id="47ac3-107">Minimální povolená hodnota je "00: 00:01" (1 sekunda).</span><span class="sxs-lookup"><span data-stu-id="47ac3-107">The minimum permitted value is "00:00:01" (1 second).</span></span> <span data-ttu-id="47ac3-108">Výchozí hodnota této vlastnosti je "00: 00:30" (30 sekund).</span><span class="sxs-lookup"><span data-stu-id="47ac3-108">The default value of this property is "00:00:30" (30 seconds).</span></span>  
  
 <span data-ttu-id="47ac3-109">Tato vlastnost je důležité ve scénářích, kde hostitele služby pracovního postupu před selže ho můžete odemknout instance služby pracovního postupu, který ho vlastní.</span><span class="sxs-lookup"><span data-stu-id="47ac3-109">This property is significant in scenarios where a workflow service host fails before it can unlock a workflow service instance that it owns.</span></span> <span data-ttu-id="47ac3-110">V tomto scénáři zprostředkovatele trvalost odebrat zámek na instanci služby pracovního postupu v databázi trvalost po vypršení platnosti zámek, takže můžete získat jiného hostitele služby pracovního postupu spuštěné na stejném počítači nebo jiný počítač v serverové farmě Zamknout a načtení instance pracovního postupu služby do paměti obnovit jeho spuštění od jeho posledního trvalého stavu.</span><span class="sxs-lookup"><span data-stu-id="47ac3-110">In this scenario, the lock on the workflow service instance in the persistence database is removed by the persistence provider after the lock expires so that another workflow service host running on the same computer or another computer in a server farm can acquire the lock and load the workflow service instance into memory to resume its execution from its last persisted state.</span></span>  
  
 <span data-ttu-id="47ac3-111">Vyšší hodnotu pro tuto vlastnost nastavíte pracovní postup instance služby se uzamkne v databázi trvalost delší dobu a proto zpozdí obnovení instance z posledního bodu trvalost.</span><span class="sxs-lookup"><span data-stu-id="47ac3-111">Setting a higher value for this property causes the workflow service instances to be locked in the persistence database for a longer time and therefore delays the recovery of the instance from the last persistence point.</span></span> <span data-ttu-id="47ac3-112">Nastavení krátký interval pro tuto vlastnost způsobí, že nová instance hostitele služby pracovního postupu a pokračovat tam, instance služby se nezdařilo pracovního postupu rychle, ale způsobí zvýšení zatížení pro hostitele služby pracovního postupu a databázi systému SQL Server.</span><span class="sxs-lookup"><span data-stu-id="47ac3-112">Setting a short interval for this property causes the new instance of the workflow service host to pick up the failed workflow service instance quickly, but causes an increase in workload for the workflow service host and the SQL Server database.</span></span>  
  
 <span data-ttu-id="47ac3-113">Ukládání Instance pracovního postupu SQL spustí interní úloh, která pravidelně probudí a zjišťuje instance s vypršenou platností zámky na nich.</span><span class="sxs-lookup"><span data-stu-id="47ac3-113">The SQL Workflow Instance Store runs an internal task that periodically wakes up and detects instances with expired locks on them.</span></span> <span data-ttu-id="47ac3-114">Pokud najde instancí s vypršenou platností zámky, umístí instance v tabulce RunnableInstances, aby mohli vyzvednutí a spusťte tyto instance hostitele pracovního postupu.</span><span class="sxs-lookup"><span data-stu-id="47ac3-114">When it finds instances with expired locks, it places the instances in the RunnableInstances table so that a workflow host can pick up and run these instances.</span></span>
