---
title: Pracovní postup zabezpečení
ms.custom: ''
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- programming [WF], workflow security
ms.assetid: d712a566-f435-44c0-b8c0-49298e84b114
caps.latest.revision: 13
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload:
- dotnet
ms.openlocfilehash: 90e9d5f3a2cff454ff7892877f012f8679b9ccac
ms.sourcegitcommit: 2042de78fcdceebb6b8ac4b7a292b93e8782cbf5
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 04/27/2018
---
# <a name="workflow-security"></a><span data-ttu-id="f71c5-102">Pracovní postup zabezpečení</span><span class="sxs-lookup"><span data-stu-id="f71c5-102">Workflow Security</span></span>
<span data-ttu-id="f71c5-103">Windows Workflow Foundation (WF) je integrovaná s několika různých technologií, jako je Microsoft SQL Server a [!INCLUDE[indigo1](../../../includes/indigo1-md.md)].</span><span class="sxs-lookup"><span data-stu-id="f71c5-103">Windows Workflow Foundation (WF) is integrated with several different technologies, such as Microsoft SQL Server and [!INCLUDE[indigo1](../../../includes/indigo1-md.md)].</span></span> <span data-ttu-id="f71c5-104">Interakci s těmito technologiemi může znamenat problémy se zabezpečením do vašeho pracovního postupu, pokud se to udělá nesprávně.</span><span class="sxs-lookup"><span data-stu-id="f71c5-104">Interacting with these technologies may introduce security issues into your workflow if done improperly.</span></span>  
  
## <a name="persistence-security-concerns"></a><span data-ttu-id="f71c5-105">Otázky zabezpečení trvalost</span><span class="sxs-lookup"><span data-stu-id="f71c5-105">Persistence Security Concerns</span></span>  
  
1.  <span data-ttu-id="f71c5-106">Pracovní postupy, které používají <xref:System.Activities.Statements.Delay> aktivity a trvalost potřeba znovu aktivovat pomocí služby.</span><span class="sxs-lookup"><span data-stu-id="f71c5-106">Workflows that use a <xref:System.Activities.Statements.Delay> activity and persistence need to be reactivated by a service.</span></span> <span data-ttu-id="f71c5-107">Windows AppFabric používá pracovní postup správy služby (WMS) s vypršenou platností časovače znovu aktivovat pracovních postupů.</span><span class="sxs-lookup"><span data-stu-id="f71c5-107">Windows AppFabric uses the Workflow Management Service (WMS) to reactivate workflows with expired timers.</span></span> <span data-ttu-id="f71c5-108">Vytvoří WMS <xref:System.ServiceModel.WorkflowServiceHost> k hostování opětovně aktivovaných pracovního postupu.</span><span class="sxs-lookup"><span data-stu-id="f71c5-108">WMS creates a <xref:System.ServiceModel.WorkflowServiceHost> to host the reactivated workflow.</span></span> <span data-ttu-id="f71c5-109">Pokud WMS služba je zastavena, trvalé pracovní postupy nebudou znovu aktivovat po vypršení jejich časovače.</span><span class="sxs-lookup"><span data-stu-id="f71c5-109">If the WMS service is stopped, persisted workflows will not be reactivated when their timers expire.</span></span>  
  
2.  <span data-ttu-id="f71c5-110">Přístup k vytváření instancí trvanlivý by měl chráněná před zlými úmysly externí do domény aplikace.</span><span class="sxs-lookup"><span data-stu-id="f71c5-110">Access to durable instancing should be protected against malicious entities external to the application domain.</span></span> <span data-ttu-id="f71c5-111">Kromě toho vývojáři měli zkontrolujte, zda škodlivý kód nemůže být ve stejné doméně jako kód trvanlivý zřizování instancí aplikace.</span><span class="sxs-lookup"><span data-stu-id="f71c5-111">In addition, developers should ensure that malicious code can't be executed in the same application domain as the durable instancing code.</span></span>  
  
3.  <span data-ttu-id="f71c5-112">Trvanlivý vytváření instancí nemůže spouštět se zvýšenými oprávněními (správce).</span><span class="sxs-lookup"><span data-stu-id="f71c5-112">Durable instancing should not be run with elevated (Administrator) permissions.</span></span>  
  
4.  <span data-ttu-id="f71c5-113">Je třeba chránit data, která zpracovává mimo doménu aplikace.</span><span class="sxs-lookup"><span data-stu-id="f71c5-113">Data being processed outside the application domain should be protected.</span></span>  
  
5.  <span data-ttu-id="f71c5-114">Aplikace, které vyžadují izolaci zabezpečení by neměly sdílet stejnou instanci abstrakci schématu.</span><span class="sxs-lookup"><span data-stu-id="f71c5-114">Applications that require security isolation should not share the same instance of the schema abstraction.</span></span> <span data-ttu-id="f71c5-115">Takové aplikace by měl použít poskytovatelé jiné úložiště nebo uložit nakonfigurovaný na použití různých úložiště konkretizací poskytovatelů.</span><span class="sxs-lookup"><span data-stu-id="f71c5-115">Such applications should use different store providers, or store providers configured to use different store instantiations.</span></span>  
  
## <a name="sql-server-security-concerns"></a><span data-ttu-id="f71c5-116">Aspekty zabezpečení serveru SQL</span><span class="sxs-lookup"><span data-stu-id="f71c5-116">SQL Server Security Concerns</span></span>  
  
-   <span data-ttu-id="f71c5-117">V případě velkého počtu podřízené aktivity, umístění, záložky, rozšíření hostitele nebo obory používají, nebo když se používají záložky s velmi rozsáhlých datových částí, může dojít k vyčerpání paměti nebo zbytečného množství volného místa databáze může být přidělen během trvalost.</span><span class="sxs-lookup"><span data-stu-id="f71c5-117">When large numbers of child activities, locations, bookmarks, host extensions, or scopes are used, or when bookmarks with very large payloads are used, memory can be exhausted, or undue amounts of database space can be allocated during persistence.</span></span> <span data-ttu-id="f71c5-118">To může být omezeny pomocí zabezpečení na úrovni objektů a úroveň databáze.</span><span class="sxs-lookup"><span data-stu-id="f71c5-118">This can be mitigated by using object-level and database-level security.</span></span>  
  
-   <span data-ttu-id="f71c5-119">Při použití <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore>, musí být zabezpečená úložiště instance.</span><span class="sxs-lookup"><span data-stu-id="f71c5-119">When using <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore>, the instance store must be secured.</span></span> [!INCLUDE[crdefault](../../../includes/crdefault-md.md)]<span data-ttu-id="f71c5-120"> [Osvědčené postupy pro SQL Server](http://go.microsoft.com/fwlink/?LinkId=164972).</span><span class="sxs-lookup"><span data-stu-id="f71c5-120"> [SQL Server Best Practices](http://go.microsoft.com/fwlink/?LinkId=164972).</span></span>  
  
-   <span data-ttu-id="f71c5-121">Citlivá data v úložišti instance by měla šifrovat.</span><span class="sxs-lookup"><span data-stu-id="f71c5-121">Sensitive data in the instance store should be encrypted.</span></span> [!INCLUDE[crdefault](../../../includes/crdefault-md.md)]<span data-ttu-id="f71c5-122"> [Šifrování zabezpečení SQL](http://go.microsoft.com/fwlink/?LinkId=164976).</span><span class="sxs-lookup"><span data-stu-id="f71c5-122"> [SQL Security Encryption](http://go.microsoft.com/fwlink/?LinkId=164976).</span></span>  
  
-   <span data-ttu-id="f71c5-123">Vzhledem k tomu, že připojovací řetězec databáze je často zahrnutý v konfiguračním souboru, windows řízení přístupu (ACL) by měla sloužit k zkontrolujte, zda je konfigurační soubor (obvykle Web.Config) zabezpečené a informace přihlašovací jméno a heslo nejsou součástí připojovací řetězec.</span><span class="sxs-lookup"><span data-stu-id="f71c5-123">Since the database connection string is often included in a configuration file, windows-level security (ACL) should be used to ensure that the configuration file (Web.Config usually) is secure, and that login and password information are not included in the connection string.</span></span> <span data-ttu-id="f71c5-124">Ověřování systému Windows by měla místo toho použít mezi databází a webový server.</span><span class="sxs-lookup"><span data-stu-id="f71c5-124">Windows authentication should be used between the database and the web server instead.</span></span>  
  
## <a name="considerations-for-workflowservicehost"></a><span data-ttu-id="f71c5-125">Důležité informace týkající se hostitele služby pracovního postupu</span><span class="sxs-lookup"><span data-stu-id="f71c5-125">Considerations for WorkflowServiceHost</span></span>  
  
-   [!INCLUDE[indigo1](../../../includes/indigo1-md.md)]<span data-ttu-id="f71c5-126"> musí být zabezpečená koncových bodů použitých v pracovních postupech.</span><span class="sxs-lookup"><span data-stu-id="f71c5-126"> endpoints used in workflows should be secured.</span></span> [!INCLUDE[crdefault](../../../includes/crdefault-md.md)]<span data-ttu-id="f71c5-127"> [Přehled zabezpečení WCF](http://go.microsoft.com/fwlink/?LinkID=164975).</span><span class="sxs-lookup"><span data-stu-id="f71c5-127"> [WCF Security Overview](http://go.microsoft.com/fwlink/?LinkID=164975).</span></span>  
  
-   <span data-ttu-id="f71c5-128">Ověřování na úrovni hostitele můžete implementovat pomocí <xref:System.ServiceModel.ServiceAuthorizationManager>.</span><span class="sxs-lookup"><span data-stu-id="f71c5-128">Host-level authorization can be implemented by using <xref:System.ServiceModel.ServiceAuthorizationManager>.</span></span> <span data-ttu-id="f71c5-129">V tématu [postupy: vytvoření vlastního Správce autorizací pro službu](http://go.microsoft.com/fwlink/?LinkId=192228) podrobnosti.</span><span class="sxs-lookup"><span data-stu-id="f71c5-129">See [How To: Create a Custom Authorization Manager for a Service](http://go.microsoft.com/fwlink/?LinkId=192228) for details.</span></span> <span data-ttu-id="f71c5-130">To také ukazují následující ukázka: [zabezpečení služeb pracovních postupů](../../../docs/framework/windows-workflow-foundation/samples/securing-workflow-services.md).</span><span class="sxs-lookup"><span data-stu-id="f71c5-130">This is also demonstrated in the following sample: [Securing Workflow Services](../../../docs/framework/windows-workflow-foundation/samples/securing-workflow-services.md).</span></span>  
  
-   <span data-ttu-id="f71c5-131">ServiceSecurityContext pro příchozí zprávy je také k dispozici v rámci pracovního postupu přístup k informacím OperationContext.</span><span class="sxs-lookup"><span data-stu-id="f71c5-131">The ServiceSecurityContext for the incoming message is also available from within workflow by accessing OperationContext.</span></span>  <span data-ttu-id="f71c5-132">V tématu [přístup k informacím OperationContext ze služby pracovních postupů](../../../docs/framework/wcf/feature-details/accessing-operationcontext-from-a-workflow-service.md) podrobnosti.</span><span class="sxs-lookup"><span data-stu-id="f71c5-132">See [Accessing OperationContext from a Workflow Service](../../../docs/framework/wcf/feature-details/accessing-operationcontext-from-a-workflow-service.md) for details.</span></span>  
  
## <a name="wf-security-pack-ctp"></a><span data-ttu-id="f71c5-133">WF zabezpečení Pack CTP</span><span class="sxs-lookup"><span data-stu-id="f71c5-133">WF Security Pack CTP</span></span>  
 <span data-ttu-id="f71c5-134">Microsoft WF zabezpečení Pack CTP 1 je první verze preview (CTP) technologie komunity sadu aktivit a jejich provedení na základě [modelu Windows Workflow Foundation](http://msdn.microsoft.com/netframework/aa663328.aspx)v [rozhraní .NET Framework 4](http://msdn.microsoft.com/netframework/default.aspx) (WF (4) a [technologie Windows Identity Foundation (WIF)](http://msdn.microsoft.com/security/aa570351.aspx).</span><span class="sxs-lookup"><span data-stu-id="f71c5-134">The Microsoft WF Security Pack CTP 1 is the first community technology preview (CTP) release of a set of activities and their implementation based on [Windows Workflow Foundation](http://msdn.microsoft.com/netframework/aa663328.aspx)in [.NET Framework 4](http://msdn.microsoft.com/netframework/default.aspx) (WF 4) and the [Windows Identity Foundation (WIF)](http://msdn.microsoft.com/security/aa570351.aspx).</span></span>  <span data-ttu-id="f71c5-135">Microsoft WF zabezpečení Pack CTP 1 obsahuje aktivity a jejich návrhářů, které ukazují, jak snadno povolit různé scénáře související se zabezpečením pomocí pracovního postupu, včetně:</span><span class="sxs-lookup"><span data-stu-id="f71c5-135">The Microsoft WF Security Pack CTP 1 contains both activities and their designers which illustrate how to easily enable various security-related scenarios using workflow, including:</span></span>  
  
1.  <span data-ttu-id="f71c5-136">Zosobnění identita klienta v pracovním postupu</span><span class="sxs-lookup"><span data-stu-id="f71c5-136">Impersonating a client identity in the workflow</span></span>  
  
2.  <span data-ttu-id="f71c5-137">V pracovním postupu autorizace, jako je například PrincipalPermission a ověřování deklarací identity</span><span class="sxs-lookup"><span data-stu-id="f71c5-137">In-workflow authorization, such as PrincipalPermission and validation of Claims</span></span>  
  
3.  <span data-ttu-id="f71c5-138">Ověřené zasílání zpráv pomocí ClientCredentials určeným v pracovním postupu, jako je například uživatelské jméno a heslo, nebo token načíst z zabezpečení tokenu služby (STS)</span><span class="sxs-lookup"><span data-stu-id="f71c5-138">Authenticated messaging using ClientCredentials specified in the workflow, such as username/password or a token retrieved from a Security Token Service (STS)</span></span>  
  
4.  <span data-ttu-id="f71c5-139">Token zabezpečení klienta k službě back-end (delegování založené na deklaracích identity) pomocí protokolu WS-Trust ActAs toku</span><span class="sxs-lookup"><span data-stu-id="f71c5-139">Flowing a client security token to a back-end service (claims-based delegation) using WS-Trust ActAs</span></span>  
  
<span data-ttu-id="f71c5-140">Další informace a stáhnout Pack CTP WF zabezpečení, najdete v tématu: [WF zabezpečení Pack CTP](http://wf.codeplex.com/releases/view/48114)</span><span class="sxs-lookup"><span data-stu-id="f71c5-140">For more information and to download the WF Security Pack CTP, see: [WF Security Pack CTP](http://wf.codeplex.com/releases/view/48114)</span></span>