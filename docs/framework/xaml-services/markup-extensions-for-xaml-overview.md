---
title: "Přehled rozšíření značek pro jazyk XAML"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-wpf
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- markup extensions [XAML Services], custom
- XAML [XAML Services], markup extensions
ms.assetid: 261b2b11-2dc0-462f-8c66-55b8c9c6e436
caps.latest.revision: "14"
author: wadepickett
ms.author: wpickett
manager: wpickett
ms.workload: dotnet
ms.openlocfilehash: 0feef370e6b09d2f58a33f2142bd654e1d7e3402
ms.sourcegitcommit: 16186c34a957fdd52e5db7294f291f7530ac9d24
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 12/22/2017
---
# <a name="markup-extensions-for-xaml-overview"></a><span data-ttu-id="35cb1-102">Přehled rozšíření značek pro jazyk XAML</span><span class="sxs-lookup"><span data-stu-id="35cb1-102">Markup Extensions for XAML Overview</span></span>
<span data-ttu-id="35cb1-103">Rozšíření značek jsou techniku XAML pro získání hodnotu, která není primitivní ani konkrétní typ jazyka XAML.</span><span class="sxs-lookup"><span data-stu-id="35cb1-103">Markup extensions are a XAML technique for obtaining a value that is neither a primitive nor a specific XAML type.</span></span> <span data-ttu-id="35cb1-104">Pro použití atributu, použít rozšíření značek pořadí známé znak otevření složené závorky `{` k zadání oboru rozšíření značek a složené závorky ukončovací `}` ukončíte.</span><span class="sxs-lookup"><span data-stu-id="35cb1-104">For attribute usage, markup extensions use the known character sequence of an opening curly brace `{` to enter the markup extension scope, and a closing curly brace `}` to exit.</span></span> <span data-ttu-id="35cb1-105">Pokud používáte rozhraní .NET Framework XAML Services, můžete některé z předdefinovaných rozšíření značek jazyka XAML z System.Xaml sestavení.</span><span class="sxs-lookup"><span data-stu-id="35cb1-105">When using .NET Framework XAML Services, you can use some of the predefined XAML language markup extensions from the System.Xaml assembly.</span></span> <span data-ttu-id="35cb1-106">Můžete také podtřídou z <xref:System.Windows.Markup.MarkupExtension> třídy definované v System.Xaml a definovat vlastní rozšíření značek.</span><span class="sxs-lookup"><span data-stu-id="35cb1-106">You can also subclass from the <xref:System.Windows.Markup.MarkupExtension> class, defined in System.Xaml, and define your own markup extensions.</span></span> <span data-ttu-id="35cb1-107">Nebo můžete použít rozšíření značek definované určité rozhraní, pokud jsou již odkazující na dané platformy.</span><span class="sxs-lookup"><span data-stu-id="35cb1-107">Or you can use markup extensions defined by a particular framework if you are already referencing that framework .</span></span>  
  
 <span data-ttu-id="35cb1-108">Při přístupu k použití rozšíření značek zapisovače objektu XAML poskytuje služby pro vlastní <xref:System.Windows.Markup.MarkupExtension> prostřednictvím připojení ke službě bod v <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A?displayProperty=nameWithType> přepsat.</span><span class="sxs-lookup"><span data-stu-id="35cb1-108">When a markup extension usage is accessed, the XAML object writer can provide services to a custom <xref:System.Windows.Markup.MarkupExtension> class through a service connection point in the <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A?displayProperty=nameWithType> override.</span></span> <span data-ttu-id="35cb1-109">Služby lze použít k získání kontextu o využití, specifické možnosti zapisovače objektu, kontext schématu XAML a tak dále.</span><span class="sxs-lookup"><span data-stu-id="35cb1-109">The services can be used to obtain context about the usage, specific capabilities of the object writer, XAML schema context, and so on.</span></span>  
  
<a name="XAML_Defined_Markup_Extensions"></a>   
## <a name="xaml-defined-markup-extensions"></a><span data-ttu-id="35cb1-110">Rozšíření značek definovaný XAML</span><span class="sxs-lookup"><span data-stu-id="35cb1-110">XAML-Defined Markup Extensions</span></span>  
 <span data-ttu-id="35cb1-111">Několik rozšíření značek jsou implementovány pomocí rozhraní .NET Framework XAML Services pro podporu jazyka XAML.</span><span class="sxs-lookup"><span data-stu-id="35cb1-111">Several markup extensions are implemented by .NET Framework XAML Services for XAML language support.</span></span> <span data-ttu-id="35cb1-112">Tato rozšíření značek odpovídají částí jako jazyk specifikace jazyka XAML.</span><span class="sxs-lookup"><span data-stu-id="35cb1-112">These markup extensions correspond to parts of the specification of XAML as a language.</span></span> <span data-ttu-id="35cb1-113">Toto jsou obvykle poznáte ho podle `x:` předpony v syntaxi, jak je vidět v běžných využití.</span><span class="sxs-lookup"><span data-stu-id="35cb1-113">These are typically identifiable by the `x:` prefix in the syntax as seen in common usage.</span></span> <span data-ttu-id="35cb1-114">Implementace rozhraní .NET Framework XAML Services pro tyto elementy jazyka XAML dědí ze <xref:System.Windows.Markup.MarkupExtension> základní třídy.</span><span class="sxs-lookup"><span data-stu-id="35cb1-114">The .NET Framework XAML Services implementations for these XAML language elements all derive from the  <xref:System.Windows.Markup.MarkupExtension> base class .</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="35cb1-115">`x:` Předpona se používá pro typické mapování oboru názvů jazyka XAML oboru názvů jazyka XAML, v kořenovém elementu provozní XAML.</span><span class="sxs-lookup"><span data-stu-id="35cb1-115">The `x:` prefix is used for the typical XAML namespace mapping of the XAML language namespace, in the root element of a XAML production.</span></span> <span data-ttu-id="35cb1-116">Například [!INCLUDE[vs_current_short](../../../includes/vs-current-short-md.md)] zahájit soubor XAML pomocí této šablony projektů a stránky pro různé konkrétní rozhraní `x:` mapování.</span><span class="sxs-lookup"><span data-stu-id="35cb1-116">For example, the [!INCLUDE[vs_current_short](../../../includes/vs-current-short-md.md)] project and page templates for various specific frameworks initiate a XAML file using this `x:` mapping.</span></span> <span data-ttu-id="35cb1-117">Může zvolit jinou předponu token v vlastní mapování oboru názvů jazyka XAML, ale tato dokumentace bude předpokládat výchozí `x:` mapování jako prostředek identifikace tyto entity, které jsou definované součástí oboru názvů jazyka XAML jazyka XAML naproti tomu konkrétní framework oboru názvů jazyka XAML výchozí nebo jiných libovolný CLR nebo XML oborech názvů.</span><span class="sxs-lookup"><span data-stu-id="35cb1-117">You could choose a different prefix token in your own XAML namespace mapping, but this documentation will assume the default `x:` mapping as a means of identifying those entities that are a defined part of the XAML language XAML namespace, as opposed to a specific framework's default XAML namespace or other arbitrary CLR or XML namespaces.</span></span>  
  
### <a name="xtype"></a><span data-ttu-id="35cb1-118">x: Type</span><span class="sxs-lookup"><span data-stu-id="35cb1-118">x:Type</span></span>  
 <span data-ttu-id="35cb1-119">`x:Type`poskytuje <xref:System.Type> objektu pro typ s názvem.</span><span class="sxs-lookup"><span data-stu-id="35cb1-119">`x:Type` supplies the <xref:System.Type> object for the named type.</span></span> <span data-ttu-id="35cb1-120">Tato funkce se nejčastěji používá v odložení mechanismy, které používají základní typ CLR a zadejte odvození jako přezdívku seskupení nebo identifikátor.</span><span class="sxs-lookup"><span data-stu-id="35cb1-120">This functionality is used most frequently in deferral mechanisms that use underlying CLR type and type derivation as a grouping moniker or identifier.</span></span> <span data-ttu-id="35cb1-121">WPF styly a šablony a jejich využití `TargetType` vlastnosti, jsou konkrétní příklad.</span><span class="sxs-lookup"><span data-stu-id="35cb1-121">WPF styles and templates, and their usage of `TargetType` properties, are a specific example.</span></span> <span data-ttu-id="35cb1-122">Další informace najdete v tématu [x: Type – rozšíření značek](../../../docs/framework/xaml-services/x-type-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="35cb1-122">For more information, see [x:Type Markup Extension](../../../docs/framework/xaml-services/x-type-markup-extension.md).</span></span>  
  
### <a name="xstatic"></a><span data-ttu-id="35cb1-123">x: Static</span><span class="sxs-lookup"><span data-stu-id="35cb1-123">x:Static</span></span>  
 <span data-ttu-id="35cb1-124">`x:Static`Vytvoří statické hodnoty z entit kód typ hodnoty, které nejsou přímo typ vlastnosti na hodnotu, ale lze vyhodnotit na typu.</span><span class="sxs-lookup"><span data-stu-id="35cb1-124">`x:Static` produces static values from value-type code entities that are not directly the type of a property's value, but can be evaluated to that type.</span></span> <span data-ttu-id="35cb1-125">To je užitečné pro zadání hodnoty, které už existují jako dobře známé konstanty v definici typu.</span><span class="sxs-lookup"><span data-stu-id="35cb1-125">This is useful for specifying values that already exist as well-known constants in a type definition.</span></span> <span data-ttu-id="35cb1-126">Další informace najdete v tématu [x: Static – rozšíření značek](../../../docs/framework/xaml-services/x-static-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="35cb1-126">For more information, see [x:Static Markup Extension](../../../docs/framework/xaml-services/x-static-markup-extension.md).</span></span>  
  
### <a name="xnull"></a><span data-ttu-id="35cb1-127">x: Null</span><span class="sxs-lookup"><span data-stu-id="35cb1-127">x:Null</span></span>  
 <span data-ttu-id="35cb1-128">`x:Null`Určuje `null` jako hodnotu pro člena XAML.</span><span class="sxs-lookup"><span data-stu-id="35cb1-128">`x:Null` specifies `null` as a value for a XAML member.</span></span> <span data-ttu-id="35cb1-129">V závislosti na konkrétní typy nebo na větší framework koncepty návrhu `null` není vždy výchozí hodnotu pro vlastnost nebo předpokládané hodnotu atributu prázdný řetězec.</span><span class="sxs-lookup"><span data-stu-id="35cb1-129">Depending on the design of specific types or on larger framework concepts, `null` is not always a default value for a property, or the implied value of an empty string attribute.</span></span> <span data-ttu-id="35cb1-130">Další informace najdete v tématu [x: Null – rozšíření značek](../../../docs/framework/xaml-services/x-null-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="35cb1-130">For more information, see [x:Null Markup Extension](../../../docs/framework/xaml-services/x-null-markup-extension.md).</span></span>  
  
### <a name="xarray"></a><span data-ttu-id="35cb1-131">x: Array</span><span class="sxs-lookup"><span data-stu-id="35cb1-131">x:Array</span></span>  
 <span data-ttu-id="35cb1-132">`x:Array`podporuje vytváření obecné pole v syntaxi XAML v případech, kdy je podpora kolekce, které poskytuje základní prvky a modely ovládací prvek záměrně není použita.</span><span class="sxs-lookup"><span data-stu-id="35cb1-132">`x:Array` supports creation of general arrays in XAML syntax in cases where the collection support that is provided by base elements and control models is deliberately not used.</span></span> <span data-ttu-id="35cb1-133">Další informace najdete v tématu [x: Array – rozšíření značek](../../../docs/framework/xaml-services/x-array-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="35cb1-133">For more information, see [x:Array Markup Extension](../../../docs/framework/xaml-services/x-array-markup-extension.md).</span></span> <span data-ttu-id="35cb1-134">V jazyce XAML 2009 konkrétně pole jsou dostupné jako primitiva jazyka místo jako rozšíření.</span><span class="sxs-lookup"><span data-stu-id="35cb1-134">In XAML 2009 specifically, arrays are accessed as language primitives instead of as an extension.</span></span> <span data-ttu-id="35cb1-135">Další informace najdete v tématu [funkce jazyka XAML 2009](../../../docs/framework/xaml-services/xaml-2009-language-features.md).</span><span class="sxs-lookup"><span data-stu-id="35cb1-135">For more information, see [XAML 2009 Language Features](../../../docs/framework/xaml-services/xaml-2009-language-features.md).</span></span>  
  
### <a name="xreference"></a><span data-ttu-id="35cb1-136">x: Reference</span><span class="sxs-lookup"><span data-stu-id="35cb1-136">x:Reference</span></span>  
 <span data-ttu-id="35cb1-137">`x:Reference`je součástí XAML 2009, rozšíření původní (2006) jazykové sady.</span><span class="sxs-lookup"><span data-stu-id="35cb1-137">`x:Reference` is part of XAML 2009, an extension of the original (2006) language set.</span></span> <span data-ttu-id="35cb1-138">`x:Reference`představuje odkaz na jiný existující objekt v grafu objektu.</span><span class="sxs-lookup"><span data-stu-id="35cb1-138">`x:Reference` represents a reference to another existing object in an object graph.</span></span> <span data-ttu-id="35cb1-139">Tento objekt je určený podle jeho `x:Name`.</span><span class="sxs-lookup"><span data-stu-id="35cb1-139">That object is identified by its `x:Name`.</span></span> <span data-ttu-id="35cb1-140">Další informace najdete v tématu [x: Reference – rozšíření značek](../../../docs/framework/xaml-services/x-reference-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="35cb1-140">For more information, see [x:Reference Markup Extension](../../../docs/framework/xaml-services/x-reference-markup-extension.md).</span></span>  
  
### <a name="other-x-constructs"></a><span data-ttu-id="35cb1-141">Další konstrukce x:</span><span class="sxs-lookup"><span data-stu-id="35cb1-141">Other x: Constructs</span></span>  
 <span data-ttu-id="35cb1-142">Další `x:` konstrukty, které podporují funkce jazyka XAML existují, avšak tyto nejsou implementované jako rozšíření značek.</span><span class="sxs-lookup"><span data-stu-id="35cb1-142">Other `x:` constructs to support XAML language features exist, but these are not implemented as markup extensions.</span></span> <span data-ttu-id="35cb1-143">Další informace najdete v tématu [Namespace XAML (x:) Jazykové funkce](../../../docs/framework/xaml-services/xaml-namespace-x-language-features.md).</span><span class="sxs-lookup"><span data-stu-id="35cb1-143">For more information, see [XAML Namespace (x:) Language Features](../../../docs/framework/xaml-services/xaml-namespace-x-language-features.md).</span></span>  
  
<a name="the_markupextension_base_class"></a>   
## <a name="the-markupextension-base-class"></a><span data-ttu-id="35cb1-144">MarkupExtension základní třída</span><span class="sxs-lookup"><span data-stu-id="35cb1-144">The MarkupExtension Base Class</span></span>  
 <span data-ttu-id="35cb1-145">Můžete definovat rozšíření vlastních značek, které mohou komunikovat s výchozí implementace XAML čtení a zápis XAML v System.Xaml, odvození třídy z abstraktní <xref:System.Windows.Markup.MarkupExtension> třídy.</span><span class="sxs-lookup"><span data-stu-id="35cb1-145">To define a custom markup extension that can interact with the default implementations of XAML readers and XAML writers in System.Xaml, you derive a class from the abstract <xref:System.Windows.Markup.MarkupExtension> class.</span></span> <span data-ttu-id="35cb1-146">Aby třída má jednu metodu přepsat, což je <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A>.</span><span class="sxs-lookup"><span data-stu-id="35cb1-146">That class has one method to override, which is <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A>.</span></span> <span data-ttu-id="35cb1-147">Je také třeba definovat další konstruktory pro podporu argumenty pro použití rozšíření značek a odpovídající nastavit vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="35cb1-147">You might also need to define additional constructors to support arguments to the markup extension usage, and matching settable properties.</span></span>  
  
 <span data-ttu-id="35cb1-148">Prostřednictvím <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A>, rozšíření vlastních značek má přístup ke kontextu služby, který hlásí prostředí, kde je ve skutečnosti vyvolat rozšíření značek procesorem XAML.</span><span class="sxs-lookup"><span data-stu-id="35cb1-148">Through <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A>, a custom markup extension has access to a service context that reports the environment where the markup extension is actually invoked by a XAML processor.</span></span> <span data-ttu-id="35cb1-149">V cestě zatížení to je obvykle <xref:System.Xaml.XamlObjectWriter>.</span><span class="sxs-lookup"><span data-stu-id="35cb1-149">In the load path this is typically a <xref:System.Xaml.XamlObjectWriter>.</span></span> <span data-ttu-id="35cb1-150">V poli Uložit cestu, obvykle je to <xref:System.Xaml.XamlXmlWriter>.</span><span class="sxs-lookup"><span data-stu-id="35cb1-150">In the save path this is typically a <xref:System.Xaml.XamlXmlWriter>.</span></span> <span data-ttu-id="35cb1-151">Všechny sestavy kontext služby jako interní XAML služby zprostředkovatele kontextu třídu, která implementuje vzor zprostředkovatele služby.</span><span class="sxs-lookup"><span data-stu-id="35cb1-151">Each report the service context as an internal XAML service provider context class that implements a service provider pattern.</span></span> <span data-ttu-id="35cb1-152">Další informace o dostupných služeb a co představují, najdete v části [převaděče typů a rozšíření značek pro jazyk XAML](../../../docs/framework/xaml-services/type-converters-and-markup-extensions-for-xaml.md).</span><span class="sxs-lookup"><span data-stu-id="35cb1-152">For more information about the available services and what they represent, see [Type Converters and Markup Extensions for XAML](../../../docs/framework/xaml-services/type-converters-and-markup-extensions-for-xaml.md).</span></span>  
  
 <span data-ttu-id="35cb1-153">Třídě rozšíření značek musí použít úroveň veřejný přístup; XAML procesory musí být vždy schopen vytvořit instanci třídy podporu rozšíření značek-li používat jeho služby.</span><span class="sxs-lookup"><span data-stu-id="35cb1-153">Your markup extension class must use a public access level; XAML processors must always be able to instantiate the markup extension's support class in order to use its services.</span></span>  
  
<a name="naming_the_support_type"></a>   
## <a name="defining-the-support-type-for-a-custom-markup-extension"></a><span data-ttu-id="35cb1-154">Definování typu podporu pro rozšíření vlastních značek</span><span class="sxs-lookup"><span data-stu-id="35cb1-154">Defining the Support Type for a Custom Markup Extension</span></span>  
 <span data-ttu-id="35cb1-155">Pokud používáte rozhraní .NET Framework XAML Services nebo rozhraní, které sestavení v rozhraní .NET Framework XAML Services, máte dvě možnosti pro pojmenování typ podporu rozšíření značek.</span><span class="sxs-lookup"><span data-stu-id="35cb1-155">When you use .NET Framework XAML Services or frameworks that build on .NET Framework XAML Services, you have two choices for how to name the markup extension support type.</span></span> <span data-ttu-id="35cb1-156">Název typu je relevantní pro jak XAML objekt zapisovače pokusí o přístup a vyvolání typu značek rozšíření podpory, když narazí na používání rozšíření značek v jazyce XAML.</span><span class="sxs-lookup"><span data-stu-id="35cb1-156">The type name is relevant to how XAML object writers attempt to access and invoke a markup extension support type when they encounter a markup extension usage in XAML.</span></span> <span data-ttu-id="35cb1-157">Použijte jednu z následujících strategií pojmenování:</span><span class="sxs-lookup"><span data-stu-id="35cb1-157">Use one of the following naming strategies:</span></span>  
  
-   <span data-ttu-id="35cb1-158">Název název typu, který se má přesnou shodou token využití kód XAML.</span><span class="sxs-lookup"><span data-stu-id="35cb1-158">Name the type name to be an exact match to the XAML markup usage token.</span></span> <span data-ttu-id="35cb1-159">Například pro podporu `{Collate ...}` rozšíření využití, název typu podporu `Collate`.</span><span class="sxs-lookup"><span data-stu-id="35cb1-159">For example, to support a `{Collate ...}` extension usage, name the support type `Collate`.</span></span>  
  
-   <span data-ttu-id="35cb1-160">Název název typu jako token řetězcového využití plus přípona `Extension`.</span><span class="sxs-lookup"><span data-stu-id="35cb1-160">Name the type name to be the usage string token plus the suffix `Extension`.</span></span> <span data-ttu-id="35cb1-161">Například pro podporu `{Collate ...}` rozšíření využití, název typu podporu `CollateExtension`.</span><span class="sxs-lookup"><span data-stu-id="35cb1-161">For example, to support a `{Collate ...}` extension usage, name the support type `CollateExtension`.</span></span>  
  
 <span data-ttu-id="35cb1-162">Pořadí vyhledávání je hledání `Extension`-vyznačeno třída nejprve název a potom vyhledejte název třídy bez `Extension` příponu.</span><span class="sxs-lookup"><span data-stu-id="35cb1-162">The order of lookup is to look for the `Extension`-suffixed class name first and then look for the class name without the `Extension` suffix.</span></span>  
  
 <span data-ttu-id="35cb1-163">Z hlediska využití značek včetně `Extension` přípona jako součást využití je platný.</span><span class="sxs-lookup"><span data-stu-id="35cb1-163">From the markup usage perspective, including the `Extension` suffix as part of the usage is valid.</span></span> <span data-ttu-id="35cb1-164">To však chová jako kdyby `Extension` je skutečně součástí název třídy a XAML objekt zapisovače by nepodaří vyřešit třídu značek rozšíření podpory pro toto využití, pokud třída podporu neměl `Extension` příponu.</span><span class="sxs-lookup"><span data-stu-id="35cb1-164">However, this behaves as if `Extension` is truly part of the class name, and XAML object writers would fail to resolve a markup extension support class for that usage if the support class did not have the `Extension` suffix.</span></span>  
  
### <a name="the-default-constructor"></a><span data-ttu-id="35cb1-165">Výchozí konstruktor.</span><span class="sxs-lookup"><span data-stu-id="35cb1-165">The Default Constructor</span></span>  
 <span data-ttu-id="35cb1-166">Pro všechny – rozšíření značek podporují typy, by měl vystavit veřejný výchozí konstruktor.</span><span class="sxs-lookup"><span data-stu-id="35cb1-166">For all markup extension support types, you should expose a public default constructor.</span></span> <span data-ttu-id="35cb1-167">Výchozí konstruktor je vyžadována pro každý případ, kde zapisovač objekt XAML vytvoří rozšíření značek z použití elementu objektu.</span><span class="sxs-lookup"><span data-stu-id="35cb1-167">A default constructor is required for any case where a XAML object writer instantiates the markup extension from an object element usage.</span></span> <span data-ttu-id="35cb1-168">Podpora použití elementu objektu je správného očekávání pro rozšíření značek, zejména pro serializaci.</span><span class="sxs-lookup"><span data-stu-id="35cb1-168">Supporting object element usage is a fair expectation for a markup extension, particularly for serialization.</span></span> <span data-ttu-id="35cb1-169">Pokud chcete podporovat použití atributu rozšíření značek, ale můžete implementovat rozšíření značek bez veřejný konstruktor.</span><span class="sxs-lookup"><span data-stu-id="35cb1-169">However, you can implement a markup extension without a public constructor if you only intend to support attribute usages of the markup extension.</span></span>  
  
 <span data-ttu-id="35cb1-170">Pokud vaše využití rozšíření značek neobsahuje žádné argumenty, je potřeba podporovat použití výchozí konstruktor.</span><span class="sxs-lookup"><span data-stu-id="35cb1-170">If your markup extension usage has no arguments, the default constructor is required to support usage.</span></span>  
  
<a name="constructor_patterns_and_positional_arguments_for_a_custom_markup_extension"></a>   
## <a name="constructor-patterns-and-positional-arguments-for-a-custom-markup-extension"></a><span data-ttu-id="35cb1-171">Konstruktor vzory a poziční argumenty pro rozšíření vlastních značek</span><span class="sxs-lookup"><span data-stu-id="35cb1-171">Constructor Patterns and Positional Arguments for a Custom Markup Extension</span></span>  
 <span data-ttu-id="35cb1-172">Pro rozšíření značek s argument zamýšlené použití musí odpovídat veřejné konstruktory režimy zamýšlené použití.</span><span class="sxs-lookup"><span data-stu-id="35cb1-172">For a markup extension with intended argument usage, the public constructors must correspond to the modes of the intended usage.</span></span> <span data-ttu-id="35cb1-173">Jinými slovy Pokud vaše – rozšíření značek je navržený tak, aby vyžadovala jeden argument poziční jako platné použití, by měly podporovat veřejný konstruktor s jeden vstupní parametr, který přebírá poziční argument.</span><span class="sxs-lookup"><span data-stu-id="35cb1-173">In other words, if your markup extension is designed to require one positional argument as a valid usage, you should support a public constructor with one input parameter that takes the positional argument.</span></span>  
  
 <span data-ttu-id="35cb1-174">Předpokládejme například, že `Collate` – rozšíření značek je určená pro podporu pouze režim níž se nachází jeden poziční argument, který představuje jeho režim, zadaný jako `CollationMode` konstanta výčtu.</span><span class="sxs-lookup"><span data-stu-id="35cb1-174">For example, suppose the `Collate` markup extension is intended to support only a mode where there is one positional argument that represents its mode, specified as a `CollationMode` enumeration constant.</span></span> <span data-ttu-id="35cb1-175">V takovém případě by měl být konstruktor s následující tvar:</span><span class="sxs-lookup"><span data-stu-id="35cb1-175">In this case, there should be a constructor with the following form:</span></span>  
  
```  
public Collate(CollationMode collationMode) {...}  
```  
  
 <span data-ttu-id="35cb1-176">Na základní úrovni jsou argumenty předávané rozšíření značek řetězec, protože jsou předávány z hodnot atributů z kódu.</span><span class="sxs-lookup"><span data-stu-id="35cb1-176">At a basic level, the arguments passed to a markup extension are a string because they are being forwarded from the markup's attribute values.</span></span> <span data-ttu-id="35cb1-177">Můžete nastavit všechny vaše argumenty řetězce a pracovat s vstup na této úrovni.</span><span class="sxs-lookup"><span data-stu-id="35cb1-177">You can make all of your arguments strings and work with input at that level.</span></span> <span data-ttu-id="35cb1-178">Můžete ale mají přístup k určité zpracování, k níž dojde před argumenty rozšíření značek do třídy podpory.</span><span class="sxs-lookup"><span data-stu-id="35cb1-178">However, you do have access to certain processing that occurs before the markup extension arguments are passed to the support class.</span></span>  
  
 <span data-ttu-id="35cb1-179">Zpracování funguje koncepčně jako v případě, že rozšíření značek je objekt, který se má vytvořit, a nastavte svých členských hodnot.</span><span class="sxs-lookup"><span data-stu-id="35cb1-179">The processing works conceptually as if the markup extension is an object to be created, and then its member values are set.</span></span> <span data-ttu-id="35cb1-180">Každou zadanou vlastnost nastavit vyhodnotí podobná jak zadaného člena lze nastavit u objekt vytvořený při je analyzovat XAML.</span><span class="sxs-lookup"><span data-stu-id="35cb1-180">Each specified property to set is evaluated similar to how a specified member can be set on a created object when XAML is parsed.</span></span> <span data-ttu-id="35cb1-181">Existují dva důležité rozdíly:</span><span class="sxs-lookup"><span data-stu-id="35cb1-181">There are two important differences:</span></span>  
  
-   <span data-ttu-id="35cb1-182">Jak je uvedeno dříve, není nutné mít výchozí konstruktor, aby bylo možné vytvořit instanci v jazyce XAML typu značek rozšíření podpory.</span><span class="sxs-lookup"><span data-stu-id="35cb1-182">As noted previously, a markup extension support type does not need to have a default constructor in order to be instantiated in XAML.</span></span> <span data-ttu-id="35cb1-183">Jeho vytváření objektů je odložení, dokud jeho možných argumentů v textových syntaxi jsou tokenizovaného a vyhodnotit jako poziční nebo pojmenované argumenty a vhodný konstruktor je volána v daném čase.</span><span class="sxs-lookup"><span data-stu-id="35cb1-183">Its object construction is deferred until its possible arguments in the text syntax are tokenized and evaluated as either positional or named arguments, and the appropriate constructor is called at that time.</span></span>  
  
-   <span data-ttu-id="35cb1-184">Použití rozšíření značek mohou být použity.</span><span class="sxs-lookup"><span data-stu-id="35cb1-184">Markup extensions usages can be nested.</span></span> <span data-ttu-id="35cb1-185">Rozšíření nejvnitřnější značek je první vyhodnocen.</span><span class="sxs-lookup"><span data-stu-id="35cb1-185">The innermost markup extension is evaluated first.</span></span> <span data-ttu-id="35cb1-186">Proto můžete předpokládat takové použití a jeden z parametrů konstrukce jako typ, který vyžaduje převaděč hodnoty (například rozšíření značek) k vytvoření deklarovat.</span><span class="sxs-lookup"><span data-stu-id="35cb1-186">Therefore, you can assume such a usage and declare one of the construction parameters to be a type that requires a value converter (such as a markup extension) to produce.</span></span>  
  
 <span data-ttu-id="35cb1-187">Závislá na takové zpracování se zobrazí v předchozím příkladu.</span><span class="sxs-lookup"><span data-stu-id="35cb1-187">A reliance on such processing was shown in the previous example.</span></span> <span data-ttu-id="35cb1-188">Objekt zapisovače rozhraní .NET Framework XAML Services XAML procesu výčtu konstantní názvy do výčtové hodnoty na nativní úroveň.</span><span class="sxs-lookup"><span data-stu-id="35cb1-188">The .NET Framework XAML Services XAML object writer processes enumeration constant names into enumerated values at a native level.</span></span>  
  
 <span data-ttu-id="35cb1-189">Zpracování textových syntaxi poziční parametru rozšíření značek můžete také závisí na převaděče typů, která souvisí s typem, který je v argumentu konstrukce.</span><span class="sxs-lookup"><span data-stu-id="35cb1-189">Processing text syntax of a markup extension positional parameter can also rely on a type converter that is associated with the type that is in the construction argument.</span></span>  
  
 <span data-ttu-id="35cb1-190">Argumenty, které se nazývají poziční argumenty, protože odpovídá pořadí, ve kterém je došlo tokeny v použití poziční pořadí parametr konstruktoru, ke které jsou přiřazeni.</span><span class="sxs-lookup"><span data-stu-id="35cb1-190">The arguments are called positional arguments because the order in which the tokens in the usage is encountered corresponds to the positional order of the constructor parameter to which they are assigned.</span></span> <span data-ttu-id="35cb1-191">Zvažte například následující konstruktor podpis:</span><span class="sxs-lookup"><span data-stu-id="35cb1-191">For example, consider the following constructor signature:</span></span>  
  
```  
public Collate(CollationMode collationMode, object collateThis) {...}  
```  
  
 <span data-ttu-id="35cb1-192">Procesor XAML očekává dva argumenty poziční pro tuto příponu značek.</span><span class="sxs-lookup"><span data-stu-id="35cb1-192">A XAML processor expects two positional arguments for this markup extension.</span></span> <span data-ttu-id="35cb1-193">Pokud se na používání `{Collate AlphaUp,{x:Reference circularFile}}`, `AlphaUp` se odesílají na první parametr a vyhodnotit jako token `CollationMode` s názvem konstanta výčtu.</span><span class="sxs-lookup"><span data-stu-id="35cb1-193">If there was a usage `{Collate AlphaUp,{x:Reference circularFile}}`, the `AlphaUp` token is sent to the first parameter and evaluated as a `CollationMode` enumeration named constant.</span></span> <span data-ttu-id="35cb1-194">Výsledek vnitřního `x:Reference` se odesílají na druhý parametr a vyhodnotit jako objekt.</span><span class="sxs-lookup"><span data-stu-id="35cb1-194">The result of the inner `x:Reference` is sent to the second parameter and evaluated as an object.</span></span>  
  
 <span data-ttu-id="35cb1-195">V XAML zadaný pravidla pro kód rozšíření syntaxe a zpracování, čárkou je odděleny argumenty, zda jsou tyto argumenty poziční argumentů nebo pojmenované argumenty.</span><span class="sxs-lookup"><span data-stu-id="35cb1-195">In the XAML specified rules for markup extension syntax and processing, the comma is the delimiter between arguments, whether those arguments are positional arguments or named arguments.</span></span>  
  
### <a name="duplicate-arity-of-positional-arguments"></a><span data-ttu-id="35cb1-196">Duplicitní aritu argumentů umístění.</span><span class="sxs-lookup"><span data-stu-id="35cb1-196">Duplicate Arity of Positional Arguments</span></span>  
 <span data-ttu-id="35cb1-197">Pokud objekt zapisovač XAML zaznamená použití značek rozšíření s poziční parametry a existuje více argumentů konstruktor vyžadující počet argumentů (duplicitní Arita), který není nutně k chybě.</span><span class="sxs-lookup"><span data-stu-id="35cb1-197">If a XAML object writer encounters a markup extension usage with positional arguments, and there are multiple constructor arguments that take that number of arguments (a duplicate arity), that is not necessarily an error.</span></span> <span data-ttu-id="35cb1-198">Chování závisí na přizpůsobitelné XAML schématu nastavení kontextu, <xref:System.Xaml.XamlSchemaContextSettings.SupportMarkupExtensionsWithDuplicateArity%2A>.</span><span class="sxs-lookup"><span data-stu-id="35cb1-198">The behavior depends on a customizable XAML schema context setting, <xref:System.Xaml.XamlSchemaContextSettings.SupportMarkupExtensionsWithDuplicateArity%2A>.</span></span> <span data-ttu-id="35cb1-199">Pokud <xref:System.Xaml.XamlSchemaContextSettings.SupportMarkupExtensionsWithDuplicateArity%2A> je `true`, by neměla vyvolat výjimku pouze z důvodů duplicitní Arita, zapisovač objekt XAML.</span><span class="sxs-lookup"><span data-stu-id="35cb1-199">If <xref:System.Xaml.XamlSchemaContextSettings.SupportMarkupExtensionsWithDuplicateArity%2A> is `true`, a XAML object writer should not throw an exception only for reasons of duplicate arity.</span></span> <span data-ttu-id="35cb1-200">Chování za tímto bodem není definován výhradně.</span><span class="sxs-lookup"><span data-stu-id="35cb1-200">Behavior beyond that point is not strictly defined.</span></span> <span data-ttu-id="35cb1-201">Základní návrhu předpokladem je, že kontext schématu má k dispozici pro konkrétní parametry informací o typu a může pokus o explicitní přetypování, které odpovídají duplicitní kandidáty zobrazíte podpisů může být nejlepší shodu.</span><span class="sxs-lookup"><span data-stu-id="35cb1-201">The basic design assumption is that the schema context has type information available for the specific parameters and can attempt explicit casts that match the duplicate candidates to see which signature might be the best match.</span></span> <span data-ttu-id="35cb1-202">Pokud žádné podpisy můžete předat testy, které jsou způsobené tohoto kontextu konkrétní schématu, která běží na objekt zapisovač XAML, může být stále vyvolána výjimka.</span><span class="sxs-lookup"><span data-stu-id="35cb1-202">An exception might still be thrown if no signatures can pass the tests that are imposed by that particular schema context that is running on a XAML object writer.</span></span>  
  
 <span data-ttu-id="35cb1-203">Ve výchozím nastavení <xref:System.Xaml.XamlSchemaContextSettings.SupportMarkupExtensionsWithDuplicateArity%2A> je `false` CLR založený na <xref:System.Xaml.XamlSchemaContext> pro rozhraní .NET Framework XAML Services.</span><span class="sxs-lookup"><span data-stu-id="35cb1-203">By default, <xref:System.Xaml.XamlSchemaContextSettings.SupportMarkupExtensionsWithDuplicateArity%2A> is `false` in the CLR-based <xref:System.Xaml.XamlSchemaContext> for .NET Framework XAML Services.</span></span> <span data-ttu-id="35cb1-204">Proto výchozí <xref:System.Xaml.XamlObjectWriter> vyvolá výjimek, pokud zjistí použití rozšíření značek kterých je duplicitní Arita v konstruktory základního typu.</span><span class="sxs-lookup"><span data-stu-id="35cb1-204">Thus, the default <xref:System.Xaml.XamlObjectWriter> throws exceptions if it encounters a markup extension usage where there is duplicate arity in the backing type's constructors.</span></span>  
  
<a name="named_arguments_for_a_custom_markup_extension"></a>   
## <a name="named-arguments-for-a-custom-markup-extension"></a><span data-ttu-id="35cb1-205">Pojmenované argumenty pro rozšíření vlastních značek</span><span class="sxs-lookup"><span data-stu-id="35cb1-205">Named Arguments for a Custom Markup Extension</span></span>  
 <span data-ttu-id="35cb1-206">Rozšíření značek podle specifikace XAML můžete také formuláře pojmenované argumenty pro použití.</span><span class="sxs-lookup"><span data-stu-id="35cb1-206">Markup extensions as specified by XAML can also use a named arguments form for usage.</span></span> <span data-ttu-id="35cb1-207">V první úroveň tokenizaci textových syntaxi rozdělen do argumenty.</span><span class="sxs-lookup"><span data-stu-id="35cb1-207">At the first level of tokenization, the text syntax is divided into arguments.</span></span> <span data-ttu-id="35cb1-208">Přítomnost znak rovná se (=) v rámci některý argument identifikuje argument jako argumentem.</span><span class="sxs-lookup"><span data-stu-id="35cb1-208">The presence of an equals sign (=) within any argument identifies an argument as a named argument.</span></span> <span data-ttu-id="35cb1-209">Takové argument je také tokenizovaného do dvojici název/hodnota.</span><span class="sxs-lookup"><span data-stu-id="35cb1-209">Such an argument is also tokenized into a name/value pair.</span></span> <span data-ttu-id="35cb1-210">Název v tomto případě názvy veřejných nastavit vlastnost typu podporu rozšíření značek.</span><span class="sxs-lookup"><span data-stu-id="35cb1-210">The name in this case names a public settable property of the markup extension's support type.</span></span> <span data-ttu-id="35cb1-211">Pokud máte v úmyslu podporovat použití pojmenovaný argument, měl by poskytnout tyto veřejné nastavit vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="35cb1-211">If you intend to support named argument usage, you should provide these public settable properties.</span></span> <span data-ttu-id="35cb1-212">Vlastnosti může být zděděné vlastnosti, tak dlouho, dokud zůstanou veřejné.</span><span class="sxs-lookup"><span data-stu-id="35cb1-212">The properties can be inherited properties as long as they remain public.</span></span>  
  
<a name="accessing_service_provider_context_from_a_markup_extension_implementation"></a>   
## <a name="accessing-service-provider-context-from-a-markup-extension-implementation"></a><span data-ttu-id="35cb1-213">Přístup k kontext zprostředkovatele služby z implementaci rozšíření značek</span><span class="sxs-lookup"><span data-stu-id="35cb1-213">Accessing Service Provider Context from a Markup Extension Implementation</span></span>  
 <span data-ttu-id="35cb1-214">Služby k dispozici jsou stejné pro všechny převaděč hodnoty.</span><span class="sxs-lookup"><span data-stu-id="35cb1-214">The services available are the same for any value converter.</span></span> <span data-ttu-id="35cb1-215">Rozdíl spočívá v tom, jak každý převaděč hodnoty obdrží kontext služby.</span><span class="sxs-lookup"><span data-stu-id="35cb1-215">The difference is in how each value converter receives the service context.</span></span> <span data-ttu-id="35cb1-216">Přístup k službám a službami, které jsou k dispozici jsou popsané v tématu [převaděče typů a rozšíření značek pro jazyk XAML](../../../docs/framework/xaml-services/type-converters-and-markup-extensions-for-xaml.md).</span><span class="sxs-lookup"><span data-stu-id="35cb1-216">Accessing services and the services available are documented in the topic [Type Converters and Markup Extensions for XAML](../../../docs/framework/xaml-services/type-converters-and-markup-extensions-for-xaml.md).</span></span>  
  
<a name="property_element_usage_of_a_markup_extension"></a>   
## <a name="property-element-usage-of-a-markup-extension"></a><span data-ttu-id="35cb1-217">Použití elementu vlastnosti rozšíření značek</span><span class="sxs-lookup"><span data-stu-id="35cb1-217">Property Element Usage of a Markup Extension</span></span>  
 <span data-ttu-id="35cb1-218">Scénáře pro použití rozšíření značek jsou často uspořádaná kolem pomocí rozšíření značek v použití atributu.</span><span class="sxs-lookup"><span data-stu-id="35cb1-218">The scenarios for markup extension usages are often designed around using the markup extension in attribute usage.</span></span> <span data-ttu-id="35cb1-219">Je však také potenciálně možné definovat základní třídu pro podporu použití elementu vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="35cb1-219">However, it is also potentially possible to define the backing class to support property element usage.</span></span>  
  
 <span data-ttu-id="35cb1-220">Chcete-li podporovat použití elementu vlastnosti vašeho rozšíření značek, definujte výchozí veřejný konstruktor.</span><span class="sxs-lookup"><span data-stu-id="35cb1-220">To support property element usage of your markup extension, define a public default constructor.</span></span> <span data-ttu-id="35cb1-221">To by měl být konstruktoru instance statického konstruktoru.</span><span class="sxs-lookup"><span data-stu-id="35cb1-221">This should be an instance constructor not a static constructor.</span></span> <span data-ttu-id="35cb1-222">Toto je nutné kvůli procesor XAML musí obecně vyvolat výchozí konstruktor u libovolného elementu objektu, který zpracovává z značek, a to zahrnuje značek rozšíření třídy jako elementy objektu.</span><span class="sxs-lookup"><span data-stu-id="35cb1-222">This is required because a XAML processor must generally invoke the default constructor on any object element it processes from markup, and this includes markup extension classes as object elements.</span></span> <span data-ttu-id="35cb1-223">Pro pokročilé scénáře můžete definovat konstrukce jiné než výchozí cesty pro třídy.</span><span class="sxs-lookup"><span data-stu-id="35cb1-223">For advanced scenarios, you can define non-default construction paths for classes.</span></span> <span data-ttu-id="35cb1-224">(Další informace najdete v tématu [x: factorymethod – direktiva](../../../docs/framework/xaml-services/x-factorymethod-directive.md).) Nicméně byste neměli používat tyto vzory pro účely rozšíření značek, protože díky zjišťování vzor používání mnohem obtížnější, pro návrháře i pro uživatele nezpracovaná značek.</span><span class="sxs-lookup"><span data-stu-id="35cb1-224">(For more information, see [x:FactoryMethod Directive](../../../docs/framework/xaml-services/x-factorymethod-directive.md).) However, you should not use these patterns for markup extension purposes because this makes discovery of the usage pattern much more difficult, both for designers and for users of raw markup.</span></span>  
  
<a name="attributing_for_a_custom_markup_extension"></a>   
## <a name="attributing-for-a-custom-markup-extension"></a><span data-ttu-id="35cb1-225">Zapisujících pro rozšíření vlastních značek</span><span class="sxs-lookup"><span data-stu-id="35cb1-225">Attributing for a Custom Markup Extension</span></span>  
 <span data-ttu-id="35cb1-226">Pro podporu prostředí návrhu a některých scénářích objekt zapisovače XAML, má atribut typu značek rozšíření podpory s několika atributy CLR.</span><span class="sxs-lookup"><span data-stu-id="35cb1-226">To support both design environments and certain XAML object writer scenarios, you should attribute a markup extension support type with several CLR attributes.</span></span> <span data-ttu-id="35cb1-227">Tyto atributy sestavy využití rozšíření určený značek.</span><span class="sxs-lookup"><span data-stu-id="35cb1-227">These attributes report the intended markup extension usage.</span></span>  
  
 <span data-ttu-id="35cb1-228"><xref:System.Windows.Markup.MarkupExtensionReturnTypeAttribute>sestavy <xref:System.Type> informace pro objekt typu <xref:System.Windows.Markup.ArrayExtension.ProvideValue%2A> vrátí.</span><span class="sxs-lookup"><span data-stu-id="35cb1-228"><xref:System.Windows.Markup.MarkupExtensionReturnTypeAttribute> reports the <xref:System.Type> information for the object type that <xref:System.Windows.Markup.ArrayExtension.ProvideValue%2A> returns.</span></span> <span data-ttu-id="35cb1-229">Čistý podpisem <xref:System.Windows.Markup.ArrayExtension.ProvideValue%2A> vrátí <xref:System.Object>.</span><span class="sxs-lookup"><span data-stu-id="35cb1-229">By its pure signature, <xref:System.Windows.Markup.ArrayExtension.ProvideValue%2A> returns <xref:System.Object>.</span></span> <span data-ttu-id="35cb1-230">Ale různé příjemci chtít přesnější informací o návratovém typu.</span><span class="sxs-lookup"><span data-stu-id="35cb1-230">But various consumers might want more precise return type information.</span></span> <span data-ttu-id="35cb1-231">Sem patří:</span><span class="sxs-lookup"><span data-stu-id="35cb1-231">This includes:</span></span>  
  
-   <span data-ttu-id="35cb1-232">Návrháři a integrovaného vývojového prostředí, který může být schopný poskytnout používající typ podporu pro použití rozšíření značek.</span><span class="sxs-lookup"><span data-stu-id="35cb1-232">Designers and IDEs, who might be able to provide type-aware support for markup extension usages.</span></span>  
  
-   <span data-ttu-id="35cb1-233">Rozšířené implementace `SetMarkupExtension` obslužné rutiny na cílové třídy, které může závisí na reflexi určit návratový typ rozšíření značek místo vytvoření větve na konkrétní známé <xref:System.Windows.Markup.MarkupExtension> implementace podle názvu.</span><span class="sxs-lookup"><span data-stu-id="35cb1-233">Advanced implementations of `SetMarkupExtension` handlers on target classes, which might rely on reflection to determine a markup extension's return type instead of branching on specific known <xref:System.Windows.Markup.MarkupExtension> implementations by name.</span></span>  
  
<a name="serialization_of_markup_extension_usages"></a>   
## <a name="serialization-of-markup-extension-usages"></a><span data-ttu-id="35cb1-234">Serializace použití rozšíření značek</span><span class="sxs-lookup"><span data-stu-id="35cb1-234">Serialization of Markup Extension Usages</span></span>  
 <span data-ttu-id="35cb1-235">Pokud objekt zapisovač XAML zpracovává použití rozšíření značek a volání <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A>, kontext pro něj předtím se použití rozšíření značek potrvají datový proud uzlu XAML, avšak nejsou v grafu objektů.</span><span class="sxs-lookup"><span data-stu-id="35cb1-235">When a XAML object writer processes a markup extension usage and calls <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A>, the context for it previously being a markup extension usage persists in the XAML node stream but not in the object graph.</span></span> <span data-ttu-id="35cb1-236">V grafu objektů se zachová pouze hodnotu.</span><span class="sxs-lookup"><span data-stu-id="35cb1-236">In the object graph, only the value is preserved.</span></span> <span data-ttu-id="35cb1-237">Pokud máte scénáře návrhu nebo z jiných důvodů pro zachování původní rozšíření použití značek do serializovaných výstup, je třeba navrhnout vlastní infrastrukturu pro sledování použití rozšíření značek z datový proud uzlu XAML cesta zatížení.</span><span class="sxs-lookup"><span data-stu-id="35cb1-237">If you have design scenarios or other reasons for persisting the original markup extension usage into the serialized output, you must design your own infrastructure for tracking the markup extension usages from the load path XAML node stream.</span></span> <span data-ttu-id="35cb1-238">Můžete implementovat chování znovu vytvářet prvky datový proud uzlu z cesty zatížení- and -play zpět do zapisovače XAML pro serializaci v uložení cestu, nahraďte hodnoty v příslušné pozici datový proud uzlu.</span><span class="sxs-lookup"><span data-stu-id="35cb1-238">You can implement behavior to recreate the elements of the node stream from the load path and play them back to XAML writers for serialization in the save path, substituting for the value in the appropriate position of the node stream.</span></span>  
  
<a name="markup_extensions_in_the_xaml_node_stream"></a>   
## <a name="markup-extensions-in-the-xaml-node-stream"></a><span data-ttu-id="35cb1-239">Rozšíření značek v datový proud uzlu XAML</span><span class="sxs-lookup"><span data-stu-id="35cb1-239">Markup Extensions in the XAML Node Stream</span></span>  
 <span data-ttu-id="35cb1-240">Pokud pracujete s datový proud uzlu XAML v cestě zatížení, se zobrazí na používání rozšíření značek v datový proud uzlu jako objekt.</span><span class="sxs-lookup"><span data-stu-id="35cb1-240">If you are working with a XAML node stream on the load path, a markup extension usage appears in the node stream as an object.</span></span>  
  
 <span data-ttu-id="35cb1-241">Pokud rozšíření použití značek používá poziční argumenty, je reprezentována jako objekt počáteční hodnotou inicializace.</span><span class="sxs-lookup"><span data-stu-id="35cb1-241">If the markup extension usage uses positional arguments, it is represented as a start object with an initialization value.</span></span> <span data-ttu-id="35cb1-242">Datový proud uzlu jako hrubý textové reprezentace, vypadá třeba takto:</span><span class="sxs-lookup"><span data-stu-id="35cb1-242">As a rough text representation, the node stream resembles the following:</span></span>  
  
 <span data-ttu-id="35cb1-243">`StartObject`(<xref:System.Xaml.XamlType> je typ definice rozšíření značek, její návratový typ)</span><span class="sxs-lookup"><span data-stu-id="35cb1-243">`StartObject` (<xref:System.Xaml.XamlType> is the markup extension's definition type, not its return type)</span></span>  
  
 <span data-ttu-id="35cb1-244">`StartMember`(název <xref:System.Xaml.XamlMember> je `_InitializationText`)</span><span class="sxs-lookup"><span data-stu-id="35cb1-244">`StartMember` (name of the <xref:System.Xaml.XamlMember> is `_InitializationText`)</span></span>  
  
 <span data-ttu-id="35cb1-245">`Value`(hodnota je poziční argumenty jako řetězec včetně použité oddělovače)</span><span class="sxs-lookup"><span data-stu-id="35cb1-245">`Value` (value is the positional arguments as a string including the intervening delimiters)</span></span>  
  
 `EndMember`  
  
 `EndObject`  
  
 <span data-ttu-id="35cb1-246">Použití značek rozšíření s pojmenované argumenty je reprezentována jako objekt se členy příslušné názvy jednotlivých nastavit s hodnotami typu řetězec textu.</span><span class="sxs-lookup"><span data-stu-id="35cb1-246">A markup extension usage with named arguments is represented as an object with members of the relevant names, each set with text string values.</span></span>  
  
 <span data-ttu-id="35cb1-247">Ve skutečnosti vyvolání `ProvideValue` implementaci rozšíření značek vyžaduje kontext schématu XAML vzhledem k tomu, který vyžaduje typ mapování a vytvoření instance typu podporu rozšíření značek.</span><span class="sxs-lookup"><span data-stu-id="35cb1-247">Actually invoking the `ProvideValue` implementation of a markup extension requires the XAML schema context because that requires type-mapping and creating a markup extension support type instance.</span></span> <span data-ttu-id="35cb1-248">Toto je jedním z důvodů, proč použití rozšíření značek se zachovají tímto způsobem v datové proudy uzlu rozhraní .NET Framework XAML Services výchozí – čtečky část cesty zatížení, který je často nemá potřebné XAML schématu kontext k dispozici.</span><span class="sxs-lookup"><span data-stu-id="35cb1-248">This is one reason why markup extension usages are preserved this way in the default .NET Framework XAML Services node streams -  the reader part of a load path often does not have the necessary XAML schema context available.</span></span>  
  
 <span data-ttu-id="35cb1-249">Pokud pracujete s datový proud uzlu XAML na uložení cestu, obvykle není nic v grafu reprezentaci objektu, který informovat, že objekt k serializaci byl původně poskytované použití rozšíření značek a `ProvideValue` výsledek.</span><span class="sxs-lookup"><span data-stu-id="35cb1-249">If you are working with a XAML node stream on the save path, there generally is nothing present in an object graph representation that can inform you that the object to serialize was originally provided by a markup extension usage and a `ProvideValue` result.</span></span> <span data-ttu-id="35cb1-250">Scénáře, které je potřeba zachovat použití rozšíření značek pro odezvy při zaznamenávání také další změny v grafu objektů musíte navrhnout vlastní techniky pro zachování informací o použití rozšíření značek z původní XAML zadejte.</span><span class="sxs-lookup"><span data-stu-id="35cb1-250">Scenarios that need to persist markup extension usages for round-tripping while also capturing other changes in the object graph must devise their own techniques for preserving the knowledge of a markup extension usage from the original XAML input.</span></span> <span data-ttu-id="35cb1-251">Například pokud chcete obnovit použití rozšíření značek, musíte pracovat s datový proud uzlu na uložení cestu, aby bylo možné obnovit použití rozšíření značek nebo provést nějaký typ sloučení mezi původní XAML a zpětné odbavení XAML.</span><span class="sxs-lookup"><span data-stu-id="35cb1-251">For example, to restore the markup extension usages, you may need to work with the node stream on the save path in order to restore markup extension usages, or perform some type of merge between the original XAML and the round-tripped XAML.</span></span> <span data-ttu-id="35cb1-252">Některé XAML implementace architektury například WPF představují případech, kde značek rozšíření použití poskytuje hodnoty pomocí zprostředkující typy (výrazy).</span><span class="sxs-lookup"><span data-stu-id="35cb1-252">Some XAML-implementing frameworks such as WPF use intermediate types (expressions) to help represent cases where markup extension usages provided the values.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="35cb1-253">Viz také</span><span class="sxs-lookup"><span data-stu-id="35cb1-253">See Also</span></span>  
 <xref:System.Windows.Markup.MarkupExtension>  
 [<span data-ttu-id="35cb1-254">Převaděče typů a rozšíření značek pro jazyk XAML</span><span class="sxs-lookup"><span data-stu-id="35cb1-254">Type Converters and Markup Extensions for XAML</span></span>](../../../docs/framework/xaml-services/type-converters-and-markup-extensions-for-xaml.md)  
 [<span data-ttu-id="35cb1-255">Rozšíření značek a WPF XAML</span><span class="sxs-lookup"><span data-stu-id="35cb1-255">Markup Extensions and WPF XAML</span></span>](../../../docs/framework/wpf/advanced/markup-extensions-and-wpf-xaml.md)
