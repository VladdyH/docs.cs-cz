---
title: "Přehled převaděčů typů pro jazyk XAML"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-wpf
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- XAML [XAML Services], type converters
- XAML [XAML Services], TypeConverter
- type conversion for XAML [XAML Services]
ms.assetid: 51a65860-efcb-4fe0-95a0-1c679cde66b7
caps.latest.revision: "14"
author: wadepickett
ms.author: wpickett
manager: wpickett
ms.openlocfilehash: 6df7c6e8f7670648405400cf48e4a1d54cdd7e34
ms.sourcegitcommit: 4f3fef493080a43e70e951223894768d36ce430a
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 11/21/2017
---
# <a name="type-converters-for-xaml-overview"></a><span data-ttu-id="d4713-102">Přehled převaděčů typů pro jazyk XAML</span><span class="sxs-lookup"><span data-stu-id="d4713-102">Type Converters for XAML Overview</span></span>
<span data-ttu-id="d4713-103">Typ převaděče napájení logiku pro zápisu objektu, který převádí z řetězec v kódu XAML do konkrétní objekty v grafu objektu.</span><span class="sxs-lookup"><span data-stu-id="d4713-103">Type converters supply logic for an object writer that converts from a string in XAML markup into particular objects in an object graph.</span></span> <span data-ttu-id="d4713-104">V rozhraní .NET Framework XAML Services převaděč typů musí být třída odvozená z <xref:System.ComponentModel.TypeConverter>.</span><span class="sxs-lookup"><span data-stu-id="d4713-104">In .NET Framework XAML Services, the type converter must be a class that derives from <xref:System.ComponentModel.TypeConverter>.</span></span> <span data-ttu-id="d4713-105">Některé převaděče také podporují XAML cestu uložení a slouží k serializaci objektu do formátu řetězec v kódu serializace.</span><span class="sxs-lookup"><span data-stu-id="d4713-105">Some converters also support the XAML save path and can be used to serialize an object into a string form in serialization markup.</span></span> <span data-ttu-id="d4713-106">Toto téma popisuje, jak a kdy jsou vyvolány převaděče typů v jazyce XAML a poskytuje implementace Rady pro metodu přepsání <xref:System.ComponentModel.TypeConverter>.</span><span class="sxs-lookup"><span data-stu-id="d4713-106">This topic describes how and when type converters in XAML are invoked, and provides implementation advice for the method overrides of <xref:System.ComponentModel.TypeConverter>.</span></span>  
  
<a name="type_conversion_concepts"></a>   
## <a name="type-conversion-concepts"></a><span data-ttu-id="d4713-107">Koncepty převody typu</span><span class="sxs-lookup"><span data-stu-id="d4713-107">Type Conversion Concepts</span></span>  
 <span data-ttu-id="d4713-108">Následující části popisují základní koncepty o používání řetězců v jazyce XAML, a jak objekt zapisovače v rozhraní .NET Framework XAML Services pomocí převaděče typů zpracovat některé z řetězcové hodnoty, které se vyskytují ve zdroji XAML.</span><span class="sxs-lookup"><span data-stu-id="d4713-108">The following sections explain basic concepts about how XAML uses strings, and how object writers in .NET Framework XAML Services use type converters to process some of the string values that are encountered in a XAML source.</span></span>  
  
### <a name="xaml-and-string-values"></a><span data-ttu-id="d4713-109">XAML a hodnotami řetězců</span><span class="sxs-lookup"><span data-stu-id="d4713-109">XAML and String Values</span></span>  
 <span data-ttu-id="d4713-110">Když nastavíte hodnotu atributu v souboru XAML, typ počáteční této hodnoty je řetězec v obecném smyslu a řetězcovou hodnotu atributu v smysl XML.</span><span class="sxs-lookup"><span data-stu-id="d4713-110">When you set an attribute value in a XAML file, the initial type of that value is a string in a general sense, and a string attribute value in an XML sense.</span></span> <span data-ttu-id="d4713-111">I další primitiv jako <xref:System.Double> jsou původně řetězce pro procesor XAML.</span><span class="sxs-lookup"><span data-stu-id="d4713-111">Even other primitives such as <xref:System.Double> are initially strings to a XAML processor.</span></span>  
  
 <span data-ttu-id="d4713-112">Ve většině případů musí procesor XAML dva údaje zpracovat hodnotu atributu.</span><span class="sxs-lookup"><span data-stu-id="d4713-112">In most cases, a XAML processor needs two pieces of information to process an attribute value.</span></span> <span data-ttu-id="d4713-113">První část informace je typ hodnoty vlastnosti, která je nastavena.</span><span class="sxs-lookup"><span data-stu-id="d4713-113">The first piece of information is the value type of the property that is being set.</span></span> <span data-ttu-id="d4713-114">Libovolný řetězec, který definuje hodnotu atributu a který zpracovává v jazyce XAML musí být nakonec převést nebo byl přeložen na hodnotu daného typu.</span><span class="sxs-lookup"><span data-stu-id="d4713-114">Any string that defines an attribute value and that is processed in XAML must ultimately be converted or resolved to a value of that type.</span></span> <span data-ttu-id="d4713-115">Pokud je hodnota Primitivum, které se rozumí analyzátor jazyka XAML (například číselnou hodnotu), dojde k pokusu o přímé převod řetězce.</span><span class="sxs-lookup"><span data-stu-id="d4713-115">If the value is a primitive that is understood by the XAML parser (such as a numeric value), a direct conversion of the string is attempted.</span></span> <span data-ttu-id="d4713-116">Pokud hodnotu pro atribut odkazuje na výčet, zkontroluje se zadaný řetězec pro název shodu s názvem konstanta tohoto výčtu.</span><span class="sxs-lookup"><span data-stu-id="d4713-116">If the value for the attribute references an enumeration, the supplied string is checked for a name match to a named constant in that enumeration.</span></span> <span data-ttu-id="d4713-117">Pokud je hodnota jednoduchého typu rozumí analyzátor ani konstantní název z výčtu, musí být schopen poskytnout hodnotu nebo odkaz, který je založen na řetězec převedený příslušného typu.</span><span class="sxs-lookup"><span data-stu-id="d4713-117">If the value is neither a parser-understood primitive nor a constant name from an enumeration, the applicable type must be able to provide a value or reference that is based on a converted string.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="d4713-118">Direktivy jazyka XAML nepoužívejte typ převaděče.</span><span class="sxs-lookup"><span data-stu-id="d4713-118">XAML language directives do not use type converters.</span></span>  
  
### <a name="type-converters-and-markup-extensions"></a><span data-ttu-id="d4713-119">Převaděče typů a rozšíření značek</span><span class="sxs-lookup"><span data-stu-id="d4713-119">Type Converters and Markup Extensions</span></span>  
 <span data-ttu-id="d4713-120">Použití rozšíření značek musí být zpracován procesorem XAML zkontroluje vlastnost type a další důležité informace.</span><span class="sxs-lookup"><span data-stu-id="d4713-120">Markup extension usages must be handled by a XAML processor before it checks for property type and other considerations.</span></span> <span data-ttu-id="d4713-121">Například pokud je vlastnost nastavena jako atribut má obvykle převod typu, ale v konkrétním případě využitím rozšíření značek, chování rozšíření značek zpracovávání nejdřív.</span><span class="sxs-lookup"><span data-stu-id="d4713-121">For example, if a property being set as an attribute normally has a type conversion, but in a particular case is set by a markup extension usage, then the markup extension behavior processes first.</span></span> <span data-ttu-id="d4713-122">Jeden běžné situace, kdy je nezbytné rozšíření značek je aby odkaz na objekt, který již existuje.</span><span class="sxs-lookup"><span data-stu-id="d4713-122">One common situation where a markup extension is necessary is to make a reference to an object that already exists.</span></span> <span data-ttu-id="d4713-123">V tomto scénáři konvertor bezstavové typu generovat jenom novou instanci, která nemusí být žádoucí.</span><span class="sxs-lookup"><span data-stu-id="d4713-123">For this scenario, a stateless type converter can only generate a new instance, which might not be desirable.</span></span> <span data-ttu-id="d4713-124">Další informace o rozšíření značek najdete v tématu [XAML přehled rozšíření značek pro](../../../docs/framework/xaml-services/markup-extensions-for-xaml-overview.md).</span><span class="sxs-lookup"><span data-stu-id="d4713-124">For more information about markup extensions, see [Markup Extensions for XAML Overview](../../../docs/framework/xaml-services/markup-extensions-for-xaml-overview.md).</span></span>  
  
### <a name="native-type-converters"></a><span data-ttu-id="d4713-125">Převaděče nativním typu</span><span class="sxs-lookup"><span data-stu-id="d4713-125">Native Type Converters</span></span>  
 <span data-ttu-id="d4713-126">V implementacích služby WPF a .NET XAML existují určité typy CLR, které mají nativní typ převodu zpracování, ale tyto typy CLR nejsou představit obvykle jako primitivní elementy.</span><span class="sxs-lookup"><span data-stu-id="d4713-126">In the WPF and .NET XAML services implementations, there are certain CLR types that have native type conversion handling, however, those CLR types are not conventionally thought of as primitives.</span></span> <span data-ttu-id="d4713-127">Příkladem takového typu je <xref:System.DateTime>.</span><span class="sxs-lookup"><span data-stu-id="d4713-127">An example of such a type is <xref:System.DateTime>.</span></span> <span data-ttu-id="d4713-128">Jedním z důvodů je, jak funguje Architektura rozhraní .NET Framework: typ <xref:System.DateTime> je definována v mscorlib, nejzákladnější knihovny v rozhraní .NET.</span><span class="sxs-lookup"><span data-stu-id="d4713-128">One reason for this is how the .NET Framework architecture works: the type <xref:System.DateTime> is defined in mscorlib, the most basic library in .NET.</span></span> <span data-ttu-id="d4713-129"><xref:System.DateTime>nemá oprávnění k být opatřená atribut, který pochází z jiného sestavení, které představuje závislost (<xref:System.ComponentModel.TypeConverterAttribute> je ze systému); proto nemůže být podporováno mechanismus obvyklé typ převaděče zjišťování pomocí zapisujících.</span><span class="sxs-lookup"><span data-stu-id="d4713-129"><xref:System.DateTime> is not permitted to be attributed with an attribute that comes from another assembly that introduces a dependency (<xref:System.ComponentModel.TypeConverterAttribute> is from System); therefore, the usual type converter discovery mechanism by attributing cannot be supported.</span></span> <span data-ttu-id="d4713-130">Místo toho analyzátor XAML má seznam typů, které je třeba nativní zpracování a zpracování těchto typů podobná zpracování true primitiv.</span><span class="sxs-lookup"><span data-stu-id="d4713-130">Instead, the XAML parser has a list of types that need native processing, and it processes these types similar to how the true primitives are processed.</span></span> <span data-ttu-id="d4713-131">U <xref:System.DateTime>, zpracování zahrnuje volání <xref:System.DateTime.Parse%2A>.</span><span class="sxs-lookup"><span data-stu-id="d4713-131">In the case of <xref:System.DateTime>, this processing involves a call to <xref:System.DateTime.Parse%2A>.</span></span>  
  
<a name="Implementing_a_Type_Converter"></a>   
## <a name="implementing-a-type-converter"></a><span data-ttu-id="d4713-132">Implementace převaděče typů</span><span class="sxs-lookup"><span data-stu-id="d4713-132">Implementing a Type Converter</span></span>  
 <span data-ttu-id="d4713-133">Následující části popisují rozhraní API <xref:System.ComponentModel.TypeConverter> třídy.</span><span class="sxs-lookup"><span data-stu-id="d4713-133">The following sections discuss the API of the <xref:System.ComponentModel.TypeConverter> class.</span></span>  
  
### <a name="typeconverter"></a><span data-ttu-id="d4713-134">TypeConverter</span><span class="sxs-lookup"><span data-stu-id="d4713-134">TypeConverter</span></span>  
 <span data-ttu-id="d4713-135">V rozhraní .NET Framework XAML Services všechny převaděče typů, které se používají pro účely XAML jsou třídy, které jsou odvozeny od základní třídy <xref:System.ComponentModel.TypeConverter>.</span><span class="sxs-lookup"><span data-stu-id="d4713-135">Under .NET Framework XAML Services, all type converters that are used for XAML purposes are classes that derive from the base class <xref:System.ComponentModel.TypeConverter>.</span></span> <span data-ttu-id="d4713-136"><xref:System.ComponentModel.TypeConverter> Třída existovalo v verze rozhraní .NET Framework dříve, než XAML vznikla; jeden z původní <xref:System.ComponentModel.TypeConverter> scénáře bylo převod řetězce pro vlastnost editory v visual Designer.</span><span class="sxs-lookup"><span data-stu-id="d4713-136">The <xref:System.ComponentModel.TypeConverter> class existed in versions of the .NET Framework before XAML existed; one of the original <xref:System.ComponentModel.TypeConverter> scenarios was to provide string conversion for property editors in visual designers.</span></span>  
  
 <span data-ttu-id="d4713-137">Pro jazyk XAML, role <xref:System.ComponentModel.TypeConverter> je rozšířena.</span><span class="sxs-lookup"><span data-stu-id="d4713-137">For XAML, the role of <xref:System.ComponentModel.TypeConverter> is expanded.</span></span> <span data-ttu-id="d4713-138">Pro účely XAML <xref:System.ComponentModel.TypeConverter> je základní třídou pro zajištění podpory pro řetězec určité a převody z řetězce.</span><span class="sxs-lookup"><span data-stu-id="d4713-138">For XAML purposes, <xref:System.ComponentModel.TypeConverter> is the base class for providing support for certain to-string and from-string conversions.</span></span> <span data-ttu-id="d4713-139">Z řetězce umožňuje analýzu řetězcovou hodnotu atributu z XAML.</span><span class="sxs-lookup"><span data-stu-id="d4713-139">From-string enables parsing a string attribute value from XAML.</span></span> <span data-ttu-id="d4713-140">Na řetězce může povolit zpracování hodnota doby běhu vlastnosti konkrétního objektu zpět do atribut v jazyce XAML pro serializaci.</span><span class="sxs-lookup"><span data-stu-id="d4713-140">To-string might enable processing a run-time value of a particular object property back into an attribute in XAML for serialization.</span></span>  
  
 <span data-ttu-id="d4713-141"><xref:System.ComponentModel.TypeConverter>definuje čtyři členy, které jsou relevantní pro převod na řetězce a z řetězce pro účely zpracování XAML:</span><span class="sxs-lookup"><span data-stu-id="d4713-141"><xref:System.ComponentModel.TypeConverter> defines four members that are relevant for converting to-string and from-string for XAML processing purposes:</span></span>  
  
-   <xref:System.ComponentModel.TypeConverter.CanConvertTo%2A>  
  
-   <xref:System.ComponentModel.TypeConverter.CanConvertFrom%2A>  
  
-   <xref:System.ComponentModel.TypeConverter.ConvertTo%2A>  
  
-   <xref:System.ComponentModel.TypeConverter.ConvertFrom%2A>  
  
 <span data-ttu-id="d4713-142">Tyto členy, je nejdůležitější metoda <xref:System.ComponentModel.TypeConverter.ConvertFrom%2A>, která převede vstupní řetězec na typ požadovaný objekt.</span><span class="sxs-lookup"><span data-stu-id="d4713-142">Of these members, the most important method is <xref:System.ComponentModel.TypeConverter.ConvertFrom%2A>, which converts the input string to the required object type.</span></span> <span data-ttu-id="d4713-143"><xref:System.ComponentModel.TypeConverter.ConvertFrom%2A> Může být implementována metoda převést na typ určený cílový převaděč širší rozsah typy.</span><span class="sxs-lookup"><span data-stu-id="d4713-143">The <xref:System.ComponentModel.TypeConverter.ConvertFrom%2A> method can be implemented to convert a wider range of types into the intended destination type of the converter.</span></span> <span data-ttu-id="d4713-144">Proto může posloužit účely, které přesahují XAML, jako je podpora převody běhu.</span><span class="sxs-lookup"><span data-stu-id="d4713-144">Therefore, it can serve purposes that extend beyond XAML, such as supporting run-time conversions.</span></span> <span data-ttu-id="d4713-145">Ale pro použití XAML, pouze kódová cesta, která může zpracovat <xref:System.String> vstup je důležité.</span><span class="sxs-lookup"><span data-stu-id="d4713-145">However, for XAML use, only the code path that can process a <xref:System.String> input is important.</span></span>  
  
 <span data-ttu-id="d4713-146">Je druhý nejdůležitější metoda <xref:System.ComponentModel.TypeConverter.ConvertTo%2A>.</span><span class="sxs-lookup"><span data-stu-id="d4713-146">The second most important method is <xref:System.ComponentModel.TypeConverter.ConvertTo%2A>.</span></span> <span data-ttu-id="d4713-147">Pokud aplikace je převést na znázornění značek (například pokud je uloženo do jazyka XAML jako soubor), <xref:System.ComponentModel.TypeConverter.ConvertTo%2A> je součástí větší scénář produktů zapisovače textu XAML znázornění značek.</span><span class="sxs-lookup"><span data-stu-id="d4713-147">If an application is converted to a markup representation (for example, if it is saved to XAML as a file), <xref:System.ComponentModel.TypeConverter.ConvertTo%2A> is involved in the larger scenario of a XAML text writers produce a markup representation.</span></span> <span data-ttu-id="d4713-148">V takovém případě je důležité kódová cesta pro jazyk XAML tehdy, když volání `destinationType` z <xref:System.String>.</span><span class="sxs-lookup"><span data-stu-id="d4713-148">In this case, the important code path for XAML is when the caller passes a `destinationType` of <xref:System.String>.</span></span>  
  
 <span data-ttu-id="d4713-149"><xref:System.ComponentModel.TypeConverter.CanConvertTo%2A>a <xref:System.ComponentModel.TypeConverter.CanConvertFrom%2A> podporu metod, které se použijí při služby dotazuje možnosti <xref:System.ComponentModel.TypeConverter> implementace.</span><span class="sxs-lookup"><span data-stu-id="d4713-149"><xref:System.ComponentModel.TypeConverter.CanConvertTo%2A> and <xref:System.ComponentModel.TypeConverter.CanConvertFrom%2A> are support methods that are used when a service queries the capabilities of the <xref:System.ComponentModel.TypeConverter> implementation.</span></span> <span data-ttu-id="d4713-150">Je nutné implementovat tyto metody vrátit `true` pro konkrétní typ případů, které podporují převod ekvivalentní metody vaší převaděč.</span><span class="sxs-lookup"><span data-stu-id="d4713-150">You must implement these methods to return `true` for type-specific cases that the equivalent conversion methods of your converter support.</span></span> <span data-ttu-id="d4713-151">Pro účely XAML to obvykle znamená <xref:System.String> typu.</span><span class="sxs-lookup"><span data-stu-id="d4713-151">For XAML purposes, this generally means the <xref:System.String> type.</span></span>  
  
### <a name="culture-information-and-type-converters-for-xaml"></a><span data-ttu-id="d4713-152">Informace o jazykové verzi, převaděčů typů pro jazyk XAML</span><span class="sxs-lookup"><span data-stu-id="d4713-152">Culture Information and Type Converters for XAML</span></span>  
 <span data-ttu-id="d4713-153">Každý <xref:System.ComponentModel.TypeConverter> implementace jednoznačně dokáže interpretovat, co je platný řetězec pro převod a můžete také použít nebo ignorovat popis typu, který je předán jako parametry.</span><span class="sxs-lookup"><span data-stu-id="d4713-153">Each <xref:System.ComponentModel.TypeConverter> implementation can uniquely interpret what is a valid string for a conversion, and it can also use or ignore the type description that is passed as parameters.</span></span> <span data-ttu-id="d4713-154">Důležitá poznámka pro jazykovou verzi a XAML typ – převod je následující: i když pomocí možnosti lokalizace řetězce jako hodnoty atributů je podporovaná XAML, tyto možnosti lokalizace řetězce nelze použít jako vstup převaděče typu s požadavky na konkrétní jazykové verze.</span><span class="sxs-lookup"><span data-stu-id="d4713-154">An important consideration for culture and XAML type conversion is the following: although using localizable strings as attribute values is supported by XAML, you cannot use these localizable strings as type converter input with specific culture requirements.</span></span> <span data-ttu-id="d4713-155">Toto omezení je totiž převaděčů typů pro hodnoty atributu XAML chování nutně pevné jazyka XAML zpracování, které používá `en-US` jazykovou verzi.</span><span class="sxs-lookup"><span data-stu-id="d4713-155">This limitation is because type converters for XAML attribute values involve a necessarily fixed-language XAML-processing behavior that uses `en-US` culture.</span></span> <span data-ttu-id="d4713-156">Další informace o návrhu důvody pro toto omezení, najdete v části specifikace jazyka XAML ([\[MS-XAML\]](http://go.microsoft.com/fwlink/?LinkId=114525)) nebo [WPF globalizace a lokalizace přehled](../../../docs/framework/wpf/advanced/wpf-globalization-and-localization-overview.md).</span><span class="sxs-lookup"><span data-stu-id="d4713-156">For more information about the design reasons for this restriction, see the XAML language specification ([\[MS-XAML\]](http://go.microsoft.com/fwlink/?LinkId=114525)) or [WPF Globalization and Localization Overview](../../../docs/framework/wpf/advanced/wpf-globalization-and-localization-overview.md).</span></span>  
  
 <span data-ttu-id="d4713-157">Jako příklad, kdy jazykovou verzi může být problém některé jazykové verze použít čárku místo období jako oddělovač desetinných čísel ve formátu řetězce.</span><span class="sxs-lookup"><span data-stu-id="d4713-157">As an example where culture can be an issue, some cultures use a comma instead of a period as the decimal point delimiter for numbers in string form.</span></span> <span data-ttu-id="d4713-158">Toto použití koliduje se chování, které mají mnoho existující převaděče typů, který má používat jako oddělovač čárkou.</span><span class="sxs-lookup"><span data-stu-id="d4713-158">This use collides with the behavior that many existing type converters have, which is to use a comma as a delimiter.</span></span> <span data-ttu-id="d4713-159">Předávání jazykové verze prostřednictvím `xml:lang` v okolního XAML nebyl vyřešen problém.</span><span class="sxs-lookup"><span data-stu-id="d4713-159">Passing a culture through `xml:lang` in the surrounding XAML does not solve the issue.</span></span>  
  
### <a name="implementing-convertfrom"></a><span data-ttu-id="d4713-160">Implementace ConvertFrom</span><span class="sxs-lookup"><span data-stu-id="d4713-160">Implementing ConvertFrom</span></span>  
 <span data-ttu-id="d4713-161">Možné používat jako <xref:System.ComponentModel.TypeConverter> implementace, která podporuje XAML, <xref:System.ComponentModel.TypeConverter.ConvertFrom%2A> metodu pro tento převaděč musí přijmout řetězec jako `value` parametr.</span><span class="sxs-lookup"><span data-stu-id="d4713-161">To be usable as a <xref:System.ComponentModel.TypeConverter> implementation that supports XAML, the <xref:System.ComponentModel.TypeConverter.ConvertFrom%2A> method for that converter must accept a string as the `value` parameter.</span></span> <span data-ttu-id="d4713-162">Pokud řetězec v platném formátu a mohou být pomocí převedeny <xref:System.ComponentModel.TypeConverter> implementace vráceného objektu musí podporovat přetypování na typ, který je očekávaný vlastností.</span><span class="sxs-lookup"><span data-stu-id="d4713-162">If the string is in a valid format and can be converted by the <xref:System.ComponentModel.TypeConverter> implementation, the returned object must support a cast to the type that is expected by the property.</span></span> <span data-ttu-id="d4713-163">Jinak <xref:System.ComponentModel.TypeConverter.ConvertFrom%2A> musí vracet implementace `null`.</span><span class="sxs-lookup"><span data-stu-id="d4713-163">Otherwise, the <xref:System.ComponentModel.TypeConverter.ConvertFrom%2A> implementation must return `null`.</span></span>  
  
 <span data-ttu-id="d4713-164">Každý <xref:System.ComponentModel.TypeConverter> implementace jednoznačně dokáže interpretovat, co se považuje za platný řetězec pro převod a můžete také použít nebo ignorovat typ kontexty popis nebo jazykové verze, které se předávají jako parametry.</span><span class="sxs-lookup"><span data-stu-id="d4713-164">Each <xref:System.ComponentModel.TypeConverter> implementation can uniquely interpret what constitutes a valid string for a conversion, and it can also use or ignore the type description or culture contexts that are passed as parameters.</span></span> <span data-ttu-id="d4713-165">Ale XAML WPF zpracování nemusí předat hodnoty do kontextu popis typu ve všech případech a nemusí předat také jazykovou verzi na základě `xml:lang`.</span><span class="sxs-lookup"><span data-stu-id="d4713-165">However, the WPF XAML processing might not pass values to the type description context in all cases and also might not pass culture based on `xml:lang`.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="d4713-166">Nepoužívejte složené závorky ({}), konkrétně levá složená závorka ({}), jako element vaší formát řetězce.</span><span class="sxs-lookup"><span data-stu-id="d4713-166">Do not use the braces ({}), specifically the opening brace ({), as an element of your string format.</span></span> <span data-ttu-id="d4713-167">Tyto znaky jsou vyhrazené jako vstup a výstup pro rozšíření pořadí značek.</span><span class="sxs-lookup"><span data-stu-id="d4713-167">These characters are reserved as the entry and exit for a markup extension sequence.</span></span>  
  
 <span data-ttu-id="d4713-168">Je třeba způsobí výjimku, pokud vaše převaděče typů musí mít přístup k XAML služby z objektu zapisovač rozhraní .NET Framework XAML Services, ale <xref:System.IServiceProvider.GetService%2A> volání, které se provádí před kontextu nevrací dané služby.</span><span class="sxs-lookup"><span data-stu-id="d4713-168">It is appropriate to throw an exception when your type converter must have access to a XAML service from the .NET Framework XAML Services object writer, but the <xref:System.IServiceProvider.GetService%2A> call that is made against the context does not return that service.</span></span>  
  
### <a name="implementing-convertto"></a><span data-ttu-id="d4713-169">Implementace ConvertTo</span><span class="sxs-lookup"><span data-stu-id="d4713-169">Implementing ConvertTo</span></span>  
 <span data-ttu-id="d4713-170"><xref:System.ComponentModel.TypeConverter.ConvertTo%2A>potenciálně se používá pro podporu serializace.</span><span class="sxs-lookup"><span data-stu-id="d4713-170"><xref:System.ComponentModel.TypeConverter.ConvertTo%2A> is potentially used for serialization support.</span></span> <span data-ttu-id="d4713-171">Podpora serializace prostřednictvím <xref:System.ComponentModel.TypeConverter.ConvertTo%2A> pro vlastní typ a jeho typ není převaděč absolutní požadavek.</span><span class="sxs-lookup"><span data-stu-id="d4713-171">Serialization support through <xref:System.ComponentModel.TypeConverter.ConvertTo%2A> for your custom type and its type converter is not an absolute requirement.</span></span> <span data-ttu-id="d4713-172">Ale pokud jsou implementaci ovládacího prvku, nebo pomocí serializace jako součást funkce nebo návrh vaší třídy, měli byste implementovat <xref:System.ComponentModel.TypeConverter.ConvertTo%2A>.</span><span class="sxs-lookup"><span data-stu-id="d4713-172">However, if you are implementing a control, or using serialization of as part of the features or design of your class, you should implement <xref:System.ComponentModel.TypeConverter.ConvertTo%2A>.</span></span>  
  
 <span data-ttu-id="d4713-173">Možné používat jako <xref:System.ComponentModel.TypeConverter> implementace, která podporuje XAML, <xref:System.ComponentModel.TypeConverter.ConvertTo%2A> metodu pro tento převaděč musí přijmout instanci typu (nebo hodnotu), který je podporovaný jako `value` parametr.</span><span class="sxs-lookup"><span data-stu-id="d4713-173">To be usable as a <xref:System.ComponentModel.TypeConverter> implementation that supports XAML, the <xref:System.ComponentModel.TypeConverter.ConvertTo%2A> method for that converter must accept an instance of the type (or a value) that is supported as the `value` parameter.</span></span> <span data-ttu-id="d4713-174">Když `destinationType` parametr je typu <xref:System.String>, vráceného objektu musí být schopen převést jako <xref:System.String>.</span><span class="sxs-lookup"><span data-stu-id="d4713-174">When the `destinationType` parameter is of type <xref:System.String>, the returned object must be able to be cast as <xref:System.String>.</span></span> <span data-ttu-id="d4713-175">Vrácený řetězec musí představovat serializovaná hodnota `value`.</span><span class="sxs-lookup"><span data-stu-id="d4713-175">The returned string must represent a serialized value of `value`.</span></span> <span data-ttu-id="d4713-176">V ideálním případě by mohli vygenerovat stejnou hodnotu jako v případě, že bylo předáno tento řetězec formátu serializace, který zvolíte, <xref:System.ComponentModel.TypeConverter.ConvertFrom%2A> implementace stejné převaděč bez významné ztrátě informací.</span><span class="sxs-lookup"><span data-stu-id="d4713-176">Ideally, the serialization format that you choose should be able to generate the same value as if that string were passed to the <xref:System.ComponentModel.TypeConverter.ConvertFrom%2A> implementation of the same converter, without significant loss of information.</span></span>  
  
 <span data-ttu-id="d4713-177">Pokud hodnota nemůže být serializován nebo převaděč nepodporuje serializaci, <xref:System.ComponentModel.TypeConverter.ConvertTo%2A> musí vracet implementace `null` a může vyvolat výjimku.</span><span class="sxs-lookup"><span data-stu-id="d4713-177">If the value cannot be serialized or the converter does not support serialization, the <xref:System.ComponentModel.TypeConverter.ConvertTo%2A> implementation must return `null` and can throw an exception.</span></span> <span data-ttu-id="d4713-178">Ale pokud generování výjimek, byste měli hlásit nemožnost použít tento převod jako součást vaší <xref:System.ComponentModel.TypeConverter.CanConvertTo%2A> implementace tak, aby osvědčený postup, kontrola s <xref:System.ComponentModel.TypeConverter.CanConvertTo%2A> nejprve vyhnout výjimky se podporuje.</span><span class="sxs-lookup"><span data-stu-id="d4713-178">However, if you do throw exceptions, you should report the inability to use that conversion as part of your <xref:System.ComponentModel.TypeConverter.CanConvertTo%2A> implementation so that the best practice of checking with <xref:System.ComponentModel.TypeConverter.CanConvertTo%2A> first to avoid exceptions is supported.</span></span>  
  
 <span data-ttu-id="d4713-179">Pokud `destinationType` parametr není typu <xref:System.String>, můžete zvolit vlastní převaděč zpracování.</span><span class="sxs-lookup"><span data-stu-id="d4713-179">If the `destinationType` parameter is not of type <xref:System.String>, you can choose your own converter handling.</span></span> <span data-ttu-id="d4713-180">Obvykle můžete vrátit do základní implementaci zpracování, které v základní <xref:System.ComponentModel.TypeConverter.ConvertTo%2A> vyvolá určité výjimky.</span><span class="sxs-lookup"><span data-stu-id="d4713-180">Typically, you revert to base implementation handling, which in the base <xref:System.ComponentModel.TypeConverter.ConvertTo%2A> raises a specific exception.</span></span>  
  
 <span data-ttu-id="d4713-181">Je třeba způsobí výjimku, pokud vaše převaděče typů musí mít přístup k XAML služby z objektu zapisovač rozhraní .NET Framework XAML Services, ale <xref:System.IServiceProvider.GetService%2A> volání, které se provádí před kontextu nevrací dané služby.</span><span class="sxs-lookup"><span data-stu-id="d4713-181">It is appropriate to throw an exception when your type converter must have access to a XAML service from the .NET Framework XAML Services object writer, but the <xref:System.IServiceProvider.GetService%2A> call that is made against the context does not return that service.</span></span>  
  
### <a name="implementing-canconvertfrom"></a><span data-ttu-id="d4713-182">Implementace CanConvertFrom</span><span class="sxs-lookup"><span data-stu-id="d4713-182">Implementing CanConvertFrom</span></span>  
 <span data-ttu-id="d4713-183">Vaše <xref:System.ComponentModel.TypeConverter.CanConvertFrom%2A> by měla vrátit implementace `true` pro `sourceType` typu <xref:System.String> a, jinak hodnota odložení základní implementaci.</span><span class="sxs-lookup"><span data-stu-id="d4713-183">Your <xref:System.ComponentModel.TypeConverter.CanConvertFrom%2A> implementation should return `true` for `sourceType` of type <xref:System.String> and otherwise, defer to the base implementation.</span></span> <span data-ttu-id="d4713-184">Nevyvolá výjimku výjimky z <xref:System.ComponentModel.TypeConverter.CanConvertFrom%2A>.</span><span class="sxs-lookup"><span data-stu-id="d4713-184">Do not throw exceptions from <xref:System.ComponentModel.TypeConverter.CanConvertFrom%2A>.</span></span>  
  
### <a name="implementing-canconvertto"></a><span data-ttu-id="d4713-185">Implementace CanConvertTo</span><span class="sxs-lookup"><span data-stu-id="d4713-185">Implementing CanConvertTo</span></span>  
 <span data-ttu-id="d4713-186">Vaše <xref:System.ComponentModel.TypeConverter.CanConvertTo%2A> by měla vrátit implementace `true` pro `destinationType` typu <xref:System.String>a jinak odložení základní implementaci.</span><span class="sxs-lookup"><span data-stu-id="d4713-186">Your <xref:System.ComponentModel.TypeConverter.CanConvertTo%2A> implementation should return `true` for `destinationType` of type <xref:System.String>, and otherwise defer to the base implementation.</span></span> <span data-ttu-id="d4713-187">Nevyvolá výjimku výjimky z <xref:System.ComponentModel.TypeConverter.CanConvertTo%2A>.</span><span class="sxs-lookup"><span data-stu-id="d4713-187">Do not throw exceptions from <xref:System.ComponentModel.TypeConverter.CanConvertTo%2A>.</span></span>  
  
<a name="Applying_the_TypeConverterAttribute"></a>   
## <a name="applying-the-typeconverterattribute"></a><span data-ttu-id="d4713-188">Použití TypeConverterAttribute</span><span class="sxs-lookup"><span data-stu-id="d4713-188">Applying the TypeConverterAttribute</span></span>  
 <span data-ttu-id="d4713-189">Pro vaše vlastní typ převaděče má být použit jako funguje převaděč typů pro třídu vlastní pomocí rozhraní .NET Framework XAML Services, musíte použít [!INCLUDE[TLA#tla_netframewkattr](../../../includes/tlasharptla-netframewkattr-md.md)] <xref:System.ComponentModel.TypeConverterAttribute> vaše definici třídy.</span><span class="sxs-lookup"><span data-stu-id="d4713-189">For your custom type converter to be used as the acting type converter for a custom class by .NET Framework XAML Services, you must apply the [!INCLUDE[TLA#tla_netframewkattr](../../../includes/tlasharptla-netframewkattr-md.md)] <xref:System.ComponentModel.TypeConverterAttribute> to your class definition.</span></span> <span data-ttu-id="d4713-190"><xref:System.ComponentModel.TypeConverterAttribute.ConverterTypeName%2A> Zadáte prostřednictvím atributu musí být název typu vaše vlastní typ převaděče.</span><span class="sxs-lookup"><span data-stu-id="d4713-190">The <xref:System.ComponentModel.TypeConverterAttribute.ConverterTypeName%2A> that you specify through the attribute must be the type name of your custom type converter.</span></span> <span data-ttu-id="d4713-191">Pokud použijete tento atribut při XAML procesor zpracovává hodnoty, kde typ vlastnosti používá typ vaše vlastní třídy, může se vstup řetězce a vrátí instance objektů.</span><span class="sxs-lookup"><span data-stu-id="d4713-191">If you apply this attribute, when a XAML processor handles values where the property type uses your custom class type, it can input strings and return object instances.</span></span>  
  
 <span data-ttu-id="d4713-192">Převaděče typů můžete zadat taky na jednotlivých vlastností.</span><span class="sxs-lookup"><span data-stu-id="d4713-192">You can also provide a type converter on a per-property basis.</span></span> <span data-ttu-id="d4713-193">Místo použití [!INCLUDE[TLA#tla_netframewkattr](../../../includes/tlasharptla-netframewkattr-md.md)] <xref:System.ComponentModel.TypeConverterAttribute> v definici třídy použijte ho pro definici vlastnosti (hlavní definice není `get` / `set` implementace v něm).</span><span class="sxs-lookup"><span data-stu-id="d4713-193">Instead of applying a [!INCLUDE[TLA#tla_netframewkattr](../../../includes/tlasharptla-netframewkattr-md.md)] <xref:System.ComponentModel.TypeConverterAttribute> to the class definition, apply it to a property definition (the main definition, not the `get`/`set` implementations within it).</span></span> <span data-ttu-id="d4713-194">Typ vlastnosti musí odpovídat typ, který zpracovává vaše vlastní typ převaděče.</span><span class="sxs-lookup"><span data-stu-id="d4713-194">The type of the property must match the type that is processed by your custom type converter.</span></span> <span data-ttu-id="d4713-195">K tomuto atributu se použije když XAML procesor zpracovává hodnoty této vlastnosti, může zpracovat vstupní řetězce a vrátí instance objektů.</span><span class="sxs-lookup"><span data-stu-id="d4713-195">With this attribute applied, when a XAML processor handles values of that property, it can process input strings and return object instances.</span></span> <span data-ttu-id="d4713-196">Postup pro vlastnosti typu převaděč je zvláště užitečné, pokud chcete použít typ vlastnosti z [!INCLUDE[TLA#tla_netframewk](../../../includes/tlasharptla-netframewk-md.md)] nebo z některé jiné knihovny, kde nemůže ovládat definice třídy a nelze použít <xref:System.ComponentModel.TypeConverterAttribute> existuje.</span><span class="sxs-lookup"><span data-stu-id="d4713-196">The per-property type converter technique is particularly useful if you choose to use a property type from [!INCLUDE[TLA#tla_netframewk](../../../includes/tlasharptla-netframewk-md.md)] or from some other library where you cannot control the class definition and cannot apply a <xref:System.ComponentModel.TypeConverterAttribute> there.</span></span>  
  
 <span data-ttu-id="d4713-197">Chcete-li zadat typ převodu chování vlastní připojené člena, použít <xref:System.ComponentModel.TypeConverterAttribute> k `Get` metoda přistupujícího objektu implementace vzoru pro připojené člena.</span><span class="sxs-lookup"><span data-stu-id="d4713-197">To supply a type conversion behavior for a custom attached member, apply <xref:System.ComponentModel.TypeConverterAttribute> to the `Get` accessor method of the implementation pattern for the attached member.</span></span>  
  
<a name="accessing_service_provider_context_from_a_markup_extension_implementation"></a>   
## <a name="accessing-service-provider-context-from-a-markup-extension-implementation"></a><span data-ttu-id="d4713-198">Přístup k kontext zprostředkovatele služby z implementaci rozšíření značek</span><span class="sxs-lookup"><span data-stu-id="d4713-198">Accessing Service Provider Context from a Markup Extension Implementation</span></span>  
 <span data-ttu-id="d4713-199">Služby k dispozici jsou stejné pro všechny převaděč hodnoty.</span><span class="sxs-lookup"><span data-stu-id="d4713-199">The available services are the same for any value converter.</span></span> <span data-ttu-id="d4713-200">Rozdíl spočívá v tom, jak každý převaděč hodnoty obdrží kontext služby.</span><span class="sxs-lookup"><span data-stu-id="d4713-200">The difference is in how each value converter receives the service context.</span></span> <span data-ttu-id="d4713-201">Přístup k službám a službami, které jsou k dispozici jsou popsané v tématu [převaděče typů a rozšíření značek pro jazyk XAML](../../../docs/framework/xaml-services/type-converters-and-markup-extensions-for-xaml.md).</span><span class="sxs-lookup"><span data-stu-id="d4713-201">Accessing services and the services available are documented in the topic [Type Converters and Markup Extensions for XAML](../../../docs/framework/xaml-services/type-converters-and-markup-extensions-for-xaml.md).</span></span>  
  
<a name="type_converters_in_the_xaml_node_stream"></a>   
## <a name="type-converters-in-the-xaml-node-stream"></a><span data-ttu-id="d4713-202">Převaděče typů v datový proud uzlu XAML</span><span class="sxs-lookup"><span data-stu-id="d4713-202">Type Converters in the XAML Node Stream</span></span>  
 <span data-ttu-id="d4713-203">Pokud pracujete s datový proud uzlu XAML, není ještě spuštěna akce nebo konečný výsledek převaděče typů.</span><span class="sxs-lookup"><span data-stu-id="d4713-203">If you are working with a XAML node stream, the action or end result of a type converter is not yet executed.</span></span> <span data-ttu-id="d4713-204">V cestě zatížení zůstává řetězec atributu, který nakonec musí být typ převést, aby bylo možné načíst jako textovou hodnotu v rámci člen start a end – člen.</span><span class="sxs-lookup"><span data-stu-id="d4713-204">In a load path, the attribute string that eventually needs to be type-converted in order to load remains as a text value within a start member and end member.</span></span> <span data-ttu-id="d4713-205">Nakonec potřebné pro tuto operaci se dá určit pomocí převaděče typu <xref:System.Xaml.XamlMember.TypeConverter%2A?displayProperty=nameWithType> vlastnost.</span><span class="sxs-lookup"><span data-stu-id="d4713-205">The type converter that is eventually needed for this operation can be determined by using the <xref:System.Xaml.XamlMember.TypeConverter%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="d4713-206">Však získat platnou hodnotu z <xref:System.Xaml.XamlMember.TypeConverter%2A?displayProperty=nameWithType> spoléhá na nutnosti kontext schématu XAML, který má přístup k takové informace prostřednictvím základní člen nebo typ hodnota objektu, který používá člena.</span><span class="sxs-lookup"><span data-stu-id="d4713-206">However, obtaining a valid value from <xref:System.Xaml.XamlMember.TypeConverter%2A?displayProperty=nameWithType> relies on having a XAML schema context, which can access such information through the underlying member, or the type of the object value that the member uses.</span></span> <span data-ttu-id="d4713-207">Vyvolání chování převodu typu také vyžaduje kontext schématu XAML, protože typ mapování, která vyžaduje a vytvoření instance převaděče.</span><span class="sxs-lookup"><span data-stu-id="d4713-207">Invoking the type conversion behavior also requires the XAML schema context because that requires type-mapping and creating a converter instance.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="d4713-208">Viz také</span><span class="sxs-lookup"><span data-stu-id="d4713-208">See Also</span></span>  
 <xref:System.ComponentModel.TypeConverterAttribute>  
 [<span data-ttu-id="d4713-209">Převaděče typů a rozšíření značek pro jazyk XAML</span><span class="sxs-lookup"><span data-stu-id="d4713-209">Type Converters and Markup Extensions for XAML</span></span>](../../../docs/framework/xaml-services/type-converters-and-markup-extensions-for-xaml.md)  
 [<span data-ttu-id="d4713-210">Přehled XAML (WPF)</span><span class="sxs-lookup"><span data-stu-id="d4713-210">XAML Overview (WPF)</span></span>](../../../docs/framework/wpf/advanced/xaml-overview-wpf.md)
