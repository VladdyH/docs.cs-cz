---
title: "Přehled nastavení aplikace"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-winforms
ms.tgt_pltfrm: 
ms.topic: article
f1_keywords: ApplicationsSettingsOverview
helpviewer_keywords:
- application settings [Windows Forms], about application settings
- dynamic properties
- user preferences [Windows Forms], tracking
ms.assetid: 0dd8bca5-a6bf-4ac4-8eec-5725d08b38dc
caps.latest.revision: "24"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.openlocfilehash: d617ce5b4e7222b60ce711e2e081e0bf3cb8065d
ms.sourcegitcommit: 4f3fef493080a43e70e951223894768d36ce430a
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 11/21/2017
---
# <a name="application-settings-overview"></a><span data-ttu-id="c7849-102">Přehled nastavení aplikace</span><span class="sxs-lookup"><span data-stu-id="c7849-102">Application Settings Overview</span></span>
<span data-ttu-id="c7849-103">Toto téma popisuje postup vytvoření a uložení dat nastavení jménem vaší aplikace a uživatele.</span><span class="sxs-lookup"><span data-stu-id="c7849-103">This topic discusses how to create and store settings data on behalf of your application and your users.</span></span>  
  
 <span data-ttu-id="c7849-104">Funkce nastavení aplikace Windows Forms umožňuje snadno vytvářet, ukládat a spravovat vlastní aplikaci a uživatelské předvolby v klientském počítači.</span><span class="sxs-lookup"><span data-stu-id="c7849-104">The Application Settings feature of Windows Forms makes it easy to create, store, and maintain custom application and user preferences on the client computer.</span></span> <span data-ttu-id="c7849-105">Pomocí nastavení aplikace Windows Forms můžete uložit pouze data aplikací, jako je například databázové připojovací řetězce, ale také uživatelská data, jako třeba uživatelské předvolby aplikace.</span><span class="sxs-lookup"><span data-stu-id="c7849-105">With Windows Forms application settings, you can store not only application data such as database connection strings, but also user-specific data, such as user application preferences.</span></span> <span data-ttu-id="c7849-106">Pomocí sady Visual Studio nebo vlastní spravovaného kódu, můžete vytvořit nové nastavení, přečtěte si je z a zapíše je na disk, je svázat s vlastnostmi svých formulářů a ověřit nastavení data před načítání a ukládání.</span><span class="sxs-lookup"><span data-stu-id="c7849-106">Using Visual Studio or custom managed code, you can create new settings, read them from and write them to disk, bind them to properties on your forms, and validate settings data prior to loading and saving.</span></span>  
  
 <span data-ttu-id="c7849-107">Nastavení aplikace umožňuje vývojářům uložit stav ve svých aplikacích pomocí velmi malé vlastního kódu a je to náhrada za dynamické vlastnosti v předchozích verzích [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)].</span><span class="sxs-lookup"><span data-stu-id="c7849-107">Application settings enables developers to save state in their application using very little custom code, and is a replacement for dynamic properties in previous versions of the [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)].</span></span> <span data-ttu-id="c7849-108">Nastavení aplikace obsahuje mnoho vylepšení přes dynamické vlastnosti, které jsou jen pro čtení, pozdní vazbou a vyžadovat další vlastní programování.</span><span class="sxs-lookup"><span data-stu-id="c7849-108">Application settings contains many improvements over dynamic properties, which are read-only, late-bound, and require more custom programming.</span></span> <span data-ttu-id="c7849-109">Dynamických vlastností třídy byly ponechány v [!INCLUDE[dnprdnext](../../../../includes/dnprdnext-md.md)], ale jsou právě prostředí třídy, které dynamicky balí třídy nastavení aplikace.</span><span class="sxs-lookup"><span data-stu-id="c7849-109">The dynamic property classes have been retained in [!INCLUDE[dnprdnext](../../../../includes/dnprdnext-md.md)], but they are just shell classes that thinly wrap the application settings classes.</span></span>  
  
## <a name="what-are-application-settings"></a><span data-ttu-id="c7849-110">Co jsou nastavení aplikace?</span><span class="sxs-lookup"><span data-stu-id="c7849-110">What Are Application Settings?</span></span>  
 <span data-ttu-id="c7849-111">Aplikace Windows Forms často vyžadují data, která jsou kritická pro spuštění aplikace, ale které nechcete zahrnout přímo v kódu aplikace.</span><span class="sxs-lookup"><span data-stu-id="c7849-111">Your Windows Forms applications will often require data that is critical to running the application, but which you do not want to include directly in the application's code.</span></span> <span data-ttu-id="c7849-112">Pokud vaše aplikace používá webová služba nebo databázový server, můžete tyto informace ukládaly do samostatného souboru, abyste ho v budoucnu změnit bez znovu kompilace.</span><span class="sxs-lookup"><span data-stu-id="c7849-112">If your application uses a Web Service or a database server, you may want to store this information in a separate file, so that you can change it in the future without re-compiling.</span></span> <span data-ttu-id="c7849-113">Podobně vaše aplikace může vyžadovat ukládání dat, která je specifická pro aktuálního uživatele.</span><span class="sxs-lookup"><span data-stu-id="c7849-113">Similarly, your applications may require storing data that is specific to the current user.</span></span> <span data-ttu-id="c7849-114">Většina aplikací mít například uživatelských předvoleb, které přizpůsobit vzhled a chování aplikace.</span><span class="sxs-lookup"><span data-stu-id="c7849-114">Most applications, for example, have user preferences that customize the application's appearance and behavior.</span></span>  
  
 <span data-ttu-id="c7849-115">Nastavení adresy aplikace oba musí tím, že poskytuje snadný způsob, jak uložit nastavení jak obor aplikace a nastavení uživatele v klientském počítači.</span><span class="sxs-lookup"><span data-stu-id="c7849-115">Application settings addresses both needs by providing an easy way to store both application-scoped and user-scoped settings on the client computer.</span></span> <span data-ttu-id="c7849-116">Pomocí sady Visual Studio nebo editoru kódu, definovat nastavení pro danou vlastnost zadáním jeho název, datový typ a oboru (aplikaci nebo uživatele).</span><span class="sxs-lookup"><span data-stu-id="c7849-116">Using Visual Studio or a code editor, you define a setting for a given property by specifying its name, data type, and scope (application or user).</span></span> <span data-ttu-id="c7849-117">Dokonce můžete umístit související nastavení do skupiny s názvem pro snadnější použití a čitelnost.</span><span class="sxs-lookup"><span data-stu-id="c7849-117">You can even place related settings into named groups for easier use and readability.</span></span> <span data-ttu-id="c7849-118">Jakmile definovány, tato nastavení jsou nastavené jako trvalé a automaticky načíst zpět do paměti v době běhu.</span><span class="sxs-lookup"><span data-stu-id="c7849-118">Once defined, these settings are persisted and read back into memory automatically at run time.</span></span> <span data-ttu-id="c7849-119">Modulární architektura umožňuje mechanismus trvalosti změnit, ale ve výchozím nastavení, je použít místního systému souborů.</span><span class="sxs-lookup"><span data-stu-id="c7849-119">A pluggable architecture enables the persistence mechanism to be changed, but by default, the local file system is used.</span></span>  
  
 <span data-ttu-id="c7849-120">Nastavení aplikace funguje tak, že zachování dat ve formátu XML na jiném konfiguračním (config) souborů, odpovídající jestli nastavení je obor aplikace nebo nastavení uživatele.</span><span class="sxs-lookup"><span data-stu-id="c7849-120">Application settings works by persisting data as XML to different configuration (.config) files, corresponding to whether the setting is application-scoped or user-scoped.</span></span> <span data-ttu-id="c7849-121">Ve většině případů nastavení rozsahu aplikace jsou jen pro čtení; protože jsou informace o programu, obvykle nemusíte je přepsat.</span><span class="sxs-lookup"><span data-stu-id="c7849-121">In most cases, the application-scoped settings are read-only; because they are program information, you will typically not need to overwrite them.</span></span> <span data-ttu-id="c7849-122">Naopak nastavení rozsahu uživatele můžete číst a zapisovat bezpečně za běhu, i v případě, že vaše aplikace běží v částečné důvěryhodnosti.</span><span class="sxs-lookup"><span data-stu-id="c7849-122">By contrast, user-scoped settings can be read and written safely at run time, even if your application runs under partial trust.</span></span> <span data-ttu-id="c7849-123">Další informace o částečné důvěryhodnosti najdete v tématu [zabezpečení ve Windows Forms přehled](../../../../docs/framework/winforms/security-in-windows-forms-overview.md).</span><span class="sxs-lookup"><span data-stu-id="c7849-123">For more information about partial trust, see [Security in Windows Forms Overview](../../../../docs/framework/winforms/security-in-windows-forms-overview.md).</span></span>  
  
 <span data-ttu-id="c7849-124">Nastavení se ukládají jako fragmenty XML v konfiguračních souborech.</span><span class="sxs-lookup"><span data-stu-id="c7849-124">Settings are stored as XML fragments in configuration files.</span></span> <span data-ttu-id="c7849-125">Nastavení rozsahu aplikace jsou reprezentované pomocí `<application.Settings>` elementu a obecně jsou umístěny v *aplikace*. exe.config, kde *aplikace* je název hlavního spustitelného souboru.</span><span class="sxs-lookup"><span data-stu-id="c7849-125">Application-scoped settings are represented by the `<application.Settings>` element, and generally are placed in *app*.exe.config, where *app* is the name of your main executable file.</span></span> <span data-ttu-id="c7849-126">Nastavení rozsahu uživatele jsou reprezentované pomocí `<userSettings>` elementu a jsou umístěny v *uživatele*.config, kde *uživatele* je uživatelské jméno osoby, které jsou aktuálně spuštěna aplikace.</span><span class="sxs-lookup"><span data-stu-id="c7849-126">User-scoped settings are represented by the `<userSettings>` element and are placed in *user*.config, where *user* is the user name of the person currently running the application.</span></span> <span data-ttu-id="c7849-127">Je nutné nasadit *aplikace*. exe.config souboru s vaší aplikací; nastavení architektura vytvoří *uživatele*soubory .config na vyžádání první času aplikace uloží nastavení pro tohoto uživatele.</span><span class="sxs-lookup"><span data-stu-id="c7849-127">You must deploy the *app*.exe.config file with your application; the settings architecture will create the *user*.config files on demand the first time the application saves settings for that user.</span></span> <span data-ttu-id="c7849-128">Můžete také definovat `<userSettings>` blokovat v rámci *aplikace*. exe.config zadat výchozí hodnoty pro nastavení rozsahu uživatele.</span><span class="sxs-lookup"><span data-stu-id="c7849-128">You can also define a `<userSettings>` block within *app*.exe.config to provide default values for user-scoped settings.</span></span>  
  
 <span data-ttu-id="c7849-129">Vlastní ovládací prvky můžete také uložit vlastní nastavení implementací <xref:System.Configuration.IPersistComponentSettings> rozhraní, které zpřístupňuje <xref:System.Configuration.IPersistComponentSettings.SaveSettings%2A> metoda.</span><span class="sxs-lookup"><span data-stu-id="c7849-129">Custom controls can also save their own settings by implementing the <xref:System.Configuration.IPersistComponentSettings> interface, which exposes the <xref:System.Configuration.IPersistComponentSettings.SaveSettings%2A> method.</span></span> <span data-ttu-id="c7849-130">Windows Forms <xref:System.Windows.Forms.ToolStrip> ovládací prvek implementuje toto rozhraní Uložit pozici panelů nástrojů a položek panelu nástrojů mezi relacemi aplikace.</span><span class="sxs-lookup"><span data-stu-id="c7849-130">The Windows Forms <xref:System.Windows.Forms.ToolStrip> control implements this interface to save the position of toolbars and toolbar items between application sessions.</span></span> <span data-ttu-id="c7849-131">Další informace o vlastní ovládací prvky a nastavení aplikací, najdete v tématu [nastavení aplikace pro vlastní ovládací prvky](../../../../docs/framework/winforms/advanced/application-settings-for-custom-controls.md).</span><span class="sxs-lookup"><span data-stu-id="c7849-131">For more information about custom controls and application settings, see [Application Settings for Custom Controls](../../../../docs/framework/winforms/advanced/application-settings-for-custom-controls.md).</span></span>  
  
## <a name="limitations-of-application-settings"></a><span data-ttu-id="c7849-132">Omezení nastavení aplikace</span><span class="sxs-lookup"><span data-stu-id="c7849-132">Limitations of Application Settings</span></span>  
 <span data-ttu-id="c7849-133">Nastavení aplikace nelze použít v nespravované aplikaci, která hostuje [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)].</span><span class="sxs-lookup"><span data-stu-id="c7849-133">You cannot use application settings in an unmanaged application that hosts the [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)].</span></span> <span data-ttu-id="c7849-134">Nastavení nebude fungovat v těchto prostředích, jako Visual Studio doplňků, C++ pro Microsoft Office, řídit hostování v aplikaci Internet Explorer nebo doplňky Microsoft Outlook a projekty.</span><span class="sxs-lookup"><span data-stu-id="c7849-134">Settings will not work in such environments as Visual Studio add-ins, C++ for Microsoft Office, control hosting in Internet Explorer, or Microsoft Outlook add-ins and projects.</span></span>  
  
 <span data-ttu-id="c7849-135">Momentálně nelze vázat na některé vlastnosti v systému Windows Forms.</span><span class="sxs-lookup"><span data-stu-id="c7849-135">You currently cannot bind to some properties in Windows Forms.</span></span> <span data-ttu-id="c7849-136">Nejdůležitějším příkladem je <xref:System.Windows.Forms.Form.ClientSize%2A> vlastnost jako vazba této vlastnosti by způsobit nepředvídatelné chování za běhu.</span><span class="sxs-lookup"><span data-stu-id="c7849-136">The most notable example is the <xref:System.Windows.Forms.Form.ClientSize%2A> property, as binding to this property would cause unpredictable behavior at run time.</span></span> <span data-ttu-id="c7849-137">Tyto problémy můžete vyřešit obvykle tak ukládání a načítání tato nastavení prostřednictvím kódu programu.</span><span class="sxs-lookup"><span data-stu-id="c7849-137">You can usually work around these issues by saving and loading these settings programmatically.</span></span>  
  
 <span data-ttu-id="c7849-138">Nastavení aplikace nemá žádné předdefinované zařízení pro šifrování informací automaticky.</span><span class="sxs-lookup"><span data-stu-id="c7849-138">Application settings has no built-in facility for encrypting information automatically.</span></span> <span data-ttu-id="c7849-139">Měli byste nikdy uložit informace týkající se zabezpečení, jako jsou databáze hesla ve formátu prostého textu.</span><span class="sxs-lookup"><span data-stu-id="c7849-139">You should never store security-related information, such as database passwords, in clear text.</span></span> <span data-ttu-id="c7849-140">Pokud chcete uložit tyto citlivé informace, jako vývojář aplikací jste zodpovědní za tak, že je bezpečné.</span><span class="sxs-lookup"><span data-stu-id="c7849-140">If you want to store such sensitive information, you as the application developer are responsible for making sure it is secure.</span></span> <span data-ttu-id="c7849-141">Pokud chcete uložit připojovací řetězce, doporučujeme použít integrované zabezpečení systému Windows a není pevně kódováno hesla uchýlit k adrese URL.</span><span class="sxs-lookup"><span data-stu-id="c7849-141">If you want to store connection strings, we recommend that you use Windows Integrated Security and not resort to hard-coding passwords into the URL.</span></span> <span data-ttu-id="c7849-142">Další informace najdete v tématu [zabezpečení přístupu kódu a ADO.NET](../../../../docs/framework/data/adonet/code-access-security.md).</span><span class="sxs-lookup"><span data-stu-id="c7849-142">For more information, see [Code Access Security and ADO.NET](../../../../docs/framework/data/adonet/code-access-security.md).</span></span>  
  
## <a name="getting-started-with-application-settings"></a><span data-ttu-id="c7849-143">Začínáme s nastavení aplikace</span><span class="sxs-lookup"><span data-stu-id="c7849-143">Getting Started with Application Settings</span></span>  
 <span data-ttu-id="c7849-144">Pokud používáte Visual Studio, můžete definovat nastavení v Návrháři formulářů Windows pomocí **(ApplicationSettings)** vlastnost **vlastnosti** okno.</span><span class="sxs-lookup"><span data-stu-id="c7849-144">If you use Visual Studio, you can define settings within the Windows Forms Designer using the **(ApplicationSettings)** property in the **Properties** window.</span></span> <span data-ttu-id="c7849-145">Když definujete nastavení tímto způsobem, Visual Studio automaticky vytvoří vlastní spravovaná obálka třídu, která přidruží každé nastavení vlastnosti třídy.</span><span class="sxs-lookup"><span data-stu-id="c7849-145">When you define settings this way, Visual Studio automatically creates a custom managed wrapper class which associates each setting with a class property.</span></span> <span data-ttu-id="c7849-146">Visual Studio také postará nastavení vazby na vlastnost ve formuláři nebo ovládací prvek, aby nastavení ovládacího prvku se automaticky obnoví, pokud jeho formulář se zobrazí a automaticky uloženy při zavření formuláře.</span><span class="sxs-lookup"><span data-stu-id="c7849-146">Visual Studio also takes care of binding the setting to a property on a form or control so that the control's settings are restored automatically when its form is displayed, and saved automatically when the form is closed.</span></span>  
  
 <span data-ttu-id="c7849-147">Pokud chcete podrobnější kontrolu nad nastavení, můžete definovat vlastní třídu obálky nastavení vlastních aplikací.</span><span class="sxs-lookup"><span data-stu-id="c7849-147">If you want more detailed control over your settings, you can define your own custom applications settings wrapper class.</span></span> <span data-ttu-id="c7849-148">To lze provést odvození třídy z <xref:System.Configuration.ApplicationSettingsBase>, přidání vlastnosti, která odpovídá pro každé nastavení a použití zvláštní atributů tyto vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="c7849-148">This is accomplished by deriving a class from <xref:System.Configuration.ApplicationSettingsBase>, adding a property that corresponds to each setting, and applying special attributes to these properties.</span></span> <span data-ttu-id="c7849-149">Podrobnosti o vytváření Obálka – třídy najdete v tématu [architektura nastavení aplikace](../../../../docs/framework/winforms/advanced/application-settings-architecture.md).</span><span class="sxs-lookup"><span data-stu-id="c7849-149">For details about creating wrapper classes, see [Application Settings Architecture](../../../../docs/framework/winforms/advanced/application-settings-architecture.md).</span></span>  
  
 <span data-ttu-id="c7849-150">Můžete také <xref:System.Windows.Forms.Binding> třídy prostřednictvím kódu programu svázat nastavení s vlastnostmi formuláře a ovládací prvky.</span><span class="sxs-lookup"><span data-stu-id="c7849-150">You can also use the <xref:System.Windows.Forms.Binding> class to bind settings programmatically to properties on forms and controls.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="c7849-151">Viz také</span><span class="sxs-lookup"><span data-stu-id="c7849-151">See Also</span></span>  
 <xref:System.Configuration.ApplicationSettingsBase>  
 <xref:System.Configuration.SettingsProvider>  
 <xref:System.Configuration.LocalFileSettingsProvider>  
 <xref:System.Configuration.IPersistComponentSettings>  
 [<span data-ttu-id="c7849-152">Postupy: ověření nastavení aplikace</span><span class="sxs-lookup"><span data-stu-id="c7849-152">How to: Validate Application Settings</span></span>](../../../../docs/framework/winforms/advanced/how-to-validate-application-settings.md)  
 [<span data-ttu-id="c7849-153">Správa nastavení aplikace (.NET)</span><span class="sxs-lookup"><span data-stu-id="c7849-153">Managing Application Settings (.NET)</span></span>](http://msdn.microsoft.com/library/35254321-ad14-47d9-b8c6-39ab3203c5d9)  
 [<span data-ttu-id="c7849-154">Postupy: Čtení uživatelských nastavení při běhu pomocí C#</span><span class="sxs-lookup"><span data-stu-id="c7849-154">How To: Read Settings at Run Time With C#</span></span>](../../../../docs/framework/winforms/advanced/how-to-read-settings-at-run-time-with-csharp.md)  
 [<span data-ttu-id="c7849-155">Použití nastavení aplikace a nastavení uživatele</span><span class="sxs-lookup"><span data-stu-id="c7849-155">Using Application Settings and User Settings</span></span>](../../../../docs/framework/winforms/advanced/using-application-settings-and-user-settings.md)  
 [<span data-ttu-id="c7849-156">Architektura nastavení aplikace</span><span class="sxs-lookup"><span data-stu-id="c7849-156">Application Settings Architecture</span></span>](../../../../docs/framework/winforms/advanced/application-settings-architecture.md)  
 [<span data-ttu-id="c7849-157">Nastavení aplikace pro vlastní ovládací prvky</span><span class="sxs-lookup"><span data-stu-id="c7849-157">Application Settings for Custom Controls</span></span>](../../../../docs/framework/winforms/advanced/application-settings-for-custom-controls.md)
