---
title: "Dodatečné informace o zabezpečení ve Windows Forms"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-winforms
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- Windows Forms, secure calls to Windows API
- security [Windows Forms]
- security [Windows Forms], calling APIs
- Clipboard [Windows Forms], securing access
ms.assetid: 15abda8b-0527-47c7-aedb-77ab595f2bf1
caps.latest.revision: "14"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload: dotnet
ms.openlocfilehash: 874bd286ec7dbafb95df1726fdc902b0ab7716e5
ms.sourcegitcommit: 16186c34a957fdd52e5db7294f291f7530ac9d24
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 12/22/2017
---
# <a name="additional-security-considerations-in-windows-forms"></a><span data-ttu-id="c4f69-102">Dodatečné informace o zabezpečení ve Windows Forms</span><span class="sxs-lookup"><span data-stu-id="c4f69-102">Additional Security Considerations in Windows Forms</span></span>
[!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)]<span data-ttu-id="c4f69-103">nastavení zabezpečení může způsobit, že aplikace na spouštění v prostředí s částečnou důvěryhodností než jinak v místním počítači.</span><span class="sxs-lookup"><span data-stu-id="c4f69-103"> security settings might cause your application to run differently in a partial trust environment than on your local computer.</span></span> <span data-ttu-id="c4f69-104">[!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] Omezuje přístup k takové kritické místním prostředkům jako systém souborů, sítě a nespravované rozhraní API, mimo jiné.</span><span class="sxs-lookup"><span data-stu-id="c4f69-104">The [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] restricts access to such critical local resources as the file system, network, and unmanaged APIs, among other things.</span></span> <span data-ttu-id="c4f69-105">Nastavení zabezpečení vliv na schopnost volat rozhraní API Win32 Microsoft nebo jiná rozhraní API, který nemůže být ověřen systémem zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="c4f69-105">The security settings affect the ability to call the Microsoft Win32 API or other APIs that cannot be verified by the security system.</span></span> <span data-ttu-id="c4f69-106">Zabezpečení ovlivní také dalších aspektů vaší aplikace, včetně souborů a dat přístupu a tisku.</span><span class="sxs-lookup"><span data-stu-id="c4f69-106">Security also affects other aspects of your application, including file and data access, and printing.</span></span> <span data-ttu-id="c4f69-107">Další informace o přístupu k souborům a data v prostředí s částečnou důvěryhodností najdete v tématu [další soubor zabezpečení a přístup k datům ve Windows Forms](../../../docs/framework/winforms/more-secure-file-and-data-access-in-windows-forms.md).</span><span class="sxs-lookup"><span data-stu-id="c4f69-107">For more information about file and data access in a partial trust environment, see [More Secure File and Data Access in Windows Forms](../../../docs/framework/winforms/more-secure-file-and-data-access-in-windows-forms.md).</span></span> <span data-ttu-id="c4f69-108">Další informace o tisku v prostředí s částečnou důvěryhodností najdete v tématu [další Secure tiskem v systému Windows Forms](../../../docs/framework/winforms/more-secure-printing-in-windows-forms.md).</span><span class="sxs-lookup"><span data-stu-id="c4f69-108">For more information about printing in a partial trust environment, see [More Secure Printing in Windows Forms](../../../docs/framework/winforms/more-secure-printing-in-windows-forms.md).</span></span>  
  
 <span data-ttu-id="c4f69-109">Následující části popisují, jak pracovat s schránky, provádět okno zpracování a volání rozhraní API Win32 z aplikací, které běží v prostředí s částečnou důvěryhodností.</span><span class="sxs-lookup"><span data-stu-id="c4f69-109">The following sections discuss how to work with the Clipboard, perform window manipulation, and call the Win32 API from applications that are running in a partial trust environment.</span></span>  
  
## <a name="clipboard-access"></a><span data-ttu-id="c4f69-110">Přístup schránky</span><span class="sxs-lookup"><span data-stu-id="c4f69-110">Clipboard Access</span></span>  
 <span data-ttu-id="c4f69-111"><xref:System.Security.Permissions.UIPermission> Třída určuje přístup do schránky a přidružené <xref:System.Security.Permissions.UIPermissionClipboard> hodnota výčtu určuje úroveň přístupu.</span><span class="sxs-lookup"><span data-stu-id="c4f69-111">The <xref:System.Security.Permissions.UIPermission> class controls access to the Clipboard, and the associated <xref:System.Security.Permissions.UIPermissionClipboard> enumeration value indicates the level of access.</span></span> <span data-ttu-id="c4f69-112">Následující tabulka uvádí možné oprávnění úrovně.</span><span class="sxs-lookup"><span data-stu-id="c4f69-112">The following table shows the possible permission levels.</span></span>  
  
|<span data-ttu-id="c4f69-113">Hodnota UIPermissionClipboard</span><span class="sxs-lookup"><span data-stu-id="c4f69-113">UIPermissionClipboard value</span></span>|<span data-ttu-id="c4f69-114">Popis</span><span class="sxs-lookup"><span data-stu-id="c4f69-114">Description</span></span>|  
|---------------------------------|-----------------|  
|<xref:System.Security.Permissions.UIPermissionClipboard.AllClipboard>|<span data-ttu-id="c4f69-115">Schránky můžete použít bez omezení.</span><span class="sxs-lookup"><span data-stu-id="c4f69-115">The Clipboard can be used without restriction.</span></span>|  
|<xref:System.Security.Permissions.UIPermissionClipboard.OwnClipboard>|<span data-ttu-id="c4f69-116">Schránky lze použít s určitými omezeními.</span><span class="sxs-lookup"><span data-stu-id="c4f69-116">The Clipboard can be used with some restrictions.</span></span> <span data-ttu-id="c4f69-117">Umožňuje umístit data do schránky (kopírování nebo vyjmutí příkaz operace) není omezeno.</span><span class="sxs-lookup"><span data-stu-id="c4f69-117">The ability to put data on the Clipboard (Copy or Cut command operations) is unrestricted.</span></span> <span data-ttu-id="c4f69-118">Vnitřní ovládací prvky, které přijímají vložení, jako je například textové pole, může přijmout data ze schránky, ale uživatelské ovládací prvky nelze přečíst prostřednictvím kódu programu ze schránky.</span><span class="sxs-lookup"><span data-stu-id="c4f69-118">Intrinsic controls that accept paste, such as a text box, can accept Clipboard data, but user controls cannot programmatically read from the Clipboard.</span></span>|  
|<xref:System.Security.Permissions.UIPermissionClipboard.NoClipboard>|<span data-ttu-id="c4f69-119">Schránku nelze použít.</span><span class="sxs-lookup"><span data-stu-id="c4f69-119">The Clipboard cannot be used.</span></span>|  
  
 <span data-ttu-id="c4f69-120">Ve výchozím nastavení, obdrží zóny místního intranetu <xref:System.Security.Permissions.UIPermissionClipboard.AllClipboard> přístup a zóně Internet obdrží <xref:System.Security.Permissions.UIPermissionClipboard.OwnClipboard> přístup.</span><span class="sxs-lookup"><span data-stu-id="c4f69-120">By default, the Local Intranet zone receives <xref:System.Security.Permissions.UIPermissionClipboard.AllClipboard> access and the Internet zone receives <xref:System.Security.Permissions.UIPermissionClipboard.OwnClipboard> access.</span></span> <span data-ttu-id="c4f69-121">To znamená, že aplikace může kopírovat data do schránky, ale aplikace prostřednictvím kódu programu nelze vložit do nebo čtení ze schránky.</span><span class="sxs-lookup"><span data-stu-id="c4f69-121">This means that the application can copy data to the Clipboard, but the application cannot programmatically paste to or read from the Clipboard.</span></span> <span data-ttu-id="c4f69-122">Tato omezení zabránit programy bez úplný vztah důvěryhodnosti ve čtení obsahu zkopírován do schránky jiná aplikace.</span><span class="sxs-lookup"><span data-stu-id="c4f69-122">These restrictions prevent programs without full trust from reading content copied to the Clipboard by another application.</span></span> <span data-ttu-id="c4f69-123">Pokud vaše aplikace vyžaduje úplný přístup schránky, ale nemáte oprávnění, budete muset zvýšení oprávnění pro vaši aplikaci.</span><span class="sxs-lookup"><span data-stu-id="c4f69-123">If your application requires full Clipboard access but you do not have the permissions, you will have to elevate the permissions for your application.</span></span> <span data-ttu-id="c4f69-124">Další informace o zvyšování oprávnění najdete v tématu [obecné Správa zásad zabezpečení](http://msdn.microsoft.com/en-us/5121fe35-f0e3-402c-94ab-4f35b0a87b4b).</span><span class="sxs-lookup"><span data-stu-id="c4f69-124">For more information about elevating permissions, see [General Security Policy Administration](http://msdn.microsoft.com/en-us/5121fe35-f0e3-402c-94ab-4f35b0a87b4b).</span></span>  
  
## <a name="window-manipulation"></a><span data-ttu-id="c4f69-125">Manipulace s okna</span><span class="sxs-lookup"><span data-stu-id="c4f69-125">Window Manipulation</span></span>  
 <span data-ttu-id="c4f69-126"><xref:System.Security.Permissions.UIPermission> Třída ovládací prvky také oprávnění k provedení okno manipulaci a další akce související s uživatelského rozhraní a přidruženého <xref:System.Security.Permissions.UIPermissionWindow> hodnota výčtu určuje úroveň přístupu.</span><span class="sxs-lookup"><span data-stu-id="c4f69-126">The <xref:System.Security.Permissions.UIPermission> class also controls permission to perform window manipulation and other UI-related actions, and the associated <xref:System.Security.Permissions.UIPermissionWindow> enumeration value indicates the level of access.</span></span> <span data-ttu-id="c4f69-127">Následující tabulka uvádí možné oprávnění úrovně.</span><span class="sxs-lookup"><span data-stu-id="c4f69-127">The following table shows the possible permission levels.</span></span>  
  
 <span data-ttu-id="c4f69-128">Ve výchozím nastavení, obdrží zóny místního intranetu <xref:System.Security.Permissions.UIPermissionWindow.AllWindows> přístup a zóně Internet obdrží <xref:System.Security.Permissions.UIPermissionWindow.SafeTopLevelWindows> přístup.</span><span class="sxs-lookup"><span data-stu-id="c4f69-128">By default, the Local Intranet zone receives <xref:System.Security.Permissions.UIPermissionWindow.AllWindows> access and the Internet zone receives <xref:System.Security.Permissions.UIPermissionWindow.SafeTopLevelWindows> access.</span></span> <span data-ttu-id="c4f69-129">To znamená, že v zóně Internet, aplikace můžete provádět většinu akcí uživatelského rozhraní a okna, ale vzhled okna budou upraveny.</span><span class="sxs-lookup"><span data-stu-id="c4f69-129">This means that in the Internet zone, the application can perform most windowing and UI actions, but the window's appearance will be modified.</span></span> <span data-ttu-id="c4f69-130">Okno upravené zobrazí oznámení bublinách při prvním spuštění, obsahuje text záhlaví změny a vyžaduje Zavřít v záhlaví okna.</span><span class="sxs-lookup"><span data-stu-id="c4f69-130">The modified window displays a balloon notification when first run, contains modified title bar text, and requires a close button on the title bar.</span></span> <span data-ttu-id="c4f69-131">Oznámení bublinách a záhlaví identifikovat uživateli aplikace, který používá aplikace s částečnou důvěryhodností.</span><span class="sxs-lookup"><span data-stu-id="c4f69-131">The balloon notification and the title bar identify to the user of the application that the application is running under partial trust.</span></span>  
  
|<span data-ttu-id="c4f69-132">Hodnota UIPermissionWindow</span><span class="sxs-lookup"><span data-stu-id="c4f69-132">UIPermissionWindow value</span></span>|<span data-ttu-id="c4f69-133">Popis</span><span class="sxs-lookup"><span data-stu-id="c4f69-133">Description</span></span>|  
|------------------------------|-----------------|  
|<xref:System.Security.Permissions.UIPermissionWindow.AllWindows>|<span data-ttu-id="c4f69-134">Uživatelé mohou používat všechna okna a vstupních událostech uživatele bez omezení.</span><span class="sxs-lookup"><span data-stu-id="c4f69-134">Users can use all windows and user input events without restriction.</span></span>|  
|<xref:System.Security.Permissions.UIPermissionWindow.SafeTopLevelWindows>|<span data-ttu-id="c4f69-135">Uživatele můžete použít pouze bezpečnější nejvyšší úrovně windows a bezpečnější subwindows pro vykreslování a pouze vstupní události uživatele můžete použít pro uživatelské rozhraní v těchto windows nejvyšší úrovně a subwindows.</span><span class="sxs-lookup"><span data-stu-id="c4f69-135">Users can use only safer top-level windows and safer subwindows for drawing, and can use only user input events for the user interface within those top-level windows and subwindows.</span></span> <span data-ttu-id="c4f69-136">Tyto bezpečnější windows jsou označeny jasně a mají omezení minimální a maximální velikost.</span><span class="sxs-lookup"><span data-stu-id="c4f69-136">These safer windows are clearly labeled and have minimum and maximum size restrictions.</span></span> <span data-ttu-id="c4f69-137">Omezení bránit potenciálně škodlivé podvodným útokům, jako je například imitating systému přihlašovací obrazovky nebo plochy systému a omezuje programový přístup k nadřazené windows, rozhraní API související s fokus a použití <xref:System.Windows.Forms.ToolTip> řízení,</span><span class="sxs-lookup"><span data-stu-id="c4f69-137">The restrictions prevent potentially harmful spoofing attacks, such as imitating system logon screens or the system desktop, and restricts programmatic access to parent windows, focus-related APIs, and use of the <xref:System.Windows.Forms.ToolTip> control,</span></span>|  
|<xref:System.Security.Permissions.UIPermissionWindow.SafeSubWindows>|<span data-ttu-id="c4f69-138">Uživatele můžete použít pouze bezpečnější subwindows pro vykreslování a pouze vstupní události uživatele můžete použít pro uživatelské rozhraní v rámci této subwindow.</span><span class="sxs-lookup"><span data-stu-id="c4f69-138">Users can use only safer subwindows for drawing, and can use only user input events for the user interface within that subwindow.</span></span> <span data-ttu-id="c4f69-139">Ovládací prvek zobrazí v prohlížeči je příkladem bezpečnější subwindow.</span><span class="sxs-lookup"><span data-stu-id="c4f69-139">A control displayed within a browser is an example of a safer subwindow.</span></span>|  
|<xref:System.Security.Permissions.UIPermissionWindow.NoWindows>|<span data-ttu-id="c4f69-140">Uživatele nelze použít všechny windows nebo uživatelské rozhraní události.</span><span class="sxs-lookup"><span data-stu-id="c4f69-140">Users cannot use any windows or user interface events.</span></span> <span data-ttu-id="c4f69-141">Můžete použít bez uživatelského rozhraní.</span><span class="sxs-lookup"><span data-stu-id="c4f69-141">No user interface can be used.</span></span>|  
  
 <span data-ttu-id="c4f69-142">Každá úroveň oprávnění identifikovaný <xref:System.Security.Permissions.UIPermissionWindow> výčtu umožňuje akce méně než úroveň nad ním.</span><span class="sxs-lookup"><span data-stu-id="c4f69-142">Each permission level identified by the <xref:System.Security.Permissions.UIPermissionWindow> enumeration allows fewer actions than the level above it.</span></span> <span data-ttu-id="c4f69-143">Následující tabulka uvádí akce, které jsou omezeny <xref:System.Security.Permissions.UIPermissionWindow.SafeTopLevelWindows> a <xref:System.Security.Permissions.UIPermissionWindow.SafeSubWindows> hodnoty.</span><span class="sxs-lookup"><span data-stu-id="c4f69-143">The following tables indicate the actions that are restricted by the <xref:System.Security.Permissions.UIPermissionWindow.SafeTopLevelWindows> and <xref:System.Security.Permissions.UIPermissionWindow.SafeSubWindows> values.</span></span> <span data-ttu-id="c4f69-144">Pro přesné oprávnění, které jsou požadovány pro každého člena naleznete v tématu odkaz na tohoto člena v dokumentaci ke knihovně tříd rozhraní .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="c4f69-144">For exact permissions that are required for each member, see the reference for that member in the .NET Framework class library documentation.</span></span>  
  
 <span data-ttu-id="c4f69-145"><xref:System.Security.Permissions.UIPermissionWindow.SafeTopLevelWindows>oprávnění omezuje akce uvedené v následující tabulce.</span><span class="sxs-lookup"><span data-stu-id="c4f69-145"><xref:System.Security.Permissions.UIPermissionWindow.SafeTopLevelWindows> permission restricts the actions listed in the following table.</span></span>  
  
|<span data-ttu-id="c4f69-146">Součást</span><span class="sxs-lookup"><span data-stu-id="c4f69-146">Component</span></span>|<span data-ttu-id="c4f69-147">Akce s omezeným přístupem</span><span class="sxs-lookup"><span data-stu-id="c4f69-147">Restricted actions</span></span>|  
|---------------|------------------------|  
|<xref:System.Windows.Forms.Application>|<span data-ttu-id="c4f69-148">-Nastavení <xref:System.Windows.Forms.Application.SafeTopLevelCaptionFormat%2A> vlastnost.</span><span class="sxs-lookup"><span data-stu-id="c4f69-148">-   Setting the <xref:System.Windows.Forms.Application.SafeTopLevelCaptionFormat%2A> property.</span></span>|  
|<xref:System.Windows.Forms.Control>|<span data-ttu-id="c4f69-149">-Získávání <xref:System.Windows.Forms.Control.Parent%2A> vlastnost.</span><span class="sxs-lookup"><span data-stu-id="c4f69-149">-   Getting the <xref:System.Windows.Forms.Control.Parent%2A> property.</span></span><br /><span data-ttu-id="c4f69-150">-Nastavení `Region` vlastnost.</span><span class="sxs-lookup"><span data-stu-id="c4f69-150">-   Setting the `Region` property.</span></span><br /><span data-ttu-id="c4f69-151">-Volání <xref:System.Windows.Forms.Control.FindForm%2A> , <xref:System.Windows.Forms.Control.Focus%2A>, <xref:System.Windows.Forms.Control.FromChildHandle%2A> a <xref:System.Windows.Forms.Control.FromHandle%2A>, <xref:System.Windows.Forms.Control.PreProcessMessage%2A>, <xref:System.Windows.Forms.Control.ReflectMessage%2A>, nebo <xref:System.Windows.Forms.Control.SetTopLevel%2A> metoda.</span><span class="sxs-lookup"><span data-stu-id="c4f69-151">-   Calling the <xref:System.Windows.Forms.Control.FindForm%2A> , <xref:System.Windows.Forms.Control.Focus%2A>, <xref:System.Windows.Forms.Control.FromChildHandle%2A> and <xref:System.Windows.Forms.Control.FromHandle%2A>, <xref:System.Windows.Forms.Control.PreProcessMessage%2A>, <xref:System.Windows.Forms.Control.ReflectMessage%2A>, or <xref:System.Windows.Forms.Control.SetTopLevel%2A> method.</span></span><br /><span data-ttu-id="c4f69-152">-Volání <xref:System.Windows.Forms.Control.GetChildAtPoint%2A> metoda vrácen ovládací prvek není podřízeným volání ovládacího prvku.</span><span class="sxs-lookup"><span data-stu-id="c4f69-152">-   Calling the <xref:System.Windows.Forms.Control.GetChildAtPoint%2A> method if the control returned is not a child of the calling control.</span></span><br /><span data-ttu-id="c4f69-153">-Upravte aktivního ovládacího prvku v ovládacím prvku kontejneru.</span><span class="sxs-lookup"><span data-stu-id="c4f69-153">-   Modify control focus inside a container control.</span></span>|  
|<xref:System.Windows.Forms.Cursor>|<span data-ttu-id="c4f69-154">-Nastavení <xref:System.Windows.Forms.Cursor.Clip%2A> vlastnost.</span><span class="sxs-lookup"><span data-stu-id="c4f69-154">-   Setting the <xref:System.Windows.Forms.Cursor.Clip%2A> property.</span></span><br /><span data-ttu-id="c4f69-155">-Volání <xref:System.Windows.Forms.Control.Hide%2A> metoda.</span><span class="sxs-lookup"><span data-stu-id="c4f69-155">-   Calling the <xref:System.Windows.Forms.Control.Hide%2A> method.</span></span>|  
|<xref:System.Windows.Forms.DataGrid>|<span data-ttu-id="c4f69-156">-Volání <xref:System.Windows.Forms.ContainerControl.ProcessTabKey%2A> metoda.</span><span class="sxs-lookup"><span data-stu-id="c4f69-156">-   Calling the <xref:System.Windows.Forms.ContainerControl.ProcessTabKey%2A> method.</span></span>|  
|<xref:System.Windows.Forms.Form>|<span data-ttu-id="c4f69-157">-Získávání <xref:System.Windows.Forms.Form.ActiveForm%2A> nebo <xref:System.Windows.Forms.Form.MdiParent%2A> vlastnost.</span><span class="sxs-lookup"><span data-stu-id="c4f69-157">-   Getting the <xref:System.Windows.Forms.Form.ActiveForm%2A> or <xref:System.Windows.Forms.Form.MdiParent%2A> property.</span></span><br /><span data-ttu-id="c4f69-158">-Nastavení <xref:System.Windows.Forms.Form.ControlBox%2A>, <xref:System.Windows.Forms.Form.ShowInTaskbar%2A>, nebo <xref:System.Windows.Forms.Form.TopMost%2A> vlastnost.</span><span class="sxs-lookup"><span data-stu-id="c4f69-158">-   Setting the <xref:System.Windows.Forms.Form.ControlBox%2A>, <xref:System.Windows.Forms.Form.ShowInTaskbar%2A>, or <xref:System.Windows.Forms.Form.TopMost%2A> property.</span></span><br /><span data-ttu-id="c4f69-159">-Nastavení <xref:System.Windows.Forms.Form.Opacity%2A> vlastnost menší než 50 %.</span><span class="sxs-lookup"><span data-stu-id="c4f69-159">-   Setting the <xref:System.Windows.Forms.Form.Opacity%2A> property below 50%.</span></span><br /><span data-ttu-id="c4f69-160">-Nastavení <xref:System.Windows.Forms.Form.WindowState%2A> vlastnost <xref:System.Windows.Forms.FormWindowState.Minimized> prostřednictvím kódu programu.</span><span class="sxs-lookup"><span data-stu-id="c4f69-160">-   Setting the <xref:System.Windows.Forms.Form.WindowState%2A> property to <xref:System.Windows.Forms.FormWindowState.Minimized> programmatically.</span></span><br /><span data-ttu-id="c4f69-161">-Volání <xref:System.Windows.Forms.Form.Activate%2A> metoda.</span><span class="sxs-lookup"><span data-stu-id="c4f69-161">-   Calling the <xref:System.Windows.Forms.Form.Activate%2A> method.</span></span><br /><span data-ttu-id="c4f69-162">– Pomocí <xref:System.Windows.Forms.FormBorderStyle.None>, <xref:System.Windows.Forms.FormBorderStyle.FixedToolWindow>, a <xref:System.Windows.Forms.FormBorderStyle.SizableToolWindow> <xref:System.Windows.Forms.FormBorderStyle> hodnot výčtu.</span><span class="sxs-lookup"><span data-stu-id="c4f69-162">-   Using the <xref:System.Windows.Forms.FormBorderStyle.None>, <xref:System.Windows.Forms.FormBorderStyle.FixedToolWindow>, and <xref:System.Windows.Forms.FormBorderStyle.SizableToolWindow><xref:System.Windows.Forms.FormBorderStyle> enumeration values.</span></span>|  
|<xref:System.Windows.Forms.NotifyIcon>|<span data-ttu-id="c4f69-163">– Pomocí <xref:System.Windows.Forms.NotifyIcon> součást se úplně s omezeným přístupem.</span><span class="sxs-lookup"><span data-stu-id="c4f69-163">-   Using the <xref:System.Windows.Forms.NotifyIcon> component is completely restricted.</span></span>|  
  
 <span data-ttu-id="c4f69-164"><xref:System.Security.Permissions.UIPermissionWindow.SafeSubWindows> Hodnota omezuje akce uvedené v následující tabulce, kromě omezení, které umísťuje <xref:System.Security.Permissions.UIPermissionWindow.SafeTopLevelWindows> hodnotu.</span><span class="sxs-lookup"><span data-stu-id="c4f69-164">The <xref:System.Security.Permissions.UIPermissionWindow.SafeSubWindows> value restricts the actions listed in the following table, in addition to the restrictions placed by the <xref:System.Security.Permissions.UIPermissionWindow.SafeTopLevelWindows> value.</span></span>  
  
|<span data-ttu-id="c4f69-165">Součást</span><span class="sxs-lookup"><span data-stu-id="c4f69-165">Component</span></span>|<span data-ttu-id="c4f69-166">Akce s omezeným přístupem</span><span class="sxs-lookup"><span data-stu-id="c4f69-166">Restricted actions</span></span>|  
|---------------|------------------------|  
|<xref:System.Windows.Forms.CommonDialog>|<span data-ttu-id="c4f69-167">-Znázorňující dialogové okno odvozené z <xref:System.Windows.Forms.CommonDialog> třídy.</span><span class="sxs-lookup"><span data-stu-id="c4f69-167">-   Showing a dialog box derived from the <xref:System.Windows.Forms.CommonDialog> class.</span></span>|  
|<xref:System.Windows.Forms.Control>|<span data-ttu-id="c4f69-168">-Volání <xref:System.Windows.Forms.Control.CreateGraphics%2A> metoda.</span><span class="sxs-lookup"><span data-stu-id="c4f69-168">-   Calling the <xref:System.Windows.Forms.Control.CreateGraphics%2A> method.</span></span><br /><span data-ttu-id="c4f69-169">-Nastavení <xref:System.Windows.Forms.Control.Cursor%2A> vlastnost.</span><span class="sxs-lookup"><span data-stu-id="c4f69-169">-   Setting the <xref:System.Windows.Forms.Control.Cursor%2A> property.</span></span>|  
|<xref:System.Windows.Forms.Control.Cursor%2A>|<span data-ttu-id="c4f69-170">-Nastavení <xref:System.Windows.Forms.Cursor.Current%2A> vlastnost.</span><span class="sxs-lookup"><span data-stu-id="c4f69-170">-   Setting the <xref:System.Windows.Forms.Cursor.Current%2A> property.</span></span>|  
|<xref:System.Windows.Forms.MessageBox>|<span data-ttu-id="c4f69-171">-Volání <xref:System.Windows.Forms.Form.Show%2A> metoda.</span><span class="sxs-lookup"><span data-stu-id="c4f69-171">-   Calling the <xref:System.Windows.Forms.Form.Show%2A> method.</span></span>|  
  
### <a name="hosting-third-party-controls"></a><span data-ttu-id="c4f69-172">Hostování ovládacích prvků třetích stran</span><span class="sxs-lookup"><span data-stu-id="c4f69-172">Hosting Third-Party Controls</span></span>  
 <span data-ttu-id="c4f69-173">Jiný druh okno zpracování může dojít, pokud svých formulářů hostování ovládacích prvků třetích stran.</span><span class="sxs-lookup"><span data-stu-id="c4f69-173">Another kind of window manipulation can occur if your forms host third-party controls.</span></span> <span data-ttu-id="c4f69-174">Ovládací prvek třetích stran, je vlastní <xref:System.Windows.Forms.UserControl> ještě nebyly vyvíjí a zkompilovat sami.</span><span class="sxs-lookup"><span data-stu-id="c4f69-174">A third-party control is any custom <xref:System.Windows.Forms.UserControl> that you have not developed and compiled yourself.</span></span> <span data-ttu-id="c4f69-175">Přestože scénáři pro hostování je obtížné před zneužitím, je možné teoreticky ovládacího prvku třetích stran, rozbalte prostor vykreslování tak, aby pokrývalo celé oblasti formuláře.</span><span class="sxs-lookup"><span data-stu-id="c4f69-175">Although the hosting scenario is hard to exploit, it is theoretically possible for a third-party control to expand its rendering surface to cover the entire area of your form.</span></span> <span data-ttu-id="c4f69-176">Tento ovládací prvek pak může napodobovat kritické dialogové okno a požádat o informace, jako je kombinace uživatelského jména a hesla nebo čísla účtů bank vaše uživatele.</span><span class="sxs-lookup"><span data-stu-id="c4f69-176">This control could then mimic a critical dialog box, and request information such as username/password combinations or bank account numbers from your users.</span></span>  
  
 <span data-ttu-id="c4f69-177">Toto potenciální riziko omezit, pomocí ovládacích prvků třetích stran pouze od dodavatelů, které můžete důvěřovat.</span><span class="sxs-lookup"><span data-stu-id="c4f69-177">To limit this potential risk, use third-party controls only from vendors you can trust.</span></span> <span data-ttu-id="c4f69-178">Pokud chcete použít ovládací prvky třetích stran, které jste si stáhli z neověřitelný zdroje, doporučujeme, abyste si prošli zdrojový kód pro potenciální zneužití.</span><span class="sxs-lookup"><span data-stu-id="c4f69-178">If you use third-party controls you have downloaded from an unverifiable source, we recommend that you review the source code for potential exploits.</span></span> <span data-ttu-id="c4f69-179">Jakmile ověříte, zdroj je řádných, by měl kompilace sestavení si, že zdroj odpovídá sestavení.</span><span class="sxs-lookup"><span data-stu-id="c4f69-179">After you've verified that the source is non-malicious, you should compile the assembly yourself to ensure that the source matches the assembly.</span></span>  
  
## <a name="win32-api-calls"></a><span data-ttu-id="c4f69-180">Volání rozhraní API Win32</span><span class="sxs-lookup"><span data-stu-id="c4f69-180">Win32 API Calls</span></span>  
 <span data-ttu-id="c4f69-181">Pokud váš návrh aplikace vyžaduje volání funkce z rozhraní API Win32, přistupují nespravovaného kódu.</span><span class="sxs-lookup"><span data-stu-id="c4f69-181">If your application design requires calling a function from the Win32 API, you are accessing unmanaged code.</span></span> <span data-ttu-id="c4f69-182">Akce kódu do okna nebo operačního systému v tomto případě nelze určit, když pracujete s volání rozhraní API Win32 nebo hodnoty.</span><span class="sxs-lookup"><span data-stu-id="c4f69-182">In this case the code's actions to the window or operating system cannot be determined when you are working with Win32 API calls or values.</span></span> <span data-ttu-id="c4f69-183"><xref:System.Security.Permissions.SecurityPermission> Třídy a <xref:System.Security.Permissions.SecurityPermissionFlag.UnmanagedCode> hodnotu <xref:System.Security.Permissions.SecurityPermissionFlag> výčtu řízení přístupu na nespravovaný kód.</span><span class="sxs-lookup"><span data-stu-id="c4f69-183">The <xref:System.Security.Permissions.SecurityPermission> class and the <xref:System.Security.Permissions.SecurityPermissionFlag.UnmanagedCode> value of the <xref:System.Security.Permissions.SecurityPermissionFlag> enumeration control access to unmanaged code.</span></span> <span data-ttu-id="c4f69-184">Aplikace můžete přístup k nespravovanému kódu jenom v případě, že jsou udělena <xref:System.Security.Permissions.SecurityPermissionFlag.UnmanagedCode> oprávnění.</span><span class="sxs-lookup"><span data-stu-id="c4f69-184">An application can access unmanaged code only when it is granted the <xref:System.Security.Permissions.SecurityPermissionFlag.UnmanagedCode> permission.</span></span> <span data-ttu-id="c4f69-185">Ve výchozím nastavení můžete jenom aplikace, které běží místně volat nespravovaný kód.</span><span class="sxs-lookup"><span data-stu-id="c4f69-185">By default, only applications that are running locally can call unmanaged code.</span></span>  
  
 <span data-ttu-id="c4f69-186">Někteří členové Windows Forms poskytují nespravované přístup, který vyžaduje <xref:System.Security.Permissions.SecurityPermissionFlag.UnmanagedCode> oprávnění.</span><span class="sxs-lookup"><span data-stu-id="c4f69-186">Some Windows Forms members provide unmanaged access that requires the <xref:System.Security.Permissions.SecurityPermissionFlag.UnmanagedCode> permission.</span></span> <span data-ttu-id="c4f69-187">Následující tabulka uvádí členy v <xref:System.Windows.Forms> obor názvů, které vyžadují oprávnění.</span><span class="sxs-lookup"><span data-stu-id="c4f69-187">The following table lists the members in the <xref:System.Windows.Forms> namespace that require the permission.</span></span> <span data-ttu-id="c4f69-188">Další informace o oprávněních, která jsou požadovány pro člena najdete v dokumentaci ke knihovně tříd rozhraní .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="c4f69-188">For more information about the permissions that are required for a member, see the .NET Framework class library documentation.</span></span>  
  
|<span data-ttu-id="c4f69-189">Součást</span><span class="sxs-lookup"><span data-stu-id="c4f69-189">Component</span></span>|<span data-ttu-id="c4f69-190">Člen</span><span class="sxs-lookup"><span data-stu-id="c4f69-190">Member</span></span>|  
|---------------|------------|  
|<xref:System.Windows.Forms.Application>|<span data-ttu-id="c4f69-191">-   <xref:System.Windows.Forms.Application.AddMessageFilter%2A>– Metoda</span><span class="sxs-lookup"><span data-stu-id="c4f69-191">-   <xref:System.Windows.Forms.Application.AddMessageFilter%2A> method</span></span><br /><span data-ttu-id="c4f69-192">-   <xref:System.Windows.Forms.Application.CurrentInputLanguage%2A>Vlastnost</span><span class="sxs-lookup"><span data-stu-id="c4f69-192">-   <xref:System.Windows.Forms.Application.CurrentInputLanguage%2A> property</span></span><br /><span data-ttu-id="c4f69-193">-   `Exit`– Metoda</span><span class="sxs-lookup"><span data-stu-id="c4f69-193">-   `Exit` method</span></span><br /><span data-ttu-id="c4f69-194">-   <xref:System.Windows.Forms.Application.ExitThread%2A>– Metoda</span><span class="sxs-lookup"><span data-stu-id="c4f69-194">-   <xref:System.Windows.Forms.Application.ExitThread%2A> method</span></span><br /><span data-ttu-id="c4f69-195">-   <xref:System.Windows.Forms.Application.ThreadException>události</span><span class="sxs-lookup"><span data-stu-id="c4f69-195">-   <xref:System.Windows.Forms.Application.ThreadException> event</span></span>|  
|<xref:System.Windows.Forms.CommonDialog>|<span data-ttu-id="c4f69-196">-   <xref:System.Windows.Forms.CommonDialog.HookProc%2A>– Metoda</span><span class="sxs-lookup"><span data-stu-id="c4f69-196">-   <xref:System.Windows.Forms.CommonDialog.HookProc%2A> method</span></span><br /><span data-ttu-id="c4f69-197">-   <xref:System.Windows.Forms.CommonDialog.OwnerWndProc%2A>\ – metoda</span><span class="sxs-lookup"><span data-stu-id="c4f69-197">-   <xref:System.Windows.Forms.CommonDialog.OwnerWndProc%2A>\ method</span></span><br /><span data-ttu-id="c4f69-198">-   <xref:System.Windows.Forms.CommonDialog.Reset%2A>– Metoda</span><span class="sxs-lookup"><span data-stu-id="c4f69-198">-   <xref:System.Windows.Forms.CommonDialog.Reset%2A> method</span></span><br /><span data-ttu-id="c4f69-199">-   <xref:System.Windows.Forms.CommonDialog.RunDialog%2A>– Metoda</span><span class="sxs-lookup"><span data-stu-id="c4f69-199">-   <xref:System.Windows.Forms.CommonDialog.RunDialog%2A> method</span></span>|  
|<xref:System.Windows.Forms.Control>|<span data-ttu-id="c4f69-200">-   <xref:System.Windows.Forms.Control.CreateParams%2A>– Metoda</span><span class="sxs-lookup"><span data-stu-id="c4f69-200">-   <xref:System.Windows.Forms.Control.CreateParams%2A> method</span></span><br /><span data-ttu-id="c4f69-201">-   <xref:System.Windows.Forms.Control.DefWndProc%2A>– Metoda</span><span class="sxs-lookup"><span data-stu-id="c4f69-201">-   <xref:System.Windows.Forms.Control.DefWndProc%2A> method</span></span><br /><span data-ttu-id="c4f69-202">-   <xref:System.Windows.Forms.Control.DestroyHandle%2A>– Metoda</span><span class="sxs-lookup"><span data-stu-id="c4f69-202">-   <xref:System.Windows.Forms.Control.DestroyHandle%2A> method</span></span><br /><span data-ttu-id="c4f69-203">-   <xref:System.Windows.Forms.Control.WndProc%2A>– Metoda</span><span class="sxs-lookup"><span data-stu-id="c4f69-203">-   <xref:System.Windows.Forms.Control.WndProc%2A> method</span></span>|  
|<xref:System.Windows.Forms.Help>|<span data-ttu-id="c4f69-204">-   <xref:System.Windows.Forms.Help.ShowHelp%2A>metody</span><span class="sxs-lookup"><span data-stu-id="c4f69-204">-   <xref:System.Windows.Forms.Help.ShowHelp%2A> methods</span></span><br /><span data-ttu-id="c4f69-205">-   <xref:System.Windows.Forms.Help.ShowHelpIndex%2A>– Metoda</span><span class="sxs-lookup"><span data-stu-id="c4f69-205">-   <xref:System.Windows.Forms.Help.ShowHelpIndex%2A> method</span></span>|  
|<xref:System.Windows.Forms.NativeWindow>|<span data-ttu-id="c4f69-206">-   <xref:System.Windows.Forms.NativeWindow>– Třída</span><span class="sxs-lookup"><span data-stu-id="c4f69-206">-   <xref:System.Windows.Forms.NativeWindow> class</span></span>|  
|<xref:System.Windows.Forms.Screen>|<span data-ttu-id="c4f69-207">-   <xref:System.Windows.Forms.Screen.FromHandle%2A>– Metoda</span><span class="sxs-lookup"><span data-stu-id="c4f69-207">-   <xref:System.Windows.Forms.Screen.FromHandle%2A> method</span></span>|  
|<xref:System.Windows.Forms.SendKeys>|<span data-ttu-id="c4f69-208">-   <xref:System.Windows.Forms.SendKeys.Send%2A>– Metoda</span><span class="sxs-lookup"><span data-stu-id="c4f69-208">-   <xref:System.Windows.Forms.SendKeys.Send%2A> method</span></span><br /><span data-ttu-id="c4f69-209">-   <xref:System.Windows.Forms.SendKeys.SendWait%2A>– Metoda</span><span class="sxs-lookup"><span data-stu-id="c4f69-209">-   <xref:System.Windows.Forms.SendKeys.SendWait%2A> method</span></span>|  
  
 <span data-ttu-id="c4f69-210">Pokud aplikace nemá oprávnění k volání nespravovaného kódu, vaše aplikace musí požádat <xref:System.Security.Permissions.SecurityPermissionFlag.UnmanagedCode> oprávnění nebo je nutné vzít v úvahu alternativní způsoby implementace funkce; v mnoha případech Windows Forms poskytuje spravovaná alternativa k rozhraní API Win32 funkce.</span><span class="sxs-lookup"><span data-stu-id="c4f69-210">If your application does not have permission to call unmanaged code, your application must request <xref:System.Security.Permissions.SecurityPermissionFlag.UnmanagedCode> permission, or you must consider alternative ways of implementing features; in many cases, Windows Forms provides a managed alternative to Win32 API functions.</span></span> <span data-ttu-id="c4f69-211">Pokud není možnost znamená, že existují a aplikace musí přístup k nespravovanému kódu, budete muset zvýšit úroveň oprávnění pro aplikace.</span><span class="sxs-lookup"><span data-stu-id="c4f69-211">If no alternative means exist and the application must access unmanaged code, you will have to elevate the permissions for the application.</span></span>  
  
 <span data-ttu-id="c4f69-212">Oprávnění k volání nespravovaného kódu umožňuje provádět většinu nic aplikaci.</span><span class="sxs-lookup"><span data-stu-id="c4f69-212">Permission to call unmanaged code allows an application to perform most anything.</span></span> <span data-ttu-id="c4f69-213">Proto by oprávnění k volání nespravovaného kódu by měla lze udělit pouze pro aplikace, které pocházejí z důvěryhodného zdroje.</span><span class="sxs-lookup"><span data-stu-id="c4f69-213">Therefore, permission to call unmanaged code should only be granted for applications that come from a trusted source.</span></span> <span data-ttu-id="c4f69-214">V závislosti na aplikaci, může případně tímto druhem funkce aplikace, která provádí volání nespravovaného kódu být, volitelné nebo povoleno v prostředím úplný vztah důvěryhodnosti.</span><span class="sxs-lookup"><span data-stu-id="c4f69-214">Alternatively, depending on the application, the piece of application functionality that makes the call to unmanaged code could be optional, or enabled in the full trust environment only.</span></span> <span data-ttu-id="c4f69-215">Další informace o nebezpečná oprávnění najdete v tématu [nebezpečných oprávnění a Správa zásad](../../../docs/framework/misc/dangerous-permissions-and-policy-administration.md).</span><span class="sxs-lookup"><span data-stu-id="c4f69-215">For more information about dangerous permissions, see [Dangerous Permissions and Policy Administration](../../../docs/framework/misc/dangerous-permissions-and-policy-administration.md).</span></span> <span data-ttu-id="c4f69-216">Další informace o zvyšování oprávnění najdete v tématu [NIB: Obecné Správa zásad zabezpečení](http://msdn.microsoft.com/en-us/5121fe35-f0e3-402c-94ab-4f35b0a87b4b).</span><span class="sxs-lookup"><span data-stu-id="c4f69-216">For more information about elevating permissions, see [NIB: General Security Policy Administration](http://msdn.microsoft.com/en-us/5121fe35-f0e3-402c-94ab-4f35b0a87b4b).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="c4f69-217">Viz také</span><span class="sxs-lookup"><span data-stu-id="c4f69-217">See Also</span></span>  
 [<span data-ttu-id="c4f69-218">Zabezpečenější přístup k souborům a datům ve Windows Forms</span><span class="sxs-lookup"><span data-stu-id="c4f69-218">More Secure File and Data Access in Windows Forms</span></span>](../../../docs/framework/winforms/more-secure-file-and-data-access-in-windows-forms.md)  
 [<span data-ttu-id="c4f69-219">Zabezpečenější tisk ve Windows Forms</span><span class="sxs-lookup"><span data-stu-id="c4f69-219">More Secure Printing in Windows Forms</span></span>](../../../docs/framework/winforms/more-secure-printing-in-windows-forms.md)  
 [<span data-ttu-id="c4f69-220">Přehled zabezpečení ve Windows Forms</span><span class="sxs-lookup"><span data-stu-id="c4f69-220">Security in Windows Forms Overview</span></span>](../../../docs/framework/winforms/security-in-windows-forms-overview.md)  
 [<span data-ttu-id="c4f69-221">Windows Forms – zabezpečení</span><span class="sxs-lookup"><span data-stu-id="c4f69-221">Windows Forms Security</span></span>](../../../docs/framework/winforms/windows-forms-security.md)  
 [<span data-ttu-id="c4f69-222">Zabezpečování aplikací ClickOnce</span><span class="sxs-lookup"><span data-stu-id="c4f69-222">Securing ClickOnce Applications</span></span>](/visualstudio/deployment/securing-clickonce-applications)
