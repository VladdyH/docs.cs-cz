---
title: "Zabezpečení přístupu kódu"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- named permission sets, code access security
- call stacks
- malicious code
- stack walk
- security [.NET Framework], code access security
- permissions [.NET Framework], code access security
- trusted code
- mobile code security
- unmanaged code, code access security
- granting permissions, code access security
- user authentication, code access security
- code access security
ms.assetid: 859af632-c80d-4736-8d6f-1e01b09ce127
caps.latest.revision: "25"
author: mairaw
ms.author: mairaw
manager: wpickett
ms.workload: dotnet
ms.openlocfilehash: a28f8994c8cffdad69272322575df37c437b8b6c
ms.sourcegitcommit: 16186c34a957fdd52e5db7294f291f7530ac9d24
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 12/22/2017
---
# <a name="code-access-security"></a><span data-ttu-id="8f8bf-102">Zabezpečení přístupu kódu</span><span class="sxs-lookup"><span data-stu-id="8f8bf-102">Code Access Security</span></span>
[!INCLUDE[net_security_note](../../../includes/net-security-note-md.md)]  
  
 <span data-ttu-id="8f8bf-103">Dnešní vysoce připojených počítačových systémů jsou často viditelné na kód, pochází z různých, případně neznámých zdrojů.</span><span class="sxs-lookup"><span data-stu-id="8f8bf-103">Today's highly connected computer systems are frequently exposed to code originating from various, possibly unknown sources.</span></span> <span data-ttu-id="8f8bf-104">Kód můžete připojit k e-mailu, obsažených v dokumentech nebo stažen z Internetu.</span><span class="sxs-lookup"><span data-stu-id="8f8bf-104">Code can be attached to e-mail, contained in documents, or downloaded over the Internet.</span></span> <span data-ttu-id="8f8bf-105">Bohužel mnoho uživatelů počítačů má zkušenosti důsledky škodlivý mobilní kód, včetně virů a červů, které může dojít k poškození nebo zničení dat a náklady na čas a peníze.</span><span class="sxs-lookup"><span data-stu-id="8f8bf-105">Unfortunately, many computer users have experienced firsthand the effects of malicious mobile code, including viruses and worms, which can damage or destroy data and cost time and money.</span></span>  
  
 <span data-ttu-id="8f8bf-106">Nejběžnější mechanismy zabezpečení udělit práva k uživatelů podle jejich přihlašovacích údajů (obvykle heslo) a omezit prostředky (často adresářů a souborů), které má uživatel přístup.</span><span class="sxs-lookup"><span data-stu-id="8f8bf-106">Most common security mechanisms give rights to users based on their logon credentials (usually a password) and restrict resources (often directories and files) that the user is allowed to access.</span></span> <span data-ttu-id="8f8bf-107">Však tento postup selže řešit potíže se několik: uživatelé získat kód z mnoha zdrojů, některé z nich může nespolehlivé; kód může obsahovat chyby nebo chyby, které umožňují zneužití škodlivý kód; a kód někdy provádí věci, které uživatel nebude vědět, že je provádí.</span><span class="sxs-lookup"><span data-stu-id="8f8bf-107">However, this approach fails to address several issues: users obtain code from many sources, some of which might be unreliable; code can contain bugs or vulnerabilities that enable it to be exploited by malicious code; and code sometimes does things that the user does not know it will do.</span></span> <span data-ttu-id="8f8bf-108">V důsledku toho může dojít k porušení počítačových systémů a osobní data můžou uniknout při opatrní a důvěryhodní uživatelé spuštění škodlivého nebo plný chyb softwaru.</span><span class="sxs-lookup"><span data-stu-id="8f8bf-108">As a result, computer systems can be damaged and private data can be leaked when cautious and trustworthy users run malicious or error-filled software.</span></span> <span data-ttu-id="8f8bf-109">Většina mechanismy zabezpečení operačního systému vyžadovat, že každá část kódu, musí být zcela důvěryhodné aby bylo možné spustit, s výjimkou skriptů na webové stránce.</span><span class="sxs-lookup"><span data-stu-id="8f8bf-109">Most operating system security mechanisms require that every piece of code must be completely trusted in order to run, except perhaps for scripts on a Web page.</span></span> <span data-ttu-id="8f8bf-110">Proto je zde stále zapotřebí široce použít bezpečnostní mechanismus, který umožňuje kód pocházející z jednoho počítače systému spuštění s ochranou v jiném systému, i když není žádný vztah důvěryhodnosti mezi systémy.</span><span class="sxs-lookup"><span data-stu-id="8f8bf-110">Therefore, there is still a need for a widely applicable security mechanism that allows code originating from one computer system to execute with protection on another system, even when there is no trust relationship between the systems.</span></span>  
  
 <span data-ttu-id="8f8bf-111">Rozhraní .NET Framework poskytuje mechanismus zabezpečení nazvaný zabezpečení přístupu kódu k ochraně počítačových systémů ze škodlivý kód mobilní, aby kód z neznámého původu pro spuštění s ochranou a pomáhá zabránit důvěryhodný kód z záměrně nebo neúmyslně ohrožení zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="8f8bf-111">The .NET Framework provides a security mechanism called code access security to help protect computer systems from malicious mobile code, to allow code from unknown origins to run with protection, and to help prevent trusted code from intentionally or accidentally compromising security.</span></span> <span data-ttu-id="8f8bf-112">Zabezpečení přístupu kódu umožňuje kódu být důvěryhodný na různých úrovních, v závislosti na tom, odkud pochází kód a na dalších aspektů identity kódu.</span><span class="sxs-lookup"><span data-stu-id="8f8bf-112">Code access security enables code to be trusted to varying degrees depending on where the code originates and on other aspects of the code's identity.</span></span> <span data-ttu-id="8f8bf-113">Zabezpečení přístupu kódu taky vynutí různých úrovní důvěryhodnosti na kód, který minimalizuje množství kód, který musí být plně důvěryhodná, aby bylo možné spustit.</span><span class="sxs-lookup"><span data-stu-id="8f8bf-113">Code access security also enforces the varying levels of trust on code, which minimizes the amount of code that must be fully trusted in order to run.</span></span> <span data-ttu-id="8f8bf-114">Pomocí zabezpečení přístupu kódu může snížit pravděpodobnost, že váš kód bude došlo ke zneužití kódem škodlivý nebo plný chyb.</span><span class="sxs-lookup"><span data-stu-id="8f8bf-114">Using code access security can reduce the likelihood that your code will be misused by malicious or error-filled code.</span></span> <span data-ttu-id="8f8bf-115">Může snížit vaše odpovědnosti, protože můžete určit sadu operací, které váš kód by měl bude moct provádět.</span><span class="sxs-lookup"><span data-stu-id="8f8bf-115">It can reduce your liability, because you can specify the set of operations your code should be allowed to perform.</span></span> <span data-ttu-id="8f8bf-116">Zabezpečení přístupu kódu také může pomoci minimalizovat škody, které může být důsledkem chyby zabezpečení v kódu.</span><span class="sxs-lookup"><span data-stu-id="8f8bf-116">Code access security can also help minimize the damage that can result from security vulnerabilities in your code.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="8f8bf-117">Zabezpečení přístupu kódu v byly provedeny změny hlavní [!INCLUDE[net_v40_long](../../../includes/net-v40-long-md.md)].</span><span class="sxs-lookup"><span data-stu-id="8f8bf-117">Major changes have been made to code access security in the [!INCLUDE[net_v40_long](../../../includes/net-v40-long-md.md)].</span></span> <span data-ttu-id="8f8bf-118">Nejdůležitější změna byla [transparentnost zabezpečení](../../../docs/framework/misc/security-transparent-code.md), ale jsou taky jiné významné změny, které ovlivňují zabezpečení přístupu kódu.</span><span class="sxs-lookup"><span data-stu-id="8f8bf-118">The most notable change has been [security transparency](../../../docs/framework/misc/security-transparent-code.md), but there are also other significant changes that affect code access security.</span></span> <span data-ttu-id="8f8bf-119">Informace o těchto změnách najdete v tématu [změny zabezpečení](../../../docs/framework/security/security-changes.md).</span><span class="sxs-lookup"><span data-stu-id="8f8bf-119">For information about these changes, see [Security Changes](../../../docs/framework/security/security-changes.md).</span></span>  
  
 <span data-ttu-id="8f8bf-120">Zabezpečení přístupu kódu primárně ovlivňuje kód knihovny a částečně důvěryhodné aplikace.</span><span class="sxs-lookup"><span data-stu-id="8f8bf-120">Code access security primarily affects library code and partially trusted applications.</span></span> <span data-ttu-id="8f8bf-121">Vývojáři knihoven musí chránit svůj kód před neoprávněným přístupem z částečně důvěryhodné aplikace.</span><span class="sxs-lookup"><span data-stu-id="8f8bf-121">Library developers must protect their code from unauthorized access from partially trusted applications.</span></span> <span data-ttu-id="8f8bf-122">Částečně důvěryhodné aplikace jsou aplikace, které jsou načteny z externích zdrojů, jako je Internet.</span><span class="sxs-lookup"><span data-stu-id="8f8bf-122">Partially trusted applications are applications that are loaded from external sources such as the Internet.</span></span> <span data-ttu-id="8f8bf-123">Aplikace, které jsou nainstalovány v počítači nebo na místní intranet, spusťte v režimu plné důvěryhodnosti.</span><span class="sxs-lookup"><span data-stu-id="8f8bf-123">Applications that are installed on your desktop or on the local intranet run in full trust.</span></span> <span data-ttu-id="8f8bf-124">Plně důvěryhodné aplikace nejsou ovlivněny zabezpečení přístupu kódu, pokud jsou označeny jako [transparentní pro zabezpečení](../../../docs/framework/misc/security-transparent-code.md), protože jsou plně důvěryhodné.</span><span class="sxs-lookup"><span data-stu-id="8f8bf-124">Full-trust applications are not affected by code access security unless they are marked as [security-transparent](../../../docs/framework/misc/security-transparent-code.md), because they are fully trusted.</span></span> <span data-ttu-id="8f8bf-125">Jediné omezení pro aplikace plné důvěryhodnosti je, že aplikace, které jsou označené <xref:System.Security.SecurityTransparentAttribute> atributu nelze volat kód, který je označený <xref:System.Security.SecurityCriticalAttribute> atribut.</span><span class="sxs-lookup"><span data-stu-id="8f8bf-125">The only limitation for full-trust applications is that applications that are marked with the <xref:System.Security.SecurityTransparentAttribute> attribute cannot call code that is marked with the <xref:System.Security.SecurityCriticalAttribute> attribute.</span></span> <span data-ttu-id="8f8bf-126">Částečně důvěryhodné aplikace musí být spuštěny v izolovaném prostoru (například v aplikaci Internet Explorer), takže zabezpečení přístupu kódu můžete použít.</span><span class="sxs-lookup"><span data-stu-id="8f8bf-126">Partially trusted applications must be run in a sandbox (for example, in Internet Explorer) so that code access security can be applied.</span></span> <span data-ttu-id="8f8bf-127">Pokud jste stáhnout aplikaci z Internetu a zkuste spustit z plochy, zobrazí se <xref:System.NotSupportedException> se zprávou: "byl učiněn pokus o načtení sestavení z umístění v síti, která by způsobila sestavení, které má být v izolovaném prostoru v předchozích verzích rozhraní .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="8f8bf-127">If you download an application from the Internet and try to run it from your desktop, you will get a <xref:System.NotSupportedException> with the message: "An attempt was made to load an assembly from a network location which would have caused the assembly to be sandboxed in previous versions of the .NET Framework.</span></span> <span data-ttu-id="8f8bf-128">Tato verze rozhraní .NET Framework neumožňuje zásadu CAS ve výchozím nastavení, tak tato zatížení může být nebezpečný."</span><span class="sxs-lookup"><span data-stu-id="8f8bf-128">This release of the .NET Framework does not enable CAS policy by default, so this load may be dangerous."</span></span> <span data-ttu-id="8f8bf-129">Pokud jste si jistí, že aplikace mohou být důvěryhodné, můžete ji spustit jako úplný vztah důvěryhodnosti pomocí povolit [ \<loadfromremotesources – > element](../../../docs/framework/configure-apps/file-schema/runtime/loadfromremotesources-element.md).</span><span class="sxs-lookup"><span data-stu-id="8f8bf-129">If you are sure that the application can be trusted, you can enable it to be run as full trust by using the [\<loadFromRemoteSources> element](../../../docs/framework/configure-apps/file-schema/runtime/loadfromremotesources-element.md).</span></span> <span data-ttu-id="8f8bf-130">Informace o spuštění aplikace v izolovaném prostoru najdete v tématu [postupy: spuštění částečně důvěryhodného kódu v izolovaném prostoru](../../../docs/framework/misc/how-to-run-partially-trusted-code-in-a-sandbox.md).</span><span class="sxs-lookup"><span data-stu-id="8f8bf-130">For information about running an application in a sandbox, see [How to: Run Partially Trusted Code in a Sandbox](../../../docs/framework/misc/how-to-run-partially-trusted-code-in-a-sandbox.md).</span></span>  
  
 <span data-ttu-id="8f8bf-131">Všechny spravované kódu s cílem modul common language runtime obdrží výhody zabezpečení přístupu kódu, i v případě, že kód neprovádí zabezpečení přístupu jedné kódu volání.</span><span class="sxs-lookup"><span data-stu-id="8f8bf-131">All managed code that targets the common language runtime receives the benefits of code access security, even if that code does not make a single code access security call.</span></span> <span data-ttu-id="8f8bf-132">Další informace najdete v tématu [Základy zabezpečení přístupu kódu](../../../docs/framework/misc/code-access-security-basics.md).</span><span class="sxs-lookup"><span data-stu-id="8f8bf-132">For more information, see [Code Access Security Basics](../../../docs/framework/misc/code-access-security-basics.md).</span></span>  
  
<a name="key_functions"></a>   
## <a name="key-functions-of-code-access-security"></a><span data-ttu-id="8f8bf-133">Klíčové funkce zabezpečení přístupu kódu</span><span class="sxs-lookup"><span data-stu-id="8f8bf-133">Key Functions of Code Access Security</span></span>  
 <span data-ttu-id="8f8bf-134">Zabezpečení přístupu kódu pomáhá omezit přístup k chráněným prostředkům a operace.</span><span class="sxs-lookup"><span data-stu-id="8f8bf-134">Code access security helps limit the access that code has to protected resources and operations.</span></span> <span data-ttu-id="8f8bf-135">Zabezpečení přístupu kódu v rozhraní .NET Framework, provádí následující funkce:</span><span class="sxs-lookup"><span data-stu-id="8f8bf-135">In the .NET Framework, code access security performs the following functions:</span></span>  
  
-   <span data-ttu-id="8f8bf-136">Definuje oprávnění a sady oprávnění, které představují práva pro přístup k různým prostředkům systému.</span><span class="sxs-lookup"><span data-stu-id="8f8bf-136">Defines permissions and permission sets that represent the right to access various system resources.</span></span>  
  
-   <span data-ttu-id="8f8bf-137">Umožňuje kódu požadovat, aby jeho volající mít specifické oprávnění.</span><span class="sxs-lookup"><span data-stu-id="8f8bf-137">Enables code to demand that its callers have specific permissions.</span></span>  
  
-   <span data-ttu-id="8f8bf-138">Umožňuje kódu požadovat, jeho volající měl digitální podpis, což umožňuje volání chráněného kódu pouze volajícím z určité organizace nebo webu.</span><span class="sxs-lookup"><span data-stu-id="8f8bf-138">Enables code to demand that its callers possess a digital signature, thus allowing only callers from a particular organization or site to call the protected code.</span></span>  
  
-   <span data-ttu-id="8f8bf-139">Porovnání udělená oprávnění každého volajícího v zásobníku volání oprávnění, které volající musí mít vynucuje omezení kódu v době běhu.</span><span class="sxs-lookup"><span data-stu-id="8f8bf-139">Enforces restrictions on code at run time by comparing the granted permissions of every caller on the call stack to the permissions that callers must have.</span></span>  
  
<a name="walking_the_call_stack"></a>   
## <a name="walking-the-call-stack"></a><span data-ttu-id="8f8bf-140">Procházení zásobníku volání</span><span class="sxs-lookup"><span data-stu-id="8f8bf-140">Walking the Call Stack</span></span>  
 <span data-ttu-id="8f8bf-141">K určení, zda kód je oprávněn k přístupu k prostředkům nebo k provedení operace, provede systém zabezpečení modulu runtime zásobníku volání, porovnává udělená oprávnění jednotlivých volajícího, aby požadováné.</span><span class="sxs-lookup"><span data-stu-id="8f8bf-141">To determine whether code is authorized to access a resource or perform an operation, the runtime's security system walks the call stack, comparing the granted permissions of each caller to the permission being demanded.</span></span> <span data-ttu-id="8f8bf-142">Pokud žádné volající v zásobníku volání nemá požadované oprávnění, je vyvolána výjimka zabezpečení a přístup je zamítnut.</span><span class="sxs-lookup"><span data-stu-id="8f8bf-142">If any caller in the call stack does not have the demanded permission, a security exception is thrown and access is refused.</span></span> <span data-ttu-id="8f8bf-143">Procházení zásobníku je navržená tak, aby se zabránilo útokům typu luring, ve kterém méně důvěryhodný kód volá vysoce důvěryhodný kód a používá ho k neoprávněným akcím.</span><span class="sxs-lookup"><span data-stu-id="8f8bf-143">The stack walk is designed to help prevent luring attacks, in which less-trusted code calls highly trusted code and uses it to perform unauthorized actions.</span></span> <span data-ttu-id="8f8bf-144">Náročných oprávnění všech volajících v době běhu ovlivňuje výkon, ale je nezbytné k ochraně proti útokům typu luring kódem méně důvěryhodný kód.</span><span class="sxs-lookup"><span data-stu-id="8f8bf-144">Demanding permissions of all callers at run time affects performance, but it is essential to help protect code from luring attacks by less-trusted code.</span></span> <span data-ttu-id="8f8bf-145">Za účelem optimalizace výkonu, může mít kód provést méně procházení zásobníku; musí být ale, že vždy, když to uděláte není vystavit slabá místa zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="8f8bf-145">To optimize performance, you can have your code perform fewer stack walks; however, you must be sure that you do not expose a security weakness whenever you do this.</span></span>  
  
 <span data-ttu-id="8f8bf-146">Následující obrázek znázorňuje procházení zásobníku, který nastane, když metoda v sestavení A4 vyžaduje, aby její volající měli oprávnění P.</span><span class="sxs-lookup"><span data-stu-id="8f8bf-146">The following illustration shows the stack walk that results when a method in Assembly A4 demands that its callers have permission P.</span></span>  
  
 <span data-ttu-id="8f8bf-147">![Zabezpečení přístupu ke kódu](../../../docs/framework/misc/media/slide-10a.gif "slide_10a")</span><span class="sxs-lookup"><span data-stu-id="8f8bf-147">![Code access security](../../../docs/framework/misc/media/slide-10a.gif "slide_10a")</span></span>  
<span data-ttu-id="8f8bf-148">Procházení zásobníku zabezpečení</span><span class="sxs-lookup"><span data-stu-id="8f8bf-148">Security stack walk</span></span>  
  
<a name="related_topics"></a>   
## <a name="related-topics"></a><span data-ttu-id="8f8bf-149">Související témata</span><span class="sxs-lookup"><span data-stu-id="8f8bf-149">Related Topics</span></span>  
  
|<span data-ttu-id="8f8bf-150">Název</span><span class="sxs-lookup"><span data-stu-id="8f8bf-150">Title</span></span>|<span data-ttu-id="8f8bf-151">Popis</span><span class="sxs-lookup"><span data-stu-id="8f8bf-151">Description</span></span>|  
|-----------|-----------------|  
|[<span data-ttu-id="8f8bf-152">Základy zabezpečení přístupu kódu</span><span class="sxs-lookup"><span data-stu-id="8f8bf-152">Code Access Security Basics</span></span>](../../../docs/framework/misc/code-access-security-basics.md)|<span data-ttu-id="8f8bf-153">Popisuje zabezpečení přístupu kódu a jeho nejčastější použití.</span><span class="sxs-lookup"><span data-stu-id="8f8bf-153">Describes code access security and its most common uses.</span></span>|  
|[<span data-ttu-id="8f8bf-154">Kód transparentní pro zabezpečení, úroveň 2</span><span class="sxs-lookup"><span data-stu-id="8f8bf-154">Security-Transparent Code, Level 2</span></span>](../../../docs/framework/misc/security-transparent-code-level-2.md)|<span data-ttu-id="8f8bf-155">Popisuje průhlednost model zabezpečení v nástroji [!INCLUDE[net_v40_short](../../../includes/net-v40-short-md.md)].</span><span class="sxs-lookup"><span data-stu-id="8f8bf-155">Describes the security transparency model in the [!INCLUDE[net_v40_short](../../../includes/net-v40-short-md.md)].</span></span>|  
|[<span data-ttu-id="8f8bf-156">Používání knihoven z částečně důvěryhodného kódu</span><span class="sxs-lookup"><span data-stu-id="8f8bf-156">Using Libraries from Partially Trusted Code</span></span>](../../../docs/framework/misc/using-libraries-from-partially-trusted-code.md)|<span data-ttu-id="8f8bf-157">Popisuje postup povolení knihovny pro použití s nespravovaným kódem a používání knihoven z nespravovaného kódu.</span><span class="sxs-lookup"><span data-stu-id="8f8bf-157">Describes how to enable libraries for use with unmanaged code and how to use libraries from unmanaged code.</span></span>|  
|[<span data-ttu-id="8f8bf-158">Klíčové koncepty zabezpečení</span><span class="sxs-lookup"><span data-stu-id="8f8bf-158">Key Security Concepts</span></span>](../../../docs/standard/security/key-security-concepts.md)|<span data-ttu-id="8f8bf-159">Poskytuje přehled mnoha klíčových pojmů a koncepty používané v systému zabezpečení rozhraní .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="8f8bf-159">Provides an overview of many of the key terms and concepts used in the .NET Framework security system.</span></span>|  
|[<span data-ttu-id="8f8bf-160">Zabezpečení na základě rolí</span><span class="sxs-lookup"><span data-stu-id="8f8bf-160">Role-Based Security</span></span>](../../../docs/standard/security/role-based-security.md)|<span data-ttu-id="8f8bf-161">Popisuje, jak začlenit zabezpečení na základě rolí.</span><span class="sxs-lookup"><span data-stu-id="8f8bf-161">Describes how to incorporate security based on roles.</span></span>|  
|[<span data-ttu-id="8f8bf-162">Kryptografické služby</span><span class="sxs-lookup"><span data-stu-id="8f8bf-162">Cryptographic Services</span></span>](../../../docs/standard/security/cryptographic-services.md)|<span data-ttu-id="8f8bf-163">Popisuje, jak začlenit kryptografie do vaší aplikace.</span><span class="sxs-lookup"><span data-stu-id="8f8bf-163">Describes how to incorporate cryptography into your applications.</span></span>|
