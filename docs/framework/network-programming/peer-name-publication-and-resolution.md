---
title: Název publikace peer a řešení
ms.date: 03/30/2017
ms.assetid: f0370e08-9fa6-4ee5-ab78-9a58a20a7da2
author: mcleblanc
ms.author: markl
manager: markl
ms.openlocfilehash: 4e64f1293da18823166883a869ac6377908c9e72
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 05/04/2018
ms.locfileid: "33396133"
---
# <a name="peer-name-publication-and-resolution"></a><span data-ttu-id="399c8-102">Název publikace peer a řešení</span><span class="sxs-lookup"><span data-stu-id="399c8-102">Peer Name Publication and Resolution</span></span>
## <a name="publishing-a-peer-name"></a><span data-ttu-id="399c8-103">Publikování název partnerského zařízení</span><span class="sxs-lookup"><span data-stu-id="399c8-103">Publishing a Peer Name</span></span>  
 <span data-ttu-id="399c8-104">Pokud chcete publikovat nové ID PNRP, sdílené provede následující akce:</span><span class="sxs-lookup"><span data-stu-id="399c8-104">To publish a new PNRP ID, a peer performs the following:</span></span>  
  
-   <span data-ttu-id="399c8-105">Odešle zprávy publikace PNRP pro své okolí mezipaměti (partnerské uzly, které registrovali PNRP ID na nejnižší úrovni mezipaměti) počáteční hodnoty své mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="399c8-105">Sends PNRP publication messages to its cache neighbors (the peers that have registered PNRP IDs in the lowest level of the cache) to seed their caches.</span></span>  
  
-   <span data-ttu-id="399c8-106">Vybere náhodných uzly v cloudu, které nejsou své okolí a odešle je PNRP požadavky na rozlišení názvů pro vlastní ID P2P.</span><span class="sxs-lookup"><span data-stu-id="399c8-106">Chooses random nodes in the cloud that are not its neighbors and sends them PNRP name resolution requests for its own P2P ID.</span></span> <span data-ttu-id="399c8-107">Výsledný procesu určení koncový bod doplňuje mezipamětí náhodných uzly v cloudu s ID PNRP publikování partnerského uzlu.</span><span class="sxs-lookup"><span data-stu-id="399c8-107">The resulting endpoint determination process seeds the caches of random nodes in the cloud with the PNRP ID of the publishing peer.</span></span>  
  
-  
  
 <span data-ttu-id="399c8-108">Uzly verze 2 PNRP nepublikujte PNRP ID, pokud pouze řešíme jiné ID P2P.</span><span class="sxs-lookup"><span data-stu-id="399c8-108">PNRP version 2 nodes do not publish PNRP IDs if they are only resolving other P2P IDs.</span></span> <span data-ttu-id="399c8-109">HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\PeerNet\PNRP\IPV6-Global\SearchOnly = 1 hodnotu registru (typ REG_DWORD) určuje, že partnerské uzly PNRP pouze používat pro překlad názvů, nikdy pro název publikace.</span><span class="sxs-lookup"><span data-stu-id="399c8-109">The HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\PeerNet\PNRP\IPV6-Global\SearchOnly=1 registry value (REG_DWORD type) specifies that peers only use PNRP for name resolution, never for name publication.</span></span> <span data-ttu-id="399c8-110">Tato hodnota registru můžete nakonfigurovat taky přes zásady skupiny.</span><span class="sxs-lookup"><span data-stu-id="399c8-110">This registry value can also be configured through Group Policy.</span></span>  
  
## <a name="resolving-a-peer-name"></a><span data-ttu-id="399c8-111">Řešení název partnerského zařízení</span><span class="sxs-lookup"><span data-stu-id="399c8-111">Resolving a Peer Name</span></span>  
 <span data-ttu-id="399c8-112">Vyhledávání dalších partnerských uzlů v PNRP sítě nebo cloud je proces, který sestává z dvě fáze:</span><span class="sxs-lookup"><span data-stu-id="399c8-112">Locating other peers in a PNRP network or cloud is a process comprised of two phases:</span></span>  
  
1.  <span data-ttu-id="399c8-113">Koncový bod rozhodnutí</span><span class="sxs-lookup"><span data-stu-id="399c8-113">Endpoint Determination</span></span>  
  
2.  <span data-ttu-id="399c8-114">ID řešení PNRP</span><span class="sxs-lookup"><span data-stu-id="399c8-114">PNRP ID Resolution</span></span>  
  
 <span data-ttu-id="399c8-115">Ve fázi stanovení koncový bod určuje partnerského uzlu, který se pokouší vyřešit PNRP ID služby v jiném počítači, adresa IPv6 že vzdálené sdílené.</span><span class="sxs-lookup"><span data-stu-id="399c8-115">In the endpoint determination phase, a peer that is attempting to resolve the PNRP ID of a service on another computer determines the IPv6 address of that remote peer.</span></span>  <span data-ttu-id="399c8-116">Vzdálený partner je ten, který publikována nebo je přidružený k PNRP ID počítače nebo služby.</span><span class="sxs-lookup"><span data-stu-id="399c8-116">The remote peer is the one that published, or is associated with, the PNRP ID of the computer or service.</span></span>  
  
 <span data-ttu-id="399c8-117">Po potvrzení, že vzdálený koncový bod je zaregistrován do cloudu PNRP, žádajícího sdílené ve fázi řešení PNRP ID odešle žádost do tohoto koncového bodu sdílené pro ID PNRP požadované služby.</span><span class="sxs-lookup"><span data-stu-id="399c8-117">After confirming that the remote endpoint has been registered into the PNRP cloud, the requesting peer in the PNRP ID resolution phase sends a request to that peer endpoint for the PNRP ID of the desired service.</span></span> <span data-ttu-id="399c8-118">Koncový bod odešle odpověď potvrzení PNRP ID služby, komentář, a až 4 kB Další informace vyžádání peer, můžete použít pro budoucí komunikaci.</span><span class="sxs-lookup"><span data-stu-id="399c8-118">The endpoint sends a reply confirming the PNRP ID of the service, a comment, and up to 4 kilobytes of additional information that the requesting peer can use for future communication.</span></span> <span data-ttu-id="399c8-119">Například pokud požadovaný koncový bod je serverem herní, data další sdílené název záznamu může obsahovat informace o hry, úroveň play a aktuální počet přehrávače.</span><span class="sxs-lookup"><span data-stu-id="399c8-119">For example, if the desired endpoint is a gaming server, the additional peer name record data can contain information about the game, the level of play, and the current number of players.</span></span>  
  
 <span data-ttu-id="399c8-120">Ve fázi stanovení koncový bod PNRP používá iterativní proces pro lokalizaci uzlu, který publikovaná PNRP ID, ve kterém je odpovědný za kontaktování uzlů, které jsou postupně blíže k cíli PNRP ID uzlu vyřešení</span><span class="sxs-lookup"><span data-stu-id="399c8-120">In the endpoint determination phase, PNRP uses an iterative process for locating the node that published the PNRP ID, in which the node performing the resolution is responsible for contacting nodes that are successively closer to the target PNRP ID.</span></span>  
  
 <span data-ttu-id="399c8-121">Rozlišení názvů PNRP provedete partnerem prozkoumá položek v jeho vlastní mezipaměti pro položku, která odpovídá cílové ID PNRP.</span><span class="sxs-lookup"><span data-stu-id="399c8-121">To perform name resolution in PNRP, the peer examines the entries in its own cache for an entry that matches the target PNRP ID.</span></span> <span data-ttu-id="399c8-122">Pokud najde, partnerem odešle zprávu požadavku PNRP partnerovi a čeká na odpověď.</span><span class="sxs-lookup"><span data-stu-id="399c8-122">If found, the peer sends a PNRP Request message to the peer and waits for a response.</span></span> <span data-ttu-id="399c8-123">Pokud záznam pro PNRP ID není nalezen, partnerem odešle zprávu požadavku PNRP na partnera, který odpovídá na položku, která má PNRP ID, která nejvíce odpovídá implementované cíl ID PNRP.</span><span class="sxs-lookup"><span data-stu-id="399c8-123">If an entry for the PNRP ID is not found, the peer sends a PNRP Request message to the peer that corresponds to the entry that has a PNRP ID that most closely matches the target PNRP ID.</span></span> <span data-ttu-id="399c8-124">Uzel, který obdrží zprávu požadavku PNRP prozkoumá vlastní mezipaměti a provede následující akce:</span><span class="sxs-lookup"><span data-stu-id="399c8-124">The node that receives the PNRP Request message examines its own cache and does the following:</span></span>  
  
-   <span data-ttu-id="399c8-125">Je-li PNRP ID najde, odpoví sdílené požadovaný koncový bod přímo na vyžádání partnera.</span><span class="sxs-lookup"><span data-stu-id="399c8-125">If the PNRP ID is found, the requested endpoint peer replies directly to the requesting peer.</span></span>  
  
-   <span data-ttu-id="399c8-126">Pokud nebylo nalezeno PNRP ID a s ID PNRP v mezipaměti bude co nejblíže ke PNRP ID cíle, požadované sdílené odešle odpověď na vyžádání partnera obsahující adresu IPv6 partnerského uzlu, který představuje položku s ID PNRP, které přesněji odpovídá cílovému ID PNRP.</span><span class="sxs-lookup"><span data-stu-id="399c8-126">If the PNRP ID is not found and a PNRP ID in the cache is closer to the target PNRP ID, the requested peer sends a response to the requesting peer containing the IPv6 address of the peer that represents the entry with a PNRP ID that more closely matches the target PNRP ID.</span></span> <span data-ttu-id="399c8-127">Pomocí IP adresy v odpovědi, odešle požadovaného uzlu další žádosti PNRP zprávu na adresu IPv6 reagovat nebo zkontrolujte své mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="399c8-127">Using the IP address in the response, the requesting node sends another PNRP Request message to the IPv6 address to respond or examine its cache.</span></span>  
  
-   <span data-ttu-id="399c8-128">Pokud nebylo nalezeno PNRP ID a není k dispozici žádné ID PNRP ve své mezipaměti, který je blíž ke PNRP ID cíle, odešle požadované sdílené žádajícího sdílené odpovědi, která upozorňuje na tento stav.</span><span class="sxs-lookup"><span data-stu-id="399c8-128">If the PNRP ID is not found and there is no PNRP ID in its cache that is closer to the target PNRP ID, the requested peer sends the requesting peer a response that indicates this condition.</span></span> <span data-ttu-id="399c8-129">Vyžádání sdílené potom Vybere nejbližší PNRP ID.</span><span class="sxs-lookup"><span data-stu-id="399c8-129">The requesting peer then chooses the next-closest PNRP ID.</span></span>  
  
-  
  
 <span data-ttu-id="399c8-130">Vyžádání sdílené tento proces pokračuje s po sobě následující iterace, nakonec vyhledání uzlu, který zaregistrované ID PNRP.</span><span class="sxs-lookup"><span data-stu-id="399c8-130">The requesting peer continues this process with successive iterations, eventually locating the node that registered the PNRP ID.</span></span>  
  
 <span data-ttu-id="399c8-131">V rámci <xref:System.Net.PeerToPeer> obor názvů, je vztah m: n mezi <xref:System.Net.PeerToPeer.PeerName> záznamy, které obsahují koncových bodů a cloudy PNRP nebo skupiny uzlů, ve kterých komunikují.</span><span class="sxs-lookup"><span data-stu-id="399c8-131">Within the <xref:System.Net.PeerToPeer> namespace, there is a many-to-many relationship between the <xref:System.Net.PeerToPeer.PeerName> records that contain endpoints and PNRP clouds or meshes in which they communicate.</span></span> <span data-ttu-id="399c8-132">Pokud je duplicitní nebo zastaralé položky nebo více uzlů se stejným názvem sdílené, PNRP uzly můžete získat aktuální informace o použití <xref:System.Net.PeerToPeer.PeerNameResolver> třídy.</span><span class="sxs-lookup"><span data-stu-id="399c8-132">When there are duplicate or stale entries, or multiple nodes with the same peer name, PNRP nodes can obtain current information using the <xref:System.Net.PeerToPeer.PeerNameResolver> class.</span></span> <span data-ttu-id="399c8-133"><xref:System.Net.PeerToPeer.PeerNameResolver> Metody použití název jednoho partnera ke zjednodušení perspektivy záznamy název jedné sdílené peer m a k témuž partnerovi jeden pro mnoho cloudů.</span><span class="sxs-lookup"><span data-stu-id="399c8-133">The <xref:System.Net.PeerToPeer.PeerNameResolver> methods use a single peer name to simplify the perspective to one peer-to-many peer name records and the same one peer to many clouds.</span></span> <span data-ttu-id="399c8-134">Toto je podobná dotaz provádí pomocí spojení relační tabulky.</span><span class="sxs-lookup"><span data-stu-id="399c8-134">This is similar to a query performed using a relational-table join.</span></span> <span data-ttu-id="399c8-135">Po úspěšném dokončení zpracování vrátí objekt překladače <xref:System.Net.PeerToPeer.PeerNameRecordCollection> pro název zadaný partnera.</span><span class="sxs-lookup"><span data-stu-id="399c8-135">Upon successful completion, the Resolver object returns a <xref:System.Net.PeerToPeer.PeerNameRecordCollection> for the specified peer name.</span></span>  <span data-ttu-id="399c8-136">Například název partnerského zařízení by tomu bylo ve všech záznamech název sdílené v kolekci, seřazené podle cloudu.</span><span class="sxs-lookup"><span data-stu-id="399c8-136">For example, a peer name would occur in all the peer name records in the collection, ordered by cloud.</span></span> <span data-ttu-id="399c8-137">Toto jsou instance název partnerského zařízení, jehož podpůrné data mohou být vyžádány aplikace na základě PNRP.</span><span class="sxs-lookup"><span data-stu-id="399c8-137">These are the instances of the peer name whose supporting data may be requested by a PNRP-based application.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="399c8-138">Viz také</span><span class="sxs-lookup"><span data-stu-id="399c8-138">See Also</span></span>  
 <xref:System.Net.PeerToPeer>
