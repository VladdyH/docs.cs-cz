---
title: "Mezipamětí PNRP"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 270068d9-1b6b-4eb9-9e14-e02326bb88df
caps.latest.revision: "4"
author: mcleblanc
ms.author: markl
manager: markl
ms.workload: dotnet
ms.openlocfilehash: dc9476b546ea55234c536a34416efc2bff0166de
ms.sourcegitcommit: 16186c34a957fdd52e5db7294f291f7530ac9d24
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 12/22/2017
---
# <a name="pnrp-caches"></a><span data-ttu-id="5026d-102">Mezipamětí PNRP</span><span class="sxs-lookup"><span data-stu-id="5026d-102">PNRP Caches</span></span>
<span data-ttu-id="5026d-103">Sdílené mezipaměti protokolu PNRP (Name Resolution) jsou místní kolekce koncových bodů algorithmically vybrané sdílené udržovaný na partnerský uzel.</span><span class="sxs-lookup"><span data-stu-id="5026d-103">Peer Name Resolution Protocol (PNRP) caches are local collections of algorithmically selected peer endpoints maintained on the peer.</span></span>  
  
## <a name="pnrp-cache-initialization"></a><span data-ttu-id="5026d-104">Inicializace mezipaměti PNRP</span><span class="sxs-lookup"><span data-stu-id="5026d-104">PNRP Cache Initialization</span></span>  
 <span data-ttu-id="5026d-105">K chybě při inicializaci mezipaměti PNRP nebo sdílené název záznamu kolekce, při spuštění uzlu sdílené, uzlu můžete použít následující metody:</span><span class="sxs-lookup"><span data-stu-id="5026d-105">To initialize the PNRP cache, or Peer Name Record Collection, when a peer node starts up, a node can use the following methods:</span></span>  
  
-   <span data-ttu-id="5026d-106">Trvalá mezipaměť položky, které byly při ukončení uzlu se načítají z úložiště pevný disk.</span><span class="sxs-lookup"><span data-stu-id="5026d-106">Persistent cache entries that were present when the node was shut down are loaded from hard disk storage.</span></span>  
  
-   <span data-ttu-id="5026d-107">Pokud aplikace používá infrastrukturu P2P spolupráce, spolupráce informace jsou k dispozici v obraťte se na správce pro tento uzel.</span><span class="sxs-lookup"><span data-stu-id="5026d-107">If an application uses the P2P collaboration infrastructure, collaboration information is available in the Contact Manager for that node.</span></span>  
  
## <a name="scaling-peer-name-resolution-with-a-multi-level-cache"></a><span data-ttu-id="5026d-108">Škálování Peer Name Resolution s víceúrovňovou mezipaměti</span><span class="sxs-lookup"><span data-stu-id="5026d-108">Scaling Peer Name Resolution with a Multi-Level Cache</span></span>  
 <span data-ttu-id="5026d-109">Pokud chcete zachovat velikosti mezipaměti PNRP malý, použijte partnerské uzly víceúrovňovou mezipaměti, ve kterém každá úroveň obsahuje maximální počet položek.</span><span class="sxs-lookup"><span data-stu-id="5026d-109">To keep the sizes of the PNRP caches small, peer nodes use a multi-level cache, in which each level contains a maximum number of entries.</span></span> <span data-ttu-id="5026d-110">Každou úroveň v mezipaměti představuje jednu desetinu menší část místa číslo PNRP ID (2<sup>256</sup>).</span><span class="sxs-lookup"><span data-stu-id="5026d-110">Each level in the cache represents a one tenth smaller portion of the PNRP ID number space (2<sup>256</sup>).</span></span> <span data-ttu-id="5026d-111">Nejnižší úrovni v mezipaměti obsahuje místně registrovaných ID PNRP a jiné PNRP ID, který podle čísel blíží ho.</span><span class="sxs-lookup"><span data-stu-id="5026d-111">The lowest level in the cache contains a locally registered PNRP ID and other PNRP IDs that are numerically close to it.</span></span> <span data-ttu-id="5026d-112">Jako úroveň mezipaměti je vyplněn maximálně 20 položek, vytvoří se nový nižší úrovni.</span><span class="sxs-lookup"><span data-stu-id="5026d-112">As a level of the cache is filled with a maximum of 20 entries, a new lower level is created.</span></span> <span data-ttu-id="5026d-113">Maximální počet úrovní v mezipaměti, které je v řádu log10 (celkový počet ID PNRP v cloudu).</span><span class="sxs-lookup"><span data-stu-id="5026d-113">The maximum number of levels in the cache is on the order of log10(Total number of PNRP IDs in the cloud).</span></span> <span data-ttu-id="5026d-114">Například pro globální cloudu s ID 100 miliónů PNRP, existují maximálně 8 (=log10(100,000,000)) úrovně v mezipaměti a podobné počet skoků přeložit PNRP ID při překladu.</span><span class="sxs-lookup"><span data-stu-id="5026d-114">For example, for a global cloud with 100 million PNRP IDs, there are no more than 8 (=log10(100,000,000)) levels in the cache and a similar number of hops to resolve a PNRP ID during name resolution.</span></span> <span data-ttu-id="5026d-115">Tento mechanismus umožňuje distribuované zatřiďovací tabulku, pro které mohou být vyřešeny libovolný ID PNRP předávání zpráv PNRP požadavku na nejbližší partnera, dokud nebude nalezen partnera s odpovídající CPA.</span><span class="sxs-lookup"><span data-stu-id="5026d-115">This mechanism allows for a distributed hash table for which an arbitrary PNRP ID can be resolved by forwarding PNRP Request messages to the next-closest peer until the peer with the corresponding CPA is found.</span></span>  
  
 <span data-ttu-id="5026d-116">K zajištění toho, zda řešení dokončí, pokaždé, když uzel přidá položku do nejnižší úroveň své mezipaměti ho floods kopii položky pro všechny uzly v rámci poslední úroveň mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="5026d-116">To ensure that resolution can complete, each time a node adds an entry to the lowest level of its cache, it floods a copy of the entry to all the nodes within the last level of the cache.</span></span>  
  
 <span data-ttu-id="5026d-117">Položky mezipaměti se aktualizuje v čase.</span><span class="sxs-lookup"><span data-stu-id="5026d-117">The cache entries are refreshed over time.</span></span> <span data-ttu-id="5026d-118">Položky mezipaměti, které jsou zastaralé, se odeberou z mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="5026d-118">Cache entries that are stale are removed from the cache.</span></span> <span data-ttu-id="5026d-119">Výsledkem je, že distribuované zatřiďovací tabulku PNRP ID je založen na aktivní koncových bodů, na rozdíl od DNS, ve kterém záznamy adres a protokol DNS poskytují zaručeno, že uzel přidružené k adrese je aktivně v síti.</span><span class="sxs-lookup"><span data-stu-id="5026d-119">The result is that the distributed hash table of PNRP IDs is based on active endpoints, unlike DNS in which address records and the DNS protocol provide no guarantee that the node associated with the address is actively on the network.</span></span>  
  
## <a name="other-pnrp-caches"></a><span data-ttu-id="5026d-120">Další mezipamětí PNRP</span><span class="sxs-lookup"><span data-stu-id="5026d-120">Other PNRP Caches</span></span>  
 <span data-ttu-id="5026d-121">Jiného úložiště dat je místní mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="5026d-121">Another persistent data store is the local cache.</span></span>  <span data-ttu-id="5026d-122">Kromě jiných objektů pro činnost PNRP může zahrnovat záznamy související s PNRP cloud nebo spolupráce relaci, která je bezpečně publikována a synchronizovat mezi všechny členy cloudu.</span><span class="sxs-lookup"><span data-stu-id="5026d-122">In addition to the other objects needed for PNRP activity, it may include the records associated with a PNRP cloud or collaboration session that is securely published and synchronized between all the members of the cloud.</span></span> <span data-ttu-id="5026d-123">Toto replikované úložiště představuje zobrazení dat skupiny, které by měly být stejné pro všechny členy skupiny.</span><span class="sxs-lookup"><span data-stu-id="5026d-123">This replicated store represents the view of the group data, which should be the same for all group members.</span></span> <span data-ttu-id="5026d-124">Technicky tyto objekty nejsou záznamy samo o sobě, ale místo aplikace, stavu a dat objektů, které jsou určené pro místní mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="5026d-124">Technically, these objects are not records per se, but rather application, presence, and object data destined for a local cache.</span></span> <span data-ttu-id="5026d-125">Při používání cloudových PNRP zajistí, že všechny uzly v relaci spolupráce nebo v cloudu PNRP rozšířeny objekty.</span><span class="sxs-lookup"><span data-stu-id="5026d-125">Use of the PNRP cloud ensures that objects are propagated to all nodes in the collaboration session or PNRP cloud.</span></span>  <span data-ttu-id="5026d-126">Záznam replikace mezi členy cloudu používá k šifrování a integritu dat protokol SSL.</span><span class="sxs-lookup"><span data-stu-id="5026d-126">Record replication between cloud members uses SSL to provide encryption and data integrity.</span></span>  
  
 <span data-ttu-id="5026d-127">V případě sdílené připojen do cloudu, nemá žádné automaticky místní mezipaměti dat od hostitele partnera, ke kterému jsou připojit; mají k odběru na hostitele partnera a získat aktualizace v aplikaci, stavu a data objektu.</span><span class="sxs-lookup"><span data-stu-id="5026d-127">When a peer joins a cloud, they do not automatically receive local cache data from the host peer to which they attach; they have to subscribe to the host peer to receive updates in application, presence, and object data.</span></span> <span data-ttu-id="5026d-128">Po počáteční synchronizaci synchronizaci partnerské uzly pravidelně jejich replikované úložiště zajistěte, aby všechny členy skupiny konzistentně jediného zobrazení.</span><span class="sxs-lookup"><span data-stu-id="5026d-128">After the initial synchronization, peers periodically resynchronize their replicated stores to ensure that all group members consistently have the same view.</span></span>  <span data-ttu-id="5026d-129">Spolupráce relace nebo aplikace v rámci relace spolupráce může také provádí stejnou funkci.</span><span class="sxs-lookup"><span data-stu-id="5026d-129">The collaboration session or applications within the collaboration session may also perform the same function.</span></span>  
  
 <span data-ttu-id="5026d-130">Po zahájení relace spolupráce pro cloud, aplikace můžete zaregistrovat partnerské uzly a začít publikování své informace pomocí zabezpečení definované obor cloudu.</span><span class="sxs-lookup"><span data-stu-id="5026d-130">After a collaboration session has begun for a cloud, applications can register peers and begin publishing their information using the security defined by the cloud scope.</span></span> <span data-ttu-id="5026d-131">Když sdílené připojí do cloudu, použijí se na partnera, která poskytuje obor, ve kterém se zúčastnit mechanismy zabezpečení pro cloud.</span><span class="sxs-lookup"><span data-stu-id="5026d-131">When a peer joins a cloud, the security mechanisms for the cloud are applied to the peer, giving it a scope in which to participate.</span></span>  <span data-ttu-id="5026d-132">Jeho záznamy lze publikovat v rámci oboru cloudu pak bezpečně.</span><span class="sxs-lookup"><span data-stu-id="5026d-132">Its records can then be published securely within the scope of the cloud.</span></span> <span data-ttu-id="5026d-133">Poznámka: obor cloudu nemusí být stejný jako spolupráce oboru aplikace.</span><span class="sxs-lookup"><span data-stu-id="5026d-133">Note that cloud scope may not be the same as collaboration application scope.</span></span>  
  
 <span data-ttu-id="5026d-134">Požadavky na příjem objekty z dalších partnerských uzlů můžete zaregistrovat partnerské uzly.</span><span class="sxs-lookup"><span data-stu-id="5026d-134">Peers can register interest in receiving objects from other peers.</span></span> <span data-ttu-id="5026d-135">Při aktualizaci objektu, je upozornění aplikace spolupráce a nový objekt předaný všechny odběratele aplikace.</span><span class="sxs-lookup"><span data-stu-id="5026d-135">When an object is updated, the collaboration application is notified and the new object is passed to all subscribers of the application.</span></span> <span data-ttu-id="5026d-136">Partnerského uzlu v aplikaci konverzace skupiny můžete například zaregistrovat zájem o přijetí informací o aplikaci, která se odešle všechny záznamy chat za data aplikací.</span><span class="sxs-lookup"><span data-stu-id="5026d-136">For example, a peer in a group chat application can register interest in receiving application information, which will send it all chat records as application data.</span></span>  <span data-ttu-id="5026d-137">To umožňuje sledovat činnost chat v rámci cloudu.</span><span class="sxs-lookup"><span data-stu-id="5026d-137">This allows it to monitor chat activity within the cloud.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="5026d-138">Viz také</span><span class="sxs-lookup"><span data-stu-id="5026d-138">See Also</span></span>  
 <xref:System.Net.PeerToPeer>
