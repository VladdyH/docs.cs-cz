---
title: Technologie LINQ to XML zabezpečení (Visual Basic)
ms.date: 07/20/2015
ms.assetid: d99b4af2-d447-4a3b-991b-6da0231a8637
ms.openlocfilehash: 3f75377502b30b03090bb2a5fe720faf4e12a028
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 05/04/2018
ms.locfileid: "33655455"
---
# <a name="linq-to-xml-security-visual-basic"></a><span data-ttu-id="0db27-102">Technologie LINQ to XML zabezpečení (Visual Basic)</span><span class="sxs-lookup"><span data-stu-id="0db27-102">LINQ to XML Security (Visual Basic)</span></span>
<span data-ttu-id="0db27-103">Toto téma popisuje problémy se zabezpečením přidružené technologie LINQ to XML.</span><span class="sxs-lookup"><span data-stu-id="0db27-103">This topic describes security issues associated with LINQ to XML.</span></span> <span data-ttu-id="0db27-104">Kromě toho obsahuje některé pokyny pro minimalizaci ohrožení zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="0db27-104">In addition, it provides some guidance for mitigating security exposure.</span></span>  
  
## <a name="linq-to-xml-security-overview"></a><span data-ttu-id="0db27-105">Technologie LINQ to XML Přehled zabezpečení</span><span class="sxs-lookup"><span data-stu-id="0db27-105">LINQ to XML Security Overview</span></span>  
 <span data-ttu-id="0db27-106">Technologie LINQ to XML je určeno více pro programování pohodlí než pro serverové aplikace s požadavky na přísné zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="0db27-106">LINQ to XML is designed more for programming convenience than for server-side applications with stringent security requirements.</span></span> <span data-ttu-id="0db27-107">Většina scénářů XML obsahovat zpracování důvěryhodných dokumentů XML, nikoli zpracování nedůvěryhodné dokumentů XML, které jsou odeslány na server.</span><span class="sxs-lookup"><span data-stu-id="0db27-107">Most XML scenarios consist of processing trusted XML documents, rather than processing untrusted XML documents that are uploaded to a server.</span></span> <span data-ttu-id="0db27-108">Technologie LINQ to XML je optimalizovaná pro tyto scénáře.</span><span class="sxs-lookup"><span data-stu-id="0db27-108">LINQ to XML is optimized for these scenarios.</span></span>  
  
 <span data-ttu-id="0db27-109">Pokud je nutné zpracovat nedůvěryhodné data z neznámých zdrojů, Microsoft doporučuje používat instanci <xref:System.Xml.XmlReader> třídy, který byl nakonfigurován pro odfiltrování známé XML útoků DoS (DoS).</span><span class="sxs-lookup"><span data-stu-id="0db27-109">If you must process untrusted data from unknown sources, Microsoft recommends that you use an instance of the <xref:System.Xml.XmlReader> class that has been configured to filter out known XML denial of service (DoS) attacks.</span></span>  
  
 <span data-ttu-id="0db27-110">Pokud jste nakonfigurovali <xref:System.Xml.XmlReader> zmírnit útoků DOS, můžete použít tento čtečky naplnit LINQ to XML stromu a využívat výhod vylepšení produktivitu programátory technologie LINQ to XML.</span><span class="sxs-lookup"><span data-stu-id="0db27-110">If you have configured an <xref:System.Xml.XmlReader> to mitigate denial of service attacks, you can use that reader to populate a LINQ to XML tree and still benefit from the programmer productivity enhancements of LINQ to XML.</span></span> <span data-ttu-id="0db27-111">Mnoho postupů zmírnění zahrnují vytváření čtenářů, které jsou nakonfigurované ke zmírnění problém zabezpečení a pak vytváření instancí strom XML prostřednictvím nakonfigurované čtečky.</span><span class="sxs-lookup"><span data-stu-id="0db27-111">Many mitigation techniques involve creating readers that are configured to mitigate the security issue, and then instantiating an XML tree through the configured reader.</span></span>  
  
 <span data-ttu-id="0db27-112">XML je vnitřně bude zranitelný vůči útoku DOS, protože dokumenty jsou bez vazby v velikost, hloubku, velikost názvu elementu a další.</span><span class="sxs-lookup"><span data-stu-id="0db27-112">XML is intrinsically vulnerable to denial of service attacks because documents are unbounded in size, depth, element name size, and more.</span></span> <span data-ttu-id="0db27-113">Bez ohledu na komponentu, který použijete k procesu XML jste měli vždy připravte se na recyklovat doménu aplikace, pokud využívá příliš prostředků.</span><span class="sxs-lookup"><span data-stu-id="0db27-113">Regardless of the component that you use to process XML, you should always be prepared to recycle the application domain if it uses excessive resources.</span></span>  
  
## <a name="mitigation-of-xml-xsd-xpath-and-xslt-attacks"></a><span data-ttu-id="0db27-114">Zmírnění dopadů XML, XSD, XPath a útoky XSLT</span><span class="sxs-lookup"><span data-stu-id="0db27-114">Mitigation of XML, XSD, XPath, and XSLT Attacks</span></span>  
 <span data-ttu-id="0db27-115">Technologie LINQ to XML je založena na <xref:System.Xml.XmlReader> a <xref:System.Xml.XmlWriter>.</span><span class="sxs-lookup"><span data-stu-id="0db27-115">LINQ to XML is built upon <xref:System.Xml.XmlReader> and <xref:System.Xml.XmlWriter>.</span></span> <span data-ttu-id="0db27-116">Technologie LINQ to XML podporuje XSD a XPath prostřednictvím metody rozšíření v <xref:System.Xml.Schema?displayProperty=nameWithType> a <xref:System.Xml.XPath?displayProperty=nameWithType> obory názvů.</span><span class="sxs-lookup"><span data-stu-id="0db27-116">LINQ to XML supports XSD and XPath through extension methods in the <xref:System.Xml.Schema?displayProperty=nameWithType> and <xref:System.Xml.XPath?displayProperty=nameWithType> namespaces.</span></span> <span data-ttu-id="0db27-117">Pomocí <xref:System.Xml.XmlReader>, <xref:System.Xml.XPath.XPathNavigator>, a <xref:System.Xml.XmlWriter> třídy ve spojení s technologie LINQ to XML, můžete vyvolat XSLT k transformaci stromy XML.</span><span class="sxs-lookup"><span data-stu-id="0db27-117">Using the <xref:System.Xml.XmlReader>, <xref:System.Xml.XPath.XPathNavigator>, and <xref:System.Xml.XmlWriter> classes in conjunction with LINQ to XML, you can invoke XSLT to transform XML trees.</span></span>  
  
 <span data-ttu-id="0db27-118">Pokud pracujete v méně zabezpečeném prostředí, existují určité problémy zabezpečení, které jsou spojeny s XML a použití třídy v <xref:System.Xml?displayProperty=nameWithType>, <xref:System.Xml.Schema?displayProperty=nameWithType>, <xref:System.Xml.XPath?displayProperty=nameWithType>, a <xref:System.Xml.Xsl?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="0db27-118">If you are operating in a less secure environment, there are a number of security issues that are associated with XML and the use of the classes in <xref:System.Xml?displayProperty=nameWithType>, <xref:System.Xml.Schema?displayProperty=nameWithType>, <xref:System.Xml.XPath?displayProperty=nameWithType>, and <xref:System.Xml.Xsl?displayProperty=nameWithType>.</span></span> <span data-ttu-id="0db27-119">Tyto problémy patří, ale nejsou omezeny následující:</span><span class="sxs-lookup"><span data-stu-id="0db27-119">These issues include, but are not limited to, the following:</span></span>  
  
-   <span data-ttu-id="0db27-120">XSD, XPath a XSLT jsou založené na řetězcích jazyky, ve kterých můžete zadat operace, které využívají spoustu času nebo paměti.</span><span class="sxs-lookup"><span data-stu-id="0db27-120">XSD, XPath, and XSLT are string-based languages in which you can specify operations that consume a lot of time or memory.</span></span> <span data-ttu-id="0db27-121">Je zodpovědností aplikace programátory, kteří přijímají řetězce XSD, XPath nebo XSLT z nedůvěryhodných zdrojů k ověření, že řetězce nejsou škodlivý, nebo k monitorování a zmírnit možnost, že vyhodnocování tyto řetězce povede k nadměrnému systému spotřeby prostředků.</span><span class="sxs-lookup"><span data-stu-id="0db27-121">It is the responsibility of application programmers who take XSD, XPath, or XSLT strings from untrusted sources to validate that the strings are not malicious, or to monitor and mitigate the possibility that evaluating these strings will lead to excessive system resource consumption.</span></span>  
  
-   <span data-ttu-id="0db27-122">XSD schémata (včetně vložená schémata) jsou ze své podstaty bude zranitelný vůči útoku DoS; schémata z nedůvěryhodných zdrojů nesmí přijmout.</span><span class="sxs-lookup"><span data-stu-id="0db27-122">XSD schemas (including inline schemas) are inherently vulnerable to denial of service attacks; you should not accept schemas from untrusted sources.</span></span>  
  
-   <span data-ttu-id="0db27-123">XSD a XSLT mohou obsahovat odkazy na další soubory a tyto odkazy můžete vést útoky mezi zóny a napříč doménami.</span><span class="sxs-lookup"><span data-stu-id="0db27-123">XSD and XSLT can include references to other files, and such references can result in cross-zone and cross-domain attacks.</span></span>  
  
-   <span data-ttu-id="0db27-124">Externí entity v specifikace DTD může způsobit útoky mezi zóny a napříč doménami.</span><span class="sxs-lookup"><span data-stu-id="0db27-124">External entities in DTDs can result in cross-zone and cross-domain attacks.</span></span>  
  
-   <span data-ttu-id="0db27-125">Specifikace DTD se stát terčem útoku DOS.</span><span class="sxs-lookup"><span data-stu-id="0db27-125">DTDs are vulnerable to denial of service attacks.</span></span>  
  
-   <span data-ttu-id="0db27-126">Výjimečně hloubkové dokumentů XML může představovat odmítnutí problémů služby; můžete chtít omezit hloubka dokumentů XML.</span><span class="sxs-lookup"><span data-stu-id="0db27-126">Exceptionally deep XML documents can pose denial of service issues; you might want to limit the depth of XML documents.</span></span>  
  
-   <span data-ttu-id="0db27-127">Nepřijímají podpůrné součásti, jako například <xref:System.Xml.NameTable>, <xref:System.Xml.XmlNamespaceManager>, a <xref:System.Xml.XmlResolver> objekty z nedůvěryhodné sestavení.</span><span class="sxs-lookup"><span data-stu-id="0db27-127">Do not accept supporting components, such as <xref:System.Xml.NameTable>, <xref:System.Xml.XmlNamespaceManager>, and <xref:System.Xml.XmlResolver> objects, from untrusted assemblies.</span></span>  
  
-   <span data-ttu-id="0db27-128">Čtení dat v blocích pro snížit riziko útoků velké dokumentu.</span><span class="sxs-lookup"><span data-stu-id="0db27-128">Read data in chunks to mitigate large document attacks.</span></span>  
  
-   <span data-ttu-id="0db27-129">Bloky skriptu v stylů XSLT můžete vystavit číslo útoků.</span><span class="sxs-lookup"><span data-stu-id="0db27-129">Script blocks in XSLT style sheets can expose a number of attacks.</span></span>  
  
-   <span data-ttu-id="0db27-130">Ověření pečlivě před vytvořením dynamické výrazech XPath.</span><span class="sxs-lookup"><span data-stu-id="0db27-130">Validate carefully before constructing dynamic XPath expressions.</span></span>  
  
## <a name="linq-to-xml-security-issues"></a><span data-ttu-id="0db27-131">Technologie LINQ to XML problémy se zabezpečením</span><span class="sxs-lookup"><span data-stu-id="0db27-131">LINQ to XML Security Issues</span></span>  
 <span data-ttu-id="0db27-132">Problémy se zabezpečením v tomto tématu nejsou přítomny v libovolném pořadí.</span><span class="sxs-lookup"><span data-stu-id="0db27-132">The security issues in this topic are not presented in any particular order.</span></span> <span data-ttu-id="0db27-133">Všechny problémy jsou důležité a mělo by se řešit podle potřeby.</span><span class="sxs-lookup"><span data-stu-id="0db27-133">All issues are important and should be addressed as appropriate.</span></span>  
  
 <span data-ttu-id="0db27-134">Úspěšné zvýšení oprávnění dává větší kontrolu nad jeho prostředí škodlivé sestavení.</span><span class="sxs-lookup"><span data-stu-id="0db27-134">A successful elevation of privilege attack gives a malicious assembly more control over its environment.</span></span> <span data-ttu-id="0db27-135">Úspěšné zvýšení úrovně oprávnění útoku může vést k úniku dat, odmítnutí služby a další.</span><span class="sxs-lookup"><span data-stu-id="0db27-135">A successful elevation of privilege attack can result in disclosure of data, denial of service, and more.</span></span>  
  
 <span data-ttu-id="0db27-136">Aplikace neměl zpřístupnit data pro uživatele, kteří nejste oprávněni zobrazit tato data.</span><span class="sxs-lookup"><span data-stu-id="0db27-136">Applications should not disclose data to users who are not authorized to see that data.</span></span>  
  
 <span data-ttu-id="0db27-137">Útoků DoS způsobit analyzátor XML nebo LINQ XML využívat nadměrné množství paměti nebo doba využití procesoru.</span><span class="sxs-lookup"><span data-stu-id="0db27-137">Denial of service attacks cause the XML parser or LINQ to XML to consume excessive amounts of memory or CPU time.</span></span> <span data-ttu-id="0db27-138">Útoků DOS se považují za méně závažné než zvýšení oprávnění útoků nebo zpřístupnění dat útoků.</span><span class="sxs-lookup"><span data-stu-id="0db27-138">Denial of service attacks are considered to be less severe than elevation of privilege attacks or disclosure of data attacks.</span></span> <span data-ttu-id="0db27-139">Jsou to ale důležité v případě, kdy je server ke zpracování dokumentů XML z nedůvěryhodných zdrojů.</span><span class="sxs-lookup"><span data-stu-id="0db27-139">However, they are important in a scenario where a server needs to process XML documents from untrusted sources.</span></span>  
  
### <a name="exceptions-and-error-messages-might-reveal-data"></a><span data-ttu-id="0db27-140">Výjimky a chybové zprávy může odhalit dat</span><span class="sxs-lookup"><span data-stu-id="0db27-140">Exceptions and Error Messages Might Reveal Data</span></span>  
 <span data-ttu-id="0db27-141">Popis chyby může odhalit dat, jako je transformovat data, soubor názvy nebo podrobnosti implementace.</span><span class="sxs-lookup"><span data-stu-id="0db27-141">The description of an error might reveal data, such as the data being transformed, file names, or implementation details.</span></span> <span data-ttu-id="0db27-142">Chybové zprávy by neměly být vystaveny pro volající, které nejsou důvěryhodné.</span><span class="sxs-lookup"><span data-stu-id="0db27-142">Error messages should not be exposed to callers that are not trusted.</span></span> <span data-ttu-id="0db27-143">Měli catch všechny chyby a chyby sestavy s vlastními vlastní chybové zprávy.</span><span class="sxs-lookup"><span data-stu-id="0db27-143">You should catch all errors and report errors with your own custom error messages.</span></span>  
  
### <a name="do-not-call-codeaccesspermissionsassert-in-an-event-handler"></a><span data-ttu-id="0db27-144">Nevolejte CodeAccessPermissions.Assert v obslužné rutině události</span><span class="sxs-lookup"><span data-stu-id="0db27-144">Do Not Call CodeAccessPermissions.Assert in an Event Handler</span></span>  
 <span data-ttu-id="0db27-145">Sestavení může mít menší nebo větší oprávnění.</span><span class="sxs-lookup"><span data-stu-id="0db27-145">An assembly can have lesser or greater permissions.</span></span> <span data-ttu-id="0db27-146">Sestavení, který má větší oprávnění má větší kontrolu nad počítačem a jeho prostředí.</span><span class="sxs-lookup"><span data-stu-id="0db27-146">An assembly that has greater permissions has greater control over the computer and its environments.</span></span>  
  
 <span data-ttu-id="0db27-147">Volá-li kód v sestavení s větší oprávnění <xref:System.Security.CodeAccessPermission.Assert%2A?displayProperty=nameWithType> obslužné rutiny události, a potom soubor XML stromu předaný škodlivé sestavení, má omezená oprávnění, škodlivý sestavení může způsobit, že má být aktivována událost.</span><span class="sxs-lookup"><span data-stu-id="0db27-147">If code in an assembly with greater permissions calls <xref:System.Security.CodeAccessPermission.Assert%2A?displayProperty=nameWithType> in an event handler, and then the XML tree is passed to a malicious assembly that has restricted permissions, the malicious assembly can cause an event to be raised.</span></span> <span data-ttu-id="0db27-148">Vzhledem k tomu, že událost spustí kód, který je v sestavení s větší oprávnění, škodlivý sestavení by pak operační se zvýšenými oprávněními.</span><span class="sxs-lookup"><span data-stu-id="0db27-148">Because the event runs code that is in the assembly with greater permissions, the malicious assembly would then be operating with elevated privileges.</span></span>  
  
 <span data-ttu-id="0db27-149">Společnost Microsoft doporučuje, aby nikdy volat <xref:System.Security.CodeAccessPermission.Assert%2A?displayProperty=nameWithType> v obslužné rutině události.</span><span class="sxs-lookup"><span data-stu-id="0db27-149">Microsoft recommends that you never call <xref:System.Security.CodeAccessPermission.Assert%2A?displayProperty=nameWithType> in an event handler.</span></span>  
  
### <a name="dtds-are-not-secure"></a><span data-ttu-id="0db27-150">Specifikace DTD jsou zabezpečení</span><span class="sxs-lookup"><span data-stu-id="0db27-150">DTDs are Not Secure</span></span>  
 <span data-ttu-id="0db27-151">Entity v specifikace DTD jsou ze své podstaty není bezpečné.</span><span class="sxs-lookup"><span data-stu-id="0db27-151">Entities in DTDs are inherently not secure.</span></span> <span data-ttu-id="0db27-152">Je možné pro škodlivý dokument XML, který obsahuje DTD způsobí analyzátor používat všechny paměti a času procesoru, odepření služby.</span><span class="sxs-lookup"><span data-stu-id="0db27-152">It is possible for a malicious XML document that contains a DTD to cause the parser to use all memory and CPU time, causing a denial of service attack.</span></span> <span data-ttu-id="0db27-153">Proto v technologii LINQ to XML DTD zpracování je vypnutý ve výchozím nastavení.</span><span class="sxs-lookup"><span data-stu-id="0db27-153">Therefore, in LINQ to XML, DTD processing is turned off by default.</span></span> <span data-ttu-id="0db27-154">Specifikace DTD z nedůvěryhodných zdrojů nesmí přijmout.</span><span class="sxs-lookup"><span data-stu-id="0db27-154">You should not accept DTDs from untrusted sources.</span></span>  
  
 <span data-ttu-id="0db27-155">Jedním z příkladů přijetí specifikace DTD z nedůvěryhodných zdrojů je webovou aplikaci, která umožňuje uživatelům webové nahrát soubor XML, který odkazuje na DTD a souboru DTD.</span><span class="sxs-lookup"><span data-stu-id="0db27-155">One example of accepting DTDs from untrusted sources is a Web application that allows Web users to upload an XML file that references a DTD and a DTD file.</span></span> <span data-ttu-id="0db27-156">Při ověřování souboru by mohl spustit škodlivý DTD útoku DOS na vašem serveru.</span><span class="sxs-lookup"><span data-stu-id="0db27-156">Upon validation of the file, a malicious DTD could execute a denial of service attack on your server.</span></span> <span data-ttu-id="0db27-157">Dalším příkladem přijetí specifikace DTD z nedůvěryhodných zdrojů je tak, aby odkazovaly DTD ve sdílené síťové složce, která také umožňuje anonymní přístup k serveru FTP.</span><span class="sxs-lookup"><span data-stu-id="0db27-157">Another example of accepting DTDs from untrusted sources is to reference a DTD on a network share that also allows anonymous FTP access.</span></span>  
  
### <a name="avoid-excessive-buffer-allocation"></a><span data-ttu-id="0db27-158">Vyhněte se nadměrné vyrovnávací paměti přidělení</span><span class="sxs-lookup"><span data-stu-id="0db27-158">Avoid Excessive Buffer Allocation</span></span>  
 <span data-ttu-id="0db27-159">Vývojáři aplikací měli vědět, že velmi rozsáhlých datových zdrojů může vést k vyčerpání prostředků a útoku DOS.</span><span class="sxs-lookup"><span data-stu-id="0db27-159">Application developers should be aware that extremely large data sources can lead to resource exhaustion and denial of service attacks.</span></span>  
  
 <span data-ttu-id="0db27-160">Pokud uživatel se zlými úmysly odešle nebo odešle velké dokument XML, může se stát, LINQ to XML využívat nadměrné systémové prostředky.</span><span class="sxs-lookup"><span data-stu-id="0db27-160">If a malicious user submits or uploads a very large XML document, it could cause LINQ to XML to consume excessive system resources.</span></span> <span data-ttu-id="0db27-161">To může představovat útoku DOS.</span><span class="sxs-lookup"><span data-stu-id="0db27-161">This can constitute a denial of service attack.</span></span> <span data-ttu-id="0db27-162">Chcete-li tomu zabránit, můžete nastavit <xref:System.Xml.XmlReaderSettings.MaxCharactersInDocument%2A?displayProperty=nameWithType> vlastnost a vytvořit čtečku, která je pak omezenou velikost dokumentu, který může načíst.</span><span class="sxs-lookup"><span data-stu-id="0db27-162">To prevent this, you can set the <xref:System.Xml.XmlReaderSettings.MaxCharactersInDocument%2A?displayProperty=nameWithType> property, and create a reader that is then limited in the size of document that it can load.</span></span> <span data-ttu-id="0db27-163">Čtečka pak použijete k vytvoření stromové struktuře XML.</span><span class="sxs-lookup"><span data-stu-id="0db27-163">You then use the reader to create the XML tree.</span></span>  
  
 <span data-ttu-id="0db27-164">Například pokud víte, že maximální očekávaná velikost dokumentů XML pocházejících z nedůvěryhodného zdroje budou méně než 50 tisíc bajtů, nastavte <xref:System.Xml.XmlReaderSettings.MaxCharactersInDocument%2A?displayProperty=nameWithType> na 100 000.</span><span class="sxs-lookup"><span data-stu-id="0db27-164">For example, if you know that the maximum expected size of your XML documents coming from an untrusted source will be less than 50K bytes, set <xref:System.Xml.XmlReaderSettings.MaxCharactersInDocument%2A?displayProperty=nameWithType> to 100,000.</span></span> <span data-ttu-id="0db27-165">To nebude encumber zpracování dokumentů XML a současně ho bude zmírnit útok na dostupnost služby hrozeb kde může nahrát dokumenty, které by využívat velké množství paměti.</span><span class="sxs-lookup"><span data-stu-id="0db27-165">This will not encumber your processing of XML documents, and at the same time it will mitigate denial of service threats where documents might be uploaded that would consume large amounts of memory.</span></span>  
  
### <a name="avoid-excess-entity-expansion"></a><span data-ttu-id="0db27-166">Vyhněte se nadměrné Entity rozšíření</span><span class="sxs-lookup"><span data-stu-id="0db27-166">Avoid Excess Entity Expansion</span></span>  
 <span data-ttu-id="0db27-167">Jeden z známých útoků DOS při použití DTD je dokument, který způsobí, že rozšíření nadměrné entity.</span><span class="sxs-lookup"><span data-stu-id="0db27-167">One of the known denial of service attacks when using a DTD is a document that causes excessive entity expansion.</span></span> <span data-ttu-id="0db27-168">Chcete-li tomu zabránit, můžete nastavit <xref:System.Xml.XmlReaderSettings.MaxCharactersFromEntities%2A?displayProperty=nameWithType> vlastnost a vytvořit čtečku, který je pak omezená počtu znaků, které jsou výsledkem rozšíření entity.</span><span class="sxs-lookup"><span data-stu-id="0db27-168">To prevent this, you can set the <xref:System.Xml.XmlReaderSettings.MaxCharactersFromEntities%2A?displayProperty=nameWithType> property, and create a reader that is then limited in the number of characters that result from entity expansion.</span></span> <span data-ttu-id="0db27-169">Čtečka pak použijete k vytvoření stromové struktuře XML.</span><span class="sxs-lookup"><span data-stu-id="0db27-169">You then use the reader to create the XML tree.</span></span>  
  
### <a name="limit-the-depth-of-the-xml-hierarchy"></a><span data-ttu-id="0db27-170">Maximální hloubka hierarchii XML</span><span class="sxs-lookup"><span data-stu-id="0db27-170">Limit the Depth of the XML Hierarchy</span></span>  
 <span data-ttu-id="0db27-171">Jeden možné útoku DOS je při odeslání dokumentu, který má nadměrné hloubku hierarchie.</span><span class="sxs-lookup"><span data-stu-id="0db27-171">One possible denial of service attack is when a document is submitted that has excessive depth of hierarchy.</span></span> <span data-ttu-id="0db27-172">Chcete-li tomu zabránit, můžete zabalit <xref:System.Xml.XmlReader> v vlastní třídu, která udává hloubka elementů.</span><span class="sxs-lookup"><span data-stu-id="0db27-172">To prevent this, you can wrap a <xref:System.Xml.XmlReader> in your own class that counts the depth of elements.</span></span> <span data-ttu-id="0db27-173">Pokud je hloubkou překročí předem určený přiměřenou úroveň, můžete ukončit zpracování škodlivý dokumentu.</span><span class="sxs-lookup"><span data-stu-id="0db27-173">If the depth exceeds a predetermined reasonable level, you can terminate the processing of the malicious document.</span></span>  
  
### <a name="protect-against-untrusted-xmlreader-or-xmlwriter-implementations"></a><span data-ttu-id="0db27-174">Ochrana proti nedůvěryhodné XmlReader nebo XmlWriter implementace</span><span class="sxs-lookup"><span data-stu-id="0db27-174">Protect Against Untrusted XmlReader or XmlWriter Implementations</span></span>  
 <span data-ttu-id="0db27-175">Správci by měli ověřit, že všechny externě zadaný <xref:System.Xml.XmlReader> nebo <xref:System.Xml.XmlWriter> implementace silné názvy a byly zaregistrovány v konfiguraci počítače.</span><span class="sxs-lookup"><span data-stu-id="0db27-175">Administrators should verify that any externally supplied <xref:System.Xml.XmlReader> or <xref:System.Xml.XmlWriter> implementations have strong names and have been registered in the machine configuration.</span></span> <span data-ttu-id="0db27-176">Tím se zabrání škodlivý kód vydávají za čtečka nebo zápisu u načítá.</span><span class="sxs-lookup"><span data-stu-id="0db27-176">This prevents malicious code masquerading as a reader or writer from being loaded.</span></span>  
  
### <a name="periodically-free-objects-that-reference-xname"></a><span data-ttu-id="0db27-177">Pravidelně volné objekty XName tento odkaz</span><span class="sxs-lookup"><span data-stu-id="0db27-177">Periodically Free Objects that Reference XName</span></span>  
 <span data-ttu-id="0db27-178">K ochraně proti určitými typy útoků, by měl programátorům aplikací bez všechny objekty, které odkazují <xref:System.Xml.Linq.XName> objekt v doméně aplikace v pravidelných intervalech.</span><span class="sxs-lookup"><span data-stu-id="0db27-178">To protect against certain kinds of attacks, application programmers should free all objects that reference an <xref:System.Xml.Linq.XName> object in the application domain on a regular basis.</span></span>  
  
### <a name="protect-against-random-xml-names"></a><span data-ttu-id="0db27-179">Ochrana proti názvy náhodných XML</span><span class="sxs-lookup"><span data-stu-id="0db27-179">Protect Against Random XML Names</span></span>  
 <span data-ttu-id="0db27-180">Aplikace, které potřebují dat z nedůvěryhodných zdrojů byste měli zvážit použití <xref:System.Xml.XmlReader> tedy zabalené v vlastní kód ke kontrole možnost náhodných názvů XML a obory názvů.</span><span class="sxs-lookup"><span data-stu-id="0db27-180">Applications that take data from untrusted sources should consider using an <xref:System.Xml.XmlReader> that is wrapped in custom code to inspect for the possibility of random XML names and namespaces.</span></span> <span data-ttu-id="0db27-181">Pokud nejsou zjištěny tyto náhodných názvů XML a obory názvů, můžete aplikaci pak ukončit zpracování škodlivý dokumentu.</span><span class="sxs-lookup"><span data-stu-id="0db27-181">If such random XML names and namespaces are detected, the application can then terminate the processing of the malicious document.</span></span>  
  
 <span data-ttu-id="0db27-182">Můžete chtít omezit počet názvy v daném oboru názvů (včetně názvů v žádné oboru názvů) přiměřených finančních omezení.</span><span class="sxs-lookup"><span data-stu-id="0db27-182">You might want to limit the number of names in any given namespace (including names in no namespace) to a reasonable limit.</span></span>  
  
### <a name="annotations-are-accessible-by-software-components-that-share-a-linq-to-xml-tree"></a><span data-ttu-id="0db27-183">Poznámky jsou přístupné pro softwarové komponenty, které sdílejí LINQ to XML stromu</span><span class="sxs-lookup"><span data-stu-id="0db27-183">Annotations Are Accessible by Software Components that Share a LINQ to XML Tree</span></span>  
 <span data-ttu-id="0db27-184">Technologie LINQ to XML lze použít k vytvoření kanálů pro zpracování ve kterých součásti jinou aplikaci načíst, ověření, dotaz, transformace, aktualizovat a uložit data XML, který je předán mezi součástmi jako XML stromy.</span><span class="sxs-lookup"><span data-stu-id="0db27-184">LINQ to XML could be used to build processing pipelines in which different application components load, validate, query, transform, update, and save XML data that is passed between components as XML trees.</span></span> <span data-ttu-id="0db27-185">To může pomoct optimalizace výkonu, protože režii načítání a serializaci objektů textu XML se provádí pouze na konci kanálu.</span><span class="sxs-lookup"><span data-stu-id="0db27-185">This can help optimize performance, because the overhead of loading and serializing objects to XML text is done only at the ends of the pipeline.</span></span> <span data-ttu-id="0db27-186">Vývojáři musí Mějte ale na, zda jsou přístupné pro ostatní součásti poznámky a obslužné rutiny událostí vytvořené jedna součást.</span><span class="sxs-lookup"><span data-stu-id="0db27-186">Developers must be aware, however, that all annotations and event handlers created by one component are accessible to other components.</span></span> <span data-ttu-id="0db27-187">Pokud komponenty mají různé úrovně důvěryhodnosti, to můžete vytvořit řada chyb.</span><span class="sxs-lookup"><span data-stu-id="0db27-187">This can create a number of vulnerabilities if the components have different levels of trust.</span></span> <span data-ttu-id="0db27-188">K vytvoření zabezpečeného kanály napříč méně součástí důvěryhodný, musí serializovat LINQ na objekty XML do textu XML před jejím odesláním do nedůvěryhodné komponenty.</span><span class="sxs-lookup"><span data-stu-id="0db27-188">To build secure pipelines across less trusted components, you must serialize LINQ to XML objects to XML text before passing the data to an untrusted component.</span></span>  
  
 <span data-ttu-id="0db27-189">Modul CLR (CLR) zajišťuje některé zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="0db27-189">Some security is provided by the common language runtime (CLR).</span></span> <span data-ttu-id="0db27-190">Například komponenty, která nezahrnuje Soukromá třída nemůže získat přístup s klíči třídy poznámky.</span><span class="sxs-lookup"><span data-stu-id="0db27-190">For example, a component that does not include a private class cannot access annotations keyed by that class.</span></span> <span data-ttu-id="0db27-191">Poznámky však lze odstranit součásti, které nelze přečíst.</span><span class="sxs-lookup"><span data-stu-id="0db27-191">However, annotations can be deleted by components that cannot read them.</span></span> <span data-ttu-id="0db27-192">Tento soubor lze použít jako zneužitím útoku.</span><span class="sxs-lookup"><span data-stu-id="0db27-192">This could be used as a tampering attack.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="0db27-193">Viz také</span><span class="sxs-lookup"><span data-stu-id="0db27-193">See Also</span></span>  
 [<span data-ttu-id="0db27-194">Průvodce programováním (technologie LINQ to XML) (Visual Basic)</span><span class="sxs-lookup"><span data-stu-id="0db27-194">Programming Guide (LINQ to XML) (Visual Basic)</span></span>](../../../../visual-basic/programming-guide/concepts/linq/programming-guide-linq-to-xml.md)
