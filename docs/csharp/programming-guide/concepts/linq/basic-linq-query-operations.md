---
title: Základní operace dotazů LINQ (C#)
ms.date: 07/20/2015
helpviewer_keywords:
- orderby clause [LINQ in C#]
- ordering data [LINQ in C#]
- selecting data [LINQ in C#]
- queries [LINQ in C#], basic operations
- grouping data [LINQ in C#]
- data sources [LINQ in C#]
- sorting data [LINQ in C#]
- projections [LINQ in C#]
- filtering data [LINQ in C#]
- joining data [LINQ in C#]
- select clause [LINQ in C#]
- LINQ [C#], basic query operations
- join clause [LINQ in C#]
- group clause [LINQ in C#]
ms.assetid: a7ea3421-1cf4-4df7-832a-aa22fe6379e9
ms.openlocfilehash: 8b8237a09b36114f7100c90cee0bd753236789fd
ms.sourcegitcommit: 2eceb05f1a5bb261291a1f6a91c5153727ac1c19
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 09/04/2018
ms.locfileid: "43522617"
---
# <a name="basic-linq-query-operations-c"></a><span data-ttu-id="61c0c-102">Základní operace dotazů LINQ (C#)</span><span class="sxs-lookup"><span data-stu-id="61c0c-102">Basic LINQ Query Operations (C#)</span></span>
<span data-ttu-id="61c0c-103">Toto téma nabízí stručný úvod do [!INCLUDE[vbteclinq](~/includes/vbteclinq-md.md)] dotazů výrazy a některé typické druhy operací, které provedete v dotazu.</span><span class="sxs-lookup"><span data-stu-id="61c0c-103">This topic gives a brief introduction to [!INCLUDE[vbteclinq](~/includes/vbteclinq-md.md)] query expressions and some of the typical kinds of operations that you perform in a query.</span></span> <span data-ttu-id="61c0c-104">Podrobnější informace jsou v následujících tématech:</span><span class="sxs-lookup"><span data-stu-id="61c0c-104">More detailed information is in the following topics:</span></span>  
  
 [<span data-ttu-id="61c0c-105">LINQ – výrazy dotazů</span><span class="sxs-lookup"><span data-stu-id="61c0c-105">LINQ Query Expressions</span></span>](../../../../csharp/programming-guide/linq-query-expressions/index.md)  
  
 [<span data-ttu-id="61c0c-106">Přehled standardních operátorů dotazu (C#)</span><span class="sxs-lookup"><span data-stu-id="61c0c-106">Standard Query Operators Overview (C#)</span></span>](../../../../csharp/programming-guide/concepts/linq/standard-query-operators-overview.md)  
  
 [<span data-ttu-id="61c0c-107">Návod: Zápis dotazů v jazyce C#</span><span class="sxs-lookup"><span data-stu-id="61c0c-107">Walkthrough: Writing Queries in C#</span></span>](../../../../csharp/programming-guide/concepts/linq/walkthrough-writing-queries-linq.md)  
  
> [!NOTE]
>  <span data-ttu-id="61c0c-108">Pokud jste již obeznámeni s dotazovací jazyk, jako je SQL nebo výraz XQuery, můžete přeskočit většinu v tomto tématu.</span><span class="sxs-lookup"><span data-stu-id="61c0c-108">If you already are familiar with a query language such as SQL or XQuery, you can skip most of this topic.</span></span> <span data-ttu-id="61c0c-109">Přečtěte si informace o "`from` klauzule" v další části a informace o pořadí ustanovení [!INCLUDE[vbteclinq](~/includes/vbteclinq-md.md)] výrazech dotazů.</span><span class="sxs-lookup"><span data-stu-id="61c0c-109">Read about the "`from` clause" in the next section to learn about the order of clauses in [!INCLUDE[vbteclinq](~/includes/vbteclinq-md.md)] query expressions.</span></span>  
  
## <a name="obtaining-a-data-source"></a><span data-ttu-id="61c0c-110">Získání zdroje dat</span><span class="sxs-lookup"><span data-stu-id="61c0c-110">Obtaining a Data Source</span></span>  
 <span data-ttu-id="61c0c-111">V [!INCLUDE[vbteclinq](~/includes/vbteclinq-md.md)] dotazu, prvním krokem je určení zdroje dat.</span><span class="sxs-lookup"><span data-stu-id="61c0c-111">In a [!INCLUDE[vbteclinq](~/includes/vbteclinq-md.md)] query, the first step is to specify the data source.</span></span> <span data-ttu-id="61c0c-112">V jazyce C# jako většina programovacích jazyků musí být proměnná deklarovaná předtím, než je možné.</span><span class="sxs-lookup"><span data-stu-id="61c0c-112">In C# as in most programming languages a variable must be declared before it can be used.</span></span> <span data-ttu-id="61c0c-113">V [!INCLUDE[vbteclinq](~/includes/vbteclinq-md.md)] dotaz, `from` klauzule dodává nejprve za účelem předložení zdroje dat (`customers`) a *proměnnou rozsahu* (`cust`).</span><span class="sxs-lookup"><span data-stu-id="61c0c-113">In a [!INCLUDE[vbteclinq](~/includes/vbteclinq-md.md)] query, the `from` clause comes first in order to introduce the data source (`customers`) and the *range variable* (`cust`).</span></span>  
  
 [!code-csharp[csLINQGettingStarted#23](../../../../csharp/programming-guide/concepts/linq/codesnippet/CSharp/basic-linq-query-operations_1.cs)]  
  
 <span data-ttu-id="61c0c-114">Proměnná rozsahu je jako proměnné iterace ve `foreach` opakovat s tím rozdílem, že dojde k žádné skutečné iterace ve výrazu dotazu.</span><span class="sxs-lookup"><span data-stu-id="61c0c-114">The range variable is like the iteration variable in a `foreach` loop except that no actual iteration occurs in a query expression.</span></span> <span data-ttu-id="61c0c-115">Při spuštění dotazu rozsah proměnné bude sloužit jako odkaz na každý prvek po sobě jdoucích `customers`.</span><span class="sxs-lookup"><span data-stu-id="61c0c-115">When the query is executed, the range variable will serve as a reference to each successive element in `customers`.</span></span> <span data-ttu-id="61c0c-116">Protože kompilátor může odvodit typ `cust`, není potřeba explicitně zadat.</span><span class="sxs-lookup"><span data-stu-id="61c0c-116">Because the compiler can infer the type of `cust`, you do not have to specify it explicitly.</span></span> <span data-ttu-id="61c0c-117">Další rozsah proměnné může být zavedené prostřednictvím `let` klauzuli.</span><span class="sxs-lookup"><span data-stu-id="61c0c-117">Additional range variables can be introduced by a `let` clause.</span></span> <span data-ttu-id="61c0c-118">Další informace najdete v tématu [let – klauzule](../../../../csharp/language-reference/keywords/let-clause.md).</span><span class="sxs-lookup"><span data-stu-id="61c0c-118">For more information, see [let clause](../../../../csharp/language-reference/keywords/let-clause.md).</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="61c0c-119">U neobecných zdrojů dat, jako například <xref:System.Collections.ArrayList>, proměnná rozsahu musí být explicitně určeny typy.</span><span class="sxs-lookup"><span data-stu-id="61c0c-119">For non-generic data sources such as <xref:System.Collections.ArrayList>, the range variable must be explicitly typed.</span></span> <span data-ttu-id="61c0c-120">Další informace najdete v tématu [postupy: vytvoření dotazu na ArrayList pomocí LINQ (C#)](../../../../csharp/programming-guide/concepts/linq/how-to-query-an-arraylist-with-linq.md) a [klauzule from](../../../../csharp/language-reference/keywords/from-clause.md).</span><span class="sxs-lookup"><span data-stu-id="61c0c-120">For more information, see [How to: Query an ArrayList with LINQ (C#)](../../../../csharp/programming-guide/concepts/linq/how-to-query-an-arraylist-with-linq.md) and [from clause](../../../../csharp/language-reference/keywords/from-clause.md).</span></span>  
  
## <a name="filtering"></a><span data-ttu-id="61c0c-121">Filtrování</span><span class="sxs-lookup"><span data-stu-id="61c0c-121">Filtering</span></span>  
 <span data-ttu-id="61c0c-122">Pravděpodobně nejběžnější operace dotazu je použití filtru ve formě logický výraz.</span><span class="sxs-lookup"><span data-stu-id="61c0c-122">Probably the most common query operation is to apply a filter in the form of a Boolean expression.</span></span> <span data-ttu-id="61c0c-123">Filtr způsobí, že se dotaz, který vrací pouze prvky, pro které má výraz hodnotu true.</span><span class="sxs-lookup"><span data-stu-id="61c0c-123">The filter causes the query to return only those elements for which the expression is true.</span></span> <span data-ttu-id="61c0c-124">Výsledkem je vytvořen pomocí `where` klauzuli.</span><span class="sxs-lookup"><span data-stu-id="61c0c-124">The result is produced by using the `where` clause.</span></span> <span data-ttu-id="61c0c-125">Filtr v platnosti určuje prvky, které chcete vyloučit ze zdrojové sekvence.</span><span class="sxs-lookup"><span data-stu-id="61c0c-125">The filter in effect specifies which elements to exclude from the source sequence.</span></span> <span data-ttu-id="61c0c-126">V následujícím příkladu, pouze na ty `customers` kdo mít adresu v Londýně se vrátí.</span><span class="sxs-lookup"><span data-stu-id="61c0c-126">In the following example, only those `customers` who have an address in London are returned.</span></span>  
  
 [!code-csharp[csLINQGettingStarted#24](../../../../csharp/programming-guide/concepts/linq/codesnippet/CSharp/basic-linq-query-operations_2.cs)]  
  
 <span data-ttu-id="61c0c-127">Můžete použít známou jazyka C# logické `AND` a `OR` operátory použít jako řada filtr výrazů podle potřeb `where` klauzuli.</span><span class="sxs-lookup"><span data-stu-id="61c0c-127">You can use the familiar C# logical `AND` and `OR` operators to apply as many filter expressions as necessary in the `where` clause.</span></span> <span data-ttu-id="61c0c-128">Například pro vrácení pouze zákazníci z "Londýn" `AND` jejíž název je "Devon", měli byste napsat následující kód:</span><span class="sxs-lookup"><span data-stu-id="61c0c-128">For example, to return only customers from "London" `AND` whose name is "Devon" you would write the following code:</span></span>  
  
 [!code-csharp[csLINQGettingStarted#25](../../../../csharp/programming-guide/concepts/linq/codesnippet/CSharp/basic-linq-query-operations_3.cs)]  
  
 <span data-ttu-id="61c0c-129">Chcete-li vrátit zákazníci z Londýna nebo Paříž, měli byste napsat následující kód:</span><span class="sxs-lookup"><span data-stu-id="61c0c-129">To return customers from London or Paris, you would write the following code:</span></span>  
  
 [!code-csharp[csLINQGettingStarted#26](../../../../csharp/programming-guide/concepts/linq/codesnippet/CSharp/basic-linq-query-operations_4.cs)]  
  
 <span data-ttu-id="61c0c-130">Další informace najdete v tématu [kde klauzule](../../../../csharp/language-reference/keywords/where-clause.md).</span><span class="sxs-lookup"><span data-stu-id="61c0c-130">For more information, see [where clause](../../../../csharp/language-reference/keywords/where-clause.md).</span></span>  
  
## <a name="ordering"></a><span data-ttu-id="61c0c-131">Řazení</span><span class="sxs-lookup"><span data-stu-id="61c0c-131">Ordering</span></span>  
 <span data-ttu-id="61c0c-132">Často je vhodné seřaďte vrácená data.</span><span class="sxs-lookup"><span data-stu-id="61c0c-132">Often it is convenient to sort the returned data.</span></span> <span data-ttu-id="61c0c-133">`orderby` Klauzule způsobí prvky v vrácená sekvence má být seřazen podle výchozí porovnávací metody pro typ seřazený.</span><span class="sxs-lookup"><span data-stu-id="61c0c-133">The `orderby` clause will cause the elements in the returned sequence to be sorted according to the default comparer for the type being sorted.</span></span> <span data-ttu-id="61c0c-134">Například následující dotaz je možné rozšířit seřadit výsledky podle `Name` vlastnost.</span><span class="sxs-lookup"><span data-stu-id="61c0c-134">For example, the following query can be extended to sort the results based on the `Name` property.</span></span> <span data-ttu-id="61c0c-135">Protože `Name` je řetězec, výchozí porovnávací metody provede abecední řazení z A do Z.</span><span class="sxs-lookup"><span data-stu-id="61c0c-135">Because `Name` is a string, the default comparer performs an alphabetical sort from A to Z.</span></span>  
  
 [!code-csharp[csLINQGettingStarted#27](../../../../csharp/programming-guide/concepts/linq/codesnippet/CSharp/basic-linq-query-operations_5.cs)]  
  
 <span data-ttu-id="61c0c-136">Chcete-li v obráceném pořadí řazení výsledků od Z do A, použijte `orderby…descending` klauzuli.</span><span class="sxs-lookup"><span data-stu-id="61c0c-136">To order the results in reverse order, from Z to A, use the `orderby…descending` clause.</span></span>  
  
 <span data-ttu-id="61c0c-137">Další informace najdete v tématu [klauzule orderby](../../../../csharp/language-reference/keywords/orderby-clause.md).</span><span class="sxs-lookup"><span data-stu-id="61c0c-137">For more information, see [orderby clause](../../../../csharp/language-reference/keywords/orderby-clause.md).</span></span>  
  
## <a name="grouping"></a><span data-ttu-id="61c0c-138">Seskupování</span><span class="sxs-lookup"><span data-stu-id="61c0c-138">Grouping</span></span>  
 <span data-ttu-id="61c0c-139">`group` Klauzule umožňují seskupit výsledky na základě klíče, který zadáte.</span><span class="sxs-lookup"><span data-stu-id="61c0c-139">The `group` clause enables you to group your results based on a key that you specify.</span></span> <span data-ttu-id="61c0c-140">Například můžete zadat, že výsledky by se měly Seskupit podle `City` tak, aby všichni zákazníci z Londýna nebo Paříž v jednotlivých skupinách.</span><span class="sxs-lookup"><span data-stu-id="61c0c-140">For example you could specify that the results should be grouped by the `City` so that all customers from London or Paris are in individual groups.</span></span> <span data-ttu-id="61c0c-141">V takovém případě `cust.City` je klíč.</span><span class="sxs-lookup"><span data-stu-id="61c0c-141">In this case, `cust.City` is the key.</span></span>  
  
 [!code-csharp[csLINQGettingStarted#28](../../../../csharp/programming-guide/concepts/linq/codesnippet/CSharp/basic-linq-query-operations_6.cs)]  
  
 <span data-ttu-id="61c0c-142">Konec dotazu s `group` klauzule, vaše výsledky mít formu seznamů.</span><span class="sxs-lookup"><span data-stu-id="61c0c-142">When you end a query with a `group` clause, your results take the form of a list of lists.</span></span> <span data-ttu-id="61c0c-143">Každý prvek v seznamu je objekt, který má `Key` člen a seznam prvků, které jsou seskupeny podle klíče.</span><span class="sxs-lookup"><span data-stu-id="61c0c-143">Each element in the list is an object that has a `Key` member and a list of elements that are grouped under that key.</span></span> <span data-ttu-id="61c0c-144">Při iteraci přes dotaz, který generuje sekvenci skupin, je nutné použít vnořený `foreach` smyčky.</span><span class="sxs-lookup"><span data-stu-id="61c0c-144">When you iterate over a query that produces a sequence of groups, you must use a nested `foreach` loop.</span></span> <span data-ttu-id="61c0c-145">Vnější smyčka iteruje jednotlivé skupiny a vnitřní smyčku iteruje jednotlivých členů.</span><span class="sxs-lookup"><span data-stu-id="61c0c-145">The outer loop iterates over each group, and the inner loop iterates over each group's members.</span></span>  
  
 <span data-ttu-id="61c0c-146">Pokud musíte odkazovat na výsledky operace skupiny, můžete použít `into` – klíčové slovo vytvořit identifikátor, který může být dotázán dále.</span><span class="sxs-lookup"><span data-stu-id="61c0c-146">If you must refer to the results of a group operation, you can use the `into` keyword to create an identifier that can be queried further.</span></span> <span data-ttu-id="61c0c-147">Následující dotaz vrátí pouze skupiny, které obsahují více než dvěma zákazníkům:</span><span class="sxs-lookup"><span data-stu-id="61c0c-147">The following query returns only those groups that contain more than two customers:</span></span>  
  
 [!code-csharp[csLINQGettingStarted#29](../../../../csharp/programming-guide/concepts/linq/codesnippet/CSharp/basic-linq-query-operations_7.cs)]  
  
 <span data-ttu-id="61c0c-148">Další informace najdete v tématu [group – klauzule](../../../../csharp/language-reference/keywords/group-clause.md).</span><span class="sxs-lookup"><span data-stu-id="61c0c-148">For more information, see [group clause](../../../../csharp/language-reference/keywords/group-clause.md).</span></span>  
  
## <a name="joining"></a><span data-ttu-id="61c0c-149">Spojování</span><span class="sxs-lookup"><span data-stu-id="61c0c-149">Joining</span></span>  
 <span data-ttu-id="61c0c-150">Operace spojení vytvořte přidružení mezi sekvencí, které nejsou explicitně namodelovanou v datových zdrojů.</span><span class="sxs-lookup"><span data-stu-id="61c0c-150">Join operations create associations between sequences that are not explicitly modeled in the data sources.</span></span> <span data-ttu-id="61c0c-151">Například můžete provést připojení k najít všechny zákazníky a distributory, kteří mají stejné umístění.</span><span class="sxs-lookup"><span data-stu-id="61c0c-151">For example you can perform a join to find all the customers and distributors who have the same location.</span></span> <span data-ttu-id="61c0c-152">V [!INCLUDE[vbteclinq](~/includes/vbteclinq-md.md)] `join` klauzule vždy funguje s kolekcí objektů místo databázových tabulek přímo.</span><span class="sxs-lookup"><span data-stu-id="61c0c-152">In [!INCLUDE[vbteclinq](~/includes/vbteclinq-md.md)] the `join` clause always works against object collections instead of database tables directly.</span></span>  
  
 [!code-csharp[csLINQGettingStarted#36](../../../../csharp/programming-guide/concepts/linq/codesnippet/CSharp/basic-linq-query-operations_8.cs)]  
  
 <span data-ttu-id="61c0c-153">V [!INCLUDE[vbteclinq](~/includes/vbteclinq-md.md)] není nutné používat `join` tak často, jak máte v SQL, protože cizí klíče v [!INCLUDE[vbteclinq](~/includes/vbteclinq-md.md)] jsou reprezentovány v objektovém modelu ve formě vlastnosti, které obsahují kolekci položek.</span><span class="sxs-lookup"><span data-stu-id="61c0c-153">In [!INCLUDE[vbteclinq](~/includes/vbteclinq-md.md)] you do not have to use `join` as often as you do in SQL because foreign keys in [!INCLUDE[vbteclinq](~/includes/vbteclinq-md.md)] are represented in the object model as properties that hold a collection of items.</span></span> <span data-ttu-id="61c0c-154">Například `Customer` objekt obsahuje kolekci `Order` objekty.</span><span class="sxs-lookup"><span data-stu-id="61c0c-154">For example, a `Customer` object contains a collection of `Order` objects.</span></span> <span data-ttu-id="61c0c-155">Místo provedení spojení, přistupovat pomocí zápisu s tečkou objednávky:</span><span class="sxs-lookup"><span data-stu-id="61c0c-155">Rather than performing a join, you access the orders by using dot notation:</span></span>  
  
```  
from order in Customer.Orders...  
```  
  
 <span data-ttu-id="61c0c-156">Další informace najdete v tématu [klauzule join](../../../../csharp/language-reference/keywords/join-clause.md).</span><span class="sxs-lookup"><span data-stu-id="61c0c-156">For more information, see [join clause](../../../../csharp/language-reference/keywords/join-clause.md).</span></span>  
  
## <a name="selecting-projections"></a><span data-ttu-id="61c0c-157">Výběr (projekce)</span><span class="sxs-lookup"><span data-stu-id="61c0c-157">Selecting (Projections)</span></span>  
 <span data-ttu-id="61c0c-158">`select` Klauzule produkuje výsledky dotazu a určuje "tvar" nebo typ jednotlivých prvků vrácených.</span><span class="sxs-lookup"><span data-stu-id="61c0c-158">The `select` clause produces the results of the query and specifies the "shape" or type of each returned element.</span></span> <span data-ttu-id="61c0c-159">Například můžete určit, zda vaše výsledky se skládají z kompletní `Customer` objekty, jenom jeden člen, podmnožinu členů nebo typ úplně jiné výsledky na základě výpočtu nebo vytvoření nového objektu.</span><span class="sxs-lookup"><span data-stu-id="61c0c-159">For example, you can specify whether your results will consist of complete `Customer` objects, just one member, a subset of members, or some completely different result type based on a computation or new object creation.</span></span> <span data-ttu-id="61c0c-160">Když `select` klauzule vytváří něco jiného než kopii zdrojového elementu, operace se nazývá *projekce*.</span><span class="sxs-lookup"><span data-stu-id="61c0c-160">When the `select` clause produces something other than a copy of the source element, the operation is called a *projection*.</span></span> <span data-ttu-id="61c0c-161">Použití projekce k transformaci dat je vynikající funkcí služby [!INCLUDE[vbteclinq](~/includes/vbteclinq-md.md)] výrazech dotazů.</span><span class="sxs-lookup"><span data-stu-id="61c0c-161">The use of projections to transform data is a powerful capability of [!INCLUDE[vbteclinq](~/includes/vbteclinq-md.md)] query expressions.</span></span> <span data-ttu-id="61c0c-162">Další informace najdete v tématu [transformace dat pomocí LINQ (C#)](../../../../csharp/programming-guide/concepts/linq/data-transformations-with-linq.md) a [klauzule select](../../../../csharp/language-reference/keywords/select-clause.md).</span><span class="sxs-lookup"><span data-stu-id="61c0c-162">For more information, see [Data Transformations with LINQ (C#)](../../../../csharp/programming-guide/concepts/linq/data-transformations-with-linq.md) and [select clause](../../../../csharp/language-reference/keywords/select-clause.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="61c0c-163">Viz také</span><span class="sxs-lookup"><span data-stu-id="61c0c-163">See Also</span></span>

- [<span data-ttu-id="61c0c-164">Začínáme s dotazy LINQ v jazyce C#</span><span class="sxs-lookup"><span data-stu-id="61c0c-164">Getting Started with LINQ in C#</span></span>](../../../../csharp/programming-guide/concepts/linq/getting-started-with-linq.md)  
- [<span data-ttu-id="61c0c-165">LINQ – výrazy dotazů</span><span class="sxs-lookup"><span data-stu-id="61c0c-165">LINQ Query Expressions</span></span>](../../../../csharp/programming-guide/linq-query-expressions/index.md)  
- [<span data-ttu-id="61c0c-166">Návod: Zápis dotazů v jazyce C#</span><span class="sxs-lookup"><span data-stu-id="61c0c-166">Walkthrough: Writing Queries in C#</span></span>](../../../../csharp/programming-guide/concepts/linq/walkthrough-writing-queries-linq.md)  
- [<span data-ttu-id="61c0c-167">Klíčová slova dotazu (LINQ)</span><span class="sxs-lookup"><span data-stu-id="61c0c-167">Query Keywords (LINQ)</span></span>](../../../../csharp/language-reference/keywords/query-keywords.md)  
- [<span data-ttu-id="61c0c-168">Anonymní typy</span><span class="sxs-lookup"><span data-stu-id="61c0c-168">Anonymous Types</span></span>](../../../../csharp/programming-guide/classes-and-structs/anonymous-types.md)
