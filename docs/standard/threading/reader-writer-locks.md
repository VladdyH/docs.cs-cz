---
title: Zámky modulů pro čtení a zápis
ms.date: 03/30/2017
ms.technology: dotnet-standard
helpviewer_keywords:
- ReaderWriterLock class, about ReaderWriterLock class
- threading [.NET Framework], ReaderWriterLock class
ms.assetid: 8c71acf2-2c18-4f4d-8cdb-0728639265fd
author: rpetrusha
ms.author: ronpet
ms.openlocfilehash: 8be9b4eef30333fbbdc26915635d17157176d6fc
ms.sourcegitcommit: 76a304c79a32aa13889ebcf4b9789a4542b48e3e
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 09/13/2018
ms.locfileid: "45513492"
---
# <a name="reader-writer-locks"></a><span data-ttu-id="01303-102">Zámky modulů pro čtení a zápis</span><span class="sxs-lookup"><span data-stu-id="01303-102">Reader-Writer Locks</span></span>
<span data-ttu-id="01303-103"><xref:System.Threading.ReaderWriterLockSlim> Třída umožňuje více vláken souběžně číst prostředek, ale vyžaduje vlákno čekat výhradní zámek, chcete-li k prostředku.</span><span class="sxs-lookup"><span data-stu-id="01303-103">The <xref:System.Threading.ReaderWriterLockSlim> class enables multiple threads to read a resource concurrently, but requires a thread to wait for an exclusive lock in order to write to the resource.</span></span>  
  
 <span data-ttu-id="01303-104">Můžete použít <xref:System.Threading.ReaderWriterLockSlim> ve vaší aplikaci zajistit kooperativní synchronizace mezi vlákny, které přistupují k sdíleného prostředku.</span><span class="sxs-lookup"><span data-stu-id="01303-104">You might use a <xref:System.Threading.ReaderWriterLockSlim> in your application to provide cooperative synchronization among threads that access a shared resource.</span></span> <span data-ttu-id="01303-105">Uzamčení se přesunete <xref:System.Threading.ReaderWriterLockSlim> samotný.</span><span class="sxs-lookup"><span data-stu-id="01303-105">Locks are taken on the <xref:System.Threading.ReaderWriterLockSlim> itself.</span></span>  
  
 <span data-ttu-id="01303-106">Jak se každý použitý mechanizmus synchronizace vlákna, musíte zajistit, že žádná vlákna obejít blokování, která je poskytována <xref:System.Threading.ReaderWriterLockSlim>.</span><span class="sxs-lookup"><span data-stu-id="01303-106">As with any thread synchronization mechanism, you must ensure that no threads bypass the locking that is provided by <xref:System.Threading.ReaderWriterLockSlim>.</span></span> <span data-ttu-id="01303-107">Jeden způsob, jak to zajistit je návrh třídu, která zapouzdřuje sdíleného prostředku.</span><span class="sxs-lookup"><span data-stu-id="01303-107">One way to ensure this is to design a class that encapsulates the shared resource.</span></span> <span data-ttu-id="01303-108">Tato třída by poskytovaly členy, které využívají privátní sdíleného prostředku a používají privátní <xref:System.Threading.ReaderWriterLockSlim> pro synchronizaci.</span><span class="sxs-lookup"><span data-stu-id="01303-108">This class would provide members that access the private shared resource and that use a private <xref:System.Threading.ReaderWriterLockSlim> for synchronization.</span></span> <span data-ttu-id="01303-109">Příklad, podívejte se na příklad kódu pro <xref:System.Threading.ReaderWriterLockSlim> třídy.</span><span class="sxs-lookup"><span data-stu-id="01303-109">For an example, see the code example for the <xref:System.Threading.ReaderWriterLockSlim> class.</span></span> <span data-ttu-id="01303-110"><xref:System.Threading.ReaderWriterLockSlim> je dostatečně účinný, který se má použít k synchronizaci jednotlivých objektů.</span><span class="sxs-lookup"><span data-stu-id="01303-110"><xref:System.Threading.ReaderWriterLockSlim> is efficient enough to be used to synchronize individual objects.</span></span>  
  
 <span data-ttu-id="01303-111">Struktury vaší aplikaci minimalizovat dobu trvání pro čtení a operace zápisu.</span><span class="sxs-lookup"><span data-stu-id="01303-111">Structure your application to minimize the duration of read and write operations.</span></span> <span data-ttu-id="01303-112">Operace zápisu dlouhé ovlivnit propustnost přímo, protože je výhradní zámek pro zápis.</span><span class="sxs-lookup"><span data-stu-id="01303-112">Long write operations affect throughput directly because the write lock is exclusive.</span></span> <span data-ttu-id="01303-113">Dlouho přečíst operace blokovat čekání zapisovače a pokud alespoň jedno vlákno čeká přístup pro zápis, vlákna, které vyžadují přístup pro čtení se zablokuje, stejně.</span><span class="sxs-lookup"><span data-stu-id="01303-113">Long read operations block waiting writers, and if at least one thread is waiting for write access, threads that request read access will be blocked as well.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="01303-114">[!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] Má dvě zámky pro čtení a zápis, <xref:System.Threading.ReaderWriterLockSlim> a <xref:System.Threading.ReaderWriterLock>.</span><span class="sxs-lookup"><span data-stu-id="01303-114">The [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] has two reader-writer locks, <xref:System.Threading.ReaderWriterLockSlim> and <xref:System.Threading.ReaderWriterLock>.</span></span> <span data-ttu-id="01303-115"><xref:System.Threading.ReaderWriterLockSlim> doporučuje se pro všechny vývoj nových projektů.</span><span class="sxs-lookup"><span data-stu-id="01303-115"><xref:System.Threading.ReaderWriterLockSlim> is recommended for all new development.</span></span> <span data-ttu-id="01303-116"><xref:System.Threading.ReaderWriterLockSlim> je podobný <xref:System.Threading.ReaderWriterLock>, ale zjednodušila pravidla pro rekurzi a pro upgrade a Downgrade Stav zámku.</span><span class="sxs-lookup"><span data-stu-id="01303-116"><xref:System.Threading.ReaderWriterLockSlim> is similar to <xref:System.Threading.ReaderWriterLock>, but it has simplified rules for recursion and for upgrading and downgrading lock state.</span></span> <span data-ttu-id="01303-117"><xref:System.Threading.ReaderWriterLockSlim> předchází mnoha případech potenciální zablokování.</span><span class="sxs-lookup"><span data-stu-id="01303-117"><xref:System.Threading.ReaderWriterLockSlim> avoids many cases of potential deadlock.</span></span> <span data-ttu-id="01303-118">Kromě toho výkon <xref:System.Threading.ReaderWriterLockSlim> je výrazně lepší než <xref:System.Threading.ReaderWriterLock>.</span><span class="sxs-lookup"><span data-stu-id="01303-118">In addition, the performance of <xref:System.Threading.ReaderWriterLockSlim> is significantly better than <xref:System.Threading.ReaderWriterLock>.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="01303-119">Viz také:</span><span class="sxs-lookup"><span data-stu-id="01303-119">See also</span></span>

- <xref:System.Threading.ReaderWriterLockSlim>  
- <xref:System.Threading.ReaderWriterLock>  
- [<span data-ttu-id="01303-120">Dělení na vlákna</span><span class="sxs-lookup"><span data-stu-id="01303-120">Threading</span></span>](../../../docs/standard/threading/index.md)  
- [<span data-ttu-id="01303-121">Funkce a objekty dělení na vlákna</span><span class="sxs-lookup"><span data-stu-id="01303-121">Threading Objects and Features</span></span>](../../../docs/standard/threading/threading-objects-and-features.md)
