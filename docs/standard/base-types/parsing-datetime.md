---
title: "Analýza řetězců data a času v .NET Frameworku"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-standard
ms.tgt_pltfrm: 
ms.topic: article
dev_langs:
- csharp
- vb
helpviewer_keywords:
- parsing strings, date and time strings
- date and time strings
- ParseExact method
- enumerations [.NET Framework], parsing strings
- base types, parsing strings
- DateTime object
- time strings
ms.assetid: 43bae51e-9b1d-41a6-a187-772c0d096d90
caps.latest.revision: "24"
author: rpetrusha
ms.author: ronpet
manager: wpickett
ms.workload:
- dotnet
- dotnetcore
ms.openlocfilehash: 6e3ef01abdb615b2850b5a9d07e1208ee22eda95
ms.sourcegitcommit: e7f04439d78909229506b56935a1105a4149ff3d
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 12/23/2017
---
# <a name="parsing-date-and-time-strings-in-net"></a><span data-ttu-id="b628d-102">Analýza řetězců data a času v rozhraní .NET</span><span class="sxs-lookup"><span data-stu-id="b628d-102">Parsing Date and Time Strings in .NET</span></span>
<span data-ttu-id="b628d-103">Analýza metody převést řetězcovou reprezentaci data a času na ekvivalentní <xref:System.DateTime> objektu.</span><span class="sxs-lookup"><span data-stu-id="b628d-103">Parsing methods convert the string representation of a date and time to an equivalent <xref:System.DateTime> object.</span></span> <span data-ttu-id="b628d-104"><xref:System.DateTime.Parse%2A> a <xref:System.DateTime.TryParse%2A> převádí jakýkoli z několika běžných vyjádření data a času.</span><span class="sxs-lookup"><span data-stu-id="b628d-104">The <xref:System.DateTime.Parse%2A> and <xref:System.DateTime.TryParse%2A> methods convert any of several common representations of a date and time.</span></span> <span data-ttu-id="b628d-105"><xref:System.DateTime.ParseExact%2A> a <xref:System.DateTime.TryParseExact%2A> metody převést řetězcové vyjádření, která vyhovuje vzoru určeného řetězce formátu data a času.</span><span class="sxs-lookup"><span data-stu-id="b628d-105">The <xref:System.DateTime.ParseExact%2A> and <xref:System.DateTime.TryParseExact%2A> methods convert a string representation that conforms to the pattern specified by a date and time format string.</span></span> <span data-ttu-id="b628d-106">(Najdete v tématech na [řetězce formátu standardní hodnoty data a času](../../../docs/standard/base-types/standard-date-and-time-format-strings.md) a [vlastní datum a čas řetězce formátu](../../../docs/standard/base-types/custom-date-and-time-format-strings.md).)</span><span class="sxs-lookup"><span data-stu-id="b628d-106">(See the topics on [standard date and time format strings](../../../docs/standard/base-types/standard-date-and-time-format-strings.md) and [custom date and time format strings](../../../docs/standard/base-types/custom-date-and-time-format-strings.md).)</span></span>  
  
 <span data-ttu-id="b628d-107">Analýza je ovlivněna vlastnosti zprostředkovatele formátu, který poskytuje informace, jako jsou třeba řetězce pro datum a čas oddělovačů a názvy měsíců, dnů a období.</span><span class="sxs-lookup"><span data-stu-id="b628d-107">Parsing is influenced by the properties of a format provider that supplies information such as the strings used for date and time separators, and the names of months, days, and eras.</span></span> <span data-ttu-id="b628d-108">Zprostředkovatel formátu je aktuální <xref:System.Globalization.DateTimeFormatInfo> objekt, který je poskytnut implicitně aktuální jazykovou verzi vlákna nebo explicitně pomocí <xref:System.IFormatProvider> parametr metody analýzy.</span><span class="sxs-lookup"><span data-stu-id="b628d-108">The format provider is the current <xref:System.Globalization.DateTimeFormatInfo> object, which is provided implicitly by the current thread culture or explicitly by the <xref:System.IFormatProvider> parameter of a parsing method.</span></span> <span data-ttu-id="b628d-109">Pro <xref:System.IFormatProvider> parametr, zadejte <xref:System.Globalization.CultureInfo> objekt, který představuje jazykovou verzi, nebo <xref:System.Globalization.DateTimeFormatInfo> objektu.</span><span class="sxs-lookup"><span data-stu-id="b628d-109">For the <xref:System.IFormatProvider> parameter, specify a <xref:System.Globalization.CultureInfo> object, which represents a culture, or a <xref:System.Globalization.DateTimeFormatInfo> object.</span></span>  
  
 <span data-ttu-id="b628d-110">Řetězec představující datum ho proto analyzovat musí zahrnovat měsíc a alespoň den nebo rok.</span><span class="sxs-lookup"><span data-stu-id="b628d-110">The string representation of a date to be parsed must include the month and at least a day or year.</span></span> <span data-ttu-id="b628d-111">Řetězcová reprezentace čas musí zahrnovat hodinu a alespoň minut nebo označení dop. / odp.</span><span class="sxs-lookup"><span data-stu-id="b628d-111">The string representation of a time must include the hour and at least minutes or the AM/PM designator.</span></span> <span data-ttu-id="b628d-112">Ale pokud je to možné analýze poskytne výchozí hodnoty pro vynechané součásti.</span><span class="sxs-lookup"><span data-stu-id="b628d-112">However, parsing supplies default values for omitted components if possible.</span></span> <span data-ttu-id="b628d-113">Chybějící datum nastaveno na aktuální datum, chybějící rok výchozí hodnota je do aktuálního roku, chybějící den měsíce výchozí nastavení, aby první den v měsíci a chybějící čas je nastaven na půlnoc.</span><span class="sxs-lookup"><span data-stu-id="b628d-113">A missing date defaults to the current date, a missing year defaults to the current year, a missing day of the month defaults to the first day of the month, and a missing time defaults to midnight.</span></span>  
  
 <span data-ttu-id="b628d-114">Pokud řetězcová reprezentace určuje pouze čas, analýze vrátí <xref:System.DateTime> objektu s jeho <xref:System.DateTime.Year%2A>, <xref:System.DateTime.Month%2A>, a <xref:System.DateTime.Day%2A> nastaveny na odpovídající hodnoty vlastnosti <xref:System.DateTime.Today%2A> vlastnost.</span><span class="sxs-lookup"><span data-stu-id="b628d-114">If the string representation specifies only a time, parsing returns a <xref:System.DateTime> object with its <xref:System.DateTime.Year%2A>, <xref:System.DateTime.Month%2A>, and <xref:System.DateTime.Day%2A> properties set to the corresponding values of the <xref:System.DateTime.Today%2A> property.</span></span> <span data-ttu-id="b628d-115">Ale pokud <xref:System.Globalization.DateTimeStyles.NoCurrentDateDefault> konstanta je uveden v metoda analýzy, výsledná rok, měsíc a den vlastnosti jsou nastaveny na hodnotu `1`.</span><span class="sxs-lookup"><span data-stu-id="b628d-115">However, if the <xref:System.Globalization.DateTimeStyles.NoCurrentDateDefault> constant is specified in the parsing method, the resulting year, month, and day properties are set to the value `1`.</span></span>  
  
 <span data-ttu-id="b628d-116">Kromě data a času může zahrnovat řetězcovou reprezentaci datum a čas posunem, která určuje, kolik čas se liší od koordinovaný světový čas (UTC).</span><span class="sxs-lookup"><span data-stu-id="b628d-116">In addition to a date and a time component, the string representation of a date and time can include an offset that indicates how much the time differs from Coordinated Universal Time (UTC).</span></span> <span data-ttu-id="b628d-117">Například řetězec "2/14/2007 5:32:00 -7:00" definuje čas, který je sedm hodin dříve než čas UTC.</span><span class="sxs-lookup"><span data-stu-id="b628d-117">For example, the string "2/14/2007 5:32:00 -7:00" defines a time that is seven hours earlier than UTC.</span></span> <span data-ttu-id="b628d-118">Pokud je vynechaný posun řetězcovou reprezentaci čas, analýze vrátí <xref:System.DateTime> objektu s jeho <xref:System.DateTime.Kind%2A> vlastnost nastavena na hodnotu <xref:System.DateTimeKind.Unspecified?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="b628d-118">If an offset is omitted from the string representation of a time, parsing returns a <xref:System.DateTime> object with its <xref:System.DateTime.Kind%2A> property set to <xref:System.DateTimeKind.Unspecified?displayProperty=nameWithType>.</span></span> <span data-ttu-id="b628d-119">Pokud je zadaný posun, analýze vrátí <xref:System.DateTime> objektu s jeho <xref:System.DateTime.Kind%2A> vlastnost nastavena na hodnotu <xref:System.DateTimeKind.Local> a jeho hodnota upravena na místní časové pásmo počítače.</span><span class="sxs-lookup"><span data-stu-id="b628d-119">If an offset is specified, parsing returns a <xref:System.DateTime> object with its <xref:System.DateTime.Kind%2A> property set to <xref:System.DateTimeKind.Local> and its value adjusted to the local time zone of your machine.</span></span> <span data-ttu-id="b628d-120">Toto chování můžete upravit pomocí <xref:System.Globalization.DateTimeStyles> konstantní s metodou analýzy.</span><span class="sxs-lookup"><span data-stu-id="b628d-120">You can modify this behavior by using a <xref:System.Globalization.DateTimeStyles> constant with the parsing method.</span></span>  
  
 <span data-ttu-id="b628d-121">Zprostředkovatel formátu slouží také k interpretaci dvojznačného číselného data.</span><span class="sxs-lookup"><span data-stu-id="b628d-121">The format provider is also used to interpret an ambiguous numeric date.</span></span> <span data-ttu-id="b628d-122">Například není jasné součástí, které data reprezentována řetězec "02/03/04" je měsíc, den a rok.</span><span class="sxs-lookup"><span data-stu-id="b628d-122">For example, it is not clear which components of the date represented by the string "02/03/04" are the month, day, and year.</span></span> <span data-ttu-id="b628d-123">V takovém případě jsou komponenty interpretovány podle pořadí podobné dat. formáty dat v rámci zprostředkovatele formátu.</span><span class="sxs-lookup"><span data-stu-id="b628d-123">In this case, the components are interpreted according to the order of similar date formats in the format provider.</span></span>  
  
## <a name="parse"></a><span data-ttu-id="b628d-124">analyzovat</span><span class="sxs-lookup"><span data-stu-id="b628d-124">Parse</span></span>  
 <span data-ttu-id="b628d-125">Následující příklad kódu ukazuje použití **analyzovat** metoda převést řetězec na **data a času**.</span><span class="sxs-lookup"><span data-stu-id="b628d-125">The following code example illustrates the use of the **Parse** method to convert a string into a **DateTime**.</span></span> <span data-ttu-id="b628d-126">Tento příklad používá jazykovou verzi spojenou s aktuální vlákno k provedení analýzy.</span><span class="sxs-lookup"><span data-stu-id="b628d-126">This example uses the culture associated with the current thread to perform the parse.</span></span> <span data-ttu-id="b628d-127">Pokud <xref:System.Globalization.CultureInfo> přidružené k aktuální jazykovou verzi nelze analyzovat vstupní řetězec <xref:System.FormatException> je vyvolána výjimka.</span><span class="sxs-lookup"><span data-stu-id="b628d-127">If the <xref:System.Globalization.CultureInfo> associated with the current culture cannot parse the input string, a <xref:System.FormatException> is thrown.</span></span>  
  
 [!code-csharp[Parsing.DateAndTime#1](../../../samples/snippets/csharp/VS_Snippets_CLR/Parsing.DateAndTime/cs/Example.cs#1)]
 [!code-vb[Parsing.DateAndTime#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/Parsing.DateAndTime/vb/Example.vb#1)]  
  
 <span data-ttu-id="b628d-128">Můžete také zadat **CultureInfo** nastavte na některou z jazykových verzí definovaných prostřednictvím tohoto objektu, nebo můžete nastavit některé standardní <xref:System.Globalization.DateTimeFormatInfo> objektů vrácený <xref:System.Globalization.CultureInfo.DateTimeFormat%2A?displayProperty=nameWithType> vlastnost.</span><span class="sxs-lookup"><span data-stu-id="b628d-128">You can also specify a **CultureInfo** set to one of the cultures defined by that object, or you can specify one of the standard <xref:System.Globalization.DateTimeFormatInfo> objects returned by the <xref:System.Globalization.CultureInfo.DateTimeFormat%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="b628d-129">Následující příklad kódu používá formát zprostředkovatele analyzovat řetězec němčině do **data a času**.</span><span class="sxs-lookup"><span data-stu-id="b628d-129">The following code example uses a format provider to parse a German string into a **DateTime**.</span></span> <span data-ttu-id="b628d-130">A **CultureInfo** představující jazykovou verzi, de-DE je definovaný a byla dokončena s řetězec při analýze zajistit úspěšné analýzy tento konkrétní řetězec.</span><span class="sxs-lookup"><span data-stu-id="b628d-130">A **CultureInfo** representing the de-DE culture is defined and passed with the string being parsed to ensure successful parsing of this particular string.</span></span> <span data-ttu-id="b628d-131">To vylučuje jakékoli nastavení **CurrentCulture** z **CurrentThread**.</span><span class="sxs-lookup"><span data-stu-id="b628d-131">This precludes whatever setting is in the **CurrentCulture** of the **CurrentThread**.</span></span>  
  
 [!code-csharp[Parsing.DateAndTime#2](../../../samples/snippets/csharp/VS_Snippets_CLR/Parsing.DateAndTime/cs/Example2.cs#2)]
 [!code-vb[Parsing.DateAndTime#2](../../../samples/snippets/visualbasic/VS_Snippets_CLR/Parsing.DateAndTime/vb/Example2.vb#2)]  
  
 <span data-ttu-id="b628d-132">Ale i když můžete použít přetížení metody <xref:System.DateTime.Parse%2A> metodu za účelem určení vlastních poskytovatelů formátu, metoda nepodporuje používání nestandardních poskytovatelů formátu.</span><span class="sxs-lookup"><span data-stu-id="b628d-132">However, although you can use overloads of the <xref:System.DateTime.Parse%2A> method to specify custom format providers, the method does not support the use of non-standard format providers.</span></span> <span data-ttu-id="b628d-133">Chcete-li analyzovat data a času vyjádřené v nestandardním formátu, použijte <xref:System.DateTime.ParseExact%2A> metoda místo.</span><span class="sxs-lookup"><span data-stu-id="b628d-133">To parse a date and time expressed in a non-standard format, use the <xref:System.DateTime.ParseExact%2A> method instead.</span></span>  
  
 <span data-ttu-id="b628d-134">Následující příklad kódu používá <xref:System.Globalization.DateTimeStyles> výčtu k určení, že aktuální informace o datu a času nepřidávat **data a času** pro pole, které řetězec nedefinuje.</span><span class="sxs-lookup"><span data-stu-id="b628d-134">The following code example uses the <xref:System.Globalization.DateTimeStyles> enumeration to specify that the current date and time information should not be added to the **DateTime** for fields that the string does not define.</span></span>  
  
 [!code-csharp[Parsing.DateAndTime#3](../../../samples/snippets/csharp/VS_Snippets_CLR/Parsing.DateAndTime/cs/Example3.cs#3)]
 [!code-vb[Parsing.DateAndTime#3](../../../samples/snippets/visualbasic/VS_Snippets_CLR/Parsing.DateAndTime/vb/Example3.vb#3)]  
  
## <a name="parseexact"></a><span data-ttu-id="b628d-135">ParseExact –</span><span class="sxs-lookup"><span data-stu-id="b628d-135">ParseExact</span></span>  
 <span data-ttu-id="b628d-136"><xref:System.DateTime.ParseExact%2A?displayProperty=nameWithType> Metoda převede řetězec, který odpovídá vzoru zadaný řetězec na **data a času** objektu.</span><span class="sxs-lookup"><span data-stu-id="b628d-136">The <xref:System.DateTime.ParseExact%2A?displayProperty=nameWithType> method converts a string that conforms to a specified string pattern to a **DateTime** object.</span></span> <span data-ttu-id="b628d-137">Když tato metoda předána řetězec, který není ve tvaru zadaný <xref:System.FormatException> je vyvolána výjimka.</span><span class="sxs-lookup"><span data-stu-id="b628d-137">When a string that is not of the form specified is passed to this method, a <xref:System.FormatException> is thrown.</span></span> <span data-ttu-id="b628d-138">Můžete určit jednu standardní datum a čas specifikátory formátu nebo omezenou kombinaci vlastní datum a čas specifikátory formátu.</span><span class="sxs-lookup"><span data-stu-id="b628d-138">You can specify one of the standard date and time format specifiers or a limited combination of the custom date and time format specifiers.</span></span> <span data-ttu-id="b628d-139">Použití specifikátorů vlastní formátu, je možné sestavit vlastní rozpoznávání řetězec.</span><span class="sxs-lookup"><span data-stu-id="b628d-139">Using the custom format specifiers, it is possible for you to construct a custom recognition string.</span></span> <span data-ttu-id="b628d-140">Informace o specifikátorech, najdete v tématech na [řetězce formátu standardní hodnoty data a času](../../../docs/standard/base-types/standard-date-and-time-format-strings.md) a [vlastní datum a čas řetězce formátu](../../../docs/standard/base-types/custom-date-and-time-format-strings.md).</span><span class="sxs-lookup"><span data-stu-id="b628d-140">For an explanation of the specifiers, see the topics on [standard date and time format strings](../../../docs/standard/base-types/standard-date-and-time-format-strings.md) and [custom date and time format strings](../../../docs/standard/base-types/custom-date-and-time-format-strings.md).</span></span>  
  
 <span data-ttu-id="b628d-141">Každé přetížení <xref:System.DateTime.ParseExact%2A> metoda má také <xref:System.IFormatProvider> parametr, který obvykle poskytuje informace specifické pro jazykovou verzi o formátování řetězce.</span><span class="sxs-lookup"><span data-stu-id="b628d-141">Each overload of the <xref:System.DateTime.ParseExact%2A> method also has an <xref:System.IFormatProvider> parameter that typically provides culture-specific information about the formatting of the string.</span></span> <span data-ttu-id="b628d-142">Obvykle to <xref:System.IFormatProvider> objekt <xref:System.Globalization.CultureInfo> objekt, který reprezentuje standardní jazykovou verzi nebo <xref:System.Globalization.DateTimeFormatInfo> objekt, který je vrácený <xref:System.Globalization.CultureInfo.DateTimeFormat%2A?displayProperty=nameWithType> vlastnost.</span><span class="sxs-lookup"><span data-stu-id="b628d-142">Typically, this <xref:System.IFormatProvider> object is a <xref:System.Globalization.CultureInfo> object that represents a standard culture or a <xref:System.Globalization.DateTimeFormatInfo> object that is returned by the <xref:System.Globalization.CultureInfo.DateTimeFormat%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="b628d-143">Ale na rozdíl od jiných datum a čas funkcí analýzy, tato metoda také podporuje <xref:System.IFormatProvider> nestandardní datum a čas ve formátu, který definuje.</span><span class="sxs-lookup"><span data-stu-id="b628d-143">However, unlike the other date and time parsing functions, this method also supports an <xref:System.IFormatProvider> that defines a non-standard date and time format.</span></span>  
  
 <span data-ttu-id="b628d-144">V následujícím příkladu kódu **ParseExact** metodě se předává objekt string analyzovat, za nímž následuje specifikátorem formátu, za nímž následuje **CultureInfo** objektu.</span><span class="sxs-lookup"><span data-stu-id="b628d-144">In the following code example, the **ParseExact** method is passed a string object to parse, followed by a format specifier, followed by a **CultureInfo** object.</span></span> <span data-ttu-id="b628d-145">To **ParseExact** metoda analyzovat pouze řetězce, které vykazují vzoru dlouhého data v en US jazykovou verzi.</span><span class="sxs-lookup"><span data-stu-id="b628d-145">This **ParseExact** method can only parse strings that exhibit the long date pattern in the en-US culture.</span></span>  
  
 [!code-csharp[Parsing.DateAndTime#4](../../../samples/snippets/csharp/VS_Snippets_CLR/Parsing.DateAndTime/cs/Example4.cs#4)]
 [!code-vb[Parsing.DateAndTime#4](../../../samples/snippets/visualbasic/VS_Snippets_CLR/Parsing.DateAndTime/vb/Example4.vb#4)]  
  
## <a name="see-also"></a><span data-ttu-id="b628d-146">Viz také</span><span class="sxs-lookup"><span data-stu-id="b628d-146">See Also</span></span>  
 [<span data-ttu-id="b628d-147">Analýza řetězců</span><span class="sxs-lookup"><span data-stu-id="b628d-147">Parsing Strings</span></span>](../../../docs/standard/base-types/parsing-strings.md)  
 [<span data-ttu-id="b628d-148">Typy formátování</span><span class="sxs-lookup"><span data-stu-id="b628d-148">Formatting Types</span></span>](../../../docs/standard/base-types/formatting-types.md)  
 [<span data-ttu-id="b628d-149">Převod typů v rozhraní .NET</span><span class="sxs-lookup"><span data-stu-id="b628d-149">Type Conversion in .NET</span></span>](../../../docs/standard/base-types/type-conversion.md)
