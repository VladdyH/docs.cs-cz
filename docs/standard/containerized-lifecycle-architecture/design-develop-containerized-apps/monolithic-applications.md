---
title: "Monolitický aplikace"
description: "Kontejnerizované Docker životního cyklu aplikací s Microsoft platforma a nástroje"
keywords: "Docker, Mikroslužeb, ASP.NET, kontejneru"
author: CESARDELATORRE
ms.author: wiwagn
ms.date: 09/22/2017
ms.workload:
- dotnet
- dotnetcore
ms.openlocfilehash: 95561aaa8ffccb8eae3fe276192c6648c0819685
ms.sourcegitcommit: e7f04439d78909229506b56935a1105a4149ff3d
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 12/23/2017
---
# <a name="monolithic-applications"></a><span data-ttu-id="a87e1-104">Monolitický aplikace</span><span class="sxs-lookup"><span data-stu-id="a87e1-104">Monolithic applications</span></span>

<span data-ttu-id="a87e1-105">V tomto scénáři jsou vytváření jednoho a monolitický webové aplikace nebo služby a jeho nasazení jako kontejner.</span><span class="sxs-lookup"><span data-stu-id="a87e1-105">In this scenario, you are building a single and monolithic web application or service and deploying it as a container.</span></span> <span data-ttu-id="a87e1-106">V aplikaci nemusí být strukturu monolitický; může ho tvoří několik knihovny, komponenty nebo dokonce i vrstvy (aplikační vrstvu, domény vrstvy, vrstva atd.).</span><span class="sxs-lookup"><span data-stu-id="a87e1-106">Within the application, the structure might not be monolithic; it might comprise several libraries, components, or even layers (application layer, domain layer, data access layer, etc.).</span></span> <span data-ttu-id="a87e1-107">Externě je jediný kontejner, jako jeden proces, jedné webové aplikace nebo jedné služby.</span><span class="sxs-lookup"><span data-stu-id="a87e1-107">Externally, it is a single container, like a single process, single web application, or single service.</span></span>

<span data-ttu-id="a87e1-108">Ke správě tohoto modelu, můžete nasadit jediný kontejner k reprezentaci aplikace.</span><span class="sxs-lookup"><span data-stu-id="a87e1-108">To manage this model, you deploy a single container to represent the application.</span></span> <span data-ttu-id="a87e1-109">Pokud chcete použít škálování ho, stačí přidáte pár více kopií pro vyrovnávání zatížení vpředu.</span><span class="sxs-lookup"><span data-stu-id="a87e1-109">To scale it, just add a few more copies with a load balancer in front.</span></span> <span data-ttu-id="a87e1-110">Jednoduchost pochází z Správa jedno nasazení v jedné kontejneru nebo virtuální počítač (VM).</span><span class="sxs-lookup"><span data-stu-id="a87e1-110">The simplicity comes from managing a single deployment in a single container or virtual machine (VM).</span></span>

<span data-ttu-id="a87e1-111">Následující objekt, že kontejner jenom jednu funkci a nemá v jednom procesu monolitický vzor je v konfliktu.</span><span class="sxs-lookup"><span data-stu-id="a87e1-111">Following the principal that a container does one thing only, and does it in one process, the monolithic pattern is in conflict.</span></span> <span data-ttu-id="a87e1-112">Můžete přidat více součásti nebo knihovny a interní vrstvy v rámci každý kontejner, jak ukazuje obrázek 4-1.</span><span class="sxs-lookup"><span data-stu-id="a87e1-112">You can include multiple components/libraries or internal layers within each container, as illustrated in Figure 4-1.</span></span>

![](./media/image1.png)

<span data-ttu-id="a87e1-113">Obrázek 4 – 1: Příklad architektura monolitický aplikace</span><span class="sxs-lookup"><span data-stu-id="a87e1-113">Figure 4-1: An example of monolithic application architecture</span></span>

<span data-ttu-id="a87e1-114">Nevýhodou tento přístup pochází, nebo když aplikace roste, vyžadování ji škálovat.</span><span class="sxs-lookup"><span data-stu-id="a87e1-114">The downside to this approach comes if or when the application grows, requiring it to scale.</span></span> <span data-ttu-id="a87e1-115">Pokud bude celá aplikace škálovat, není skutečně problém.</span><span class="sxs-lookup"><span data-stu-id="a87e1-115">If the entire application scaled, it's not really a problem.</span></span> <span data-ttu-id="a87e1-116">Ve většině případů několik součástí aplikace jsou však potlačení body, které vyžadují škálování, zatímco ostatní součásti jsou používány menší.</span><span class="sxs-lookup"><span data-stu-id="a87e1-116">However, in most cases, a few parts of the application are the choke points that require scaling, whereas other components are used less.</span></span>

<span data-ttu-id="a87e1-117">Použití příklad typické elektronické obchodování, budete pravděpodobně potřebovat je škálovat informace součást produktu.</span><span class="sxs-lookup"><span data-stu-id="a87e1-117">Using the typical e-commerce example, what you likely need is to scale the product information component.</span></span> <span data-ttu-id="a87e1-118">Mnoho zákazníků další Procházet produkty než jejich zakoupení.</span><span class="sxs-lookup"><span data-stu-id="a87e1-118">Many more customers browse products than purchase them.</span></span> <span data-ttu-id="a87e1-119">Další zákazníci využívat nákupního košíku než použití kanálu platba.</span><span class="sxs-lookup"><span data-stu-id="a87e1-119">More customers use their basket than use the payment pipeline.</span></span> <span data-ttu-id="a87e1-120">Méně zákazníky přidání komentářů nebo zobrazit historii jejich nákupu.</span><span class="sxs-lookup"><span data-stu-id="a87e1-120">Fewer customers add comments or view their purchase history.</span></span> <span data-ttu-id="a87e1-121">A pravděpodobně máte jen někteří z nich zaměstnancům, najdete v jedné oblasti, která potřebují spravovat obsah a marketingových kampaní.</span><span class="sxs-lookup"><span data-stu-id="a87e1-121">And you likely have only a handful of employees, in a single region, that need to manage the content and marketing campaigns.</span></span> <span data-ttu-id="a87e1-122">Škálování monolitický návrhu, všechny kód je nasazenému vícekrát.</span><span class="sxs-lookup"><span data-stu-id="a87e1-122">By scaling the monolithic design, all of the code is deployed multiple times.</span></span>

<span data-ttu-id="a87e1-123">Kromě "škálování-všechno" problém, změny jedinou komponentu vyžadují opětovném dokončení testování v celé aplikaci, jakož i úplné nové nasazení všech instancí.</span><span class="sxs-lookup"><span data-stu-id="a87e1-123">In addition to the "scale-everything" problem, changes to a single component require complete retesting of the entire application as well as a complete redeployment of all the instances.</span></span>

<span data-ttu-id="a87e1-124">Monolitický přístup je běžné a mnoha organizacích jsou vývoj pomocí této metody architektury.</span><span class="sxs-lookup"><span data-stu-id="a87e1-124">The monolithic approach is common, and many organizations are developing with this architectural method.</span></span> <span data-ttu-id="a87e1-125">Mnoho získejte vhodné dostatek výsledky, zatímco ostatní dojde k omezení.</span><span class="sxs-lookup"><span data-stu-id="a87e1-125">Many enjoy good enough results, whereas others encounter limits.</span></span> <span data-ttu-id="a87e1-126">Mnoho určené svých aplikací v tomto modelu, protože bylo příliš složité sestavení SOAs nástroje a infrastruktura a uvidí nebylo potřeba – dokud vzrostla aplikace.</span><span class="sxs-lookup"><span data-stu-id="a87e1-126">Many designed their applications in this model because the tools and infrastructure were too difficult to build SOAs, and they didn't see the need—until the app grew.</span></span>

<span data-ttu-id="a87e1-127">Z hlediska služby infrastruktury každý server můžete spustit mnoho aplikací v rámci stejného hostitele a mají přijatelné poměr efektivitu vaše využití prostředků, jak je znázorněno na obrázku 4-2.</span><span class="sxs-lookup"><span data-stu-id="a87e1-127">From an infrastructure perspective, each server can run many applications within the same host and have an acceptable ratio of efficiency in your resources usage, as shown in Figure 4-2.</span></span>

![](./media/image2.png)

<span data-ttu-id="a87e1-128">Obrázek 4 – 2: hostitele spuštěných víc aplikací nebo kontejnerů</span><span class="sxs-lookup"><span data-stu-id="a87e1-128">Figure 4-2: A host running multiple apps/containers</span></span>

<span data-ttu-id="a87e1-129">Monolitický aplikací v Azure můžete nasadit pomocí vyhrazených virtuálních počítačích pro každou instanci.</span><span class="sxs-lookup"><span data-stu-id="a87e1-129">You can deploy monolithic applications in Azure by using dedicated VMs for each instance.</span></span> <span data-ttu-id="a87e1-130">Pomocí [škálovatelné sady virtuálních počítačů Azure](https://docs.microsoft.com/azure/virtual-machine-scale-sets/), je možné snadno škálovat virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="a87e1-130">Using [Azure VM Scale Sets](https://docs.microsoft.com/azure/virtual-machine-scale-sets/), you can scale the VMs easily.</span></span> <span data-ttu-id="a87e1-131">[Azure App Services](https://azure.microsoft.com/en-us/services/app-service/) můžete spouštět monolitický aplikace a snadno škálovat instance bez nutnosti ke správě virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="a87e1-131">[Azure App Services](https://azure.microsoft.com/en-us/services/app-service/) can run monolithic applications and easily scale instances without having to manage the VMs.</span></span> <span data-ttu-id="a87e1-132">Od 2016 můžete Azure App Services spustit jedné instance Docker kontejnery taky zjednodušuje nasazení.</span><span class="sxs-lookup"><span data-stu-id="a87e1-132">Since 2016, Azure App Services can run single instances of Docker containers, as well, simplifying the deployment.</span></span> <span data-ttu-id="a87e1-133">A pomocí Docker, můžete nasadit jeden virtuální počítač jako hostitele Docker a spustit víc instancí.</span><span class="sxs-lookup"><span data-stu-id="a87e1-133">And, using Docker, you can deploy a single VM as a Docker host and run multiple instances.</span></span> <span data-ttu-id="a87e1-134">Pomocí Azure vyrovnávání, jak je ukázáno v obrázek 4-3, můžete spravovat škálování.</span><span class="sxs-lookup"><span data-stu-id="a87e1-134">Using the Azure balancer, as illustrated in the Figure 4-3, you can manage scaling.</span></span>

![](./media/image3.png)

<span data-ttu-id="a87e1-135">Obrázek 4 – 3: více hostitelů škálování na více systémů jednom Docker aplikace/kontejnery aplikací</span><span class="sxs-lookup"><span data-stu-id="a87e1-135">Figure 4-3: Multiple hosts scaling-out a single Docker application apps/containers</span></span>

<span data-ttu-id="a87e1-136">Můžete spravovat nasazení na různých hostitelích prostřednictvím techniky tradiční nasazení.</span><span class="sxs-lookup"><span data-stu-id="a87e1-136">You can manage the deployment to the various hosts via traditional deployment techniques.</span></span> <span data-ttu-id="a87e1-137">Hostitelů Docker můžete spravovat pomocí příkazů jako `docker run` ručně pomocí automatizace, jako je například kanály průběžné doručování (CD), které vám vysvětlíme, dále v této publikaci e.</span><span class="sxs-lookup"><span data-stu-id="a87e1-137">You can manage Docker hosts by using commands like `docker run` manually, through automation such as Continuous Delivery (CD) pipelines, which we explain later in this e-book.</span></span>

## <a name="monolithic-application-deployed-as-a-container"></a><span data-ttu-id="a87e1-138">Monolitický aplikace nasazena jako kontejner</span><span class="sxs-lookup"><span data-stu-id="a87e1-138">Monolithic application deployed as a container</span></span>

<span data-ttu-id="a87e1-139">Existují výhody použití kontejnerů ke správě monolitický nasazení.</span><span class="sxs-lookup"><span data-stu-id="a87e1-139">There are benefits to using containers to manage monolithic deployments.</span></span> <span data-ttu-id="a87e1-140">Změna velikosti instancí kontejnerů je mnohem rychlejší a snadnější než nasazení dalších virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="a87e1-140">Scaling the instances of containers is far faster and easier than deploying additional VMs.</span></span> <span data-ttu-id="a87e1-141">I když škálovatelné sady virtuálních počítačů jsou skvělé funkce škálování virtuálních počítačů, které se vyžadují pro hostování Docker kontejnerů, jejich trvat času na vytvoření.</span><span class="sxs-lookup"><span data-stu-id="a87e1-141">Although VM Scale Sets are a great feature to scale VMs, which are required to host your Docker containers, they take time to set up.</span></span> <span data-ttu-id="a87e1-142">Při nasazení jako instance aplikace, je konfigurace aplikace spravované v rámci virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="a87e1-142">When deployed as app instances, the configuration of the app is managed as part of the VM.</span></span>

<span data-ttu-id="a87e1-143">Nasazení aktualizací, jako je mnohem rychlejší imagí Dockeru a efektivní sítě.</span><span class="sxs-lookup"><span data-stu-id="a87e1-143">Deploying updates as Docker images is far faster and network efficient.</span></span> <span data-ttu-id="a87e1-144">Instance Vn můžete nastavit na stejné hostitelích jako vaše instance Vn-1 odstraňuje přidané náklady vyplývající z dalších virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="a87e1-144">The Vn instances can be set up on the same hosts as your Vn-1 instances, eliminating added costs resulting from additional VMs.</span></span> <span data-ttu-id="a87e1-145">Imagí dockeru obvykle spuštění v sekundách, rychlosti zavedení uživatelům.</span><span class="sxs-lookup"><span data-stu-id="a87e1-145">Docker images typically start in seconds, speeding rollouts.</span></span> <span data-ttu-id="a87e1-146">Zrušení Docker instance je stejně snadná jako vyvolání `docker stop` příkazu, obvykle dokončení menší než za sekundu.</span><span class="sxs-lookup"><span data-stu-id="a87e1-146">Tearing down a Docker instance is as easy as invoking the `docker stop` command, typically completing in less than a second.</span></span>

<span data-ttu-id="a87e1-147">Protože kontejnery jsou ze své podstaty neměnné záměrné, budete muset nikdy starat o poškozená virtuálních počítačů, protože aktualizační skript zapomněli jste na některé specifické konfigurace nebo soubor místu na disku.</span><span class="sxs-lookup"><span data-stu-id="a87e1-147">Because containers are inherently immutable, by design, you never need to worry about corrupted VMs because an update script forgot to account for some specific configuration or file left on disk.</span></span>

<span data-ttu-id="a87e1-148">I když monolitický aplikace využívat Docker, že dotykové ovládání na pouze tipy výhody.</span><span class="sxs-lookup"><span data-stu-id="a87e1-148">Although monolithic apps can benefit from Docker, we're touching on only the tips of the benefits.</span></span> <span data-ttu-id="a87e1-149">Správa kontejnerů větší výhody pochází z nasazení s orchestrators kontejneru, které spravují různé instance a životní cyklus každá instance kontejneru.</span><span class="sxs-lookup"><span data-stu-id="a87e1-149">The larger benefits of managing containers comes from deploying with container orchestrators that manage the various instances and life cycle of each container instance.</span></span> <span data-ttu-id="a87e1-150">Rozdělení monolitický aplikaci do subsystémy, které můžete škálovat, vyvinuté a nasadit jednotlivě je vašim vstupním bodem do sféru mikroslužeb.</span><span class="sxs-lookup"><span data-stu-id="a87e1-150">Breaking up the monolithic application into subsystems that can be scaled, developed, and deployed individually is your entry point into the realm of microservices.</span></span>

## <a name="publishing-a-single-docker-container-app-to-azure-app-service"></a><span data-ttu-id="a87e1-151">Publikování aplikace na jeden kontejner Docker do služby Azure App Service</span><span class="sxs-lookup"><span data-stu-id="a87e1-151">Publishing a single Docker container app to Azure App Service</span></span>

<span data-ttu-id="a87e1-152">Buď vzhledem k tomu, že chcete získat rychlý ověření kontejner nasadí do Azure, nebo protože aplikace je jednoduše jedním kontejneru aplikace, aplikační služby Azure nabízí skvělý způsob, jak poskytnout škálovatelných služeb jeden kontejner.</span><span class="sxs-lookup"><span data-stu-id="a87e1-152">Either because you want to get a quick validation of a container deployed to Azure or because the app is simply a single-container app, Azure App Services provides a great way to provide scalable single-container services.</span></span>

<span data-ttu-id="a87e1-153">Pomocí služby Azure App Service je intuitivní a můžete zprovoznění a rychle spuštěna, protože poskytuje skvělé Git integrace trvat kódu, sestavení v sadě Microsoft Visual Studio a přímo ji nasadit do Azure.</span><span class="sxs-lookup"><span data-stu-id="a87e1-153">Using Azure App Service is intuitive and you can get up and running quickly because it provides great Git integration to take your code, build it in Microsoft Visual Studio, and directly deploy it to Azure.</span></span> <span data-ttu-id="a87e1-154">Ale tradičně (s žádné Docker), v případě potřeby další možnosti, architektury nebo závislosti, které nejsou podporované v aplikační služby, je potřeba počkat, dokud tým služby Azure aktualizuje těchto závislostí ve službě App Service nebo přepnout do jiných služeb, třeba Service Fabric, cloudové služby nebo dokonce prostý virtuálních počítačů, pro které máte další ovládací prvek a můžete nainstalovat požadovanou součást nebo framework pro vaši aplikaci.</span><span class="sxs-lookup"><span data-stu-id="a87e1-154">But, traditionally (with no Docker), if you needed other capabilities, frameworks, or dependencies that aren't supported in App Services, you needed to wait for it until the Azure team updates those dependencies in App Service or switched to other services like Service Fabric, Cloud Services, or even plain VMs, for which you have further control and can install a required component or framework for your application.</span></span>

<span data-ttu-id="a87e1-155">Nyní, ale (oznamují na Microsoft Connect 2016 v listopadu 2016) a jak ukazuje obrázek 4‑4, pokud používáte Visual Studio 2017, podpora kontejnerů ve službě Azure App Service vám dává možnost zahrnout všechno ve vašem prostředí aplikace.</span><span class="sxs-lookup"><span data-stu-id="a87e1-155">Now, however, (announced at Microsoft Connect 2016 in November 2016) and as shown in Figure 4‑4, when using Visual Studio 2017, container support in Azure App Service gives you the ability to include whatever you want in your app environment.</span></span> <span data-ttu-id="a87e1-156">Pokud jste přidali závislost do vaší aplikace, protože běží v kontejneru, získáte možnost včetně těchto závislostí v bitové kopii soubor Docker nebo Docker.</span><span class="sxs-lookup"><span data-stu-id="a87e1-156">If you added a dependency to your app, because you are running it in a container, you get the capability of including those dependencies in your Dockerfile or Docker image.</span></span>

![](./media/image4.png)

<span data-ttu-id="a87e1-157">Obrázek 4-4: publikování kontejner Azure App Service ze sady Visual Studio. aplikace nebo kontejnery</span><span class="sxs-lookup"><span data-stu-id="a87e1-157">Figure 4-4: Publishing a container to Azure App Service from Visual Studio apps/containers</span></span>

<span data-ttu-id="a87e1-158">Obrázek 4 – 4 také ukazuje, že tok publikovat nabízených oznámení bitovou kopii prostřednictvím registru kontejneru, který může být registru kontejner Azure (registr v blízkosti pro vaše nasazení v Azure a zabezpečené účty a skupiny Azure Active Directory) nebo jiné Docker registru jako úložiště Docker Hub nebo místní registrech.</span><span class="sxs-lookup"><span data-stu-id="a87e1-158">Figure 4-4 also shows that the publish flow pushes an image through a Container Registry, which can be the Azure Container Registry (a registry near to your deployments in Azure and secured by Azure Active Directory groups and accounts) or any other Docker Registry like Docker Hub or on-premises registries.</span></span>


>[!div class="step-by-step"]
<span data-ttu-id="a87e1-159">[Předchozí] (běžné kontejneru návrhu principles.md) [Další] (state-and-data-in-docker-applications.md)</span><span class="sxs-lookup"><span data-stu-id="a87e1-159">[Previous] (common-container-design-principles.md) [Next] (state-and-data-in-docker-applications.md)</span></span>
