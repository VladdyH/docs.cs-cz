---
title: Tok dat (Task Parallel Library)
ms.date: 03/30/2017
ms.prod: .net
ms.technology: dotnet-standard
ms.topic: article
dev_langs:
- csharp
- vb
helpviewer_keywords:
- Task Parallel Library, dataflows
- TPL dataflow library
ms.assetid: 643575d0-d26d-4c35-8de7-a9c403e97dd6
author: rpetrusha
ms.author: ronpet
manager: wpickett
ms.workload:
- dotnet
- dotnetcore
ms.openlocfilehash: 386d7a4ce7168fbe70d9037254a1540b7bf00478
ms.sourcegitcommit: 86adcc06e35390f13c1e372c36d2e044f1fc31ef
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 04/26/2018
---
# <a name="dataflow-task-parallel-library"></a><span data-ttu-id="3320f-102">Tok dat (Task Parallel Library)</span><span class="sxs-lookup"><span data-stu-id="3320f-102">Dataflow (Task Parallel Library)</span></span>
<a name="top"></a> <span data-ttu-id="3320f-103">Task Parallel Library (TPL) poskytuje součásti toku dat a pomáhá tak zvýšit robustnost aplikací s povolenými souběžnosti.</span><span class="sxs-lookup"><span data-stu-id="3320f-103">The Task Parallel Library (TPL) provides dataflow components to help increase the robustness of concurrency-enabled applications.</span></span> <span data-ttu-id="3320f-104">Tyto součásti toku dat se souhrnně označují jako *knihovna toku dat TPL*.</span><span class="sxs-lookup"><span data-stu-id="3320f-104">These dataflow components are collectively referred to as the *TPL Dataflow Library*.</span></span> <span data-ttu-id="3320f-105">Tento model toku dat podporuje programování založené na objektu actor pomocí poskytnete zprávy v procesu předávání pro hrubý toku dat a paralelní zpracování úlohy.</span><span class="sxs-lookup"><span data-stu-id="3320f-105">This dataflow model promotes actor-based programming by providing in-process message passing for coarse-grained dataflow and pipelining tasks.</span></span> <span data-ttu-id="3320f-106">Komponenty toku dat sestavení pro typy a plánování infrastruktury TPL a integraci s podporou jazyka C#, Visual Basic a F # pro asynchronní programování.</span><span class="sxs-lookup"><span data-stu-id="3320f-106">The dataflow components build on the types and scheduling infrastructure of the TPL and integrate with the C#, Visual Basic, and F# language support for asynchronous programming.</span></span> <span data-ttu-id="3320f-107">Tyto součásti toku dat jsou užitečné, pokud máte více operací, které musí vzájemnou komunikaci asynchronně, nebo pokud chcete zpracovat data, jakmile je k dispozici.</span><span class="sxs-lookup"><span data-stu-id="3320f-107">These dataflow components are useful when you have multiple operations that must communicate with one another asynchronously or when you want to process data as it becomes available.</span></span> <span data-ttu-id="3320f-108">Představte si třeba aplikaci, která zpracovává data bitové kopie z webové kamery.</span><span class="sxs-lookup"><span data-stu-id="3320f-108">For example, consider an application that processes image data from a web camera.</span></span> <span data-ttu-id="3320f-109">Pomocí modelu toku dat je aplikace dokáže zpracovat rámce bitové kopie, jakmile budou k dispozici.</span><span class="sxs-lookup"><span data-stu-id="3320f-109">By using the dataflow model, the application can process image frames as they become available.</span></span> <span data-ttu-id="3320f-110">Pokud aplikace vylepšuje rámce bitové kopie, například provedením světla oprava nebo červených snížení, můžete vytvořit *kanálu* toku dat komponent.</span><span class="sxs-lookup"><span data-stu-id="3320f-110">If the application enhances image frames, for example, by performing light correction or red-eye reduction, you can create a *pipeline* of dataflow components.</span></span> <span data-ttu-id="3320f-111">Každá fáze v kanálu může používat další funkce hrubý paralelismus, jako jsou funkce, která zajišťuje TPL k transformaci bitovou kopii.</span><span class="sxs-lookup"><span data-stu-id="3320f-111">Each stage of the pipeline might use more coarse-grained parallelism functionality, such as the functionality that is provided by the TPL, to transform the image.</span></span>  
  
 <span data-ttu-id="3320f-112">Tento dokument obsahuje přehled knihovna toku dat TPL.</span><span class="sxs-lookup"><span data-stu-id="3320f-112">This document provides an overview of the TPL Dataflow Library.</span></span> <span data-ttu-id="3320f-113">Popisuje programovací model, typy bloku předdefinované toku dat a postup konfigurace bloků toku dat podle specifických požadavků vaší aplikace.</span><span class="sxs-lookup"><span data-stu-id="3320f-113">It describes the programming model, the predefined dataflow block types, and how to configure dataflow blocks to meet the specific requirements of your applications.</span></span>  

[!INCLUDE [tpl-install-instructions](../../../includes/tpl-install-instructions.md)]
  
 <span data-ttu-id="3320f-114">Tento dokument obsahuje následující části:</span><span class="sxs-lookup"><span data-stu-id="3320f-114">This document contains the following sections:</span></span>  
  
-   [<span data-ttu-id="3320f-115">Model programování</span><span class="sxs-lookup"><span data-stu-id="3320f-115">Programming Model</span></span>](#model)  
  
-   [<span data-ttu-id="3320f-116">Typy předdefinované bloku toku dat</span><span class="sxs-lookup"><span data-stu-id="3320f-116">Predefined Dataflow Block Types</span></span>](#predefined_types)  
  
-   [<span data-ttu-id="3320f-117">Konfigurace chování bloku toku dat</span><span class="sxs-lookup"><span data-stu-id="3320f-117">Configuring Dataflow Block Behavior</span></span>](#behavior)  
  
-   [<span data-ttu-id="3320f-118">Vlastních bloků toku dat</span><span class="sxs-lookup"><span data-stu-id="3320f-118">Custom Dataflow Blocks</span></span>](#custom)  
  
<a name="model"></a>   
## <a name="programming-model"></a><span data-ttu-id="3320f-119">Programovací model</span><span class="sxs-lookup"><span data-stu-id="3320f-119">Programming Model</span></span>  
 <span data-ttu-id="3320f-120">Knihovna toku dat TPL poskytuje základ pro zprávy předávání a paralelním prováděním náročná na prostředky procesoru a I náročnými aplikace, které mají vysoké prostupnosti a nízké latence.</span><span class="sxs-lookup"><span data-stu-id="3320f-120">The TPL Dataflow Library provides a foundation for message passing and parallelizing CPU-intensive and I/O-intensive applications that have high throughput and low latency.</span></span> <span data-ttu-id="3320f-121">Také nabízí explicitní kontrolu nad dat do vyrovnávací paměti a přesune kolem systému.</span><span class="sxs-lookup"><span data-stu-id="3320f-121">It also gives you explicit control over how data is buffered and moves around the system.</span></span> <span data-ttu-id="3320f-122">Abyste lépe pochopili programovací model toku dat, zvažte aplikaci, která asynchronně načte bitové kopie z disku a vytvoří složené tyto bitové kopie.</span><span class="sxs-lookup"><span data-stu-id="3320f-122">To better understand the dataflow programming model, consider an application that asynchronously loads images from disk and creates a composite of those images.</span></span> <span data-ttu-id="3320f-123">Tradiční programovací modely obvykle vyžadují použití zpětná volání a synchronizace objekty, například zámků, koordinovat úloh a přístup ke sdíleným datům.</span><span class="sxs-lookup"><span data-stu-id="3320f-123">Traditional programming models typically require that you use callbacks and synchronization objects, such as locks, to coordinate tasks and access to shared data.</span></span> <span data-ttu-id="3320f-124">Pomocí programovací model toku dat, můžete vytvořit objekty toku dat, které se načítají z disku zpracování obrázků.</span><span class="sxs-lookup"><span data-stu-id="3320f-124">By using the dataflow programming model, you can create dataflow objects that process images as they are read from disk.</span></span> <span data-ttu-id="3320f-125">V rámci modelu toku dat je deklarovat, jak se zpracují data, až bude k dispozici a také všechny závislosti mezi daty.</span><span class="sxs-lookup"><span data-stu-id="3320f-125">Under the dataflow model, you declare how data is handled when it becomes available, and also any dependencies between data.</span></span> <span data-ttu-id="3320f-126">Vzhledem k tomu, že modul runtime spravuje závislosti mezi daty, často se můžete vyhnout požadavek na synchronizaci přístup ke sdíleným datům.</span><span class="sxs-lookup"><span data-stu-id="3320f-126">Because the runtime manages dependencies between data, you can often avoid the requirement to synchronize access to shared data.</span></span> <span data-ttu-id="3320f-127">Kromě toho protože modul runtime plánuje práci podle asynchronní doručení dat, toku dat lze vylepšit rychlost reakce a propustnost efektivně spravovat základní vláken.</span><span class="sxs-lookup"><span data-stu-id="3320f-127">In addition, because the runtime schedules work based on the asynchronous arrival of data, dataflow can improve responsiveness and throughput by efficiently managing the underlying threads.</span></span> <span data-ttu-id="3320f-128">Příklad, který používá programovací model toku dat k implementaci zpracování obrázků v aplikaci Windows Forms, naleznete v části [návod: použití toku dat ve formulářové aplikaci Windows](../../../docs/standard/parallel-programming/walkthrough-using-dataflow-in-a-windows-forms-application.md).</span><span class="sxs-lookup"><span data-stu-id="3320f-128">For an example that uses the dataflow programming model to implement image processing in a Windows Forms application, see [Walkthrough: Using Dataflow in a Windows Forms Application](../../../docs/standard/parallel-programming/walkthrough-using-dataflow-in-a-windows-forms-application.md).</span></span>  
  
### <a name="sources-and-targets"></a><span data-ttu-id="3320f-129">Zdroje a cíle</span><span class="sxs-lookup"><span data-stu-id="3320f-129">Sources and Targets</span></span>  
 <span data-ttu-id="3320f-130">Knihovna toku dat TPL se skládá z *bloků toku dat*, které jsou data struktury dat vyrovnávací paměti a proces.</span><span class="sxs-lookup"><span data-stu-id="3320f-130">The TPL Dataflow Library consists of *dataflow blocks*, which are data structures that buffer and process data.</span></span> <span data-ttu-id="3320f-131">Definuje tři druhy bloků toku dat TPL: *zdroje bloky*, *cíle bloky*, a *Šiřitel bloky*.</span><span class="sxs-lookup"><span data-stu-id="3320f-131">The TPL defines three kinds of dataflow blocks: *source blocks*, *target blocks*, and *propagator blocks*.</span></span> <span data-ttu-id="3320f-132">Blok zdroj slouží jako zdroj dat a může číst z.</span><span class="sxs-lookup"><span data-stu-id="3320f-132">A source block acts as a source of data and can be read from.</span></span> <span data-ttu-id="3320f-133">Cílový blok fungují jako přijímač dat a je možné zapsat do.</span><span class="sxs-lookup"><span data-stu-id="3320f-133">A target block acts as a receiver of data and can be written to.</span></span> <span data-ttu-id="3320f-134">Blok Šiřitel funguje jako blok zdrojový i cílový blok a můžete být číst z a zapisovat do.</span><span class="sxs-lookup"><span data-stu-id="3320f-134">A propagator block acts as both a source block and a target block, and can be read from and written to.</span></span> <span data-ttu-id="3320f-135">Definuje TPL <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601?displayProperty=nameWithType> rozhraní představují zdrojů, <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601?displayProperty=nameWithType> představují cíle, a <xref:System.Threading.Tasks.Dataflow.IPropagatorBlock%602?displayProperty=nameWithType> představují propagators.</span><span class="sxs-lookup"><span data-stu-id="3320f-135">The TPL defines the <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601?displayProperty=nameWithType> interface to represent sources, <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601?displayProperty=nameWithType> to represent targets, and <xref:System.Threading.Tasks.Dataflow.IPropagatorBlock%602?displayProperty=nameWithType> to represent propagators.</span></span> <span data-ttu-id="3320f-136"><xref:System.Threading.Tasks.Dataflow.IPropagatorBlock%602> zdědí vlastnosti z obou <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601>, a <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601>.</span><span class="sxs-lookup"><span data-stu-id="3320f-136"><xref:System.Threading.Tasks.Dataflow.IPropagatorBlock%602> inherits from both <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601>, and <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601>.</span></span>  
  
 <span data-ttu-id="3320f-137">Knihovna toku dat TPL poskytuje několik typů bloku předdefinované toku dat, které implementují <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601>, <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601>, a <xref:System.Threading.Tasks.Dataflow.IPropagatorBlock%602> rozhraní.</span><span class="sxs-lookup"><span data-stu-id="3320f-137">The TPL Dataflow Library provides several predefined dataflow block types that implement the <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601>, <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601>, and <xref:System.Threading.Tasks.Dataflow.IPropagatorBlock%602> interfaces.</span></span> <span data-ttu-id="3320f-138">Tyto typy bloku toku dat jsou popsané v tomto dokumentu v části [předdefinované typy bloku toku dat](#predefined_types).</span><span class="sxs-lookup"><span data-stu-id="3320f-138">These dataflow block types are described in this document in the section [Predefined Dataflow Block Types](#predefined_types).</span></span>  
  
### <a name="connecting-blocks"></a><span data-ttu-id="3320f-139">Připojení bloky</span><span class="sxs-lookup"><span data-stu-id="3320f-139">Connecting Blocks</span></span>  
 <span data-ttu-id="3320f-140">Bloků toku dat můžete připojit k formuláři *kanály*, které jsou lineární pořadí bloků toku dat, nebo *sítě*, které jsou grafy bloků toku dat.</span><span class="sxs-lookup"><span data-stu-id="3320f-140">You can connect dataflow blocks to form *pipelines*, which are linear sequences of dataflow blocks, or *networks*, which are graphs of dataflow blocks.</span></span> <span data-ttu-id="3320f-141">Kanál je jednu formu sítě.</span><span class="sxs-lookup"><span data-stu-id="3320f-141">A pipeline is one form of network.</span></span> <span data-ttu-id="3320f-142">V kanálu nebo sítě zdroje asynchronně rozšíří dat k cílům, jakmile tato data k dispozici.</span><span class="sxs-lookup"><span data-stu-id="3320f-142">In a pipeline or network, sources asynchronously propagate data to targets as that data becomes available.</span></span> <span data-ttu-id="3320f-143"><xref:System.Threading.Tasks.Dataflow.ISourceBlock%601.LinkTo%2A?displayProperty=nameWithType> Metoda bloku toku dat zdroj odkazuje na cílový blok.</span><span class="sxs-lookup"><span data-stu-id="3320f-143">The <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601.LinkTo%2A?displayProperty=nameWithType> method links a source dataflow block to a target block.</span></span> <span data-ttu-id="3320f-144">Zdrojem může být propojený nula nebo více cílů; cíle může být propojený z nula nebo více zdrojů.</span><span class="sxs-lookup"><span data-stu-id="3320f-144">A source can be linked to zero or more targets; targets can be linked from zero or more sources.</span></span> <span data-ttu-id="3320f-145">Můžete přidat nebo odebrat bloků toku dat do nebo z kanálu nebo síti současně.</span><span class="sxs-lookup"><span data-stu-id="3320f-145">You can add or remove dataflow blocks to or from a pipeline or network concurrently.</span></span> <span data-ttu-id="3320f-146">Blok toku dat předdefinované typy zpracovávat všechny aspekty zabezpečení vlákna propojení a jejich oddělení.</span><span class="sxs-lookup"><span data-stu-id="3320f-146">The predefined dataflow block types handle all thread-safety aspects of linking and unlinking.</span></span>  
  
 <span data-ttu-id="3320f-147">Příklad, který se připojuje bloků toku dat k vytvoření základního kanálu, naleznete v části [návod: vytvoření kanálu toku dat](../../../docs/standard/parallel-programming/walkthrough-creating-a-dataflow-pipeline.md).</span><span class="sxs-lookup"><span data-stu-id="3320f-147">For an example that connects dataflow blocks to form a basic pipeline, see [Walkthrough: Creating a Dataflow Pipeline](../../../docs/standard/parallel-programming/walkthrough-creating-a-dataflow-pipeline.md).</span></span> <span data-ttu-id="3320f-148">Příklad, který se připojuje bloků toku dat, chcete-li vytvořit složitější síť, naleznete v části [návod: použití toku dat ve formulářové aplikaci Windows](../../../docs/standard/parallel-programming/walkthrough-using-dataflow-in-a-windows-forms-application.md).</span><span class="sxs-lookup"><span data-stu-id="3320f-148">For an example that connects dataflow blocks to form a more complex network, see [Walkthrough: Using Dataflow in a Windows Forms Application](../../../docs/standard/parallel-programming/walkthrough-using-dataflow-in-a-windows-forms-application.md).</span></span> <span data-ttu-id="3320f-149">Příklad, který zruší propojení cíl ze zdroje po zdroj nabízí cíl zprávy, naleznete v části [postupy: zrušení propojení bloků toku dat](../../../docs/standard/parallel-programming/how-to-unlink-dataflow-blocks.md).</span><span class="sxs-lookup"><span data-stu-id="3320f-149">For an example that unlinks a target from a source after the source offers the target a message, see [How to: Unlink Dataflow Blocks](../../../docs/standard/parallel-programming/how-to-unlink-dataflow-blocks.md).</span></span>  
  
#### <a name="filtering"></a><span data-ttu-id="3320f-150">Filtrování</span><span class="sxs-lookup"><span data-stu-id="3320f-150">Filtering</span></span>  
 <span data-ttu-id="3320f-151">Při volání <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601.LinkTo%2A?displayProperty=nameWithType> metoda propojení zdroj cíl, můžete zadat delegáta, který určuje, zda cílový blok přijme nebo odmítne zprávu na základě hodnoty této zprávy.</span><span class="sxs-lookup"><span data-stu-id="3320f-151">When you call the <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601.LinkTo%2A?displayProperty=nameWithType> method to link a source to a target, you can supply a delegate that determines whether the target block accepts or rejects a message based on the value of that message.</span></span> <span data-ttu-id="3320f-152">Tento mechanismus filtrování je užitečný způsob, jak zajistit, že bloku toku dat přijímá jenom určité hodnoty.</span><span class="sxs-lookup"><span data-stu-id="3320f-152">This filtering mechanism is a useful way to guarantee that a dataflow block receives only certain values.</span></span> <span data-ttu-id="3320f-153">Pro většinu typů bloku předdefinované toku dat pokud blok zdroj je připojen k více bloků cíl, pokud cílový blok odmítne zprávy, zdroj nabízí zpráva Další cíl.</span><span class="sxs-lookup"><span data-stu-id="3320f-153">For most of the predefined dataflow block types, if a source block is connected to multiple target blocks, when a target block rejects a message, the source offers that message to the next target.</span></span> <span data-ttu-id="3320f-154">Pořadí, ve kterém nabízí zdroj zprávy k cílům je definováno zdrojem a může lišit v závislosti na typu zdroje.</span><span class="sxs-lookup"><span data-stu-id="3320f-154">The order in which a source offers messages to targets is defined by the source and can vary according to the type of the source.</span></span> <span data-ttu-id="3320f-155">Většina typů bloku zdroj zastavit nabídky zprávu po jeden cíl přijímá zprávy.</span><span class="sxs-lookup"><span data-stu-id="3320f-155">Most source block types stop offering a message after one target accepts that message.</span></span> <span data-ttu-id="3320f-156">Jedinou výjimkou tohoto pravidla se <xref:System.Threading.Tasks.Dataflow.BroadcastBlock%601> třídy, která nabízí každou zprávu všechny cíle, i když některé cíle odmítnout zprávu.</span><span class="sxs-lookup"><span data-stu-id="3320f-156">One exception to this rule is the <xref:System.Threading.Tasks.Dataflow.BroadcastBlock%601> class, which offers each message to all targets, even if some targets reject the message.</span></span> <span data-ttu-id="3320f-157">Příklad, který používá filtrování zpracovat jenom některé zprávy, naleznete v části [návod: použití toku dat ve formulářové aplikaci Windows](../../../docs/standard/parallel-programming/walkthrough-using-dataflow-in-a-windows-forms-application.md).</span><span class="sxs-lookup"><span data-stu-id="3320f-157">For an example that uses filtering to process only certain messages, see [Walkthrough: Using Dataflow in a Windows Forms Application](../../../docs/standard/parallel-programming/walkthrough-using-dataflow-in-a-windows-forms-application.md).</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="3320f-158">Vzhledem k tomu, že každý typ bloku toku dat předdefinované zdroje zaručuje, že je v pořadí, ve kterém jsou přijaty zprávy rozšířeny, všechny zprávy musí čtení z bloku zdroje před zdrojového bloku dokáže zpracovat další zprávy.</span><span class="sxs-lookup"><span data-stu-id="3320f-158">Because each predefined source dataflow block type guarantees that messages are propagated out in the order in which they are received, every message must be read from the source block before the source block can process the next message.</span></span> <span data-ttu-id="3320f-159">Proto při použití filtrování připojení ke zdroji více cílů se ujistěte, že každou zprávu přijme tomto bloku alespoň jeden cíl.</span><span class="sxs-lookup"><span data-stu-id="3320f-159">Therefore, when you use filtering to connect multiple targets to a source, make sure that at least one target block receives each message.</span></span> <span data-ttu-id="3320f-160">Jinak může zablokování aplikace.</span><span class="sxs-lookup"><span data-stu-id="3320f-160">Otherwise, your application might deadlock.</span></span>  
  
### <a name="message-passing"></a><span data-ttu-id="3320f-161">Předávání zpráv</span><span class="sxs-lookup"><span data-stu-id="3320f-161">Message Passing</span></span>  
 <span data-ttu-id="3320f-162">Programovací model toku dat souvisí s koncept *předávání zpráv*, kde nezávislé komponenty programu vzájemnou komunikaci odesláním zprávy.</span><span class="sxs-lookup"><span data-stu-id="3320f-162">The dataflow programming model is related to the concept of *message passing*, where independent components of a program communicate with one another by sending messages.</span></span> <span data-ttu-id="3320f-163">Je možné rozšířit zpráv mezi součástmi aplikace k volání <xref:System.Threading.Tasks.Dataflow.DataflowBlock.Post%2A> a <xref:System.Threading.Tasks.Dataflow.DataflowBlock.SendAsync%2A?displayProperty=nameWithType> metody k odeslání zprávy na hodnotu post bloků toku dat cílový (<xref:System.Threading.Tasks.Dataflow.DataflowBlock.Post%2A> funguje synchronně; <xref:System.Threading.Tasks.Dataflow.DataflowBlock.SendAsync%2A> funguje asynchronně) a <xref:System.Threading.Tasks.Dataflow.DataflowBlock.Receive%2A>, <xref:System.Threading.Tasks.Dataflow.DataflowBlock.ReceiveAsync%2A>, a <xref:System.Threading.Tasks.Dataflow.DataflowBlock.TryReceive%2A> metody pro příjem zpráv ze zdroje bloků.</span><span class="sxs-lookup"><span data-stu-id="3320f-163">One way to propagate messages among application components is to call the <xref:System.Threading.Tasks.Dataflow.DataflowBlock.Post%2A> and <xref:System.Threading.Tasks.Dataflow.DataflowBlock.SendAsync%2A?displayProperty=nameWithType> methods to send messages to target dataflow blocks post (<xref:System.Threading.Tasks.Dataflow.DataflowBlock.Post%2A> acts synchronously; <xref:System.Threading.Tasks.Dataflow.DataflowBlock.SendAsync%2A> acts asynchronously) and the <xref:System.Threading.Tasks.Dataflow.DataflowBlock.Receive%2A>, <xref:System.Threading.Tasks.Dataflow.DataflowBlock.ReceiveAsync%2A>, and <xref:System.Threading.Tasks.Dataflow.DataflowBlock.TryReceive%2A> methods to receive messages from source blocks.</span></span> <span data-ttu-id="3320f-164">Tyto metody můžete kombinovat s kanály toku dat nebo sítě pomocí odesílání vstupní data k hlavnímu uzlu (cílový blok) a přijímání výstupní data z uzlu terminálu kanálu nebo terminálu uzlů sítě (jeden nebo více zdroj bloky).</span><span class="sxs-lookup"><span data-stu-id="3320f-164">You can combine these methods with dataflow pipelines or networks by sending input data to the head node (a target block), and receiving output data from the terminal node of the pipeline or the terminal nodes of the network (one or more source blocks).</span></span> <span data-ttu-id="3320f-165">Můžete také <xref:System.Threading.Tasks.Dataflow.DataflowBlock.Choose%2A> metoda číst z první zadané zdroje, které má data k dispozici a provádět akce na tato data.</span><span class="sxs-lookup"><span data-stu-id="3320f-165">You can also use the <xref:System.Threading.Tasks.Dataflow.DataflowBlock.Choose%2A> method to read from the first of the provided sources that has data available and perform action on that data.</span></span>  
  
 <span data-ttu-id="3320f-166">Zdroj bloky nabízí data na cílové bloky voláním <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601.OfferMessage%2A?displayProperty=nameWithType> metoda.</span><span class="sxs-lookup"><span data-stu-id="3320f-166">Source blocks offer data to target blocks by calling the <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601.OfferMessage%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="3320f-167">Cílový blok odpovídá na zprávu nabízený v jednom ze tří způsobů: dokáže přijímat zprávy, odmítnout zprávu nebo odložit zprávy.</span><span class="sxs-lookup"><span data-stu-id="3320f-167">The target block responds to an offered message in one of three ways: it can accept the message, decline the message, or postpone the message.</span></span> <span data-ttu-id="3320f-168">Pokud cílový přijme zprávu <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601.OfferMessage%2A> metoda vrátí <xref:System.Threading.Tasks.Dataflow.DataflowMessageStatus.Accepted>.</span><span class="sxs-lookup"><span data-stu-id="3320f-168">When the target accepts the message, the <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601.OfferMessage%2A> method returns <xref:System.Threading.Tasks.Dataflow.DataflowMessageStatus.Accepted>.</span></span> <span data-ttu-id="3320f-169">Pokud cílový odmítne zprávy, <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601.OfferMessage%2A> metoda vrátí <xref:System.Threading.Tasks.Dataflow.DataflowMessageStatus.Declined>.</span><span class="sxs-lookup"><span data-stu-id="3320f-169">When the target declines the message, the <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601.OfferMessage%2A> method returns <xref:System.Threading.Tasks.Dataflow.DataflowMessageStatus.Declined>.</span></span> <span data-ttu-id="3320f-170">Pokud cílový vyžaduje, že už obdrží všechny zprávy ze zdroje, <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601.OfferMessage%2A> vrátí <xref:System.Threading.Tasks.Dataflow.DataflowMessageStatus.DecliningPermanently>.</span><span class="sxs-lookup"><span data-stu-id="3320f-170">When the target requires that it no longer receives any messages from the source, <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601.OfferMessage%2A> returns <xref:System.Threading.Tasks.Dataflow.DataflowMessageStatus.DecliningPermanently>.</span></span> <span data-ttu-id="3320f-171">Typy bloku předdefinované zdrojů nenabízejí zprávy a pokuste se propojené cíle po přijetí návratovou hodnotu a budou automaticky zrušit propojení těchto cílů.</span><span class="sxs-lookup"><span data-stu-id="3320f-171">The predefined source block types do not offer messages to linked targets after such a return value is received, and they automatically unlink from such targets.</span></span>  
  
 <span data-ttu-id="3320f-172">Pokud cílový blok odloží zprávu pro pozdější použití <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601.OfferMessage%2A> metoda vrátí <xref:System.Threading.Tasks.Dataflow.DataflowMessageStatus.Postponed>.</span><span class="sxs-lookup"><span data-stu-id="3320f-172">When a target block postpones the message for later use, the <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601.OfferMessage%2A> method returns <xref:System.Threading.Tasks.Dataflow.DataflowMessageStatus.Postponed>.</span></span> <span data-ttu-id="3320f-173">Cílový blok, který odloží zprávu můžete později volat <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601.ReserveMessage%2A?displayProperty=nameWithType> metoda můžete vyzkoušet tak, aby vyhradil nabízený zprávy.</span><span class="sxs-lookup"><span data-stu-id="3320f-173">A target block that postpones a message can later call the <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601.ReserveMessage%2A?displayProperty=nameWithType> method to try to reserve the offered message.</span></span> <span data-ttu-id="3320f-174">V tomto okamžiku zprávy je buď stále k dispozici a mohou být využívána cílový blok nebo zprávy byly převzaty jiný cíl.</span><span class="sxs-lookup"><span data-stu-id="3320f-174">At this point, the message is either still available and can be used by the target block, or the message has been taken by another target.</span></span> <span data-ttu-id="3320f-175">Pokud cílový blok novější vyžaduje zpráva nebo zpráva již nepotřebuje, zavolá <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601.ConsumeMessage%2A?displayProperty=nameWithType> nebo <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601.ReleaseReservation%2A> metoda, v uvedeném pořadí.</span><span class="sxs-lookup"><span data-stu-id="3320f-175">When the target block later requires the message or no longer needs the message, it calls the <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601.ConsumeMessage%2A?displayProperty=nameWithType> or <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601.ReleaseReservation%2A> method, respectively.</span></span> <span data-ttu-id="3320f-176">Rezervace zpráva se obvykle používá typy bloku toku dat, které fungují v režimu typu non-greedy.</span><span class="sxs-lookup"><span data-stu-id="3320f-176">Message reservation is typically used by the dataflow block types that operate in non-greedy mode.</span></span> <span data-ttu-id="3320f-177">Později v tomto dokumentu se vysvětluje typu non-greedy režimu.</span><span class="sxs-lookup"><span data-stu-id="3320f-177">Non-greedy mode is explained later in this document.</span></span> <span data-ttu-id="3320f-178">Namísto rezervování odložených zprávy, můžete také použít cílový blok <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601.ConsumeMessage%2A?displayProperty=nameWithType> metoda se pokusit o přímo využívat odložených zprávy.</span><span class="sxs-lookup"><span data-stu-id="3320f-178">Instead of reserving a postponed message, a target block can also use the <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601.ConsumeMessage%2A?displayProperty=nameWithType> method to attempt to directly consume the postponed message.</span></span>  
  
### <a name="dataflow-block-completion"></a><span data-ttu-id="3320f-179">Dokončení bloku toku dat</span><span class="sxs-lookup"><span data-stu-id="3320f-179">Dataflow Block Completion</span></span>  
 <span data-ttu-id="3320f-180">Bloky toku dat také podporují koncept *dokončení*.</span><span class="sxs-lookup"><span data-stu-id="3320f-180">Dataflow blocks also support the concept of *completion*.</span></span> <span data-ttu-id="3320f-181">Blok toku dat, který je ve stavu dokončení nebude provádět žádné další práci.</span><span class="sxs-lookup"><span data-stu-id="3320f-181">A dataflow block that is in the completed state does not perform any further work.</span></span> <span data-ttu-id="3320f-182">Každého bloku toku dat má přidruženou <xref:System.Threading.Tasks.Task?displayProperty=nameWithType> objekt, označuje jako *dokončení úkolů*, která představuje stav dokončení bloku.</span><span class="sxs-lookup"><span data-stu-id="3320f-182">Each dataflow block has an associated <xref:System.Threading.Tasks.Task?displayProperty=nameWithType> object, known as a *completion task*, that represents the completion status of the block.</span></span> <span data-ttu-id="3320f-183">Protože můžete počkat <xref:System.Threading.Tasks.Task> objektu ukončíte pomocí dokončení úloh, můžete počkat pro jednu nebo více uzlů Terminálové služby toku dat sítě ukončíte.</span><span class="sxs-lookup"><span data-stu-id="3320f-183">Because you can wait for a <xref:System.Threading.Tasks.Task> object to finish, by using completion tasks, you can wait for one or more terminal nodes of a dataflow network to finish.</span></span> <span data-ttu-id="3320f-184"><xref:System.Threading.Tasks.Dataflow.IDataflowBlock> Definuje rozhraní <xref:System.Threading.Tasks.Dataflow.IDataflowBlock.Complete%2A> metoda, která informuje o bloku toku dat požadavku na její dokončení, a <xref:System.Threading.Tasks.Dataflow.IDataflowBlock.Completion%2A> vlastnost, která vrací úloha dokončení bloku toku dat.</span><span class="sxs-lookup"><span data-stu-id="3320f-184">The <xref:System.Threading.Tasks.Dataflow.IDataflowBlock> interface defines the <xref:System.Threading.Tasks.Dataflow.IDataflowBlock.Complete%2A> method, which informs the dataflow block of a request for it to complete, and the <xref:System.Threading.Tasks.Dataflow.IDataflowBlock.Completion%2A> property, which returns the completion task for the dataflow block.</span></span> <span data-ttu-id="3320f-185">Obě <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601> a <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601> dědění <xref:System.Threading.Tasks.Dataflow.IDataflowBlock> rozhraní.</span><span class="sxs-lookup"><span data-stu-id="3320f-185">Both <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601> and <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601> inherit the <xref:System.Threading.Tasks.Dataflow.IDataflowBlock> interface.</span></span>  
  
 <span data-ttu-id="3320f-186">Existují dva způsoby, jak určit, zda bloku toku dat byla dokončena bez chyb, došlo k jedné nebo více chybám nebo byla zrušena.</span><span class="sxs-lookup"><span data-stu-id="3320f-186">There are two ways to determine whether a dataflow block completed without error, encountered one or more errors, or was canceled.</span></span> <span data-ttu-id="3320f-187">První způsob je volání <xref:System.Threading.Tasks.Task.Wait%2A?displayProperty=nameWithType> metoda na dokončení úloh v `try` - `catch` blok (`Try` - `Catch` v jazyce Visual Basic).</span><span class="sxs-lookup"><span data-stu-id="3320f-187">The first way is to call the <xref:System.Threading.Tasks.Task.Wait%2A?displayProperty=nameWithType> method on the completion task in a `try`-`catch` block (`Try`-`Catch` in Visual Basic).</span></span> <span data-ttu-id="3320f-188">Následující příklad vytvoří <xref:System.Threading.Tasks.Dataflow.ActionBlock%601> objekt, který vyvolá <xref:System.ArgumentOutOfRangeException> pokud jeho vstupní hodnota je menší než nula.</span><span class="sxs-lookup"><span data-stu-id="3320f-188">The following example creates an <xref:System.Threading.Tasks.Dataflow.ActionBlock%601> object that throws <xref:System.ArgumentOutOfRangeException> if its input value is less than zero.</span></span> <span data-ttu-id="3320f-189"><xref:System.AggregateException> se vyvolá, když v tomto příkladu volá <xref:System.Threading.Tasks.Task.Wait%2A> na dokončení úlohy.</span><span class="sxs-lookup"><span data-stu-id="3320f-189"><xref:System.AggregateException> is thrown when this example calls <xref:System.Threading.Tasks.Task.Wait%2A> on the completion task.</span></span> <span data-ttu-id="3320f-190"><xref:System.ArgumentOutOfRangeException> Přistupuje prostřednictvím <xref:System.AggregateException.InnerExceptions%2A> vlastnost <xref:System.AggregateException> objektu.</span><span class="sxs-lookup"><span data-stu-id="3320f-190">The <xref:System.ArgumentOutOfRangeException> is accessed through the <xref:System.AggregateException.InnerExceptions%2A> property of the <xref:System.AggregateException> object.</span></span>  
  
 [!code-csharp[TPLDataflow_Overview#10](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_overview/cs/program.cs#10)]
 [!code-vb[TPLDataflow_Overview#10](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_overview/vb/program.vb#10)]  
  
 <span data-ttu-id="3320f-191">Tento příklad ukazuje tento případ, ve kterém k výjimce přejde neošetřené v delegát bloku toku dat provádění.</span><span class="sxs-lookup"><span data-stu-id="3320f-191">This example demonstrates the case in which an exception goes unhandled in the delegate of an execution dataflow block.</span></span> <span data-ttu-id="3320f-192">Doporučujeme vám, že zpracování výjimek v těla takové bloků.</span><span class="sxs-lookup"><span data-stu-id="3320f-192">We recommend that you handle exceptions in the bodies of such blocks.</span></span> <span data-ttu-id="3320f-193">Ale pokud jste to možné, bloku se chová jako kdyby se zrušila a nezpracovává příchozí zprávy.</span><span class="sxs-lookup"><span data-stu-id="3320f-193">However, if you are unable to do so, the block behaves as though it was canceled and does not process incoming messages.</span></span>  
  
 <span data-ttu-id="3320f-194">Když explicitně, zrušení bloku toku dat <xref:System.AggregateException> objekt obsahuje <xref:System.OperationCanceledException> v <xref:System.AggregateException.InnerExceptions%2A> vlastnost.</span><span class="sxs-lookup"><span data-stu-id="3320f-194">When a dataflow block is canceled explicitly, the <xref:System.AggregateException> object contains <xref:System.OperationCanceledException> in the <xref:System.AggregateException.InnerExceptions%2A> property.</span></span> <span data-ttu-id="3320f-195">Další informace o zrušení toku dat najdete v tématu Povolení zrušení později v tomto dokumentu.</span><span class="sxs-lookup"><span data-stu-id="3320f-195">For more information about dataflow cancellation, see Enabling Cancellation later in this document.</span></span>  
  
 <span data-ttu-id="3320f-196">Druhý způsob jak určit stav dokončení bloku toku dat je použití pokračování z dokončení úlohy nebo použít asynchronní jazykové funkce jazyka C# a Visual Basic asynchronně čekání na dokončení úlohy.</span><span class="sxs-lookup"><span data-stu-id="3320f-196">The second way to determine the completion status of a dataflow block is to use a continuation off of the completion task, or to use the asynchronous language features of C# and Visual Basic to asynchronously wait for the completion task.</span></span> <span data-ttu-id="3320f-197">Delegáta, který poskytnete <xref:System.Threading.Tasks.Task.ContinueWith%2A?displayProperty=nameWithType> metoda trvá <xref:System.Threading.Tasks.Task> objekt, který reprezentuje předchozí úlohou.</span><span class="sxs-lookup"><span data-stu-id="3320f-197">The delegate that you provide to the <xref:System.Threading.Tasks.Task.ContinueWith%2A?displayProperty=nameWithType> method takes a <xref:System.Threading.Tasks.Task> object that represents the antecedent task.</span></span> <span data-ttu-id="3320f-198">U <xref:System.Threading.Tasks.Dataflow.IDataflowBlock.Completion%2A> vlastnost delegáta pro pokračování trvá dokončení úlohy sám sebe.</span><span class="sxs-lookup"><span data-stu-id="3320f-198">In the case of the <xref:System.Threading.Tasks.Dataflow.IDataflowBlock.Completion%2A> property, the delegate for the continuation takes the completion task itself.</span></span> <span data-ttu-id="3320f-199">V následujícím příkladu se podobá předchozímu, s tím rozdílem, že se také používá <xref:System.Threading.Tasks.Task.ContinueWith%2A> metodu pro vytvoření dokončení úlohy, která se zobrazí stav celkové toku dat operace.</span><span class="sxs-lookup"><span data-stu-id="3320f-199">The following example resembles the previous one, except that it also uses the <xref:System.Threading.Tasks.Task.ContinueWith%2A> method to create a completion task that prints the status of the overall dataflow operation.</span></span>  
  
 [!code-csharp[TPLDataflow_Overview#11](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_overview/cs/program.cs#11)]
 [!code-vb[TPLDataflow_Overview#11](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_overview/vb/program.vb#11)]  
  
 <span data-ttu-id="3320f-200">Můžete také použít vlastnosti jako <xref:System.Threading.Tasks.Task.IsCanceled%2A> v těle úkolů pokračování určit další informace o stavu dokončení bloku toku dat.</span><span class="sxs-lookup"><span data-stu-id="3320f-200">You can also use properties such as <xref:System.Threading.Tasks.Task.IsCanceled%2A> in the body of the continuation task to determine additional information about the completion status of a dataflow block.</span></span> <span data-ttu-id="3320f-201">Další informace o úlohách pokračování a jak se vztahují k zrušení a zpracování chyb najdete v tématu [řetězení úloh pomocí úloh pokračování pomocí](../../../docs/standard/parallel-programming/chaining-tasks-by-using-continuation-tasks.md), [zrušení úlohy](../../../docs/standard/parallel-programming/task-cancellation.md), [výjimky Zpracování](../../../docs/standard/parallel-programming/exception-handling-task-parallel-library.md), a [NIB: postupy: zpracování výjimek vyvolaných úlohami](https://msdn.microsoft.com/library/d6c47ec8-9de9-4880-beb3-ff19ae51565d).</span><span class="sxs-lookup"><span data-stu-id="3320f-201">For more information about continuation tasks and how they relate to cancellation and error handling, see [Chaining Tasks by Using Continuation Tasks](../../../docs/standard/parallel-programming/chaining-tasks-by-using-continuation-tasks.md), [Task Cancellation](../../../docs/standard/parallel-programming/task-cancellation.md), [Exception Handling](../../../docs/standard/parallel-programming/exception-handling-task-parallel-library.md), and [NIB: How to: Handle Exceptions Thrown by Tasks](https://msdn.microsoft.com/library/d6c47ec8-9de9-4880-beb3-ff19ae51565d).</span></span>  
  
 <span data-ttu-id="3320f-202">[[přejděte do horní části](#top)]</span><span class="sxs-lookup"><span data-stu-id="3320f-202">[[go to top](#top)]</span></span>  
  
<a name="predefined_types"></a>   
## <a name="predefined-dataflow-block-types"></a><span data-ttu-id="3320f-203">Typy předdefinované bloku toku dat</span><span class="sxs-lookup"><span data-stu-id="3320f-203">Predefined Dataflow Block Types</span></span>  
 <span data-ttu-id="3320f-204">Knihovna toku dat TPL poskytuje několik typů bloku toku dat předdefinované.</span><span class="sxs-lookup"><span data-stu-id="3320f-204">The TPL Dataflow Library provides several predefined dataflow block types.</span></span> <span data-ttu-id="3320f-205">Tyto typy jsou rozdělené do tří kategorií: *ukládání do vyrovnávací paměti bloky*, *provádění bloky*, a *seskupení bloky*.</span><span class="sxs-lookup"><span data-stu-id="3320f-205">These types are divided into three categories: *buffering blocks*, *execution blocks*, and *grouping blocks*.</span></span> <span data-ttu-id="3320f-206">Následující části popisují typy bloku, které tvoří těchto kategorií.</span><span class="sxs-lookup"><span data-stu-id="3320f-206">The following sections describe the block types that make up these categories.</span></span>  
  
### <a name="buffering-blocks"></a><span data-ttu-id="3320f-207">Ukládání do vyrovnávací paměti bloky</span><span class="sxs-lookup"><span data-stu-id="3320f-207">Buffering Blocks</span></span>  
 <span data-ttu-id="3320f-208">Vyrovnávací paměti bloky obsahovat data pro použití spotřebitelé dat.</span><span class="sxs-lookup"><span data-stu-id="3320f-208">Buffering blocks hold data for use by data consumers.</span></span> <span data-ttu-id="3320f-209">Knihovna toku dat TPL poskytuje tři typy bloku ukládání do vyrovnávací paměti: <xref:System.Threading.Tasks.Dataflow.BufferBlock%601?displayProperty=nameWithType>, <xref:System.Threading.Tasks.Dataflow.BroadcastBlock%601?displayProperty=nameWithType>, a <xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="3320f-209">The TPL Dataflow Library provides three buffering block types: <xref:System.Threading.Tasks.Dataflow.BufferBlock%601?displayProperty=nameWithType>, <xref:System.Threading.Tasks.Dataflow.BroadcastBlock%601?displayProperty=nameWithType>, and <xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601?displayProperty=nameWithType>.</span></span>  
  
#### <a name="bufferblockt"></a><span data-ttu-id="3320f-210">BufferBlock(T)</span><span class="sxs-lookup"><span data-stu-id="3320f-210">BufferBlock(T)</span></span>  
 <span data-ttu-id="3320f-211"><xref:System.Threading.Tasks.Dataflow.BufferBlock%601> Třída reprezentuje strukturou univerzální asynchronní zasílání zpráv.</span><span class="sxs-lookup"><span data-stu-id="3320f-211">The <xref:System.Threading.Tasks.Dataflow.BufferBlock%601> class represents a general-purpose asynchronous messaging structure.</span></span> <span data-ttu-id="3320f-212">Tato třída ukládá první v první out (FIFO) fronty zpráv, které mohou být zápis více zdrojů nebo číst z více cílů.</span><span class="sxs-lookup"><span data-stu-id="3320f-212">This class stores a first in, first out (FIFO) queue of messages that can be written to by multiple sources or read from by multiple targets.</span></span> <span data-ttu-id="3320f-213">Když cíl obdrží zprávu od <xref:System.Threading.Tasks.Dataflow.BufferBlock%601> objektu zpráva, že je odebrána z fronty zpráv.</span><span class="sxs-lookup"><span data-stu-id="3320f-213">When a target receives a message from a <xref:System.Threading.Tasks.Dataflow.BufferBlock%601> object, that message is removed from the message queue.</span></span> <span data-ttu-id="3320f-214">Proto i když <xref:System.Threading.Tasks.Dataflow.BufferBlock%601> objekt může mít více cílů, pouze jeden cíl obdrží každou zprávu.</span><span class="sxs-lookup"><span data-stu-id="3320f-214">Therefore, although a <xref:System.Threading.Tasks.Dataflow.BufferBlock%601> object can have multiple targets, only one target will receive each message.</span></span> <span data-ttu-id="3320f-215"><xref:System.Threading.Tasks.Dataflow.BufferBlock%601> Třída je užitečná, když chcete předat více zpráv na jiné komponenty, a tuto součást musí obdržet každou zprávu.</span><span class="sxs-lookup"><span data-stu-id="3320f-215">The <xref:System.Threading.Tasks.Dataflow.BufferBlock%601> class is useful when you want to pass multiple messages to another component, and that component must receive each message.</span></span>  
  
 <span data-ttu-id="3320f-216">Následující příklad základní odešle několik <xref:System.Int32> hodnoty k <xref:System.Threading.Tasks.Dataflow.BufferBlock%601> objekt a potom načte tyto hodnoty zpět z tohoto objektu.</span><span class="sxs-lookup"><span data-stu-id="3320f-216">The following basic example posts several <xref:System.Int32> values to a <xref:System.Threading.Tasks.Dataflow.BufferBlock%601> object and then reads those values back from that object.</span></span>  
  
 [!code-csharp[TPLDataflow_Overview#1](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_overview/cs/program.cs#1)]
 [!code-vb[TPLDataflow_Overview#1](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_overview/vb/program.vb#1)]  
  
 <span data-ttu-id="3320f-217">Úplný příklad, který ukazuje, jak pro zápis zpráv do a čtení zpráv z <xref:System.Threading.Tasks.Dataflow.BufferBlock%601> objektu, najdete v části [postupy: zápis zpráv a čtení zpráv z bloku toku dat](../../../docs/standard/parallel-programming/how-to-write-messages-to-and-read-messages-from-a-dataflow-block.md).</span><span class="sxs-lookup"><span data-stu-id="3320f-217">For a complete example that demonstrates how to write messages to and read messages from a <xref:System.Threading.Tasks.Dataflow.BufferBlock%601> object, see [How to: Write Messages to and Read Messages from a Dataflow Block](../../../docs/standard/parallel-programming/how-to-write-messages-to-and-read-messages-from-a-dataflow-block.md).</span></span>  
  
#### <a name="broadcastblockt"></a><span data-ttu-id="3320f-218">BroadcastBlock(T)</span><span class="sxs-lookup"><span data-stu-id="3320f-218">BroadcastBlock(T)</span></span>  
 <span data-ttu-id="3320f-219"><xref:System.Threading.Tasks.Dataflow.BroadcastBlock%601> Třída je užitečné, když je nutné předat více zpráv do jiné komponenty, ale je potřeba tuto součást pouze nejnovější hodnotu.</span><span class="sxs-lookup"><span data-stu-id="3320f-219">The <xref:System.Threading.Tasks.Dataflow.BroadcastBlock%601> class is useful when you must pass multiple messages to another component, but that component needs only the most recent value.</span></span> <span data-ttu-id="3320f-220">Tato třída je také užitečné, pokud chcete k vysílání zprávy, která se víc součástí.</span><span class="sxs-lookup"><span data-stu-id="3320f-220">This class is also useful when you want to broadcast a message to multiple components.</span></span>  
  
 <span data-ttu-id="3320f-221">V následujících příspěvcích základních příkladů <xref:System.Double> hodnotu <xref:System.Threading.Tasks.Dataflow.BroadcastBlock%601> objekt a potom čtení, které zálohují hodnotu z tohoto objektu několikrát.</span><span class="sxs-lookup"><span data-stu-id="3320f-221">The following basic example posts a <xref:System.Double> value to a <xref:System.Threading.Tasks.Dataflow.BroadcastBlock%601> object and then reads that value back from that object several times.</span></span> <span data-ttu-id="3320f-222">Protože hodnoty nejsou odebrány z <xref:System.Threading.Tasks.Dataflow.BroadcastBlock%601> objekty po jejich přečtení, stejnou hodnotu je k dispozici pokaždé, když.</span><span class="sxs-lookup"><span data-stu-id="3320f-222">Because values are not removed from <xref:System.Threading.Tasks.Dataflow.BroadcastBlock%601> objects after they are read, the same value is available every time.</span></span>  
  
 [!code-csharp[TPLDataflow_Overview#2](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_overview/cs/program.cs#2)]
 [!code-vb[TPLDataflow_Overview#2](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_overview/vb/program.vb#2)]  
  
 <span data-ttu-id="3320f-223">Úplný příklad, který ukazuje, jak používat <xref:System.Threading.Tasks.Dataflow.BroadcastBlock%601> k vysílání zprávy, která se více bloků cíl, najdete v části [postupy: určení plánovače úloh v bloku toku dat](../../../docs/standard/parallel-programming/how-to-specify-a-task-scheduler-in-a-dataflow-block.md).</span><span class="sxs-lookup"><span data-stu-id="3320f-223">For a complete example that demonstrates how to use <xref:System.Threading.Tasks.Dataflow.BroadcastBlock%601> to broadcast a message to multiple target blocks, see [How to: Specify a Task Scheduler in a Dataflow Block](../../../docs/standard/parallel-programming/how-to-specify-a-task-scheduler-in-a-dataflow-block.md).</span></span>  
  
#### <a name="writeonceblockt"></a><span data-ttu-id="3320f-224">WriteOnceBlock(T)</span><span class="sxs-lookup"><span data-stu-id="3320f-224">WriteOnceBlock(T)</span></span>  
 <span data-ttu-id="3320f-225"><xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601> Vypadá takto: Třída <xref:System.Threading.Tasks.Dataflow.BroadcastBlock%601> třídy, vyjma toho, že <xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601> objektu je možné zapsat do pouze jednou.</span><span class="sxs-lookup"><span data-stu-id="3320f-225">The <xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601> class resembles the <xref:System.Threading.Tasks.Dataflow.BroadcastBlock%601> class, except that a <xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601> object can be written to one time only.</span></span> <span data-ttu-id="3320f-226">Si můžete představit <xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601> , že je podobná jazyka C# [jen pro čtení](~/docs/csharp/language-reference/keywords/readonly.md) ([jen pro čtení](~/docs/visual-basic/language-reference/modifiers/readonly.md) v jazyce Visual Basic) – klíčové slovo, vyjma toho, že <xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601> objektu bude neměnné, když obdrží hodnotu místo v konstrukce.</span><span class="sxs-lookup"><span data-stu-id="3320f-226">You can think of <xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601> as being similar to the C# [readonly](~/docs/csharp/language-reference/keywords/readonly.md) ([ReadOnly](~/docs/visual-basic/language-reference/modifiers/readonly.md) in Visual Basic) keyword, except that a <xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601> object becomes immutable after it receives a value instead of at construction.</span></span> <span data-ttu-id="3320f-227">Podobně jako <xref:System.Threading.Tasks.Dataflow.BroadcastBlock%601> třída, když cíl obdrží zprávu od <xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601> objektu, zprávy se neodebere z tohoto objektu.</span><span class="sxs-lookup"><span data-stu-id="3320f-227">Like the <xref:System.Threading.Tasks.Dataflow.BroadcastBlock%601> class, when a target receives a message from a <xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601> object, that message is not removed from that object.</span></span> <span data-ttu-id="3320f-228">Proto více cílů obdrží kopii zprávy.</span><span class="sxs-lookup"><span data-stu-id="3320f-228">Therefore, multiple targets receive a copy of the message.</span></span> <span data-ttu-id="3320f-229"><xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601> Třída je užitečná, pokud chcete rozšířit pouze první z více zpráv.</span><span class="sxs-lookup"><span data-stu-id="3320f-229">The <xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601> class is useful when you want to propagate only the first of multiple messages.</span></span>  
  
 <span data-ttu-id="3320f-230">Následující příklad základní odešle více <xref:System.String> hodnoty k <xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601> objekt a potom čtení hodnota zpět z tohoto objektu.</span><span class="sxs-lookup"><span data-stu-id="3320f-230">The following basic example posts multiple <xref:System.String> values to a <xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601> object and then reads the value back from that object.</span></span> <span data-ttu-id="3320f-231">Protože <xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601> objektu je možné zapsat do jednou pouze po <xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601> objekt přijme nějakou zprávu, zahodí dalších zpráv.</span><span class="sxs-lookup"><span data-stu-id="3320f-231">Because a <xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601> object can be written to one time only, after a <xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601> object receives a message, it discards subsequent messages.</span></span>  
  
 [!code-csharp[TPLDataflow_Overview#3](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_overview/cs/program.cs#3)]
 [!code-vb[TPLDataflow_Overview#3](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_overview/vb/program.vb#3)]  
  
 <span data-ttu-id="3320f-232">Úplný příklad, který ukazuje, jak používat <xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601> zobrazí hodnotu první operaci, která se dokončí, najdete v tématu [postupy: zrušení propojení bloků toku dat](../../../docs/standard/parallel-programming/how-to-unlink-dataflow-blocks.md).</span><span class="sxs-lookup"><span data-stu-id="3320f-232">For a complete example that demonstrates how to use <xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601> to receive the value of the first operation that finishes, see [How to: Unlink Dataflow Blocks](../../../docs/standard/parallel-programming/how-to-unlink-dataflow-blocks.md).</span></span>  
  
### <a name="execution-blocks"></a><span data-ttu-id="3320f-233">Provádění bloky</span><span class="sxs-lookup"><span data-stu-id="3320f-233">Execution Blocks</span></span>  
 <span data-ttu-id="3320f-234">Bloky provádění volání delegáta zadaný uživatelem pro každého jednotlivého přijatá data.</span><span class="sxs-lookup"><span data-stu-id="3320f-234">Execution blocks call a user-provided delegate for each piece of received data.</span></span> <span data-ttu-id="3320f-235">Knihovna toku dat TPL poskytuje tři typy spuštění bloku: <xref:System.Threading.Tasks.Dataflow.ActionBlock%601>, <xref:System.Threading.Tasks.Dataflow.TransformBlock%602?displayProperty=nameWithType>, a <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="3320f-235">The TPL Dataflow Library provides three execution block types: <xref:System.Threading.Tasks.Dataflow.ActionBlock%601>, <xref:System.Threading.Tasks.Dataflow.TransformBlock%602?displayProperty=nameWithType>, and <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602?displayProperty=nameWithType>.</span></span>  
  
#### <a name="actionblockt"></a><span data-ttu-id="3320f-236">ActionBlock(T)</span><span class="sxs-lookup"><span data-stu-id="3320f-236">ActionBlock(T)</span></span>  
 <span data-ttu-id="3320f-237"><xref:System.Threading.Tasks.Dataflow.ActionBlock%601> Třída je cílový blok, který volá delegáta, když obdrží data.</span><span class="sxs-lookup"><span data-stu-id="3320f-237">The <xref:System.Threading.Tasks.Dataflow.ActionBlock%601> class is a target block that calls a delegate when it receives data.</span></span> <span data-ttu-id="3320f-238">Představte si, že <xref:System.Threading.Tasks.Dataflow.ActionBlock%601> objektu jako delegáta, který se spustí asynchronně v případě, že data bude možné.</span><span class="sxs-lookup"><span data-stu-id="3320f-238">Think of a <xref:System.Threading.Tasks.Dataflow.ActionBlock%601> object as a delegate that runs asynchronously when data becomes available.</span></span> <span data-ttu-id="3320f-239">Delegáta, který poskytnete <xref:System.Threading.Tasks.Dataflow.ActionBlock%601> objekt může být typu <xref:System.Action> nebo typ `System.Func\<TInput, Task>`.</span><span class="sxs-lookup"><span data-stu-id="3320f-239">The delegate that you provide to an <xref:System.Threading.Tasks.Dataflow.ActionBlock%601> object can be of type <xref:System.Action> or type `System.Func\<TInput, Task>`.</span></span> <span data-ttu-id="3320f-240">Když použijete <xref:System.Threading.Tasks.Dataflow.ActionBlock%601> objektu s <xref:System.Action>, zpracování jednotlivé elementy vstupu je považovány za dokončené, když se vrátí delegáta.</span><span class="sxs-lookup"><span data-stu-id="3320f-240">When you use an <xref:System.Threading.Tasks.Dataflow.ActionBlock%601> object with <xref:System.Action>, processing of each input element is considered completed when the delegate returns.</span></span> <span data-ttu-id="3320f-241">Když použijete <xref:System.Threading.Tasks.Dataflow.ActionBlock%601> objektu s `System.Func\<TInput, Task>`, zpracování jednotlivé elementy vstupu považuje za dokončené pouze tehdy, když vrácený <xref:System.Threading.Tasks.Task> dokončení objektu.</span><span class="sxs-lookup"><span data-stu-id="3320f-241">When you use an <xref:System.Threading.Tasks.Dataflow.ActionBlock%601> object with `System.Func\<TInput, Task>`, processing of each input element is considered completed only when the returned <xref:System.Threading.Tasks.Task> object is completed.</span></span> <span data-ttu-id="3320f-242">Pomocí těchto dvou mechanismů, můžete použít <xref:System.Threading.Tasks.Dataflow.ActionBlock%601> pro jednotlivé elementy vstupu synchronní a asynchronní zpracování.</span><span class="sxs-lookup"><span data-stu-id="3320f-242">By using these two mechanisms, you can use <xref:System.Threading.Tasks.Dataflow.ActionBlock%601> for both synchronous and asynchronous processing of each input element.</span></span>  
  
 <span data-ttu-id="3320f-243">Následující příklad základní odešle více <xref:System.Int32> hodnoty k <xref:System.Threading.Tasks.Dataflow.ActionBlock%601> objektu.</span><span class="sxs-lookup"><span data-stu-id="3320f-243">The following basic example posts multiple <xref:System.Int32> values to an <xref:System.Threading.Tasks.Dataflow.ActionBlock%601> object.</span></span> <span data-ttu-id="3320f-244"><xref:System.Threading.Tasks.Dataflow.ActionBlock%601> Objekt vytiskne tyto hodnoty do konzoly.</span><span class="sxs-lookup"><span data-stu-id="3320f-244">The <xref:System.Threading.Tasks.Dataflow.ActionBlock%601> object prints those values to the console.</span></span> <span data-ttu-id="3320f-245">Tento příklad poté nastaví bloku na stavu dokončení a čeká na dokončení všech úloh toku dat.</span><span class="sxs-lookup"><span data-stu-id="3320f-245">This example then sets the block to the completed state and waits for all dataflow tasks to finish.</span></span>  
  
 [!code-csharp[TPLDataflow_Overview#4](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_overview/cs/program.cs#4)]
 [!code-vb[TPLDataflow_Overview#4](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_overview/vb/program.vb#4)]  
  
 <span data-ttu-id="3320f-246">Pro dokončení příklady, které ukazují, jak používat delegáty s <xref:System.Threading.Tasks.Dataflow.ActionBlock%601> třídy najdete v tématu [postup: provedení akce při toku dat bloku obdrží Data](../../../docs/standard/parallel-programming/how-to-perform-action-when-a-dataflow-block-receives-data.md).</span><span class="sxs-lookup"><span data-stu-id="3320f-246">For complete examples that demonstrate how to use delegates with the <xref:System.Threading.Tasks.Dataflow.ActionBlock%601> class, see [How to: Perform Action When a Dataflow Block Receives Data](../../../docs/standard/parallel-programming/how-to-perform-action-when-a-dataflow-block-receives-data.md).</span></span>  
  
#### <a name="transformblocktinput-toutput"></a><span data-ttu-id="3320f-247">TransformBlock (TInput, TOutput)</span><span class="sxs-lookup"><span data-stu-id="3320f-247">TransformBlock(TInput, TOutput)</span></span>  
 <span data-ttu-id="3320f-248"><xref:System.Threading.Tasks.Dataflow.TransformBlock%602> Vypadá takto: Třída <xref:System.Threading.Tasks.Dataflow.ActionBlock%601> třídy, s tím rozdílem, že funguje jako obou zdroj a jako cíl.</span><span class="sxs-lookup"><span data-stu-id="3320f-248">The <xref:System.Threading.Tasks.Dataflow.TransformBlock%602> class resembles the <xref:System.Threading.Tasks.Dataflow.ActionBlock%601> class, except that it acts as both a source and as a target.</span></span> <span data-ttu-id="3320f-249">Delegáta, který můžete předat <xref:System.Threading.Tasks.Dataflow.TransformBlock%602> objekt vrátí hodnotu typu `TOutput`.</span><span class="sxs-lookup"><span data-stu-id="3320f-249">The delegate that you pass to a <xref:System.Threading.Tasks.Dataflow.TransformBlock%602> object returns a value of type `TOutput`.</span></span> <span data-ttu-id="3320f-250">Delegáta, který poskytnete <xref:System.Threading.Tasks.Dataflow.TransformBlock%602> objekt může být typu `System.Func<TInput, TOutput>` nebo typ `System.Func<TInput, Task>`.</span><span class="sxs-lookup"><span data-stu-id="3320f-250">The delegate that you provide to a <xref:System.Threading.Tasks.Dataflow.TransformBlock%602> object can be of type `System.Func<TInput, TOutput>` or type `System.Func<TInput, Task>`.</span></span> <span data-ttu-id="3320f-251">Při použití <xref:System.Threading.Tasks.Dataflow.TransformBlock%602> objektu s `System.Func\<TInput, TOutput>`, zpracování jednotlivé elementy vstupu je považovány za dokončené, když se vrátí delegáta.</span><span class="sxs-lookup"><span data-stu-id="3320f-251">When you use a <xref:System.Threading.Tasks.Dataflow.TransformBlock%602> object with `System.Func\<TInput, TOutput>`, processing of each input element is considered completed when the delegate returns.</span></span> <span data-ttu-id="3320f-252">Při použití <xref:System.Threading.Tasks.Dataflow.TransformBlock%602> objekt používaný s `System.Func<TInput, Task<TOutput>>`, zpracování jednotlivé elementy vstupu považuje za dokončené pouze tehdy, když vrácený <xref:System.Threading.Tasks.Task> dokončení objektu.</span><span class="sxs-lookup"><span data-stu-id="3320f-252">When you use a <xref:System.Threading.Tasks.Dataflow.TransformBlock%602> object used with `System.Func<TInput, Task<TOutput>>`, processing of each input element is considered completed only when the returned <xref:System.Threading.Tasks.Task> object is completed.</span></span> <span data-ttu-id="3320f-253">Stejně jako u <xref:System.Threading.Tasks.Dataflow.ActionBlock%601>, pomocí těchto dvou mechanismů, můžete použít <xref:System.Threading.Tasks.Dataflow.TransformBlock%602> pro jednotlivé elementy vstupu synchronní a asynchronní zpracování.</span><span class="sxs-lookup"><span data-stu-id="3320f-253">As with <xref:System.Threading.Tasks.Dataflow.ActionBlock%601>, by using these two mechanisms, you can use <xref:System.Threading.Tasks.Dataflow.TransformBlock%602> for both synchronous and asynchronous processing of each input element.</span></span>  
  
 <span data-ttu-id="3320f-254">Následující příklad základní vytvoří <xref:System.Threading.Tasks.Dataflow.TransformBlock%602> objekt, který vypočítá druhou odmocninu čísla vstupem.</span><span class="sxs-lookup"><span data-stu-id="3320f-254">The following basic example creates a <xref:System.Threading.Tasks.Dataflow.TransformBlock%602> object that computes the square root of its input.</span></span> <span data-ttu-id="3320f-255"><xref:System.Threading.Tasks.Dataflow.TransformBlock%602> Objektu trvá <xref:System.Int32> hodnoty jako vstup a vytváří <xref:System.Double> hodnoty jako výstup.</span><span class="sxs-lookup"><span data-stu-id="3320f-255">The <xref:System.Threading.Tasks.Dataflow.TransformBlock%602> object takes <xref:System.Int32> values as input and produces <xref:System.Double> values as output.</span></span>  
  
 [!code-csharp[TPLDataflow_Overview#5](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_overview/cs/program.cs#5)]
 [!code-vb[TPLDataflow_Overview#5](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_overview/vb/program.vb#5)]  
  
 <span data-ttu-id="3320f-256">Pro dokončení příklady, které používá <xref:System.Threading.Tasks.Dataflow.TransformBlock%602> v síti bloků toku dat, který provádí zpracování obrázků v aplikaci Windows Forms, najdete v části [návod: použití toku dat ve formulářové aplikaci Windows](../../../docs/standard/parallel-programming/walkthrough-using-dataflow-in-a-windows-forms-application.md).</span><span class="sxs-lookup"><span data-stu-id="3320f-256">For complete examples that uses <xref:System.Threading.Tasks.Dataflow.TransformBlock%602> in a network of dataflow blocks that performs image processing in a Windows Forms application, see [Walkthrough: Using Dataflow in a Windows Forms Application](../../../docs/standard/parallel-programming/walkthrough-using-dataflow-in-a-windows-forms-application.md).</span></span>  
  
#### <a name="transformmanyblocktinput-toutput"></a><span data-ttu-id="3320f-257">TransformManyBlock (TInput, TOutput)</span><span class="sxs-lookup"><span data-stu-id="3320f-257">TransformManyBlock(TInput, TOutput)</span></span>  
 <span data-ttu-id="3320f-258"><xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> Vypadá takto: Třída <xref:System.Threading.Tasks.Dataflow.TransformBlock%602> třídy, vyjma toho, že <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> vytváří nula nebo více hodnot výstup pro každý vstupní hodnotu, místo jen jednu výstupní hodnotu pro každý vstupní hodnoty.</span><span class="sxs-lookup"><span data-stu-id="3320f-258">The <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> class resembles the <xref:System.Threading.Tasks.Dataflow.TransformBlock%602> class, except that <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> produces zero or more output values for each input value, instead of only one output value for each input value.</span></span> <span data-ttu-id="3320f-259">Delegáta, který poskytnete <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> objekt může být typu `System.Func<TInput, IEnumerable<TOutput>>` nebo `type System.Func<TInput, Task<IEnumerable<TOutput>>>`.</span><span class="sxs-lookup"><span data-stu-id="3320f-259">The delegate that you provide to a <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> object can be of type `System.Func<TInput, IEnumerable<TOutput>>` or `type System.Func<TInput, Task<IEnumerable<TOutput>>>`.</span></span> <span data-ttu-id="3320f-260">Při použití <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> objektu s `System.Func<TInput, IEnumerable<TOutput>>`, zpracování jednotlivé elementy vstupu je považovány za dokončené, když se vrátí delegáta.</span><span class="sxs-lookup"><span data-stu-id="3320f-260">When you use a <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> object with `System.Func<TInput, IEnumerable<TOutput>>`, processing of each input element is considered completed when the delegate returns.</span></span> <span data-ttu-id="3320f-261">Při použití <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> objektu s `System.Func<TInput, Task<IEnumerable<TOutput>>>`, zpracování jednotlivé elementy vstupu považuje za dokončení pouze tehdy, když vrácený `System.Threading.Tasks.Task<IEnumerable<TOutput>>` dokončení objektu.</span><span class="sxs-lookup"><span data-stu-id="3320f-261">When you use a <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> object with `System.Func<TInput, Task<IEnumerable<TOutput>>>`, processing of each input element is considered complete only when the returned `System.Threading.Tasks.Task<IEnumerable<TOutput>>` object is completed.</span></span>  
  
 <span data-ttu-id="3320f-262">Následující příklad základní vytvoří <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> objektu, která rozdělí řetězce na jejich pořadí jednotlivých znak.</span><span class="sxs-lookup"><span data-stu-id="3320f-262">The following basic example creates a <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> object that splits strings into their individual character sequences.</span></span> <span data-ttu-id="3320f-263"><xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> Objektu trvá <xref:System.String> hodnoty jako vstup a vytváří <xref:System.Char> hodnoty jako výstup.</span><span class="sxs-lookup"><span data-stu-id="3320f-263">The <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> object takes <xref:System.String> values as input and produces <xref:System.Char> values as output.</span></span>  
  
 [!code-csharp[TPLDataflow_Overview#6](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_overview/cs/program.cs#6)]
 [!code-vb[TPLDataflow_Overview#6](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_overview/vb/program.vb#6)]  
  
 <span data-ttu-id="3320f-264">Pro dokončení příklady, které používají <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> Pokud chcete vytvořit několik nezávislých výstupů pro každý vstupní v kanálu toku dat, přečtěte si téma [návod: vytvoření kanálu toku dat](../../../docs/standard/parallel-programming/walkthrough-creating-a-dataflow-pipeline.md).</span><span class="sxs-lookup"><span data-stu-id="3320f-264">For complete examples that use <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> to produce multiple independent outputs for each input in a dataflow pipeline, see [Walkthrough: Creating a Dataflow Pipeline](../../../docs/standard/parallel-programming/walkthrough-creating-a-dataflow-pipeline.md).</span></span>  
  
#### <a name="degree-of-parallelism"></a><span data-ttu-id="3320f-265">Stupně paralelního zpracování</span><span class="sxs-lookup"><span data-stu-id="3320f-265">Degree of Parallelism</span></span>  
 <span data-ttu-id="3320f-266">Každý <xref:System.Threading.Tasks.Dataflow.ActionBlock%601>, <xref:System.Threading.Tasks.Dataflow.TransformBlock%602>, a <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> vyrovnávací paměti objektu vstupní zprávy, dokud blok je připraven pro jejich zpracování.</span><span class="sxs-lookup"><span data-stu-id="3320f-266">Every <xref:System.Threading.Tasks.Dataflow.ActionBlock%601>, <xref:System.Threading.Tasks.Dataflow.TransformBlock%602>, and <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> object buffers input messages until the block is ready to process them.</span></span> <span data-ttu-id="3320f-267">Ve výchozím nastavení tyto třídy zpracování zpráv v pořadí, ve kterém jsou přijata, jednu zprávu současně.</span><span class="sxs-lookup"><span data-stu-id="3320f-267">By default, these classes process messages in the order in which they are received, one message at a time.</span></span> <span data-ttu-id="3320f-268">Můžete také zadat stupně paralelního zpracování povolit <xref:System.Threading.Tasks.Dataflow.ActionBlock%601>, <xref:System.Threading.Tasks.Dataflow.TransformBlock%602> a <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> objekty, které chcete zpracovat více zpráv souběžně.</span><span class="sxs-lookup"><span data-stu-id="3320f-268">You can also specify the degree of parallelism to enable <xref:System.Threading.Tasks.Dataflow.ActionBlock%601>, <xref:System.Threading.Tasks.Dataflow.TransformBlock%602> and <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> objects to process multiple messages concurrently.</span></span> <span data-ttu-id="3320f-269">Další informace o souběžné provádění najdete v části určení stupně stupně paralelního zpracování později v tomto dokumentu.</span><span class="sxs-lookup"><span data-stu-id="3320f-269">For more information about concurrent execution, see the section Specifying the Degree of Parallelism later in this document.</span></span> <span data-ttu-id="3320f-270">Příklad, který nastaví stupně paralelního zpracování povolit bloku toku dat provádění zpracovat více než jeden zprávu najednou, naleznete v části [postupy: určení stupně paralelismus v bloku toku dat](../../../docs/standard/parallel-programming/how-to-specify-the-degree-of-parallelism-in-a-dataflow-block.md).</span><span class="sxs-lookup"><span data-stu-id="3320f-270">For an example that sets the degree of parallelism to enable an execution dataflow block to process more than one message at a time, see [How to: Specify the Degree of Parallelism in a Dataflow Block](../../../docs/standard/parallel-programming/how-to-specify-the-degree-of-parallelism-in-a-dataflow-block.md).</span></span>  
  
#### <a name="summary-of-delegate-types"></a><span data-ttu-id="3320f-271">Souhrn typů delegátů.</span><span class="sxs-lookup"><span data-stu-id="3320f-271">Summary of Delegate Types</span></span>  
 <span data-ttu-id="3320f-272">Následující tabulka shrnuje typy delegáta, které můžou poskytnout <xref:System.Threading.Tasks.Dataflow.ActionBlock%601>, <xref:System.Threading.Tasks.Dataflow.TransformBlock%602>, a <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> objekty.</span><span class="sxs-lookup"><span data-stu-id="3320f-272">The following table summarizes the delegate types that you can provide to <xref:System.Threading.Tasks.Dataflow.ActionBlock%601>, <xref:System.Threading.Tasks.Dataflow.TransformBlock%602>, and <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> objects.</span></span> <span data-ttu-id="3320f-273">Tato tabulka také určuje, zda typ delegáta pracuje synchronně nebo asynchronně.</span><span class="sxs-lookup"><span data-stu-id="3320f-273">This table also specifies whether the delegate type operates synchronously or asynchronously.</span></span>  
  
|<span data-ttu-id="3320f-274">Typ</span><span class="sxs-lookup"><span data-stu-id="3320f-274">Type</span></span>|<span data-ttu-id="3320f-275">Typ synchronní delegáta</span><span class="sxs-lookup"><span data-stu-id="3320f-275">Synchronous Delegate Type</span></span>|<span data-ttu-id="3320f-276">Typ asynchronní delegáta</span><span class="sxs-lookup"><span data-stu-id="3320f-276">Asynchronous Delegate Type</span></span>|  
|----------|-------------------------------|--------------------------------|  
|<xref:System.Threading.Tasks.Dataflow.ActionBlock%601>|`System.Action`|`System.Func<TInput, Task>`|  
|<xref:System.Threading.Tasks.Dataflow.TransformBlock%602>|`System.Func<TInput, TOutput>`|`System.Func<TInput, Task<TOutput>>`|  
|<xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602>|`System.Func<TInput, IEnumerable<TOutput>>`|`System.Func<TInput, Task<IEnumerable<TOutput>>>`|  
  
 <span data-ttu-id="3320f-277">Lambda – výrazy můžete použít také při práci s typy spuštění bloku.</span><span class="sxs-lookup"><span data-stu-id="3320f-277">You can also use lambda expressions when you work with execution block types.</span></span> <span data-ttu-id="3320f-278">Příklad ukazuje, jak pomocí výrazu lambda bloku spuštění, naleznete v části [postup: provedení akce při toku dat bloku obdrží Data](../../../docs/standard/parallel-programming/how-to-perform-action-when-a-dataflow-block-receives-data.md).</span><span class="sxs-lookup"><span data-stu-id="3320f-278">For an example that shows how to use a lambda expression with an execution block, see [How to: Perform Action When a Dataflow Block Receives Data](../../../docs/standard/parallel-programming/how-to-perform-action-when-a-dataflow-block-receives-data.md).</span></span>  
  
### <a name="grouping-blocks"></a><span data-ttu-id="3320f-279">Seskupení bloky</span><span class="sxs-lookup"><span data-stu-id="3320f-279">Grouping Blocks</span></span>  
 <span data-ttu-id="3320f-280">Seskupení bloky kombinovat data z jednoho nebo více zdrojů a v rámci různých omezení.</span><span class="sxs-lookup"><span data-stu-id="3320f-280">Grouping blocks combine data from one or more sources and under various constraints.</span></span> <span data-ttu-id="3320f-281">Knihovna toku dat TPL poskytuje tři bloku typy připojení: <xref:System.Threading.Tasks.Dataflow.BatchBlock%601>, <xref:System.Threading.Tasks.Dataflow.JoinBlock%602>, a <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602>.</span><span class="sxs-lookup"><span data-stu-id="3320f-281">The TPL Dataflow Library provides three join block types: <xref:System.Threading.Tasks.Dataflow.BatchBlock%601>, <xref:System.Threading.Tasks.Dataflow.JoinBlock%602>, and <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602>.</span></span>  
  
#### <a name="batchblockt"></a><span data-ttu-id="3320f-282">BatchBlock(T)</span><span class="sxs-lookup"><span data-stu-id="3320f-282">BatchBlock(T)</span></span>  
 <span data-ttu-id="3320f-283"><xref:System.Threading.Tasks.Dataflow.BatchBlock%601> Třída kombinuje sady vstupních dat, která se označuje jako dávky, do pole výstupní data.</span><span class="sxs-lookup"><span data-stu-id="3320f-283">The <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> class combines sets of input data, which are known as batches, into arrays of output data.</span></span> <span data-ttu-id="3320f-284">Zadejte velikost každé dávce, při vytváření <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> objektu.</span><span class="sxs-lookup"><span data-stu-id="3320f-284">You specify the size of each batch when you create a <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> object.</span></span> <span data-ttu-id="3320f-285">Když <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> objekt dostane zadaný počet elementů vstupu, se asynchronně rozšíří na pole, které obsahují tyto elementy.</span><span class="sxs-lookup"><span data-stu-id="3320f-285">When the <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> object receives the specified count of input elements, it asynchronously propagates out an array that contains those elements.</span></span> <span data-ttu-id="3320f-286">Pokud <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> objektu je nastaven na stavu dokončení, ale neobsahuje dostatečný počet elementů k vytvoření dávky, se rozšíří na konečné pole, které obsahuje zbývající elementy vstupu.</span><span class="sxs-lookup"><span data-stu-id="3320f-286">If a <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> object is set to the completed state but does not contain enough elements to form a batch, it propagates out a final array that contains the remaining input elements.</span></span>  
  
 <span data-ttu-id="3320f-287"><xref:System.Threading.Tasks.Dataflow.BatchBlock%601> Třída funguje buď *typu greedy* nebo *typu non-greedy* režimu.</span><span class="sxs-lookup"><span data-stu-id="3320f-287">The <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> class operates in either *greedy* or *non-greedy* mode.</span></span> <span data-ttu-id="3320f-288">V typu greedy režimu, který je výchozím nastavením, <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> objekt přijímá všechny zprávy o se nabízí a rozšíří na pole po přijetí zadaný počet elementů.</span><span class="sxs-lookup"><span data-stu-id="3320f-288">In greedy mode, which is the default, a <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> object accepts every message that it is offered and propagates out an array after it receives the specified count of elements.</span></span> <span data-ttu-id="3320f-289">V typu non-greedy režimu <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> objekt odloží všechny příchozí zprávy, dokud dostatek zdrojů nabídl zpráv do bloku na formuláři dávce.</span><span class="sxs-lookup"><span data-stu-id="3320f-289">In non-greedy mode, a <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> object postpones all incoming messages until enough sources have offered messages to the block to form a batch.</span></span> <span data-ttu-id="3320f-290">Typu greedy režim obvykle provádí lépe než typu non-greedy režimu protože vyžaduje méně zpracování režie.</span><span class="sxs-lookup"><span data-stu-id="3320f-290">Greedy mode typically performs better than non-greedy mode because it requires less processing overhead.</span></span> <span data-ttu-id="3320f-291">Když je třeba koordinovat spotřeby z více zdrojů v atomic způsobem, ale můžete použít typu non-greedy režim.</span><span class="sxs-lookup"><span data-stu-id="3320f-291">However, you can use non-greedy mode when you must coordinate consumption from multiple sources in an atomic fashion.</span></span> <span data-ttu-id="3320f-292">Určení typu non-greedy režimu nastavením <xref:System.Threading.Tasks.Dataflow.GroupingDataflowBlockOptions.Greedy%2A> k `False` v `dataflowBlockOptions` parametr ve <xref:System.Threading.Tasks.Dataflow.BatchBlock%601.%23ctor%2A> konstruktor.</span><span class="sxs-lookup"><span data-stu-id="3320f-292">Specify non-greedy mode by setting <xref:System.Threading.Tasks.Dataflow.GroupingDataflowBlockOptions.Greedy%2A> to `False` in the `dataflowBlockOptions` parameter in the <xref:System.Threading.Tasks.Dataflow.BatchBlock%601.%23ctor%2A> constructor.</span></span>  
  
 <span data-ttu-id="3320f-293">Následující příklad základní odešle několik <xref:System.Int32> hodnoty k <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> objekt, který obsahuje deset elementy v dávce.</span><span class="sxs-lookup"><span data-stu-id="3320f-293">The following basic example posts several <xref:System.Int32> values to a <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> object that holds ten elements in a batch.</span></span> <span data-ttu-id="3320f-294">Zaručit, že všechny hodnoty šířit z <xref:System.Threading.Tasks.Dataflow.BatchBlock%601>, volá v tomto příkladu <xref:System.Threading.Tasks.Dataflow.IDataflowBlock.Complete%2A> metoda.</span><span class="sxs-lookup"><span data-stu-id="3320f-294">To guarantee that all values propagate out of the <xref:System.Threading.Tasks.Dataflow.BatchBlock%601>, this example calls the <xref:System.Threading.Tasks.Dataflow.IDataflowBlock.Complete%2A> method.</span></span> <span data-ttu-id="3320f-295"><xref:System.Threading.Tasks.Dataflow.IDataflowBlock.Complete%2A> Metoda nastaví <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> objekt, který chcete stavu dokončení a proto <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> objekt rozšíří na všechny zbývající elementy jako poslední dávky.</span><span class="sxs-lookup"><span data-stu-id="3320f-295">The <xref:System.Threading.Tasks.Dataflow.IDataflowBlock.Complete%2A> method sets the <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> object to the completed state, and therefore, the <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> object propagates out any remaining elements as a final batch.</span></span>  
  
 [!code-csharp[TPLDataflow_Overview#7](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_overview/cs/program.cs#7)]
 [!code-vb[TPLDataflow_Overview#7](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_overview/vb/program.vb#7)]  
  
 <span data-ttu-id="3320f-296">Úplný příklad používající <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> zlepšit efektivitu databázových operací vložení, najdete v tématu [návod: použití tříd BatchBlock a BatchedJoinBlock pro zlepšení efektivity](../../../docs/standard/parallel-programming/walkthrough-using-batchblock-and-batchedjoinblock-to-improve-efficiency.md).</span><span class="sxs-lookup"><span data-stu-id="3320f-296">For a complete example that uses <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> to improve the efficiency of database insert operations, see [Walkthrough: Using BatchBlock and BatchedJoinBlock to Improve Efficiency](../../../docs/standard/parallel-programming/walkthrough-using-batchblock-and-batchedjoinblock-to-improve-efficiency.md).</span></span>  
  
#### <a name="joinblockt1-t2-"></a><span data-ttu-id="3320f-297">Třídy JoinBlock (T1, T2,...)</span><span class="sxs-lookup"><span data-stu-id="3320f-297">JoinBlock(T1, T2, ...)</span></span>  
 <span data-ttu-id="3320f-298"><xref:System.Threading.Tasks.Dataflow.JoinBlock%602> a <xref:System.Threading.Tasks.Dataflow.JoinBlock%603> třídy shromažďovat elementy vstupu a šířit se <xref:System.Tuple%602?displayProperty=nameWithType> nebo <xref:System.Tuple%603?displayProperty=nameWithType> objekty, které obsahují tyto elementy.</span><span class="sxs-lookup"><span data-stu-id="3320f-298">The <xref:System.Threading.Tasks.Dataflow.JoinBlock%602> and <xref:System.Threading.Tasks.Dataflow.JoinBlock%603> classes collect input elements and propagate out <xref:System.Tuple%602?displayProperty=nameWithType> or <xref:System.Tuple%603?displayProperty=nameWithType> objects that contain those elements.</span></span> <span data-ttu-id="3320f-299"><xref:System.Threading.Tasks.Dataflow.JoinBlock%602> a <xref:System.Threading.Tasks.Dataflow.JoinBlock%603> nedědí z třídy <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601>.</span><span class="sxs-lookup"><span data-stu-id="3320f-299">The <xref:System.Threading.Tasks.Dataflow.JoinBlock%602> and <xref:System.Threading.Tasks.Dataflow.JoinBlock%603> classes do not inherit from <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601>.</span></span> <span data-ttu-id="3320f-300">Místo toho poskytují vlastnosti, <xref:System.Threading.Tasks.Dataflow.JoinBlock%602.Target1%2A>, <xref:System.Threading.Tasks.Dataflow.JoinBlock%602.Target2%2A>, a <xref:System.Threading.Tasks.Dataflow.JoinBlock%603.Target3%2A>, které implementují <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601>.</span><span class="sxs-lookup"><span data-stu-id="3320f-300">Instead, they provide properties, <xref:System.Threading.Tasks.Dataflow.JoinBlock%602.Target1%2A>, <xref:System.Threading.Tasks.Dataflow.JoinBlock%602.Target2%2A>, and <xref:System.Threading.Tasks.Dataflow.JoinBlock%603.Target3%2A>, that implement <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601>.</span></span>  
  
 <span data-ttu-id="3320f-301">Jako <xref:System.Threading.Tasks.Dataflow.BatchBlock%601>, <xref:System.Threading.Tasks.Dataflow.JoinBlock%602> a <xref:System.Threading.Tasks.Dataflow.JoinBlock%603> fungovat v režimu typu greedy nebo typu non-greedy.</span><span class="sxs-lookup"><span data-stu-id="3320f-301">Like <xref:System.Threading.Tasks.Dataflow.BatchBlock%601>, <xref:System.Threading.Tasks.Dataflow.JoinBlock%602> and <xref:System.Threading.Tasks.Dataflow.JoinBlock%603> operate in either greedy or non-greedy mode.</span></span> <span data-ttu-id="3320f-302">V typu greedy režimu, který je výchozím nastavením, <xref:System.Threading.Tasks.Dataflow.JoinBlock%602> nebo <xref:System.Threading.Tasks.Dataflow.JoinBlock%603> objekt přijímá všechny zprávy o se nabízí a šíří se řazené kolekce členů po každé jeho cílů obdrží minimálně jednu zprávu.</span><span class="sxs-lookup"><span data-stu-id="3320f-302">In greedy mode, which is the default, a <xref:System.Threading.Tasks.Dataflow.JoinBlock%602> or <xref:System.Threading.Tasks.Dataflow.JoinBlock%603> object accepts every message that it is offered and propagates out a tuple after each of its targets receives at least one message.</span></span> <span data-ttu-id="3320f-303">V typu non-greedy režimu <xref:System.Threading.Tasks.Dataflow.JoinBlock%602> nebo <xref:System.Threading.Tasks.Dataflow.JoinBlock%603> objekt odloží všechny příchozí zprávy, dokud všechny cíle byly nabídnuty data, která je potřeba vytvořit řazené kolekce členů.</span><span class="sxs-lookup"><span data-stu-id="3320f-303">In non-greedy mode, a <xref:System.Threading.Tasks.Dataflow.JoinBlock%602> or <xref:System.Threading.Tasks.Dataflow.JoinBlock%603> object postpones all incoming messages until all targets have been offered the data that is required to create a tuple.</span></span> <span data-ttu-id="3320f-304">V tomto okamžiku bloku mezi protokolu dvoufázového potvrzení atomicky načíst všechny požadované položky ze zdroje.</span><span class="sxs-lookup"><span data-stu-id="3320f-304">At this point, the block engages in a two-phase commit protocol to atomically retrieve all required items from the sources.</span></span> <span data-ttu-id="3320f-305">Tato odložení umožňuje jinou entitou využívat data do té doby, aby celého systému, aby postup směrem vpřed.</span><span class="sxs-lookup"><span data-stu-id="3320f-305">This postponement makes it possible for another entity to consume the data in the meantime, to allow the overall system to make forward progress.</span></span>  
  
 <span data-ttu-id="3320f-306">Následující základní příklad ukazuje případ, ve kterém <xref:System.Threading.Tasks.Dataflow.JoinBlock%603> objekt vyžaduje více dat k výpočtu hodnoty.</span><span class="sxs-lookup"><span data-stu-id="3320f-306">The following basic example demonstrates a case in which a <xref:System.Threading.Tasks.Dataflow.JoinBlock%603> object requires multiple data to compute a value.</span></span> <span data-ttu-id="3320f-307">Tento příklad vytvoří <xref:System.Threading.Tasks.Dataflow.JoinBlock%603> objekt, který vyžaduje dva <xref:System.Int32> hodnoty a <xref:System.Char> hodnota při provádění aritmetických operací.</span><span class="sxs-lookup"><span data-stu-id="3320f-307">This example creates a <xref:System.Threading.Tasks.Dataflow.JoinBlock%603> object that requires two <xref:System.Int32> values and a <xref:System.Char> value to perform an arithmetic operation.</span></span>  
  
 [!code-csharp[TPLDataflow_Overview#8](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_overview/cs/program.cs#8)]
 [!code-vb[TPLDataflow_Overview#8](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_overview/vb/program.vb#8)]  
  
 <span data-ttu-id="3320f-308">Úplný příklad používající <xref:System.Threading.Tasks.Dataflow.JoinBlock%602> objektů v režimu typu non-greedy spolupráce při sdílení prostředku, najdete v části [postupy: použití třídy JoinBlock pro čtení dat z více zdrojů](../../../docs/standard/parallel-programming/how-to-use-joinblock-to-read-data-from-multiple-sources.md).</span><span class="sxs-lookup"><span data-stu-id="3320f-308">For a complete example that uses <xref:System.Threading.Tasks.Dataflow.JoinBlock%602> objects in non-greedy mode to cooperatively share a resource, see [How to: Use JoinBlock to Read Data From Multiple Sources](../../../docs/standard/parallel-programming/how-to-use-joinblock-to-read-data-from-multiple-sources.md).</span></span>  
  
#### <a name="batchedjoinblockt1-t2-"></a><span data-ttu-id="3320f-309">BatchedJoinBlock (T1, T2,...)</span><span class="sxs-lookup"><span data-stu-id="3320f-309">BatchedJoinBlock(T1, T2, ...)</span></span>  
 <span data-ttu-id="3320f-310"><xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602> a <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%603> třídy shromažďovat dávek elementů vstupu a šířit se `System.Tuple(IList(T1), IList(T2))` nebo `System.Tuple(IList(T1), IList(T2), IList(T3))` objekty, které obsahují tyto elementy.</span><span class="sxs-lookup"><span data-stu-id="3320f-310">The <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602> and <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%603> classes collect batches of input elements and propagate out `System.Tuple(IList(T1), IList(T2))` or `System.Tuple(IList(T1), IList(T2), IList(T3))` objects that contain those elements.</span></span> <span data-ttu-id="3320f-311">Představte si, že <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602> jako kombinace <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> a <xref:System.Threading.Tasks.Dataflow.JoinBlock%602>.</span><span class="sxs-lookup"><span data-stu-id="3320f-311">Think of <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602> as a combination of <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> and <xref:System.Threading.Tasks.Dataflow.JoinBlock%602>.</span></span> <span data-ttu-id="3320f-312">Zadejte velikost každé dávce, když vytvoříte <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602> objektu.</span><span class="sxs-lookup"><span data-stu-id="3320f-312">Specify the size of each batch when you create a <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602> object.</span></span> <span data-ttu-id="3320f-313"><xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602> poskytuje také vlastnosti, <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602.Target1%2A> a <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602.Target2%2A>, které implementují <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601>.</span><span class="sxs-lookup"><span data-stu-id="3320f-313"><xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602> also provides properties, <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602.Target1%2A> and <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602.Target2%2A>, that implement <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601>.</span></span> <span data-ttu-id="3320f-314">Při přijímání zadaný počet elementů vstupu z napříč všechny cíle, <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602> objekt asynchronně šíří se `System.Tuple(IList(T1), IList(T2))` objekt, který obsahuje těchto elementů.</span><span class="sxs-lookup"><span data-stu-id="3320f-314">When the specified count of input elements are received from across all targets, the <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602> object asynchronously propagates out a `System.Tuple(IList(T1), IList(T2))` object that contains those elements.</span></span>  
  
 <span data-ttu-id="3320f-315">Následující příklad základní vytvoří <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602> objekt, který obsahuje výsledky, <xref:System.Int32> hodnoty a chyby, které jsou <xref:System.Exception> objekty.</span><span class="sxs-lookup"><span data-stu-id="3320f-315">The following basic example creates a <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602> object that holds results, <xref:System.Int32> values, and errors that are <xref:System.Exception> objects.</span></span> <span data-ttu-id="3320f-316">Tento příklad provádí více operací a zapíše výsledky <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602.Target1%2A> vlastnost a jestli nedošlo k chybám <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602.Target2%2A> vlastnost z <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602> objektu.</span><span class="sxs-lookup"><span data-stu-id="3320f-316">This example performs multiple operations and writes results to the <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602.Target1%2A> property, and errors to the <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602.Target2%2A> property, of the <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602> object.</span></span> <span data-ttu-id="3320f-317">Protože je počet úspěšných a neúspěšných operací Neznámá předem, <xref:System.Collections.Generic.IList%601> objekty povolit každém cíli přijímat nula nebo více hodnot.</span><span class="sxs-lookup"><span data-stu-id="3320f-317">Because the count of successful and failed operations is unknown in advance, the <xref:System.Collections.Generic.IList%601> objects enable each target to receive zero or more values.</span></span>  
  
 [!code-csharp[TPLDataflow_Overview#9](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_overview/cs/program.cs#9)]
 [!code-vb[TPLDataflow_Overview#9](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_overview/vb/program.vb#9)]  
  
 <span data-ttu-id="3320f-318">Úplný příklad používající <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602> Pokud chcete zachytit výsledky a jakékoli výjimky, ke kterým dojde během program načte z databáze, přečtěte si téma [návod: použití tříd BatchBlock a BatchedJoinBlock pro zlepšení efektivity](../../../docs/standard/parallel-programming/walkthrough-using-batchblock-and-batchedjoinblock-to-improve-efficiency.md).</span><span class="sxs-lookup"><span data-stu-id="3320f-318">For a complete example that uses <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602> to capture both the results and any exceptions that occur while the program reads from a database, see [Walkthrough: Using BatchBlock and BatchedJoinBlock to Improve Efficiency](../../../docs/standard/parallel-programming/walkthrough-using-batchblock-and-batchedjoinblock-to-improve-efficiency.md).</span></span>  
  
 <span data-ttu-id="3320f-319">[[přejděte do horní části](#top)]</span><span class="sxs-lookup"><span data-stu-id="3320f-319">[[go to top](#top)]</span></span>  
  
<a name="behavior"></a>   
## <a name="configuring-dataflow--block-behavior"></a><span data-ttu-id="3320f-320">Konfigurace chování bloku toku dat</span><span class="sxs-lookup"><span data-stu-id="3320f-320">Configuring Dataflow  Block Behavior</span></span>  
 <span data-ttu-id="3320f-321">Můžete povolit další možnosti tím, že poskytuje <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions?displayProperty=nameWithType> objektu do konstruktoru objektu typy bloku toku dat.</span><span class="sxs-lookup"><span data-stu-id="3320f-321">You can enable additional options by providing a <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions?displayProperty=nameWithType> object to the constructor of dataflow block types.</span></span> <span data-ttu-id="3320f-322">Tyto možnosti určují chování těchto Plánovač spravující základní úlohy a stupně paralelního zpracování.</span><span class="sxs-lookup"><span data-stu-id="3320f-322">These options control behavior such the scheduler that manages the underlying task and the degree of parallelism.</span></span> <span data-ttu-id="3320f-323"><xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions> Má také odvozených typů, které určují chování, která je specifická pro určité typy bloku toku dat.</span><span class="sxs-lookup"><span data-stu-id="3320f-323">The <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions> also has derived types that specify behavior that is specific to certain dataflow block types.</span></span> <span data-ttu-id="3320f-324">Následující tabulka shrnuje, které možnosti typ se přidruží každý typ bloku toku dat.</span><span class="sxs-lookup"><span data-stu-id="3320f-324">The following table summarizes which options type is associated with each dataflow block type.</span></span>  
  
|<span data-ttu-id="3320f-325">Typ bloku toku dat</span><span class="sxs-lookup"><span data-stu-id="3320f-325">Dataflow Block Type</span></span>|<span data-ttu-id="3320f-326"><xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions> Typ</span><span class="sxs-lookup"><span data-stu-id="3320f-326"><xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions> type</span></span>|  
|-------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------|  
|<xref:System.Threading.Tasks.Dataflow.BufferBlock%601>|<xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions>|  
|<xref:System.Threading.Tasks.Dataflow.BroadcastBlock%601>|<xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions>|  
|<xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601>|<xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions>|  
|<xref:System.Threading.Tasks.Dataflow.ActionBlock%601>|<xref:System.Threading.Tasks.Dataflow.ExecutionDataflowBlockOptions>|  
|<xref:System.Threading.Tasks.Dataflow.TransformBlock%602>|<xref:System.Threading.Tasks.Dataflow.ExecutionDataflowBlockOptions>|  
|<xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602>|<xref:System.Threading.Tasks.Dataflow.ExecutionDataflowBlockOptions>|  
|<xref:System.Threading.Tasks.Dataflow.BatchBlock%601>|<xref:System.Threading.Tasks.Dataflow.GroupingDataflowBlockOptions>|  
|<xref:System.Threading.Tasks.Dataflow.JoinBlock%602>|<xref:System.Threading.Tasks.Dataflow.GroupingDataflowBlockOptions>|  
|<xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602>|<xref:System.Threading.Tasks.Dataflow.GroupingDataflowBlockOptions>|  
  
 <span data-ttu-id="3320f-327">Následující části obsahují další informace o důležitých druhy toku dat bloku možnosti, které jsou k dispozici prostřednictvím <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions?displayProperty=nameWithType>, <xref:System.Threading.Tasks.Dataflow.ExecutionDataflowBlockOptions?displayProperty=nameWithType>, a <xref:System.Threading.Tasks.Dataflow.GroupingDataflowBlockOptions?displayProperty=nameWithType> třídy.</span><span class="sxs-lookup"><span data-stu-id="3320f-327">The following sections provide additional information about the important kinds of dataflow block options that are available through the <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions?displayProperty=nameWithType>, <xref:System.Threading.Tasks.Dataflow.ExecutionDataflowBlockOptions?displayProperty=nameWithType>, and <xref:System.Threading.Tasks.Dataflow.GroupingDataflowBlockOptions?displayProperty=nameWithType> classes.</span></span>  
  
### <a name="specifying-the-task-scheduler"></a><span data-ttu-id="3320f-328">Určení plánovače úloh</span><span class="sxs-lookup"><span data-stu-id="3320f-328">Specifying the Task Scheduler</span></span>  
 <span data-ttu-id="3320f-329">Každý blok předdefinované toku dat používá mechanismus pro aktivity, například rozmnožovací dat na cílový, příjem dat ze zdroje a spuštěné uživatelem definované Delegáti v případě, že data bude možné provést plánování úloh TPL.</span><span class="sxs-lookup"><span data-stu-id="3320f-329">Every predefined dataflow block uses the TPL task scheduling mechanism to perform activities such as propagating data to a target, receiving data from a source, and running user-defined delegates when data becomes available.</span></span> <span data-ttu-id="3320f-330"><xref:System.Threading.Tasks.TaskScheduler> je abstraktní třída, která představuje plánovače úloh této fronty úloh do vláken.</span><span class="sxs-lookup"><span data-stu-id="3320f-330"><xref:System.Threading.Tasks.TaskScheduler> is an abstract class that represents a task scheduler that queues tasks onto threads.</span></span> <span data-ttu-id="3320f-331">Plánovač úloh výchozí, <xref:System.Threading.Tasks.TaskScheduler.Default%2A>, používá <xref:System.Threading.ThreadPool> třídy fronty a spouštět pracovní.</span><span class="sxs-lookup"><span data-stu-id="3320f-331">The default task scheduler, <xref:System.Threading.Tasks.TaskScheduler.Default%2A>, uses the <xref:System.Threading.ThreadPool> class to queue and execute work.</span></span> <span data-ttu-id="3320f-332">Plánovač úloh výchozí můžete přepsat pomocí nastavení <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions.TaskScheduler%2A> při vytvoření objektu bloku toku dat.</span><span class="sxs-lookup"><span data-stu-id="3320f-332">You can override the default task scheduler by setting the <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions.TaskScheduler%2A> property when you construct a dataflow block object.</span></span>  
  
 <span data-ttu-id="3320f-333">Pokud stejný Plánovač úloh spravuje více bloků toku dat, ho můžete vynutit zásady mezi nimi.</span><span class="sxs-lookup"><span data-stu-id="3320f-333">When the same task scheduler manages multiple dataflow blocks, it can enforce policies across them.</span></span> <span data-ttu-id="3320f-334">Například, pokud každý více bloků toku dat jsou nakonfigurované pro výhradní Plánovač stejného <xref:System.Threading.Tasks.ConcurrentExclusiveSchedulerPair> objektu, všechny fungovat, že je serializováno spustí mezi tyto bloky.</span><span class="sxs-lookup"><span data-stu-id="3320f-334">For example, if multiple dataflow blocks are each configured to target the exclusive scheduler of the same <xref:System.Threading.Tasks.ConcurrentExclusiveSchedulerPair> object, all work that runs across these blocks is serialized.</span></span> <span data-ttu-id="3320f-335">Podobně pokud jsou tyto bloky nakonfigurované pro cílové souběžných Plánovač stejného <xref:System.Threading.Tasks.ConcurrentExclusiveSchedulerPair> objekt a že scheduler je nakonfigurován tak, aby měl souběžnosti maximální úroveň, všechny pracovní z těchto bloků je omezená na tento počet souběžných operací.</span><span class="sxs-lookup"><span data-stu-id="3320f-335">Similarly, if these blocks are configured to target the concurrent scheduler of the same <xref:System.Threading.Tasks.ConcurrentExclusiveSchedulerPair> object, and that scheduler is configured to have a maximum concurrency level, all work from these blocks is limited to that number of concurrent operations.</span></span> <span data-ttu-id="3320f-336">Pro příklad, který používá <xref:System.Threading.Tasks.ConcurrentExclusiveSchedulerPair> třída pro povolení operací čtení být provedeny souběžně, ale operací dojít výhradně všech ostatních operací, najdete v článku zápisu [postupy: určení plánovače úloh v bloku toku dat](../../../docs/standard/parallel-programming/how-to-specify-a-task-scheduler-in-a-dataflow-block.md).</span><span class="sxs-lookup"><span data-stu-id="3320f-336">For an example that uses the <xref:System.Threading.Tasks.ConcurrentExclusiveSchedulerPair> class to enable read operations to occur in parallel, but write operations to occur exclusively of all other operations, see [How to: Specify a Task Scheduler in a Dataflow Block](../../../docs/standard/parallel-programming/how-to-specify-a-task-scheduler-in-a-dataflow-block.md).</span></span> <span data-ttu-id="3320f-337">Další informace o plánovače úloh v TPL najdete v tématu <xref:System.Threading.Tasks.TaskScheduler> třída tématu.</span><span class="sxs-lookup"><span data-stu-id="3320f-337">For more information about task schedulers in the TPL, see the <xref:System.Threading.Tasks.TaskScheduler> class topic.</span></span>  
  
### <a name="specifying-the-degree-of-parallelism"></a><span data-ttu-id="3320f-338">Určení stupně paralelního zpracování</span><span class="sxs-lookup"><span data-stu-id="3320f-338">Specifying the Degree of Parallelism</span></span>  
 <span data-ttu-id="3320f-339">Ve výchozím nastavení jsou tři provádění bloku typy, které poskytuje knihovna toku dat TPL, <xref:System.Threading.Tasks.Dataflow.ActionBlock%601>, <xref:System.Threading.Tasks.Dataflow.TransformBlock%602>, a <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602>, jednu zprávu zpracovat najednou.</span><span class="sxs-lookup"><span data-stu-id="3320f-339">By default, the three execution block types that the TPL Dataflow Library provides, <xref:System.Threading.Tasks.Dataflow.ActionBlock%601>, <xref:System.Threading.Tasks.Dataflow.TransformBlock%602>, and <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602>, process one message at a time.</span></span> <span data-ttu-id="3320f-340">Tyto typy bloku toku dat také zpracování zpráv v pořadí, ve kterém jsou přijaty.</span><span class="sxs-lookup"><span data-stu-id="3320f-340">These dataflow block types also process messages in the order in which they are received.</span></span> <span data-ttu-id="3320f-341">Chcete-li povolit tyto bloků toku dat ke zpracování zpráv souběžně, nastavte <xref:System.Threading.Tasks.Dataflow.ExecutionDataflowBlockOptions.MaxDegreeOfParallelism%2A?displayProperty=nameWithType> při sestavení objektu bloku toku dat.</span><span class="sxs-lookup"><span data-stu-id="3320f-341">To enable these dataflow blocks to process messages concurrently, set the <xref:System.Threading.Tasks.Dataflow.ExecutionDataflowBlockOptions.MaxDegreeOfParallelism%2A?displayProperty=nameWithType> property when you construct the dataflow block object.</span></span>  
  
 <span data-ttu-id="3320f-342">Výchozí hodnota <xref:System.Threading.Tasks.Dataflow.ExecutionDataflowBlockOptions.MaxDegreeOfParallelism%2A> je 1, což zaručuje, že bloku toku dat zpracovává jednu zprávu najednou.</span><span class="sxs-lookup"><span data-stu-id="3320f-342">The default value of <xref:System.Threading.Tasks.Dataflow.ExecutionDataflowBlockOptions.MaxDegreeOfParallelism%2A> is 1, which guarantees that the dataflow block processes one message at a time.</span></span> <span data-ttu-id="3320f-343">Nastavení této vlastnosti na hodnotu, která je větší než 1 umožňuje bloku toku dat současně zpracovat více zpráv.</span><span class="sxs-lookup"><span data-stu-id="3320f-343">Setting this property to a value that is larger than 1 enables the dataflow block to process multiple messages concurrently.</span></span> <span data-ttu-id="3320f-344">Nastavení této vlastnosti na <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions.Unbounded?displayProperty=nameWithType> umožňuje základní Plánovač úloh pro správu Maximální stupeň souběžnosti.</span><span class="sxs-lookup"><span data-stu-id="3320f-344">Setting this property to <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions.Unbounded?displayProperty=nameWithType> enables the underlying task scheduler to manage the maximum degree of concurrency.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="3320f-345">Při zadání maximálního stupně paralelního zpracování, která je větší než 1 současně zpracování několika zpráv, a proto nemusí zprávy zpracovány v pořadí, ve kterém jsou přijaty.</span><span class="sxs-lookup"><span data-stu-id="3320f-345">When you specify a maximum degree of parallelism that is larger than 1, multiple messages are processed simultaneously, and therefore, messages might not be processed in the order in which they are received.</span></span> <span data-ttu-id="3320f-346">Pořadí, ve kterém zprávy jsou výstupem bude bloku, ale, správné seřazení.</span><span class="sxs-lookup"><span data-stu-id="3320f-346">The order in which the messages are output from the block will, however, be correctly ordered.</span></span>  
  
 <span data-ttu-id="3320f-347">Protože <xref:System.Threading.Tasks.Dataflow.ExecutionDataflowBlockOptions.MaxDegreeOfParallelism%2A> vlastnost představuje maximální stupně paralelního zpracování, bloku toku dat může spustit s nižší úrovní stupně paralelního zpracování, než jste určili.</span><span class="sxs-lookup"><span data-stu-id="3320f-347">Because the <xref:System.Threading.Tasks.Dataflow.ExecutionDataflowBlockOptions.MaxDegreeOfParallelism%2A> property represents the maximum degree of parallelism, the dataflow block might execute with a lesser degree of parallelism than you specify.</span></span> <span data-ttu-id="3320f-348">Bloku toku dat může použít v menší míře paralelismus jeho funkční splnění nebo protože je nedostatek dostupné prostředky systému.</span><span class="sxs-lookup"><span data-stu-id="3320f-348">The dataflow block might use a lesser degree of parallelism to meet its functional requirements or because there is a lack of available system resources.</span></span> <span data-ttu-id="3320f-349">Blok toku dat nikdy zvolí další paralelismus než zadáte.</span><span class="sxs-lookup"><span data-stu-id="3320f-349">A dataflow block never chooses more parallelism than you specify.</span></span>  
  
 <span data-ttu-id="3320f-350">Hodnota <xref:System.Threading.Tasks.Dataflow.ExecutionDataflowBlockOptions.MaxDegreeOfParallelism%2A> vlastnost je určena výhradně pro každý objekt bloku toku dat.</span><span class="sxs-lookup"><span data-stu-id="3320f-350">The value of the <xref:System.Threading.Tasks.Dataflow.ExecutionDataflowBlockOptions.MaxDegreeOfParallelism%2A> property is exclusive to each dataflow block object.</span></span> <span data-ttu-id="3320f-351">Například pokud všechny čtyři bloku objekty toku dat zadat 1 pro maximální stupně paralelního zpracování, všechny čtyři objekty bloku toku dat může potenciálně běžet paralelně.</span><span class="sxs-lookup"><span data-stu-id="3320f-351">For example, if four dataflow block objects each specify 1 for the maximum degree of parallelism, all four dataflow block objects can potentially run in parallel.</span></span>  
  
 <span data-ttu-id="3320f-352">Příklad, který nastaví maximální stupně paralelního zpracování pro povolení operací zdlouhavé proběhnout paralelně, naleznete v části [postupy: určení stupně paralelismus v bloku toku dat](../../../docs/standard/parallel-programming/how-to-specify-the-degree-of-parallelism-in-a-dataflow-block.md).</span><span class="sxs-lookup"><span data-stu-id="3320f-352">For an example that sets the maximum degree of parallelism to enable lengthy operations to occur in parallel, see [How to: Specify the Degree of Parallelism in a Dataflow Block](../../../docs/standard/parallel-programming/how-to-specify-the-degree-of-parallelism-in-a-dataflow-block.md).</span></span>  
  
### <a name="specifying-the-number-of-messages-per-task"></a><span data-ttu-id="3320f-353">Určující počet zpráv za úloh</span><span class="sxs-lookup"><span data-stu-id="3320f-353">Specifying the Number of Messages per Task</span></span>  
 <span data-ttu-id="3320f-354">Typy bloku toku dat předdefinované používat ke zpracování více elementy vstupu úlohy.</span><span class="sxs-lookup"><span data-stu-id="3320f-354">The predefined dataflow block types use tasks to process multiple input elements.</span></span> <span data-ttu-id="3320f-355">Tím se může minimalizovat počet úloh objekty, které jsou potřebné ke zpracování dat, která umožňuje aplikacím efektivněji.</span><span class="sxs-lookup"><span data-stu-id="3320f-355">This helps minimize the number of task objects that are required to process data, which enables applications to run more efficiently.</span></span> <span data-ttu-id="3320f-356">Ale pokud úlohy z jednu sadu bloků toku dat jsou zpracování dat, úlohy z jiných bloků toku dat může být potřeba čekat na doba zpracování pomocí služby Řízení front zpráv.</span><span class="sxs-lookup"><span data-stu-id="3320f-356">However, when the tasks from one set of dataflow blocks are processing data, the tasks from other dataflow blocks might need to wait for processing time by queuing messages.</span></span> <span data-ttu-id="3320f-357">Chcete-li povolit lepší rovné zacházení s úlohy toku dat, nastavte <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions.MaxMessagesPerTask%2A> vlastnost.</span><span class="sxs-lookup"><span data-stu-id="3320f-357">To enable better fairness among dataflow tasks, set the <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions.MaxMessagesPerTask%2A> property.</span></span> <span data-ttu-id="3320f-358">Když <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions.MaxMessagesPerTask%2A> je nastaven na <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions.Unbounded?displayProperty=nameWithType>, který je výchozí, úloha používá bloku toku dat zpracovává tolik zprávy, protože nejsou k dispozici.</span><span class="sxs-lookup"><span data-stu-id="3320f-358">When <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions.MaxMessagesPerTask%2A> is set to <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions.Unbounded?displayProperty=nameWithType>, which is the default, the task used by a dataflow block processes as many messages as are available.</span></span> <span data-ttu-id="3320f-359">Když <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions.MaxMessagesPerTask%2A> nastavena na hodnotu s výjimkou <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions.Unbounded>, bloku toku dat zpracovává maximálně tento počet zpráv za <xref:System.Threading.Tasks.Task> objektu.</span><span class="sxs-lookup"><span data-stu-id="3320f-359">When <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions.MaxMessagesPerTask%2A> is set to a value other than <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions.Unbounded>, the dataflow block processes at most this number of messages per <xref:System.Threading.Tasks.Task> object.</span></span> <span data-ttu-id="3320f-360">I když nastavení <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions.MaxMessagesPerTask%2A> vlastnost zvýšit rovné zacházení s úkoly, může to způsobit systému vytvořte další úkoly, než je potřeba, což může snížit výkon.</span><span class="sxs-lookup"><span data-stu-id="3320f-360">Although setting the <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions.MaxMessagesPerTask%2A> property can increase fairness among tasks, it can cause the system to create more tasks than are necessary, which can decrease performance.</span></span>  
  
### <a name="enabling-cancellation"></a><span data-ttu-id="3320f-361">Povolení zrušení</span><span class="sxs-lookup"><span data-stu-id="3320f-361">Enabling Cancellation</span></span>  
 <span data-ttu-id="3320f-362">TPL poskytuje mechanismus, který umožňuje úlohy pro koordinaci zrušení spolupráci způsobem.</span><span class="sxs-lookup"><span data-stu-id="3320f-362">The TPL provides a mechanism that enables tasks to coordinate cancellation in a cooperative manner.</span></span> <span data-ttu-id="3320f-363">Chcete-li povolit bloků toku dat se účastnit tento mechanismus zrušení, nastavte <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions.CancellationToken%2A> vlastnost.</span><span class="sxs-lookup"><span data-stu-id="3320f-363">To enable dataflow blocks to participate in this cancellation mechanism, set the <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions.CancellationToken%2A> property.</span></span> <span data-ttu-id="3320f-364">Pokud to <xref:System.Threading.CancellationToken> objektu nastavena na stav zrušených, všechny bloky toku dat, které sledují tento token dokončí provádění své aktuální položky, ale není spuštěno zpracování další položky.</span><span class="sxs-lookup"><span data-stu-id="3320f-364">When this <xref:System.Threading.CancellationToken> object is set to the canceled state, all dataflow blocks that monitor this token finish execution of their current item but do not start processing subsequent items.</span></span> <span data-ttu-id="3320f-365">Tyto bloků toku dat také zrušte všechny uložená do vyrovnávací paměti zprávy, verze připojení na žádný zdroj a cíl bloky a přechod do stavu zrušena.</span><span class="sxs-lookup"><span data-stu-id="3320f-365">These dataflow blocks also clear any buffered messages, release connections to any source and target blocks, and transition to the canceled state.</span></span> <span data-ttu-id="3320f-366">Pomocí přechodu do zrušené stavu, <xref:System.Threading.Tasks.Dataflow.IDataflowBlock.Completion%2A> vlastnost má <xref:System.Threading.Tasks.Task.Status%2A> vlastnost nastavena na hodnotu <xref:System.Threading.Tasks.TaskStatus.Canceled>, pokud došlo k výjimce během zpracování.</span><span class="sxs-lookup"><span data-stu-id="3320f-366">By transitioning to the canceled state, the <xref:System.Threading.Tasks.Dataflow.IDataflowBlock.Completion%2A> property has the <xref:System.Threading.Tasks.Task.Status%2A> property set to <xref:System.Threading.Tasks.TaskStatus.Canceled>, unless an exception occurred during processing.</span></span> <span data-ttu-id="3320f-367">V takovém případě <xref:System.Threading.Tasks.Task.Status%2A> je nastaven na <xref:System.Threading.Tasks.TaskStatus.Faulted>.</span><span class="sxs-lookup"><span data-stu-id="3320f-367">In that case, <xref:System.Threading.Tasks.Task.Status%2A> is set to <xref:System.Threading.Tasks.TaskStatus.Faulted>.</span></span>  
  
 <span data-ttu-id="3320f-368">Příklad, který ukazuje, jak používat zrušení v aplikaci Windows Forms, naleznete v části [postupy: zrušení bloku toku dat](../../../docs/standard/parallel-programming/how-to-cancel-a-dataflow-block.md).</span><span class="sxs-lookup"><span data-stu-id="3320f-368">For an example that demonstrates how to use cancellation in a Windows Forms application, see [How to: Cancel a Dataflow Block](../../../docs/standard/parallel-programming/how-to-cancel-a-dataflow-block.md).</span></span> <span data-ttu-id="3320f-369">Další informace o zrušení v TPL najdete v tématu [zrušení úlohy](../../../docs/standard/parallel-programming/task-cancellation.md).</span><span class="sxs-lookup"><span data-stu-id="3320f-369">For more information about cancellation in the TPL, see [Task Cancellation](../../../docs/standard/parallel-programming/task-cancellation.md).</span></span>  
  
### <a name="specifying-greedy-versus-non-greedy-behavior"></a><span data-ttu-id="3320f-370">Určení typu Greedy Versus chování typu Non-Greedy</span><span class="sxs-lookup"><span data-stu-id="3320f-370">Specifying Greedy Versus Non-Greedy Behavior</span></span>  
 <span data-ttu-id="3320f-371">Několik typů bloku toku dat seskupení může fungovat v obou *typu greedy* nebo *typu non-greedy* režimu.</span><span class="sxs-lookup"><span data-stu-id="3320f-371">Several grouping dataflow block types can operate in either *greedy* or *non-greedy* mode.</span></span> <span data-ttu-id="3320f-372">Ve výchozím nastavení typy bloku toku dat předdefinované pracovat v typu greedy režimu.</span><span class="sxs-lookup"><span data-stu-id="3320f-372">By default, the predefined dataflow block types operate in greedy mode.</span></span>  
  
 <span data-ttu-id="3320f-373">Pro připojení k blokování typů <xref:System.Threading.Tasks.Dataflow.JoinBlock%602>, typu greedy režimu znamená, že bloku okamžitě přijímá data i v případě, že odpovídající data, ke které má být připojení k ještě nejsou k dispozici.</span><span class="sxs-lookup"><span data-stu-id="3320f-373">For join block types such as <xref:System.Threading.Tasks.Dataflow.JoinBlock%602>, greedy mode means that the block immediately accepts data even if the corresponding data with which to join is not yet available.</span></span> <span data-ttu-id="3320f-374">Typu non-greedy režimu znamená, že bloku odloží všechny příchozí zprávy, dokud je k dispozici na všech jeho cíle k dokončení spojení.</span><span class="sxs-lookup"><span data-stu-id="3320f-374">Non-greedy mode means that the block postpones all incoming messages until one is available on each of its targets to complete the join.</span></span> <span data-ttu-id="3320f-375">Pokud některá z odložených zprávy již nebudou k dispozici, spojení bloku uvolní všech odložených zprávy a restartování procesu.</span><span class="sxs-lookup"><span data-stu-id="3320f-375">If any of the postponed messages are no longer available, the join block releases all postponed messages and restarts the process.</span></span> <span data-ttu-id="3320f-376">Pro <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> třídy, typu greedy a typu non-greedy chování je podobné, vyjma toho, že v typu non-greedy režimu, <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> objekt odloží všechny příchozí zprávy, dokud dostatek jsou dostupné z různých zdrojů k dokončení dávky.</span><span class="sxs-lookup"><span data-stu-id="3320f-376">For the <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> class, greedy and non-greedy behavior is similar, except that under non-greedy mode, a <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> object postpones all incoming messages until enough are available from distinct sources to complete a batch.</span></span>  
  
 <span data-ttu-id="3320f-377">Chcete-li zadat typu non-greedy režim pro bloku toku dat, nastavte <xref:System.Threading.Tasks.Dataflow.GroupingDataflowBlockOptions.Greedy%2A> k `False`.</span><span class="sxs-lookup"><span data-stu-id="3320f-377">To specify non-greedy mode for a dataflow block, set <xref:System.Threading.Tasks.Dataflow.GroupingDataflowBlockOptions.Greedy%2A> to `False`.</span></span> <span data-ttu-id="3320f-378">Příklad, který ukazuje, jak používat typu non-greedy režim povolit více připojení k bloků efektivněji sdílet zdroj dat, naleznete v části [postupy: použití třídy JoinBlock pro čtení dat z více zdrojů](../../../docs/standard/parallel-programming/how-to-use-joinblock-to-read-data-from-multiple-sources.md).</span><span class="sxs-lookup"><span data-stu-id="3320f-378">For an example that demonstrates how to use non-greedy mode to enable multiple join blocks to share a data source more efficiently, see [How to: Use JoinBlock to Read Data From Multiple Sources](../../../docs/standard/parallel-programming/how-to-use-joinblock-to-read-data-from-multiple-sources.md).</span></span>  
  
 <span data-ttu-id="3320f-379">[[přejděte do horní části](#top)]</span><span class="sxs-lookup"><span data-stu-id="3320f-379">[[go to top](#top)]</span></span>  
  
<a name="custom"></a>   
## <a name="custom-dataflow-blocks"></a><span data-ttu-id="3320f-380">Vlastních bloků toku dat</span><span class="sxs-lookup"><span data-stu-id="3320f-380">Custom Dataflow Blocks</span></span>  
 <span data-ttu-id="3320f-381">Přestože knihovna toku dat TPL poskytuje mnoho typů předdefinované blok, můžete vytvořit další blok typy, které provádějí vlastní chování.</span><span class="sxs-lookup"><span data-stu-id="3320f-381">Although the TPL Dataflow Library provides many predefined block types, you can create additional block types that perform custom behavior.</span></span> <span data-ttu-id="3320f-382">Implementace <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601> nebo <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601> přímo rozhraní nebo pomocí <xref:System.Threading.Tasks.Dataflow.DataflowBlock.Encapsulate%2A> metoda pro vytvoření komplexní blok, který zapouzdřuje chování existující typy bloku.</span><span class="sxs-lookup"><span data-stu-id="3320f-382">Implement the <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601> or <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601> interfaces directly or use the  <xref:System.Threading.Tasks.Dataflow.DataflowBlock.Encapsulate%2A> method to build a complex block that encapsulates the behavior of existing block types.</span></span> <span data-ttu-id="3320f-383">Příklady, které ukazují, jak implementovat funkci bloku toku dat vlastního najdete v tématu [návod: vytvoření vlastní typ bloku toku dat](../../../docs/standard/parallel-programming/walkthrough-creating-a-custom-dataflow-block-type.md).</span><span class="sxs-lookup"><span data-stu-id="3320f-383">For examples that show how to implement custom dataflow block functionality, see [Walkthrough: Creating a Custom Dataflow Block Type](../../../docs/standard/parallel-programming/walkthrough-creating-a-custom-dataflow-block-type.md).</span></span>  
  
 <span data-ttu-id="3320f-384">[[přejděte do horní části](#top)]</span><span class="sxs-lookup"><span data-stu-id="3320f-384">[[go to top](#top)]</span></span>  
  
## <a name="related-topics"></a><span data-ttu-id="3320f-385">Související témata</span><span class="sxs-lookup"><span data-stu-id="3320f-385">Related Topics</span></span>  
  
|<span data-ttu-id="3320f-386">Název</span><span class="sxs-lookup"><span data-stu-id="3320f-386">Title</span></span>|<span data-ttu-id="3320f-387">Popis</span><span class="sxs-lookup"><span data-stu-id="3320f-387">Description</span></span>|  
|-----------|-----------------|  
|[<span data-ttu-id="3320f-388">Postupy: Zápis zpráv do bloku toku dat a čtení zpráv z bloku toku dat</span><span class="sxs-lookup"><span data-stu-id="3320f-388">How to: Write Messages to and Read Messages from a Dataflow Block</span></span>](../../../docs/standard/parallel-programming/how-to-write-messages-to-and-read-messages-from-a-dataflow-block.md)|<span data-ttu-id="3320f-389">Ukazuje, jak pro zápis zpráv do a čtení zpráv z <xref:System.Threading.Tasks.Dataflow.BufferBlock%601> objektu.</span><span class="sxs-lookup"><span data-stu-id="3320f-389">Demonstrates how to write messages to and read messages from a <xref:System.Threading.Tasks.Dataflow.BufferBlock%601> object.</span></span>|  
|[<span data-ttu-id="3320f-390">Postupy: Implementace vzoru toku dat producent–příjemce</span><span class="sxs-lookup"><span data-stu-id="3320f-390">How to: Implement a Producer-Consumer Dataflow Pattern</span></span>](../../../docs/standard/parallel-programming/how-to-implement-a-producer-consumer-dataflow-pattern.md)|<span data-ttu-id="3320f-391">Popisuje, jak použít model toku dat implementace vzoru producent – příjemce, které autor odešle zprávy do bloku toku dat a příjemce čte zprávy z tohoto bloku.</span><span class="sxs-lookup"><span data-stu-id="3320f-391">Describes how to use the dataflow model to implement a producer-consumer pattern, where the producer sends messages to a dataflow block, and the consumer reads messages from that block.</span></span>|  
|[<span data-ttu-id="3320f-392">Postupy: Provádění akcí po přijetí dat do bloku toku dat</span><span class="sxs-lookup"><span data-stu-id="3320f-392">How to: Perform Action When a Dataflow Block Receives Data</span></span>](../../../docs/standard/parallel-programming/how-to-perform-action-when-a-dataflow-block-receives-data.md)|<span data-ttu-id="3320f-393">Popisuje, jak poskytnout delegáti typy bloku toku dat provádění, <xref:System.Threading.Tasks.Dataflow.ActionBlock%601>, <xref:System.Threading.Tasks.Dataflow.TransformBlock%602>, a <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602>.</span><span class="sxs-lookup"><span data-stu-id="3320f-393">Describes how to provide delegates to the execution dataflow block types, <xref:System.Threading.Tasks.Dataflow.ActionBlock%601>, <xref:System.Threading.Tasks.Dataflow.TransformBlock%602>, and <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602>.</span></span>|  
|[<span data-ttu-id="3320f-394">Návod: Vytvoření kanálu toku dat</span><span class="sxs-lookup"><span data-stu-id="3320f-394">Walkthrough: Creating a Dataflow Pipeline</span></span>](../../../docs/standard/parallel-programming/walkthrough-creating-a-dataflow-pipeline.md)|<span data-ttu-id="3320f-395">Popisuje postup vytvoření kanálu toku dat, který stahuje text z webu a provádí operace na tomto textu.</span><span class="sxs-lookup"><span data-stu-id="3320f-395">Describes how to create a dataflow pipeline that downloads text from the web and performs operations on that text.</span></span>|  
|[<span data-ttu-id="3320f-396">Postupy: Zrušení propojení bloků toku dat</span><span class="sxs-lookup"><span data-stu-id="3320f-396">How to: Unlink Dataflow Blocks</span></span>](../../../docs/standard/parallel-programming/how-to-unlink-dataflow-blocks.md)|<span data-ttu-id="3320f-397">Ukazuje, jak používat <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601.LinkTo%2A> metoda zrušení propojení cílový blok z její zdroj po zdroj nabízí zprávu do cílové.</span><span class="sxs-lookup"><span data-stu-id="3320f-397">Demonstrates how to use the <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601.LinkTo%2A> method to unlink a target block from its source after the source offers a message to the target.</span></span>|  
|[<span data-ttu-id="3320f-398">Návod: Použití toku dat v aplikaci Windows Forms</span><span class="sxs-lookup"><span data-stu-id="3320f-398">Walkthrough: Using Dataflow in a Windows Forms Application</span></span>](../../../docs/standard/parallel-programming/walkthrough-using-dataflow-in-a-windows-forms-application.md)|<span data-ttu-id="3320f-399">Ukazuje, jak vytvořit síť bloků toku dat, které provádějí zpracování obrázků v aplikaci Windows Forms.</span><span class="sxs-lookup"><span data-stu-id="3320f-399">Demonstrates how to create a network of dataflow blocks that perform image processing in a Windows Forms application.</span></span>|  
|[<span data-ttu-id="3320f-400">Postupy: Zrušení bloku toku dat</span><span class="sxs-lookup"><span data-stu-id="3320f-400">How to: Cancel a Dataflow Block</span></span>](../../../docs/standard/parallel-programming/how-to-cancel-a-dataflow-block.md)|<span data-ttu-id="3320f-401">Ukazuje, jak používat zrušení v aplikaci Windows Forms.</span><span class="sxs-lookup"><span data-stu-id="3320f-401">Demonstrates how to use cancellation in a Windows Forms application.</span></span>|  
|[<span data-ttu-id="3320f-402">Postupy: Načítání dat z více zdrojů pomocí třídy JoinBlock</span><span class="sxs-lookup"><span data-stu-id="3320f-402">How to: Use JoinBlock to Read Data From Multiple Sources</span></span>](../../../docs/standard/parallel-programming/how-to-use-joinblock-to-read-data-from-multiple-sources.md)|<span data-ttu-id="3320f-403">Vysvětluje, jak používat <xref:System.Threading.Tasks.Dataflow.JoinBlock%602> třída k provedení určité operace, pokud jsou k dispozici data z více zdrojů a jak používat typu non-greedy režim povolit více připojení k bloků sdílet zdroj dat efektivněji.</span><span class="sxs-lookup"><span data-stu-id="3320f-403">Explains how to use the <xref:System.Threading.Tasks.Dataflow.JoinBlock%602> class to perform an operation when data is available from multiple sources, and how to use non-greedy mode to enable multiple join blocks to share a data source more efficiently.</span></span>|  
|[<span data-ttu-id="3320f-404">Postupy: Určení stupně paralelního zpracování v bloku toku dat</span><span class="sxs-lookup"><span data-stu-id="3320f-404">How to: Specify the Degree of Parallelism in a Dataflow Block</span></span>](../../../docs/standard/parallel-programming/how-to-specify-the-degree-of-parallelism-in-a-dataflow-block.md)|<span data-ttu-id="3320f-405">Popisuje, jak nastavit <xref:System.Threading.Tasks.Dataflow.ExecutionDataflowBlockOptions.MaxDegreeOfParallelism%2A> vlastnost umožňující bloku toku dat provádění zpracovat více než jeden zprávu najednou.</span><span class="sxs-lookup"><span data-stu-id="3320f-405">Describes how to set the <xref:System.Threading.Tasks.Dataflow.ExecutionDataflowBlockOptions.MaxDegreeOfParallelism%2A> property to enable an execution dataflow block to process more than one message at a time.</span></span>|  
|[<span data-ttu-id="3320f-406">Postupy: Určení plánovače úloh v bloku toku dat</span><span class="sxs-lookup"><span data-stu-id="3320f-406">How to: Specify a Task Scheduler in a Dataflow Block</span></span>](../../../docs/standard/parallel-programming/how-to-specify-a-task-scheduler-in-a-dataflow-block.md)|<span data-ttu-id="3320f-407">Ukazuje, jak přidružit plánovače úloh konkrétní při použití toku dat ve vaší aplikaci.</span><span class="sxs-lookup"><span data-stu-id="3320f-407">Demonstrates how to associate a specific task scheduler when you use dataflow in your application.</span></span>|  
|[<span data-ttu-id="3320f-408">Návod: Zvýšení efektivity díky použití tříd BatchBlock a BatchedJoinBlock</span><span class="sxs-lookup"><span data-stu-id="3320f-408">Walkthrough: Using BatchBlock and BatchedJoinBlock to Improve Efficiency</span></span>](../../../docs/standard/parallel-programming/walkthrough-using-batchblock-and-batchedjoinblock-to-improve-efficiency.md)|<span data-ttu-id="3320f-409">Popisuje způsob použití <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> třída zlepšit efektivitu databáze vložit operace a jak používat <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602> třída zaznamenat výsledky a jakékoli výjimky, ke kterým dojde během program načte z databáze.</span><span class="sxs-lookup"><span data-stu-id="3320f-409">Describes how to use the <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> class to improve the efficiency of database insert operations, and how to use the <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602> class to capture both the results and any exceptions that occur while the program reads from a database.</span></span>|  
|[<span data-ttu-id="3320f-410">Návod: Vytvoření bloku toku dat vlastního typu</span><span class="sxs-lookup"><span data-stu-id="3320f-410">Walkthrough: Creating a Custom Dataflow Block Type</span></span>](../../../docs/standard/parallel-programming/walkthrough-creating-a-custom-dataflow-block-type.md)|<span data-ttu-id="3320f-411">Ukazuje dva způsoby, jak vytvořit typ bloku toku dat, který implementuje vlastní chování.</span><span class="sxs-lookup"><span data-stu-id="3320f-411">Demonstrates two ways to create a dataflow block type that implements custom behavior.</span></span>|  
|[<span data-ttu-id="3320f-412">Task Parallel Library (TPL)</span><span class="sxs-lookup"><span data-stu-id="3320f-412">Task Parallel Library (TPL)</span></span>](../../../docs/standard/parallel-programming/task-parallel-library-tpl.md)|<span data-ttu-id="3320f-413">Představuje rozhraní TPL knihovnu, která zjednodušuje paralelní a souběžné programování v [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] aplikace.</span><span class="sxs-lookup"><span data-stu-id="3320f-413">Introduces the TPL, a library that simplifies parallel and concurrent programming in [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] applications.</span></span>|
