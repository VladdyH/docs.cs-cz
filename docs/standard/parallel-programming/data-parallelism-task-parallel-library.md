---
title: Datový paralelismus (Task Parallel Library)
ms.custom: ''
ms.date: 03/30/2017
ms.prod: .net
ms.reviewer: ''
ms.suite: ''
ms.technology: dotnet-standard
ms.tgt_pltfrm: ''
ms.topic: article
dev_langs:
- csharp
- vb
helpviewer_keywords:
- parallelism, data
ms.assetid: 3f05f33f-f1da-4b16-81c2-9ceff1bef449
caps.latest.revision: 25
author: rpetrusha
ms.author: ronpet
manager: wpickett
ms.workload:
- dotnet
- dotnetcore
ms.openlocfilehash: 68c04f02c4e173676d2b64d4180b1204f5466f35
ms.sourcegitcommit: b750a8e3979749b214e7e10c82efb0a0524dfcb1
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 04/09/2018
---
# <a name="data-parallelism-task-parallel-library"></a><span data-ttu-id="7af44-102">Datový paralelismus (Task Parallel Library)</span><span class="sxs-lookup"><span data-stu-id="7af44-102">Data Parallelism (Task Parallel Library)</span></span>
<span data-ttu-id="7af44-103">*Datový paralelismus* popisuje scénáře, ve kterých stejné operace se provádí současně (paralelně) u elementů ve zdrojové kolekci nebo pole.</span><span class="sxs-lookup"><span data-stu-id="7af44-103">*Data parallelism* refers to scenarios in which the same operation is performed concurrently (that is, in parallel) on elements in a source collection or array.</span></span> <span data-ttu-id="7af44-104">Zdrojové kolekci je v paralelních operací dat, na oddíly tak, aby více vláken může fungovat v různých segmentech současně.</span><span class="sxs-lookup"><span data-stu-id="7af44-104">In data parallel operations, the source collection is partitioned so that multiple threads can operate on different segments concurrently.</span></span>  
  
 <span data-ttu-id="7af44-105">Datový paralelismus prostřednictvím podporuje Task Parallel Library (TPL) <xref:System.Threading.Tasks.Parallel?displayProperty=nameWithType> třídy.</span><span class="sxs-lookup"><span data-stu-id="7af44-105">The Task Parallel Library (TPL) supports data parallelism through the <xref:System.Threading.Tasks.Parallel?displayProperty=nameWithType> class.</span></span> <span data-ttu-id="7af44-106">Tato třída poskytuje na základě metod paralelní implementace [pro](~/docs/csharp/language-reference/keywords/for.md) a [foreach](~/docs/csharp/language-reference/keywords/foreach-in.md) smyčky (`For` a `For Each` v jazyce Visual Basic).</span><span class="sxs-lookup"><span data-stu-id="7af44-106">This class provides method-based parallel implementations of [for](~/docs/csharp/language-reference/keywords/for.md) and [foreach](~/docs/csharp/language-reference/keywords/foreach-in.md) loops (`For` and `For Each` in Visual Basic).</span></span> <span data-ttu-id="7af44-107">Zápis smyčky logiku pro <xref:System.Threading.Tasks.Parallel.For%2A?displayProperty=nameWithType> nebo <xref:System.Threading.Tasks.Parallel.ForEach%2A?displayProperty=nameWithType> obdobný jako sekvenční smyčky.</span><span class="sxs-lookup"><span data-stu-id="7af44-107">You write the loop logic for a <xref:System.Threading.Tasks.Parallel.For%2A?displayProperty=nameWithType> or <xref:System.Threading.Tasks.Parallel.ForEach%2A?displayProperty=nameWithType> loop much as you would write a sequential loop.</span></span> <span data-ttu-id="7af44-108">Nemáte k vytvoření vlákna nebo pracovních položek ve frontě.</span><span class="sxs-lookup"><span data-stu-id="7af44-108">You do not have to create threads or queue work items.</span></span> <span data-ttu-id="7af44-109">V základní smyčky není třeba provádět zámky.</span><span class="sxs-lookup"><span data-stu-id="7af44-109">In basic loops, you do not have to take locks.</span></span> <span data-ttu-id="7af44-110">TPL zpracovává všechny pracovní nízké úrovně pro vás.</span><span class="sxs-lookup"><span data-stu-id="7af44-110">The TPL handles all the low-level work for you.</span></span> <span data-ttu-id="7af44-111">Podrobné informace o použití <xref:System.Threading.Tasks.Parallel.For%2A?displayProperty=nameWithType> a <xref:System.Threading.Tasks.Parallel.ForEach%2A?displayProperty=nameWithType>, stáhněte si dokument [vzory pro paralelní programování: pochopení a použití Parallel Patterns pomocí rozhraní .NET Framework 4](http://www.microsoft.com/download/details.aspx?id=19222).</span><span class="sxs-lookup"><span data-stu-id="7af44-111">For in-depth information about the use of <xref:System.Threading.Tasks.Parallel.For%2A?displayProperty=nameWithType> and <xref:System.Threading.Tasks.Parallel.ForEach%2A?displayProperty=nameWithType>, download the document [Patterns for Parallel Programming: Understanding and Applying Parallel Patterns with the .NET Framework 4](http://www.microsoft.com/download/details.aspx?id=19222).</span></span> <span data-ttu-id="7af44-112">Následující příklad kódu ukazuje jednoduchý `foreach` smyčky a paralelní ekvivalentní.</span><span class="sxs-lookup"><span data-stu-id="7af44-112">The following code example shows a simple `foreach` loop and its parallel equivalent.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="7af44-113">Tato dokumentace používá k definování delegátů v TPL lambda výrazy.</span><span class="sxs-lookup"><span data-stu-id="7af44-113">This documentation uses lambda expressions to define delegates in TPL.</span></span> <span data-ttu-id="7af44-114">Pokud nejste obeznámeni s výrazy lambda v jazyce C# nebo Visual Basic, přečtěte si téma [výrazy Lambda v PLINQ a TPL](../../../docs/standard/parallel-programming/lambda-expressions-in-plinq-and-tpl.md).</span><span class="sxs-lookup"><span data-stu-id="7af44-114">If you are not familiar with lambda expressions in C# or Visual Basic, see [Lambda Expressions in PLINQ and TPL](../../../docs/standard/parallel-programming/lambda-expressions-in-plinq-and-tpl.md).</span></span>  
  
 [!code-csharp[TPL#20](../../../samples/snippets/csharp/VS_Snippets_Misc/tpl/cs/tpl.cs#20)]
 [!code-vb[TPL#20](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpl/vb/tpl_vb.vb#20)]  
  
 <span data-ttu-id="7af44-115">Když je paralelní smyčka spuštěna, oddíly TPL zdroj dat tak, aby smyčky můžete pracovat s více částmi souběžně.</span><span class="sxs-lookup"><span data-stu-id="7af44-115">When a parallel loop runs, the TPL partitions the data source so that the loop can operate on multiple parts concurrently.</span></span> <span data-ttu-id="7af44-116">Plánovač úloh na pozadí oddíly úkolů na základě systémové prostředky a zatížení.</span><span class="sxs-lookup"><span data-stu-id="7af44-116">Behind the scenes, the Task Scheduler partitions the task based on system resources and workload.</span></span> <span data-ttu-id="7af44-117">Pokud je to možné, Plánovač úloh přestane být nevyváženou znovu distribuuje pracovní mezi více vláken a procesory.</span><span class="sxs-lookup"><span data-stu-id="7af44-117">When possible, the scheduler redistributes work among multiple threads and processors if the workload becomes unbalanced.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="7af44-118">Můžete také zadat vlastní vlastní dělicí metody nebo plánovače.</span><span class="sxs-lookup"><span data-stu-id="7af44-118">You can also supply your own custom partitioner or scheduler.</span></span> <span data-ttu-id="7af44-119">Další informace najdete v tématu [vlastní dělicí metody pro PLINQ a TPL](../../../docs/standard/parallel-programming/custom-partitioners-for-plinq-and-tpl.md) a [plánovače úloh](http://msdn.microsoft.com/library/638f8ea5-21db-47a2-a934-86e1e961bf65).</span><span class="sxs-lookup"><span data-stu-id="7af44-119">For more information, see [Custom Partitioners for PLINQ and TPL](../../../docs/standard/parallel-programming/custom-partitioners-for-plinq-and-tpl.md) and [Task Schedulers](http://msdn.microsoft.com/library/638f8ea5-21db-47a2-a934-86e1e961bf65).</span></span>  
  
 <span data-ttu-id="7af44-120">Jak <xref:System.Threading.Tasks.Parallel.For%2A?displayProperty=nameWithType> a <xref:System.Threading.Tasks.Parallel.ForEach%2A?displayProperty=nameWithType> metody mají několik přetížení, která umožňují můžete zastavit nebo přerušení provádění smyčky, sledovat stav smyčky na jiná vlákna, udržovat místní stav, finalizovat místní objekty, řídit stupeň souběžnosti, a tak dále.</span><span class="sxs-lookup"><span data-stu-id="7af44-120">Both the <xref:System.Threading.Tasks.Parallel.For%2A?displayProperty=nameWithType> and <xref:System.Threading.Tasks.Parallel.ForEach%2A?displayProperty=nameWithType> methods have several overloads that let you stop or break loop execution, monitor the state of the loop on other threads, maintain thread-local state, finalize thread-local objects, control the degree of concurrency, and so on.</span></span> <span data-ttu-id="7af44-121">Typy pomocné rutiny, které tuto funkci povolit, zahrnují <xref:System.Threading.Tasks.ParallelLoopState>, <xref:System.Threading.Tasks.ParallelOptions>, <xref:System.Threading.Tasks.ParallelLoopResult>, <xref:System.Threading.CancellationToken>, a <xref:System.Threading.CancellationTokenSource>.</span><span class="sxs-lookup"><span data-stu-id="7af44-121">The helper types that enable this functionality include <xref:System.Threading.Tasks.ParallelLoopState>, <xref:System.Threading.Tasks.ParallelOptions>, <xref:System.Threading.Tasks.ParallelLoopResult>, <xref:System.Threading.CancellationToken>, and <xref:System.Threading.CancellationTokenSource>.</span></span>  
  
 <span data-ttu-id="7af44-122">Další informace najdete v tématu [vzory pro paralelní programování: pochopení a použití Parallel Patterns pomocí rozhraní .NET Framework 4](https://www.microsoft.com/download/details.aspx?id=19222).</span><span class="sxs-lookup"><span data-stu-id="7af44-122">For more information, see [Patterns for Parallel Programming: Understanding and Applying Parallel Patterns with the .NET Framework 4](https://www.microsoft.com/download/details.aspx?id=19222).</span></span>  
  
 <span data-ttu-id="7af44-123">Datový paralelismus s deklarativní nebo dotazu jako syntaxe je podporován PLINQ.</span><span class="sxs-lookup"><span data-stu-id="7af44-123">Data parallelism with declarative, or query-like, syntax is supported by PLINQ.</span></span> <span data-ttu-id="7af44-124">Další informace najdete v tématu [paralelní LINQ (PLINQ)](../../../docs/standard/parallel-programming/parallel-linq-plinq.md).</span><span class="sxs-lookup"><span data-stu-id="7af44-124">For more information, see [Parallel LINQ (PLINQ)](../../../docs/standard/parallel-programming/parallel-linq-plinq.md).</span></span>  
  
## <a name="related-topics"></a><span data-ttu-id="7af44-125">Související témata</span><span class="sxs-lookup"><span data-stu-id="7af44-125">Related Topics</span></span>  
  
|<span data-ttu-id="7af44-126">Název</span><span class="sxs-lookup"><span data-stu-id="7af44-126">Title</span></span>|<span data-ttu-id="7af44-127">Popis</span><span class="sxs-lookup"><span data-stu-id="7af44-127">Description</span></span>|  
|-----------|-----------------|  
|[<span data-ttu-id="7af44-128">Postupy: Zápis jednoduché smyčky Parallel.For</span><span class="sxs-lookup"><span data-stu-id="7af44-128">How to: Write a Simple Parallel.For Loop</span></span>](../../../docs/standard/parallel-programming/how-to-write-a-simple-parallel-for-loop.md)|<span data-ttu-id="7af44-129">Popisuje, jak napsat <xref:System.Threading.Tasks.Parallel.For%2A> smyčky přes žádné pole nebo indexovanou <xref:System.Collections.Generic.IEnumerable%601> zdroje kolekce.</span><span class="sxs-lookup"><span data-stu-id="7af44-129">Describes how to write a <xref:System.Threading.Tasks.Parallel.For%2A> loop over any array or indexable <xref:System.Collections.Generic.IEnumerable%601> source collection.</span></span>|  
|[<span data-ttu-id="7af44-130">Postupy: Zápis jednoduché smyčky Parallel.ForEach</span><span class="sxs-lookup"><span data-stu-id="7af44-130">How to: Write a Simple Parallel.ForEach Loop</span></span>](../../../docs/standard/parallel-programming/how-to-write-a-simple-parallel-foreach-loop.md)|<span data-ttu-id="7af44-131">Popisuje, jak napsat <xref:System.Threading.Tasks.Parallel.ForEach%2A> žádné opakovací smyčku <xref:System.Collections.Generic.IEnumerable%601> zdroje kolekce.</span><span class="sxs-lookup"><span data-stu-id="7af44-131">Describes how to write a <xref:System.Threading.Tasks.Parallel.ForEach%2A> loop over any <xref:System.Collections.Generic.IEnumerable%601> source collection.</span></span>|  
|[<span data-ttu-id="7af44-132">Postupy: zastavení nebo přerušení smyčky Parallel.For</span><span class="sxs-lookup"><span data-stu-id="7af44-132">How to: Stop or Break from a Parallel.For Loop</span></span>](http://msdn.microsoft.com/library/de52e4f1-9346-4ad5-b582-1a4d54dc7f7e)|<span data-ttu-id="7af44-133">Popisuje, jak pro zastavení nebo přerušení paralelní smyčky tak, aby všechna vlákna informovány o akci.</span><span class="sxs-lookup"><span data-stu-id="7af44-133">Describes how to stop or break from a parallel loop so that all threads are informed of the action.</span></span>|  
|[<span data-ttu-id="7af44-134">Postupy: Zápis smyčky Parallel.For pomocí proměnných v místním vláknu</span><span class="sxs-lookup"><span data-stu-id="7af44-134">How to: Write a Parallel.For Loop with Thread-Local Variables</span></span>](../../../docs/standard/parallel-programming/how-to-write-a-parallel-for-loop-with-thread-local-variables.md)|<span data-ttu-id="7af44-135">Popisuje, jak napsat <xref:System.Threading.Tasks.Parallel.For%2A> smyčky, ve kterém každé vlákno udržuje soukromé proměnné, která není viditelná pro žádné další podprocesy a jak synchronizovat výsledky ze všech vláken po dokončení smyčky.</span><span class="sxs-lookup"><span data-stu-id="7af44-135">Describes how to write a <xref:System.Threading.Tasks.Parallel.For%2A> loop in which each thread maintains a private variable that is not visible to any other threads, and how to synchronize the results from all threads when the loop completes.</span></span>|  
|[<span data-ttu-id="7af44-136">Postupy: Zápis smyčky Parallel.ForEach pomocí proměnných v místním vláknu</span><span class="sxs-lookup"><span data-stu-id="7af44-136">How to: Write a Parallel.ForEach Loop with Thread-Local Variables</span></span>](../../../docs/standard/parallel-programming/how-to-write-a-parallel-foreach-loop-with-thread-local-variables.md)|<span data-ttu-id="7af44-137">Popisuje, jak napsat <xref:System.Threading.Tasks.Parallel.ForEach%2A> smyčky, ve kterém každé vlákno udržuje soukromé proměnné, která není viditelná pro žádné další podprocesy a jak synchronizovat výsledky ze všech vláken po dokončení smyčky.</span><span class="sxs-lookup"><span data-stu-id="7af44-137">Describes how to write a <xref:System.Threading.Tasks.Parallel.ForEach%2A> loop in which each thread maintains a private variable that is not visible to any other threads, and how to synchronize the results from all threads when the loop completes.</span></span>|  
|[<span data-ttu-id="7af44-138">Postupy: Zrušení smyčky Parallel.For nebo ForEach</span><span class="sxs-lookup"><span data-stu-id="7af44-138">How to: Cancel a Parallel.For or ForEach Loop</span></span>](../../../docs/standard/parallel-programming/how-to-cancel-a-parallel-for-or-foreach-loop.md)|<span data-ttu-id="7af44-139">Popisuje, jak zrušit paralelní smyčky pomocí <xref:System.Threading.CancellationToken?displayProperty=nameWithType></span><span class="sxs-lookup"><span data-stu-id="7af44-139">Describes how to cancel a parallel loop by using a <xref:System.Threading.CancellationToken?displayProperty=nameWithType></span></span>|  
|[<span data-ttu-id="7af44-140">Postupy: Zrychlení malých smyček</span><span class="sxs-lookup"><span data-stu-id="7af44-140">How to: Speed Up Small Loop Bodies</span></span>](../../../docs/standard/parallel-programming/how-to-speed-up-small-loop-bodies.md)|<span data-ttu-id="7af44-141">Popisuje jeden způsob, jak urychlit spuštění těla smyčky jsou velmi malé.</span><span class="sxs-lookup"><span data-stu-id="7af44-141">Describes one way to speed up execution when a loop body is very small.</span></span>|  
|[<span data-ttu-id="7af44-142">Task Parallel Library (TPL)</span><span class="sxs-lookup"><span data-stu-id="7af44-142">Task Parallel Library (TPL)</span></span>](../../../docs/standard/parallel-programming/task-parallel-library-tpl.md)|<span data-ttu-id="7af44-143">Poskytuje přehled Task Parallel Library.</span><span class="sxs-lookup"><span data-stu-id="7af44-143">Provides an overview of the Task Parallel Library.</span></span>|  
|[<span data-ttu-id="7af44-144">Paralelní programování</span><span class="sxs-lookup"><span data-stu-id="7af44-144">Parallel Programming</span></span>](../../../docs/standard/parallel-programming/index.md)|<span data-ttu-id="7af44-145">Představuje paralelní programování v rozhraní .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="7af44-145">Introduces Parallel Programming in the .NET Framework.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="7af44-146">Viz také</span><span class="sxs-lookup"><span data-stu-id="7af44-146">See Also</span></span>  
 [<span data-ttu-id="7af44-147">Paralelní programování</span><span class="sxs-lookup"><span data-stu-id="7af44-147">Parallel Programming</span></span>](../../../docs/standard/parallel-programming/index.md)
