---
title: Aplikace založené na aplikační architektura založená na kontejnerech a Mikroslužbách
description: Architektura Mikroslužeb .NET pro Kontejnerizované aplikace .NET | Aplikace založené na aplikační architektura založená na kontejnerech a Mikroslužbách
author: CESARDELATORRE
ms.author: wiwagn
ms.date: 05/26/2017
ms.openlocfilehash: f7933cc25a5fde13113d0c9c278e9bd1730d4f9d
ms.sourcegitcommit: 69229651598b427c550223d3c58aba82e47b3f82
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/04/2018
ms.locfileid: "48780710"
---
# <a name="architecting-container--and-microservice-based-applications"></a><span data-ttu-id="fc158-103">Navrhování aplikací založené na kontejnerech a Mikroslužbách</span><span class="sxs-lookup"><span data-stu-id="fc158-103">Architecting Container- and Microservice-Based Applications</span></span>

<span data-ttu-id="fc158-104">*Mikroslužby nabízí skvělé výhody, ale také přinášejí velké výzvy nové. Vzory architektury Mikroslužeb jsou základní pilíře při vytváření aplikací založených na mikroslužbách.*</span><span class="sxs-lookup"><span data-stu-id="fc158-104">*Microservices offer great benefits but also raise huge new challenges. Microservice architecture patterns are fundamental pillars when creating a microservice-based application.*</span></span>

<span data-ttu-id="fc158-105">Dříve v tomto průvodci jste zjistili, základnímu konceptu kontejnery a Docker.</span><span class="sxs-lookup"><span data-stu-id="fc158-105">Earlier in this guide, you learned basic concepts about containers and Docker.</span></span> <span data-ttu-id="fc158-106">To bylo minimum informací, které potřebujete, abyste mohli začít pracovat s kontejnery.</span><span class="sxs-lookup"><span data-stu-id="fc158-106">That was the minimum information you need in order to get started with containers.</span></span> <span data-ttu-id="fc158-107">I když i v případě, že kontejnery jsou předpokladů a skvěle hodí pro mikroslužby, nejsou povinné pro architekturu mikroslužeb a mnoho konceptů architektury v této části architektury můžete uplatnit bez kontejnery, příliš.</span><span class="sxs-lookup"><span data-stu-id="fc158-107">Although, even when containers are enablers and a great fit for microservices, they are not mandatory for a microservice architecture and many architectural concepts in this architecture section could be applied without containers, too.</span></span> <span data-ttu-id="fc158-108">Tyto pokyny ale se zaměřuje na průnik obou z důvodu již zavedení důležitost kontejnery.</span><span class="sxs-lookup"><span data-stu-id="fc158-108">However, this guidance focuses on the intersection of both due to the already introduced importance of containers.</span></span>

<span data-ttu-id="fc158-109">Podnikové aplikace může být složité a často se skládají z několika služeb namísto jedné aplikace založené na službách.</span><span class="sxs-lookup"><span data-stu-id="fc158-109">Enterprise applications can be complex and are often composed of multiple services instead of a single service-based application.</span></span> <span data-ttu-id="fc158-110">Pro případy musíte pochopit další architektonických přístupech, jako jsou mikroslužby a určité vzory návrhu Domain-Driven (DDD) a koncepty Orchestrace kontejnerů.</span><span class="sxs-lookup"><span data-stu-id="fc158-110">For those cases, you need to understand additional architectural approaches, such as the microservices and certain Domain-Driven Design (DDD) patterns plus container orchestration concepts.</span></span> <span data-ttu-id="fc158-111">Všimněte si, že tato kapitola popisuje na kontejnery, ale žádné kontejnerizované aplikace, a ne jenom mikroslužeb.</span><span class="sxs-lookup"><span data-stu-id="fc158-111">Note that this chapter describes not just microservices on containers, but any containerized application, as well.</span></span>

## <a name="container-design-principles"></a><span data-ttu-id="fc158-112">Zásady návrhu kontejneru</span><span class="sxs-lookup"><span data-stu-id="fc158-112">Container design principles</span></span>

<span data-ttu-id="fc158-113">V modelu container instance image kontejneru představuje jeden proces.</span><span class="sxs-lookup"><span data-stu-id="fc158-113">In the container model, a container image instance represents a single process.</span></span> <span data-ttu-id="fc158-114">Definuje image kontejneru jako hranice procesu, můžete vytvořit primitivních elementů, které je možné škálovat procesu nebo ho dávce.</span><span class="sxs-lookup"><span data-stu-id="fc158-114">By defining a container image as a process boundary, you can create primitives that can be used to scale the process or to batch it.</span></span>

<span data-ttu-id="fc158-115">Při návrhu image kontejneru, zobrazí se [ENTRYPOINT](https://docs.docker.com/engine/reference/builder/) definice v souboru Dockerfile.</span><span class="sxs-lookup"><span data-stu-id="fc158-115">When you design a container image, you will see an [ENTRYPOINT](https://docs.docker.com/engine/reference/builder/) definition in the Dockerfile.</span></span> <span data-ttu-id="fc158-116">Definuje proces, jehož doba života řídí životnost kontejneru.</span><span class="sxs-lookup"><span data-stu-id="fc158-116">This defines the process whose lifetime controls the lifetime of the container.</span></span> <span data-ttu-id="fc158-117">Po dokončení procesu kontejneru životní cyklus se ukončí.</span><span class="sxs-lookup"><span data-stu-id="fc158-117">When the process completes, the container lifecycle ends.</span></span> <span data-ttu-id="fc158-118">Kontejnery může představovat dlouho běžící procesy, jako jsou webové servery, ale můžete také představují krátkodobou procesy, jako jsou dávkové úlohy, které dříve může u je implementovaná jako Azure [WebJobs](https://docs.microsoft.com/azure/app-service-web/websites-webjobs-resources).</span><span class="sxs-lookup"><span data-stu-id="fc158-118">Containers might represent long-running processes like web servers, but can also represent short-lived processes like batch jobs, which formerly might have been implemented as Azure [WebJobs](https://docs.microsoft.com/azure/app-service-web/websites-webjobs-resources).</span></span>

<span data-ttu-id="fc158-119">Pokud proces selže, konce kontejneru a orchestrátor převezme.</span><span class="sxs-lookup"><span data-stu-id="fc158-119">If the process fails, the container ends, and the orchestrator takes over.</span></span> <span data-ttu-id="fc158-120">Pokud byl orchestrátoru konfiguraci, která uchovává spuštěných 5 instancí a jeden server selže, vytvoří orchestrátoru jiná instance kontejneru nahradit procesu, který selhal.</span><span class="sxs-lookup"><span data-stu-id="fc158-120">If the orchestrator was configured to keep five instances running and one fails, the orchestrator will create another container instance to replace the failed process.</span></span> <span data-ttu-id="fc158-121">V rámci úlohy služby batch je proces spuštěn s parametry.</span><span class="sxs-lookup"><span data-stu-id="fc158-121">In a batch job, the process is started with parameters.</span></span> <span data-ttu-id="fc158-122">Po dokončení procesu je práce dokončena.</span><span class="sxs-lookup"><span data-stu-id="fc158-122">When the process completes, the work is complete.</span></span> <span data-ttu-id="fc158-123">Tento návod na zvolené orchestrátory dolů cvičení později.</span><span class="sxs-lookup"><span data-stu-id="fc158-123">This guidance drills-down on orchestrators, later on.</span></span>

<span data-ttu-id="fc158-124">Může pro vás scénář, kde má více procesů spuštěných ve jedním kontejnerem.</span><span class="sxs-lookup"><span data-stu-id="fc158-124">You might find a scenario where you want multiple processes running in a single container.</span></span> <span data-ttu-id="fc158-125">Pro tento scénář protože může existovat pouze jeden vstupní bod na kontejner, může spustit skript v rámci kontejneru, který spouští tolik programy podle potřeby.</span><span class="sxs-lookup"><span data-stu-id="fc158-125">For that scenario, since there can be only one entry point per container, you could run a script within the container that launches as many programs as needed.</span></span> <span data-ttu-id="fc158-126">Například můžete použít [Supervisor](http://supervisord.org/) nebo něco podobného postará o spuštění více procesů v rámci jednoho kontejneru.</span><span class="sxs-lookup"><span data-stu-id="fc158-126">For example, you can use [Supervisor](http://supervisord.org/) or a similar tool to take care of launching multiple processes inside a single container.</span></span> <span data-ttu-id="fc158-127">Ale i v případě, že můžete najít architektury, které obsahují více procesů na kontejner, tento přístup není zcela běžný.</span><span class="sxs-lookup"><span data-stu-id="fc158-127">However, even though you can find architectures that hold multiple processes per container, that approach is not very common.</span></span>


>[!div class="step-by-step"]
<span data-ttu-id="fc158-128">[Předchozí](../net-core-net-framework-containers/official-net-docker-images.md)
[další](containerize-monolithic-applications.md)</span><span class="sxs-lookup"><span data-stu-id="fc158-128">[Previous](../net-core-net-framework-containers/official-net-docker-images.md)
[Next](containerize-monolithic-applications.md)</span></span>
