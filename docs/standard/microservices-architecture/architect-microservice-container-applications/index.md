---
title: Aplikace založené na architektury Mikroslužby a kontejneru
description: Architektura Mikroslužeb .NET pro aplikace .NET Kontejnerizované | Aplikace založené na architektury Mikroslužby a kontejneru
keywords: Docker, Mikroslužeb, ASP.NET, kontejneru
author: CESARDELATORRE
ms.author: wiwagn
ms.date: 05/26/2017
ms.prod: .net-core
ms.technology: dotnet-docker
ms.topic: article
ms.workload:
- dotnet
- dotnetcore
ms.openlocfilehash: 9b3088d93ead589c0b295bc3d2807fc98ee8ea75
ms.sourcegitcommit: e7f04439d78909229506b56935a1105a4149ff3d
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 12/23/2017
---
# <a name="architecting-container--and-microservice-based-applications"></a><span data-ttu-id="4305d-104">Architektury aplikace založená na kontejner a Mikroslužbu</span><span class="sxs-lookup"><span data-stu-id="4305d-104">Architecting Container- and Microservice-Based Applications</span></span>

<span data-ttu-id="4305d-105">*Mikroslužeb nabízí skvělý výhody, ale zároveň vyvolává obrovské další výzvy. Vzory architektury Mikroslužby jsou základní pilíře při vytváření aplikace na základě mikroslužby.*</span><span class="sxs-lookup"><span data-stu-id="4305d-105">*Microservices offer great benefits but also raise huge new challenges. Microservice architecture patterns are fundamental pillars when creating a microservice-based application.*</span></span>

<span data-ttu-id="4305d-106">Dříve v tomto průvodci jste se dozvěděli o kontejnery a Docker základní koncepty.</span><span class="sxs-lookup"><span data-stu-id="4305d-106">Earlier in this guide, you learned basic concepts about containers and Docker.</span></span> <span data-ttu-id="4305d-107">Minimální informace, které potřebujete, aby bylo možné začít pracovat s kontejnery, který byl.</span><span class="sxs-lookup"><span data-stu-id="4305d-107">That was the minimum information you need in order to get started with containers.</span></span> <span data-ttu-id="4305d-108">I když i v případě, že kontejnery jsou předpokladů a skvělé přizpůsobit pro mikroslužeb, nejsou povinné architektury mikroslužby a mnohé koncepty architektury v této části architektura může být použit bez kontejnery, příliš.</span><span class="sxs-lookup"><span data-stu-id="4305d-108">Although, even when containers are enablers and a great fit for microservices, they are not mandatory for a microservice architecture and many architectural concepts in this architecture section could be applied without containers, too.</span></span> <span data-ttu-id="4305d-109">V tomto návodu se však zaměřuje na průnik i z důvodu již přináší význam kontejnery.</span><span class="sxs-lookup"><span data-stu-id="4305d-109">However, this guidance focuses on the intersection of both due to the already introduced importance of containers.</span></span>

<span data-ttu-id="4305d-110">Podnikové aplikace, které může být složité a často skládat z několika služeb místo jedné aplikace založené na službě.</span><span class="sxs-lookup"><span data-stu-id="4305d-110">Enterprise applications can be complex and are often composed of multiple services instead of a single service-based application.</span></span> <span data-ttu-id="4305d-111">Pro případy musíte pochopit další architektury postupy, jako například mikroslužeb a určité vzory návrhu Domain-Driven (DDD) a koncepty orchestration kontejneru.</span><span class="sxs-lookup"><span data-stu-id="4305d-111">For those cases, you need to understand additional architectural approaches, such as the microservices and certain Domain-Driven Design (DDD) patterns plus container orchestration concepts.</span></span> <span data-ttu-id="4305d-112">Všimněte si, že tato kapitola popisuje nejenom mikroslužeb na kontejnery, ale všechny kontejnerizované aplikace, také.</span><span class="sxs-lookup"><span data-stu-id="4305d-112">Note that this chapter describes not just microservices on containers, but any containerized application, as well.</span></span>

## <a name="container-design-principles"></a><span data-ttu-id="4305d-113">Principy návrhu kontejneru</span><span class="sxs-lookup"><span data-stu-id="4305d-113">Container design principles</span></span>

<span data-ttu-id="4305d-114">V kontejneru modelu do kontejneru image instance představuje jeden proces.</span><span class="sxs-lookup"><span data-stu-id="4305d-114">In the container model, a container image instance represents a single process.</span></span> <span data-ttu-id="4305d-115">Definováním bitovou kopii kontejneru jako hranice procesu můžete vytvořit základní prvky, které lze použít škálovat proces nebo ho dávky.</span><span class="sxs-lookup"><span data-stu-id="4305d-115">By defining a container image as a process boundary, you can create primitives that can be used to scale the process or to batch it.</span></span>

<span data-ttu-id="4305d-116">Při návrhu bitovou kopii kontejner se zobrazí [ENTRYPOINT](https://docs.docker.com/engine/reference/builder/) definice v soubor Docker.</span><span class="sxs-lookup"><span data-stu-id="4305d-116">When you design a container image, you will see an [ENTRYPOINT](https://docs.docker.com/engine/reference/builder/) definition in the Dockerfile.</span></span> <span data-ttu-id="4305d-117">Definuje proces, jejichž doba platnosti řídí životnost kontejneru.</span><span class="sxs-lookup"><span data-stu-id="4305d-117">This defines the process whose lifetime controls the lifetime of the container.</span></span> <span data-ttu-id="4305d-118">Po dokončení procesu životního cyklu kontejneru se ukončí.</span><span class="sxs-lookup"><span data-stu-id="4305d-118">When the process completes, the container lifecycle ends.</span></span> <span data-ttu-id="4305d-119">Kontejnery může představovat dlouho běžící procesy, jako jsou webové servery, ale můžete také představují krátkodobou procesy, jako dávkové úlohy, které dříve může mít implementována jako Azure [WebJobs](https://docs.microsoft.com/azure/app-service-web/websites-webjobs-resources).</span><span class="sxs-lookup"><span data-stu-id="4305d-119">Containers might represent long-running processes like web servers, but can also represent short-lived processes like batch jobs, which formerly might have been implemented as Azure [WebJobs](https://docs.microsoft.com/azure/app-service-web/websites-webjobs-resources).</span></span>

<span data-ttu-id="4305d-120">Pokud proces selže, elementy end kontejneru a orchestrator má.</span><span class="sxs-lookup"><span data-stu-id="4305d-120">If the process fails, the container ends, and the orchestrator takes over.</span></span> <span data-ttu-id="4305d-121">Pokud chcete zachovat pět instancí spuštěných byla nakonfigurována orchestrator a jeden server selže, vytvoří orchestrator jiná instance kontejneru nahradit selhal proces.</span><span class="sxs-lookup"><span data-stu-id="4305d-121">If the orchestrator was configured to keep five instances running and one fails, the orchestrator will create another container instance to replace the failed process.</span></span> <span data-ttu-id="4305d-122">V rámci úlohy batch je proces spuštěn s parametry.</span><span class="sxs-lookup"><span data-stu-id="4305d-122">In a batch job, the process is started with parameters.</span></span> <span data-ttu-id="4305d-123">Po dokončení procesu, práce je dokončena.</span><span class="sxs-lookup"><span data-stu-id="4305d-123">When the process completes, the work is complete.</span></span> <span data-ttu-id="4305d-124">V tomto návodu projde dolů na orchestrators, později.</span><span class="sxs-lookup"><span data-stu-id="4305d-124">This guidance drills-down on orchestrators, later on.</span></span>

<span data-ttu-id="4305d-125">Můžete se setkat scénář, kde se má více procesů spuštěných ve jediný kontejner.</span><span class="sxs-lookup"><span data-stu-id="4305d-125">You might find a scenario where you want multiple processes running in a single container.</span></span> <span data-ttu-id="4305d-126">Pro tento scénář protože může existovat pouze jedna položka bod na kontejner, může spustit skript v rámci kontejneru, který spustí tolik programy podle potřeby.</span><span class="sxs-lookup"><span data-stu-id="4305d-126">For that scenario, since there can be only one entry point per container, you could run a script within the container that launches as many programs as needed.</span></span> <span data-ttu-id="4305d-127">Například můžete použít [nadřízeného](http://supervisord.org/) nebo podobné nástroj, který se postará o spuštění více procesů uvnitř jediný kontejner.</span><span class="sxs-lookup"><span data-stu-id="4305d-127">For example, you can use [Supervisor](http://supervisord.org/) or a similar tool to take care of launching multiple processes inside a single container.</span></span> <span data-ttu-id="4305d-128">Nicméně i když můžete najít architektury, které mají více procesů na kontejner, tento přístup není velmi běžné.</span><span class="sxs-lookup"><span data-stu-id="4305d-128">However, even though you can find architectures that hold multiple processes per container, that approach it is not very common.</span></span>


>[!div class="step-by-step"]
<span data-ttu-id="4305d-129">[Předchozí] (../net-core-net-framework-containers/official-net-docker-images.md) [Další] (containerize-monolithic-applications.md)</span><span class="sxs-lookup"><span data-stu-id="4305d-129">[Previous] (../net-core-net-framework-containers/official-net-docker-images.md) [Next] (containerize-monolithic-applications.md)</span></span>
