---
title: "Migrace z DNX na .NET Core rozhraní příkazového řádku"
description: "Migrujte pomocí nástrojů pro .NET Core rozhraní příkazového řádku nástroje DNX."
keywords: "Rozhraní .NET, .NET core"
author: blackdwarf
ms.author: mairaw
ms.date: 06/20/2016
ms.topic: article
ms.prod: .net-core
ms.devlang: dotnet
ms.assetid: c0d70120-78c8-4d26-bb3c-801f42fc2366
ms.openlocfilehash: 1e2ab018fc690b31b59a04bf8c0c0990225c293b
ms.sourcegitcommit: bd1ef61f4bb794b25383d3d72e71041a5ced172e
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/18/2017
---
# <a name="migrating-from-dnx-to-net-core-cli-projectjson"></a><span data-ttu-id="b792a-104">Migrace z DNX na .NET Core rozhraní příkazového řádku (project.json)</span><span class="sxs-lookup"><span data-stu-id="b792a-104">Migrating from DNX to .NET Core CLI (project.json)</span></span>

## <a name="overview"></a><span data-ttu-id="b792a-105">Přehled</span><span class="sxs-lookup"><span data-stu-id="b792a-105">Overview</span></span>
<span data-ttu-id="b792a-106">RC1 systému .NET Core a ASP.NET Core 1.0 zavedl DNX nástrojů.</span><span class="sxs-lookup"><span data-stu-id="b792a-106">The RC1 release of .NET Core and ASP.NET Core 1.0 introduced DNX tooling.</span></span> <span data-ttu-id="b792a-107">RC2 verzi .NET Core a ASP.NET Core 1.0 se přesune ze DNX rozhraní příkazového řádku .NET Core.</span><span class="sxs-lookup"><span data-stu-id="b792a-107">The RC2 release of .NET Core and ASP.NET Core 1.0 moved from DNX to the .NET Core CLI.</span></span>

<span data-ttu-id="b792a-108">Jako mírné aktualizačního programu můžeme recap, co byl DNX o.</span><span class="sxs-lookup"><span data-stu-id="b792a-108">As a slight refresher, let's recap what DNX was about.</span></span> <span data-ttu-id="b792a-109">DNX byla modulu runtime a nástrojů, použít k sestavení .NET Core a, přesněji řečeno, aplikace ASP.NET Core 1.0.</span><span class="sxs-lookup"><span data-stu-id="b792a-109">DNX was a runtime and a toolset used to build .NET Core and, more specifically, ASP.NET Core 1.0 applications.</span></span> <span data-ttu-id="b792a-110">Se skládal z 3 hlavní části:</span><span class="sxs-lookup"><span data-stu-id="b792a-110">It consisted of 3 main pieces:</span></span>

1. <span data-ttu-id="b792a-111">DNVM - instalační skript pro získání DNX</span><span class="sxs-lookup"><span data-stu-id="b792a-111">DNVM - an install script for obtaining DNX</span></span>
2. <span data-ttu-id="b792a-112">DNX (Dotnet provádění Runtime) – modul runtime, který provede kódu</span><span class="sxs-lookup"><span data-stu-id="b792a-112">DNX (Dotnet Execution Runtime) - the runtime that executes your code</span></span>
3. <span data-ttu-id="b792a-113">DNŮ (Dotnet vývojáře nástroj) - nástrojů pro správu závislosti, vytváření a publikování aplikací</span><span class="sxs-lookup"><span data-stu-id="b792a-113">DNU (Dotnet Developer Utility) - tooling for managing dependencies, building and publishing your applications</span></span>

<span data-ttu-id="b792a-114">Se zavedením rozhraní příkazového řádku jsou všechny výše uvedené teď součástí jedné sady nástrojů.</span><span class="sxs-lookup"><span data-stu-id="b792a-114">With the introduction of the CLI, all of the above are now part of a single toolset.</span></span> <span data-ttu-id="b792a-115">Ale protože DNX byla k dispozici v RC1 časový rámec, můžete mít projekty, které byly vytvořeny pomocí jeho, kterou chcete přesunout do nových nástrojů rozhraní příkazového řádku.</span><span class="sxs-lookup"><span data-stu-id="b792a-115">However, since DNX was available in RC1 timeframe, you might have projects that were built using it that you would want to move off to the new CLI tooling.</span></span> 

<span data-ttu-id="b792a-116">Tato příručka k migraci se bude zabývat essentials o tom, jak migrovat projekty z DNX a na .NET Core rozhraní příkazového řádku.</span><span class="sxs-lookup"><span data-stu-id="b792a-116">This migration guide will cover the essentials on how to migrate projects off of DNX and onto .NET Core CLI.</span></span> <span data-ttu-id="b792a-117">Pokud právě začínáte projektu na .NET Core od začátku, můžete přeskočit volně tohoto dokumentu.</span><span class="sxs-lookup"><span data-stu-id="b792a-117">If you are just starting a project on .NET Core from scratch, you can freely skip this document.</span></span> 

## <a name="main-changes-in-the-tooling"></a><span data-ttu-id="b792a-118">Hlavní změny v nástroji</span><span class="sxs-lookup"><span data-stu-id="b792a-118">Main changes in the tooling</span></span>
<span data-ttu-id="b792a-119">V nástroji, který by měl být uvedených nejprve jsou některé obecné změny.</span><span class="sxs-lookup"><span data-stu-id="b792a-119">There are some general changes in the tooling that should be outlined first.</span></span> 

### <a name="no-more-dnvm"></a><span data-ttu-id="b792a-120">Žádné další DNVM</span><span class="sxs-lookup"><span data-stu-id="b792a-120">No more DNVM</span></span>
<span data-ttu-id="b792a-121">DNVM zkratka pro *správce verzí DotNet* byl skriptu prostředí bash/PowerShell použít k instalaci DNX na váš počítač.</span><span class="sxs-lookup"><span data-stu-id="b792a-121">DNVM, short for *DotNet Version Manager* was a bash/PowerShell script used to install a DNX on your machine.</span></span> <span data-ttu-id="b792a-122">Ho pomohl uživatelům získat DNX, které potřebují ze kanál, který zadal (nebo výchozí hodnoty), a také označit určité DNX "aktivní", který by umístí jej $PATH pro dané relace.</span><span class="sxs-lookup"><span data-stu-id="b792a-122">It helped users get the DNX they need from the feed they specified (or default ones) as well as mark a certain DNX "active", which would put it on the $PATH for the given session.</span></span> <span data-ttu-id="b792a-123">To by umožnilo pomocí různých nástrojů.</span><span class="sxs-lookup"><span data-stu-id="b792a-123">This would allow you to use the various tools.</span></span>

<span data-ttu-id="b792a-124">DNVM byla přerušena, protože byla provedena redundantní změny brzo nástroje .NET Core rozhraní příkazového řádku se sadou funkcí.</span><span class="sxs-lookup"><span data-stu-id="b792a-124">DNVM was discontinued because its feature set was made redundant by changes coming in the .NET Core CLI tools.</span></span>

<span data-ttu-id="b792a-125">Nástroje příkazového řádku pocházet zabalené dvěma hlavními způsoby:</span><span class="sxs-lookup"><span data-stu-id="b792a-125">The CLI tools come packaged in two main ways:</span></span>

1. <span data-ttu-id="b792a-126">Nativní instalačních programů pro danou platformu</span><span class="sxs-lookup"><span data-stu-id="b792a-126">Native installers for a given platform</span></span>
2. <span data-ttu-id="b792a-127">Instalace skriptu jiných situacích (třeba servery položek konfigurace)</span><span class="sxs-lookup"><span data-stu-id="b792a-127">Install script for other situations (like CI servers)</span></span>

<span data-ttu-id="b792a-128">Zadána tato funkce DNVM install nejsou potřeba.</span><span class="sxs-lookup"><span data-stu-id="b792a-128">Given this, the DNVM install features are not needed.</span></span> <span data-ttu-id="b792a-129">Ale co o výběr funkcím runtime?</span><span class="sxs-lookup"><span data-stu-id="b792a-129">But what about the runtime selection features?</span></span> 

<span data-ttu-id="b792a-130">Odkaz modul runtime v vaší `project.json` přidáním určité verze balíčku do vaší závislosti.</span><span class="sxs-lookup"><span data-stu-id="b792a-130">You reference a runtime in your `project.json` by adding a package of a certain version to your dependencies.</span></span> <span data-ttu-id="b792a-131">Díky této změně aplikace budou moci používat nový modul runtime bits.</span><span class="sxs-lookup"><span data-stu-id="b792a-131">With this change, your application will be able to use the new runtime bits.</span></span> <span data-ttu-id="b792a-132">Získání těchto bits do počítače, je stejné jako u rozhraní příkazového řádku: instalaci modulu runtime využít jeden z nativní instalační programy podporuje nebo jeho instalační skript.</span><span class="sxs-lookup"><span data-stu-id="b792a-132">Getting these bits to your machine is the same as with the CLI: you install the runtime via one of the native installers it supports or via its install script.</span></span> 

### <a name="different-commands"></a><span data-ttu-id="b792a-133">Jiné příkazy</span><span class="sxs-lookup"><span data-stu-id="b792a-133">Different commands</span></span>
<span data-ttu-id="b792a-134">Pokud jste používali DNX, můžete použít některé příkazy z jednoho z jeho tři části (DNX, dnů nebo DNVM).</span><span class="sxs-lookup"><span data-stu-id="b792a-134">If you were using DNX, you used some commands from one of its three parts (DNX, DNU or DNVM).</span></span> <span data-ttu-id="b792a-135">Pomocí rozhraní příkazového řádku, některé z těchto příkazů změnit, některé nejsou dostupné a některé jsou stejné, ale mají mírně odlišné sémantiku.</span><span class="sxs-lookup"><span data-stu-id="b792a-135">With the CLI, some of these commands change, some are not available and some are the same but have slightly different semantics.</span></span> 

<span data-ttu-id="b792a-136">Následující tabulka uvádí mapování mezi příkazy DNX/dnů a jejich protějšky rozhraní příkazového řádku.</span><span class="sxs-lookup"><span data-stu-id="b792a-136">The table below shows the mapping between the DNX/DNU commands and their CLI counterparts.</span></span>


| <span data-ttu-id="b792a-137">Příkaz DNX</span><span class="sxs-lookup"><span data-stu-id="b792a-137">DNX command</span></span>                       | <span data-ttu-id="b792a-138">Příkaz rozhraní příkazového řádku</span><span class="sxs-lookup"><span data-stu-id="b792a-138">CLI command</span></span>       | <span data-ttu-id="b792a-139">Popis</span><span class="sxs-lookup"><span data-stu-id="b792a-139">Description</span></span>                                                                                                       |
|--------------------------------   |----------------   |-----------------------------------------------------------------------------------------------------------------  |
| <span data-ttu-id="b792a-140">dnx spustit</span><span class="sxs-lookup"><span data-stu-id="b792a-140">dnx run</span></span>                           | <span data-ttu-id="b792a-141">Spustit DotNet.</span><span class="sxs-lookup"><span data-stu-id="b792a-141">dotnet run</span></span>        | <span data-ttu-id="b792a-142">Spuštění kódu ze zdroje.</span><span class="sxs-lookup"><span data-stu-id="b792a-142">Run code from source.</span></span>                                                                                             |
| <span data-ttu-id="b792a-143">sestavení dnů</span><span class="sxs-lookup"><span data-stu-id="b792a-143">dnu build</span></span>                         | <span data-ttu-id="b792a-144">sestavení DotNet.</span><span class="sxs-lookup"><span data-stu-id="b792a-144">dotnet build</span></span>      | <span data-ttu-id="b792a-145">Sestavení binární IL kódu.</span><span class="sxs-lookup"><span data-stu-id="b792a-145">Build an IL binary of your code.</span></span>                                                                                  |
| <span data-ttu-id="b792a-146">pack dnů</span><span class="sxs-lookup"><span data-stu-id="b792a-146">dnu pack</span></span>                          | <span data-ttu-id="b792a-147">pack DotNet.</span><span class="sxs-lookup"><span data-stu-id="b792a-147">dotnet pack</span></span>       | <span data-ttu-id="b792a-148">Balíček NuGet balíček kódu.</span><span class="sxs-lookup"><span data-stu-id="b792a-148">Package up a NuGet package of your code.</span></span>                                                                          |
| <span data-ttu-id="b792a-149">dnx \[příkaz] (například "dnx web")</span><span class="sxs-lookup"><span data-stu-id="b792a-149">dnx \[command] (for example, "dnx web")</span></span>   | <span data-ttu-id="b792a-150">NENÍ K DISPOZICI\*</span><span class="sxs-lookup"><span data-stu-id="b792a-150">N/A\*</span></span>             | <span data-ttu-id="b792a-151">DNX světě spusťte příkaz, jak jsou definovány v project.json.</span><span class="sxs-lookup"><span data-stu-id="b792a-151">In DNX world, run a command as defined in the project.json.</span></span>                                                       |
| <span data-ttu-id="b792a-152">instalace dnů</span><span class="sxs-lookup"><span data-stu-id="b792a-152">dnu install</span></span>                       | <span data-ttu-id="b792a-153">NENÍ K DISPOZICI\*</span><span class="sxs-lookup"><span data-stu-id="b792a-153">N/A\*</span></span>             | <span data-ttu-id="b792a-154">Na světě DNX nainstalujte balíček jako závislost.</span><span class="sxs-lookup"><span data-stu-id="b792a-154">In the DNX world, install a package as a dependency.</span></span>                                                              |
| <span data-ttu-id="b792a-155">obnovení dnů</span><span class="sxs-lookup"><span data-stu-id="b792a-155">dnu restore</span></span>                       | <span data-ttu-id="b792a-156">obnovení DotNet.</span><span class="sxs-lookup"><span data-stu-id="b792a-156">dotnet restore</span></span>    | <span data-ttu-id="b792a-157">Obnovte závislosti zadaný v souboru project.json.</span><span class="sxs-lookup"><span data-stu-id="b792a-157">Restore dependencies specified in your project.json.</span></span> <span data-ttu-id="b792a-158">([viz Poznámka](#dotnet-restore-note))</span><span class="sxs-lookup"><span data-stu-id="b792a-158">([see note](#dotnet-restore-note))</span></span>                                                               |
| <span data-ttu-id="b792a-159">publikování dnů</span><span class="sxs-lookup"><span data-stu-id="b792a-159">dnu publish</span></span>                       | <span data-ttu-id="b792a-160">publikování DotNet.</span><span class="sxs-lookup"><span data-stu-id="b792a-160">dotnet publish</span></span>    | <span data-ttu-id="b792a-161">Publikování aplikace pro nasazení v jednom ze tří formuláře (přenosné přenosné s nativní a samostatná).</span><span class="sxs-lookup"><span data-stu-id="b792a-161">Publish your application for deployment in one of the three forms (portable, portable with native and standalone).</span></span>    |
| <span data-ttu-id="b792a-162">wrap dnů</span><span class="sxs-lookup"><span data-stu-id="b792a-162">dnu wrap</span></span>                          | <span data-ttu-id="b792a-163">NENÍ K DISPOZICI\*</span><span class="sxs-lookup"><span data-stu-id="b792a-163">N/A\*</span></span>             | <span data-ttu-id="b792a-164">DNX světě zabalit project.json v csproj.</span><span class="sxs-lookup"><span data-stu-id="b792a-164">In DNX world, wrap a project.json in csproj.</span></span>                                                                      |
| <span data-ttu-id="b792a-165">příkazy dnů</span><span class="sxs-lookup"><span data-stu-id="b792a-165">dnu commands</span></span>                      | <span data-ttu-id="b792a-166">NENÍ K DISPOZICI\*</span><span class="sxs-lookup"><span data-stu-id="b792a-166">N/A\*</span></span>             | <span data-ttu-id="b792a-167">DNX světě spravujte příkazů globálně nainstalované.</span><span class="sxs-lookup"><span data-stu-id="b792a-167">In DNX world, manage the globally installed commands.</span></span>                                                             |

<span data-ttu-id="b792a-168">(\*) – tyto funkce nejsou podporovány v rozhraní příkazového řádku záměrné.</span><span class="sxs-lookup"><span data-stu-id="b792a-168">(\*) - these features are not supported in the CLI by design.</span></span> 

## <a name="dnx-features-that-are-not-supported"></a><span data-ttu-id="b792a-169">DNX funkce, které nejsou podporovány</span><span class="sxs-lookup"><span data-stu-id="b792a-169">DNX features that are not supported</span></span>
<span data-ttu-id="b792a-170">Jako v tabulce výš ukazuje jsou funkcí na světě DNX, který jsme se rozhodli podpora v rozhraní příkazového řádku, alespoň na čas, který.</span><span class="sxs-lookup"><span data-stu-id="b792a-170">As the table above shows, there are features from the DNX world that we decided not to support in the CLI, at least for the time being.</span></span> <span data-ttu-id="b792a-171">V této části se projít nejdůležitější ty a popisují důvody, které nejsou podporovány je a také alternativní řešení Chcete-li.</span><span class="sxs-lookup"><span data-stu-id="b792a-171">This section will go through the most important ones and outline the rationale behind not supporting them as well as workarounds if you do need them.</span></span>

### <a name="global-commands"></a><span data-ttu-id="b792a-172">Globální příkazy</span><span class="sxs-lookup"><span data-stu-id="b792a-172">Global commands</span></span>
<span data-ttu-id="b792a-173">DNŮ byly dodány s názvem "globální příkazy" konceptu.</span><span class="sxs-lookup"><span data-stu-id="b792a-173">DNU came with a concept called "global commands".</span></span> <span data-ttu-id="b792a-174">Tyto byly v podstatě konzolové aplikace zabalené jako balíčky NuGet se skript prostředí, který by měl vyvolat DNX, který jste zadali ke spuštění aplikace.</span><span class="sxs-lookup"><span data-stu-id="b792a-174">These were, essentially, console applications packaged up as NuGet packages with a shell script that would invoke the DNX you specified to run the application.</span></span> 

<span data-ttu-id="b792a-175">Rozhraní příkazového řádku nepodporuje tento koncept.</span><span class="sxs-lookup"><span data-stu-id="b792a-175">The CLI does not support this concept.</span></span> <span data-ttu-id="b792a-176">Ale podporuje koncept přidání příkazů na projektu, které lze vyvolat pomocí známé `dotnet <command>` syntaxe.</span><span class="sxs-lookup"><span data-stu-id="b792a-176">It does, however, support the concept of adding per-project commands that can be invoked using the familiar `dotnet <command>` syntax.</span></span>

### <a name="installing-dependencies"></a><span data-ttu-id="b792a-177">Instalování závislostí</span><span class="sxs-lookup"><span data-stu-id="b792a-177">Installing dependencies</span></span>
<span data-ttu-id="b792a-178">Od verze v1, nástroje příkazového řádku .NET Core nemají `install` příkaz pro instalaci závislosti.</span><span class="sxs-lookup"><span data-stu-id="b792a-178">As of v1, the .NET Core CLI tools don't have an `install` command for installing dependencies.</span></span> <span data-ttu-id="b792a-179">Chcete-li nainstalovat balíček z NuGet, museli byste ji přidat jako závislost pro vaše `project.json` souboru a poté spusťte `dotnet restore` ([viz Poznámka](#dotnet-restore-note)).</span><span class="sxs-lookup"><span data-stu-id="b792a-179">In order to install a package from NuGet, you would need to add it as a dependency to your `project.json` file and then run `dotnet restore` ([see note](#dotnet-restore-note)).</span></span> 

### <a name="running-your-code"></a><span data-ttu-id="b792a-180">Spuštěním kódu</span><span class="sxs-lookup"><span data-stu-id="b792a-180">Running your code</span></span>
<span data-ttu-id="b792a-181">Pro spouštění vašeho kódu dvěma způsoby.</span><span class="sxs-lookup"><span data-stu-id="b792a-181">There are two main ways to run your code.</span></span> <span data-ttu-id="b792a-182">Jedním ze zdroje, je s `dotnet run`.</span><span class="sxs-lookup"><span data-stu-id="b792a-182">One is from source, with `dotnet run`.</span></span> <span data-ttu-id="b792a-183">Na rozdíl od `dnx run`, to nebude provádět žádné kompilace v paměti.</span><span class="sxs-lookup"><span data-stu-id="b792a-183">Unlike `dnx run`, this will not do any in-memory compilation.</span></span> <span data-ttu-id="b792a-184">Ve skutečnosti se vyvolat `dotnet build` vytvářet kód a spusťte integrovaný binárního souboru.</span><span class="sxs-lookup"><span data-stu-id="b792a-184">It will actually invoke `dotnet build` to build your code and then run the built binary.</span></span> 

<span data-ttu-id="b792a-185">Další možností je pomocí `dotnet` sám sebe pro spouštění vašeho kódu.</span><span class="sxs-lookup"><span data-stu-id="b792a-185">Another way is using the `dotnet` itself to run your code.</span></span> <span data-ttu-id="b792a-186">K tomu je potřeba poskytnutí cesty na vaše sestavení: `dotnet path/to/an/assembly.dll`.</span><span class="sxs-lookup"><span data-stu-id="b792a-186">This is done by providing a path to your assembly: `dotnet path/to/an/assembly.dll`.</span></span> 

## <a name="migrating-your-dnx-project-to-net-core-cli"></a><span data-ttu-id="b792a-187">Migrace DNX projektu na .NET Core rozhraní příkazového řádku</span><span class="sxs-lookup"><span data-stu-id="b792a-187">Migrating your DNX project to .NET Core CLI</span></span>
<span data-ttu-id="b792a-188">Kromě používání nové příkazy při práci s kódu, existují tři hlavní věci left v migraci z DNX:</span><span class="sxs-lookup"><span data-stu-id="b792a-188">In addition to using new commands when working with your code, there are three major things left in migrating from DNX:</span></span>

1. <span data-ttu-id="b792a-189">Migrace `global.json` soubor, pokud jste mohli používat rozhraní příkazového řádku.</span><span class="sxs-lookup"><span data-stu-id="b792a-189">Migrate the `global.json` file if you have it to be able to use CLI.</span></span>
2. <span data-ttu-id="b792a-190">Migrace souboru projektu (`project.json`) své vlastní nástrojů rozhraní příkazového řádku.</span><span class="sxs-lookup"><span data-stu-id="b792a-190">Migrating the project file (`project.json`) itself to the CLI tooling.</span></span>
3. <span data-ttu-id="b792a-191">Migrace z rozhraní API žádné DNX svým BCL.</span><span class="sxs-lookup"><span data-stu-id="b792a-191">Migrating off of any DNX APIs to their BCL counterparts.</span></span> 

### <a name="changing-the-globaljson-file"></a><span data-ttu-id="b792a-192">Změna souboru global.json</span><span class="sxs-lookup"><span data-stu-id="b792a-192">Changing the global.json file</span></span>
<span data-ttu-id="b792a-193">`global.json` Souboru chová jako soubor řešení pro RC1 a RC2 (nebo novější) projekty.</span><span class="sxs-lookup"><span data-stu-id="b792a-193">The `global.json` file acts like a solution file for both the RC1 and RC2 (or later) projects.</span></span> <span data-ttu-id="b792a-194">Aby rozhraní příkazového řádku nástroje (stejně jako Visual Studio) k rozlišení mezi RC1 a novějších verzích, používají `"sdk": { "version" }` vlastnost odlišení který projekt je RC1 nebo novější.</span><span class="sxs-lookup"><span data-stu-id="b792a-194">In order for the CLI tools (as well as Visual Studio) to differentiate between RC1 and later versions, they use the `"sdk": { "version" }` property to make the distinction which project is RC1 or later.</span></span> <span data-ttu-id="b792a-195">Pokud `global.json` nemá tento uzel vůbec, předpokládá se nejnovější.</span><span class="sxs-lookup"><span data-stu-id="b792a-195">If `global.json` doesn't have this node at all, it is assumed to be the latest.</span></span> 

<span data-ttu-id="b792a-196">Aby bylo možné aktualizovat `global.json` souboru, buď odeberte vlastnost nebo ji nastavte na konkrétní verzi nástroje, které chcete použít v tomto případě **1.0.0-preview2-003121**:</span><span class="sxs-lookup"><span data-stu-id="b792a-196">In order to update the `global.json` file, either remove the property or set it to the exact version of the tools that you wish to use, in this case **1.0.0-preview2-003121**:</span></span>

```json
{
    "sdk": {
        "version": "1.0.0-preview2-003121"
    }
}
```

### <a name="migrating-the-project-file"></a><span data-ttu-id="b792a-197">Migrace souboru projektu</span><span class="sxs-lookup"><span data-stu-id="b792a-197">Migrating the project file</span></span>
<span data-ttu-id="b792a-198">Rozhraní příkazového řádku a DNX používají stejné základní projekt systém na základě `project.json` souboru.</span><span class="sxs-lookup"><span data-stu-id="b792a-198">The CLI and DNX both use the same basic project system based on `project.json` file.</span></span> <span data-ttu-id="b792a-199">Syntaxe a sémantika souboru projektu jsou podstatě stejné, s malé rozdíly podle scénáře.</span><span class="sxs-lookup"><span data-stu-id="b792a-199">The syntax and the semantics of the project file are pretty much the same, with small differences based on the scenarios.</span></span> <span data-ttu-id="b792a-200">Existují také některé změny schématu, které se zobrazí [soubor schématu](http://json.schemastore.org/project).</span><span class="sxs-lookup"><span data-stu-id="b792a-200">There are also some changes to the schema which you can see in the [schema file](http://json.schemastore.org/project).</span></span>

<span data-ttu-id="b792a-201">Pokud vytváříte konzolovou aplikaci, musíte do souboru projektu přidejte následující fragment kódu:</span><span class="sxs-lookup"><span data-stu-id="b792a-201">If you are building a console application, you need to add the following snippet to your project file:</span></span>

```json
"buildOptions": {
    "emitEntryPoint": true
}
```

<span data-ttu-id="b792a-202">Tím se nastaví `dotnet build` pro vydávání vstupní bod pro vaši aplikaci fakticky spustitelného kódu.</span><span class="sxs-lookup"><span data-stu-id="b792a-202">This instructs `dotnet build` to emit an entry point for your application, effectively making your code runnable.</span></span> <span data-ttu-id="b792a-203">Pokud vytváříte knihovny tříd, jednoduše vynechejte části výše.</span><span class="sxs-lookup"><span data-stu-id="b792a-203">If you are building a class library, simply omit the above section.</span></span> <span data-ttu-id="b792a-204">Samozřejmě, po přidání výše uvedeném fragmentu k vaší `project.json` souboru, je nutné přidat statické vstupní bod.</span><span class="sxs-lookup"><span data-stu-id="b792a-204">Of course, once you add the above snippet to your `project.json` file, you need to add a static entry point.</span></span> <span data-ttu-id="b792a-205">S přechodem vypnout DNX poskytované DI již nejsou k dispozici, a proto to musí být základní vstupní bod .NET: `static void Main()`.</span><span class="sxs-lookup"><span data-stu-id="b792a-205">With the move off DNX, the DI services it provided are no longer available and thus this needs to be a basic .NET entry point: `static void Main()`.</span></span>

<span data-ttu-id="b792a-206">Pokud máte části "příkazy" vaší `project.json`, můžete jej odebrat.</span><span class="sxs-lookup"><span data-stu-id="b792a-206">If you have a "commands" section in your `project.json`, you can remove it.</span></span> <span data-ttu-id="b792a-207">Některé příkazy, které používají k existovat jako dnů příkazy, jako je například rozhraní Entity Framework příkazového řádku, jsou právě přesně do být – projekt rozšíření rozhraní příkazového řádku.</span><span class="sxs-lookup"><span data-stu-id="b792a-207">Some of the commands that used to exist as DNU commands, such as Entity Framework CLI commands, are being ported to be per-project extensions to the CLI.</span></span> <span data-ttu-id="b792a-208">Pokud jste vytvořili vlastní příkazy, které používáte ve vašich projektů, budete muset nahraďte rozšíření rozhraní příkazového řádku.</span><span class="sxs-lookup"><span data-stu-id="b792a-208">If you built your own commands that you are using in your projects, you need to replace them with CLI extensions.</span></span> <span data-ttu-id="b792a-209">V takovém případě `commands` uzlu v `project.json` musí být nahrazen `tools` uzlu a vyžaduje určení závislostí nástroje.</span><span class="sxs-lookup"><span data-stu-id="b792a-209">In this case, the `commands` node in `project.json` needs to be replaced by the `tools` node and it needs to list the tools dependencies.</span></span> 

<span data-ttu-id="b792a-210">Poté, co jsou tyto věci dokončí, musíte rozhodnout, jaký typ přenositelnost chcete pro aplikaci.</span><span class="sxs-lookup"><span data-stu-id="b792a-210">After these things are done, you need to decide which type of portability you wish for you app.</span></span> <span data-ttu-id="b792a-211">S .NET Core jsme investovaly do poskytování spektrum přenositelnost možnosti, které lze vybírat.</span><span class="sxs-lookup"><span data-stu-id="b792a-211">With .NET Core, we have invested into providing a spectrum of portability options that you can choose from.</span></span> <span data-ttu-id="b792a-212">Například můžete chtít mít plně *přenosné* aplikace nebo můžete nastavit, aby se *nezávislý* aplikace.</span><span class="sxs-lookup"><span data-stu-id="b792a-212">For instance, you may want to have a fully *portable* application or you may want to have a *self-contained* application.</span></span> <span data-ttu-id="b792a-213">Možnost přenosné aplikace se víc podobá pracovní aplikace rozhraní .NET Framework: je nutné sdílená součást provést v cílovém počítači (.NET Core).</span><span class="sxs-lookup"><span data-stu-id="b792a-213">The portable application option is more like .NET Framework applications work: it needs a shared component to execute it on the target machine (.NET Core).</span></span> <span data-ttu-id="b792a-214">Samostatný aplikace nevyžaduje .NET Core nainstalována na cílový, ale budete muset vytvořit jednu aplikaci pro každý operační systém, které chcete podporovat.</span><span class="sxs-lookup"><span data-stu-id="b792a-214">The self-contained application doesn't require .NET Core to be installed on the target, but you have to produce one application for each OS you wish to support.</span></span> <span data-ttu-id="b792a-215">Tyto typy přenositelnost a další jsou popsané v [typ přenositelnost aplikace](../deploying/index.md) dokumentu.</span><span class="sxs-lookup"><span data-stu-id="b792a-215">These portability types and more are discussed in the [application portability type](../deploying/index.md) document.</span></span> 

<span data-ttu-id="b792a-216">Po volání na jaký typ přenositelnost chcete budete muset změnit vaše cílové framework(s).</span><span class="sxs-lookup"><span data-stu-id="b792a-216">Once you make a call on what type of portability you want, you need to change your targeted framework(s).</span></span> <span data-ttu-id="b792a-217">Pokud jste zapisovali aplikací pro .NET Core, pravděpodobně používáte `dnxcore50` jako cílové rozhraní.</span><span class="sxs-lookup"><span data-stu-id="b792a-217">If you were writing applications for .NET Core, you were most likely using `dnxcore50` as  your targeted framework.</span></span> <span data-ttu-id="b792a-218">Pomocí rozhraní příkazového řádku a změny, nové [.NET Standard](../../standard/net-standard.md) uvést do režimu, rozhraní musí být jeden z následujících:</span><span class="sxs-lookup"><span data-stu-id="b792a-218">With the CLI and the changes that the new [.NET Standard](../../standard/net-standard.md) brought, the framework needs to be one of the following:</span></span>

1. <span data-ttu-id="b792a-219">`netcoreapp1.0`-Pokud píšete aplikace na .NET Core (včetně aplikací ASP.NET Core)</span><span class="sxs-lookup"><span data-stu-id="b792a-219">`netcoreapp1.0` - if you are writing applications on .NET Core (including ASP.NET Core applications)</span></span>
2. <span data-ttu-id="b792a-220">`netstandard1.6`-Pokud píšete knihovny tříd pro .NET Core</span><span class="sxs-lookup"><span data-stu-id="b792a-220">`netstandard1.6` - if you are writing class libraries for .NET Core</span></span>

<span data-ttu-id="b792a-221">Pokud používáte jiné `dnx` cílem, jako je třeba `dnx451` budete muset změnit také ty.</span><span class="sxs-lookup"><span data-stu-id="b792a-221">If you are using other `dnx` targets, like `dnx451` you will need to change those as well.</span></span> <span data-ttu-id="b792a-222">`dnx451`by mělo být změněno na `net451`.</span><span class="sxs-lookup"><span data-stu-id="b792a-222">`dnx451` should be changed to `net451`.</span></span> <span data-ttu-id="b792a-223">Podrobnosti najdete [.NET Standard](../../standard/net-standard.md) Další informace.</span><span class="sxs-lookup"><span data-stu-id="b792a-223">Please refer to the [.NET Standard](../../standard/net-standard.md) topic for more information.</span></span> 

<span data-ttu-id="b792a-224">Vaše `project.json` je většinou připraven.</span><span class="sxs-lookup"><span data-stu-id="b792a-224">Your `project.json` is now mostly ready.</span></span> <span data-ttu-id="b792a-225">Budete muset projít seznamu závislosti a závislosti aktualizovat na novější verze, zvlášť pokud používáte ASP.NET Core závislosti.</span><span class="sxs-lookup"><span data-stu-id="b792a-225">You need to go through your dependencies list and update the dependencies to their newer versions, especially if you are using ASP.NET Core dependencies.</span></span> <span data-ttu-id="b792a-226">Pokud jste používali samostatné balíčky pro rozhraní API BCL, můžete použít balíček modulu runtime, jak je popsáno v [typ přenositelnost aplikace](../deploying/index.md) dokumentu.</span><span class="sxs-lookup"><span data-stu-id="b792a-226">If you were using separate packages for BCL APIs, you can use the runtime package as explained in the [application portability type](../deploying/index.md) document.</span></span> 

<span data-ttu-id="b792a-227">Jakmile budete připraveni, můžete se pokusit o obnovení s `dotnet restore` ([viz Poznámka](#dotnet-restore-note)).</span><span class="sxs-lookup"><span data-stu-id="b792a-227">Once you are ready, you can try restoring with `dotnet restore` ([see note](#dotnet-restore-note)).</span></span> <span data-ttu-id="b792a-228">V závislosti na verzi vašeho závislostí mohou nastat chyby, pokud NuGet nejde vyřešit závislosti pro jednu z výše uvedených cílové architektury.</span><span class="sxs-lookup"><span data-stu-id="b792a-228">Depending on the version of your dependencies, you may encounter errors if NuGet cannot resolve the dependencies for one of the targeted frameworks above.</span></span> <span data-ttu-id="b792a-229">Toto je problém "bodu v čase"; v průběhu času bude více balíčků zahrnují podporu pro tyto architektury.</span><span class="sxs-lookup"><span data-stu-id="b792a-229">This is a "point-in-time" problem; as time progresses, more and more packages will include support for these frameworks.</span></span> <span data-ttu-id="b792a-230">Teď, pokud spustíte do této, můžete použít `imports` v rámci `framework` uzlu určení na NuGet, že ji můžete obnovit balíčky cílení na rozhraní v rámci příkazu "importuje".</span><span class="sxs-lookup"><span data-stu-id="b792a-230">For now, if you run into this, you can use the `imports` statement within the `framework` node to specify to NuGet that it can restore the packages targeting the framework within the "imports" statement.</span></span> <span data-ttu-id="b792a-231">Obnovení chyby, které máte v takovém případě by měl poskytovat dostatek informací s oznámením, která rozhraní, která chcete importovat.</span><span class="sxs-lookup"><span data-stu-id="b792a-231">The restoring errors you get in this case should provide enough information to tell you which frameworks you need to import.</span></span> <span data-ttu-id="b792a-232">Pokud jste mírně ztracené nebo pro toto nové, obecně zadání `dnxcore50` a `portable-net45+win8` v `imports` příkaz udělat podvodné.</span><span class="sxs-lookup"><span data-stu-id="b792a-232">If you are slightly lost or new to this, in general, specifying `dnxcore50` and `portable-net45+win8` in the `imports` statement should do the trick.</span></span> <span data-ttu-id="b792a-233">Fragmentu kódu JSON níže ukazuje, jak vypadá takto:</span><span class="sxs-lookup"><span data-stu-id="b792a-233">The JSON snippet below shows how this looks like:</span></span>

```json
    "frameworks": {
        "netcoreapp1.0": { 
            "imports": ["dnxcore50", "portable-net45+win8"]
        }
    }
```

<span data-ttu-id="b792a-234">Spuštění `dotnet build` všechny chyby případné sestavení se zobrazí, když by neměl být příliš mnoho.</span><span class="sxs-lookup"><span data-stu-id="b792a-234">Running `dotnet build` will show any eventual build errors, though there shouldn't be too many of them.</span></span> <span data-ttu-id="b792a-235">Po kódu je sestavení a funguje správně, můžete ho s nástroj runner otestovat.</span><span class="sxs-lookup"><span data-stu-id="b792a-235">After your code is building and running properly, you can test it out with the runner.</span></span> <span data-ttu-id="b792a-236">Spuštění `dotnet <path-to-your-assembly>` a prohlédněte si ho spustit.</span><span class="sxs-lookup"><span data-stu-id="b792a-236">Execute `dotnet <path-to-your-assembly>` and see it run.</span></span>

<a name="dotnet-restore-note"></a>
[!INCLUDE[DotNet Restore Note](~/includes/dotnet-restore-note.md)]