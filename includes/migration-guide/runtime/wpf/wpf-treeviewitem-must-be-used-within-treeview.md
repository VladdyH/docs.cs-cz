### <a name="wpf-treeviewitem-must-be-used-within-a-treeview"></a>WPF TreeViewItem se musí použít v rámci elementu TreeView

|   |   |
|---|---|
|Podrobnosti|Změna byla zavedena v 4.5, který omezuje využití <xref:System.Windows.Controls.TreeViewItem?displayProperty=name> elementy mimo <xref:System.Windows.Controls.TreeView?displayProperty=name>. To manifesty za následujících podmínek:<ul><li><xref:System.Windows.Controls.TreeViewItem?displayProperty=name>na visual nadřazená položka nemá panelu. (A <xref:System.Windows.Controls.TreeViewItem?displayProperty=name> vygenerované <xref:System.Windows.Controls.TreeView?displayProperty=name> bude mít panelu jako svůj nadřazený uzel)</li><li><xref:System.Windows.Controls.TreeViewItem?displayProperty=name> Je následníka <xref:System.Windows.Controls.VirtualizingStackPanel?displayProperty=name> funguje jako &quot;položky hostitele&quot; pro ovládací prvek seznamu (ListBox – ovládací prvek DataGrid, ListView, atd.). Virtualizace není nutné, aby byl povolen.</li><li><xref:System.Windows.Controls.VirtualizingStackPanel?displayProperty=name> Je položka posouvání (<code>ScrollUnit=&quot;Item&quot;</code>).</li><li>Někdo volá <code>VirtualizingStackPanel.MakeVisible(v)</code> posouvání elementu <code>v</code> do zobrazení. To lze provést explicitně nebo implicitně v mnoha různými způsoby; možná nejběžnější způsobem je jednoduše kliknutím na <code>v</code> aktivovat klávesnice.</li><li>Řetězec visual nadřazené z <code>v</code> k <xref:System.Windows.Controls.VirtualizingStackPanel?displayProperty=name> projdou <xref:System.Windows.Controls.TreeViewItem?displayProperty=name>.</li></ul>Jinými slovy to vidět při <xref:System.Windows.Controls.TreeViewItem?displayProperty=name> slouží mimo <xref:System.Windows.Controls.TreeView?displayProperty=name>, a uživatel klikne na následníka <xref:System.Windows.Controls.TreeViewItem?displayProperty=name> a převeďte ho do zobrazení. Pokud <xref:System.Windows.Controls.TreeViewItem?displayProperty=name> nemá žádné může získat fokus potomky, nikdy uvidíte tento problém. Pokud je například situaci, kde je to dosáhl <xref:System.Windows.Controls.TreeViewItem?displayProperty=name> je kořenem šablonu DataTemplate. Pokud tento problém je dosaženo, je k InvalidCastException, ke kterému dochází v rámci WPF.|
|Návrh|Opravu hotfix bude k dispozici pro tento.|
|Rozsah|Vedlejší|
|Version|4.5|
|Typ|modul runtime|

