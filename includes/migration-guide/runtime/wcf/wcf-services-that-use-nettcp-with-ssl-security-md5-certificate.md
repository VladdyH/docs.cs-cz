### <a name="wcf-services-that-use-nettcp-with-ssl-security-and-md5-certificate-authentication"></a>Služby WCF, které používají NETTCP s zabezpečení SSL a ověřování pomocí certifikátu MD5

|   |   |
|---|---|
|Podrobnosti|Rozhraní .NET Framework 4.6 přidá do seznamu WCF SSL výchozí protokol TLS 1.1 a TLS 1.2. Když klientské a serverové počítače nainstalována rozhraní .NET Framework 4.6 nebo vyšší, použije se pro vyjednávání protokolu TLS 1.2. Protokol TLS 1.2 nepodporuje ověřování pomocí certifikátu MD5. Výsledkem je Pokud zákazník používá certifikát MD5, klienta WCF se nepodaří připojit ke službě WCF.|
|Návrh|Tento problém můžete vyřešit tak, aby klienta WCF můžete připojit k serveru WCF pomocí některého z následujících akcí:<ul><li>Aktualizujte certifikát nechcete použít algoritmus MD5. Toto je doporučená řešení.</li><li>Pokud vazba není nakonfigurováno dynamicky ve zdrojovém kódu, aktualizujte soubor konfigurace aplikace k použití protokolu TLS 1.1 nebo starší verzi protokolu. Umožňuje pokračovat v používání certifikátu s algoritmem hash MD5.</li></ul> <blockquote> [!WARNING] Toto řešení se nedoporučuje, protože certifikát se algoritmus hash MD5 považuje za nezabezpečené.</blockquote> Následující konfigurační soubor nemá toto:<pre><code class="language-xml">&lt;configuration&gt;&#13;&#10;&lt;system.serviceModel&gt;&#13;&#10;&lt;bindings&gt;&#13;&#10;&lt;netTcpBinding&gt;&#13;&#10;&lt;binding&gt;&#13;&#10;&lt;security mode= &quot;None/Transport/Message/TransportWithMessageCredential&quot; &gt;&#13;&#10;&lt;transport clientCredentialType=&quot;None/Windows/Certificate&quot;&#13;&#10;protectionLevel=&quot;None/Sign/EncryptAndSign&quot;&#13;&#10;sslProtocols=&quot;Ssl3/Tls1/Tls11&quot;&gt;&#13;&#10;&lt;/transport&gt;&#13;&#10;&lt;/security&gt;&#13;&#10;&lt;/binding&gt;&#13;&#10;&lt;/netTcpBinding&gt;&#13;&#10;&lt;/bindings&gt;&#13;&#10;&lt;/system.ServiceModel&gt;&#13;&#10;&lt;/configuration&gt;&#13;&#10;</code></pre><ul><li>Pokud je vazba dynamicky konfigurována ve zdrojovém kódu, aktualizovat <xref:System.ServiceModel.TcpTransportSecurity.SslProtocols?displayProperty=nameWithType> vlastnost na používání protokolu TLS 1.1 (<xref:System.Security.Authentication.SslProtocols.Tls11?displayProperty=nameWithType> nebo starší verzi protokolu ve zdrojovém kódu.</li></ul> <blockquote> [!WARNING] Toto řešení se nedoporučuje, protože certifikát se algoritmus hash MD5 považuje za nezabezpečené.</blockquote> |
|Rozsah|Vedlejší|
|Version|4.6|
|Typ|Modul runtime|

