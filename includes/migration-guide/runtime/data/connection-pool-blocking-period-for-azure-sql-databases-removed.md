### <a name="connection-pool-blocking-period-for-azure-sql-databases-is-removed"></a>Odebrání fondu připojení blokování období u databází Azure SQL

|   |   |
|---|---|
|Podrobnosti|Od verze rozhraní .NET Framework 4.6.2, pro připojení otevřete žádosti o známé databází Azure SQL (*. database.windows.net, *. database.chinacloudapi.cn, *. database.usgovcloudapi.net, *. database.cloudapi.de), fondu připojení je blokování období odebrat, a otevřete chyb připojení se neukládají do mezipaměti. Téměř okamžitě po připojení přechodné chyby se provedou pokusy o opakování otevřené žádosti o připojení. Tato změna umožňuje otevřete pokus o připojení k okamžitě opakovat u databází Azure SQL, a tím zvýšení výkonu cloudu – povolené aplikace. Pro všechny ostatní pokusy o připojení i nadále vynucovat blokování období fondu připojení.<p/>V rozhraní .NET Framework 4.6.1 a starší verze když aplikace dojde přechodné chybě při připojování k databázi, pokus o připojení nejde opakovat rychle, protože fond připojení ukládá do mezipaměti chyby a znovu vyvolá po dobu 5 sekund do 1 minutu. Další informace najdete v tématu [SQL sdružování připojení serveru (ADO.NET)](~/docs/framework/data/adonet/sql-server-connection-pooling.md). Toto chování je problematické pro připojení k databázím Azure SQL, které často dojde k chybě přechodné chyby, které jsou obvykle obnovit z během několika sekund. Funkce připojení k fondu blokování znamená, že aplikace nemůže připojit k databázi pro rozsáhlé období, i když je databáze dostupná a aplikace potřebuje k vykreslení během několika sekund.|
|Návrh|Pokud je toto chování žádoucí, nastavení se dá nakonfigurovat blokování období fondu připojení <xref:System.Data.SqlClient.SqlConnectionStringBuilder.PoolBlockingPeriod?displayProperty=name> vlastnost byla zavedená v rozhraní .NET Framework 4.6.2. Hodnota vlastnosti je členem skupiny <xref:System.Data.SqlClient.PoolBlockingPeriod?displayProperty=name> výčet, který může mít jednu ze tří hodnot:<ul><li><xref:System.Data.SqlClient.PoolBlockingPeriod.AlwaysBlock></li><li><xref:System.Data.SqlClient.PoolBlockingPeriod.Auto></li><li><xref:System.Data.SqlClient.PoolBlockingPeriod.NeverBlock></li></ul>Předchozí chování může být obnovena nastavením <xref:System.Data.SqlClient.SqlConnectionStringBuilder.PoolBlockingPeriod?displayProperty=name> vlastnost <xref:System.Data.SqlClient.PoolBlockingPeriod.AlwaysBlock>.|
|Rozsah|Vedlejší|
|Version|4.6.2|
|Typ|Modul runtime|
|Ovlivněné rozhraní API|<ul><li><xref:System.Data.Common.DbConnection.OpenAsync?displayProperty=nameWithType></li><li><xref:System.Data.SqlClient.SqlConnection.Open?displayProperty=nameWithType></li><li><xref:System.Data.SqlClient.SqlConnection.OpenAsync(System.Threading.CancellationToken)?displayProperty=nameWithType></li></ul>|

