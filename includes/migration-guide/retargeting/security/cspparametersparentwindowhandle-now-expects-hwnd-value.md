### <a name="cspparametersparentwindowhandle-now-expects-hwnd-value"></a>CspParameters.ParentWindowHandle nyní očekává hodnotu HWND

|   |   |
|---|---|
|Podrobnosti|<xref:System.Security.Cryptography.CspParameters.ParentWindowHandle> Hodnotu, která byla zavedená v rozhraní .NET Framework 2.0, umožňuje aplikaci zaregistrovat hodnotu nadřazené okno popisovač tak, aby žádné uživatelské rozhraní vyžaduje přístup ke klíči (například PIN kódu výzva nebo souhlas dialogové okno) otevře jako modální podřízené vybrané okno. Počínaje aplikací, které cílí rozhraní .NET Framework 4.7, můžete nastavit aplikaci Windows Forms <xref:System.Security.Cryptography.CspParameters.ParentWindowHandle> vlastnost s kódem takto:<pre><code class="language-C#">cspParameters.ParentWindowHandle = form.Handle;&#13;&#10;</code></pre>V předchozích verzích rozhraní .NET Framework se očekávala se hodnota <xref:System.IntPtr?displayProperty=name> představující místo v paměti kde [HWND](https://msdn.microsoft.com/library/windows/desktop/aa383751.aspx#HWND) bydleli hodnotu. Nastavení vlastnosti formuláře. Zpracování ve Windows 7 a dřívějších verzí nemělo žádný vliv, ale ve Windows 8 a novějších verzích, výsledkem je to &quot; <xref:System.Security.Cryptography.CryptographicException?displayProperty=name>: parametr je nesprávný.&quot;|
|Návrh|Aplikace nebo cílením na rozhraní .NET 4.7 vyšší chtějí zaregistrovat vztahu nadřazené okno se doporučuje použít zjednodušený formuláře:<pre><code class="language-C#">cspParameters.ParentWindowHandle = form.Handle;&#13;&#10;</code></pre>Uživatelé, kteří měli identifikuje, že bylo správnou hodnotu předávání na adresu paměti umístění, které uchovávat hodnota <code>form.Handle</code> můžete vyjádření výslovného nesouhlasu změny chování nastavením přepínač AppContext <code>Switch.System.Security.Cryptography.DoNotAddrOfCspParentWindowHandle</code> k <code>true</code>.<ol><li>Prostřednictvím kódu programu nastavením compat přepne na AppContext, jak je popsáno [sem](http://blogs.msdn.com/b/dotnet/archive/2015/04/29/net-announcements-at-build-2015.aspx#dotnet46)</li><li>Přidáním následující řádek na <code>&lt;runtime&gt;</code> v souboru app.config:</li></ol><pre><code class="language-xml">&lt;runtime&gt;&#13;&#10;&lt;AppContextSwitchOverrides value=&quot;Switch.System.Security.Cryptography.DoNotAddrOfCspParentWindowHandle=true&quot;/&gt;&#13;&#10;&lt;/runtime&gt;&#13;&#10;</code></pre>Naopak Přepnout uživatele, kteří chtějí povolit nové chování na modul runtime rozhraní .NET Framework 4.7 při načítání aplikace pod starší verze rozhraní .NET Framework, můžete nastavit AppContext <code>false</code>.|
|Rozsah|Vedlejší|
|Version|4.7|
|Typ|Změna orientace|
|Ovlivněné rozhraní API|<ul><li><xref:System.Security.Cryptography.CspParameters.ParentWindowHandle?displayProperty=nameWithType></li></ul>|

