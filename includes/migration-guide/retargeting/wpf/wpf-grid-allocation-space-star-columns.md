### <a name="wpf-grid-allocation-of-space-to-star-columns"></a>WPF mřížky přidělení místa na hvězdičky sloupce

|   |   |
|---|---|
|Podrobnosti|Od verze 4.7 rozhraní .NET Framework, WPF nahrazuje algoritmus, <xref:System.Windows.Controls.Grid> používá k přidělení místa pro *-sloupce. Tímto krokem změníte šířku skutečné přiřazené *-sloupců v mnoha případech:<ul><li>Pokud jeden nebo více *-sloupce také mít minimální nebo maximální šířka, který přepíše přímo úměrná přidělení pro tento slo. (Minimální šířka lze odvozovat z explicitní hodnota MinWidth deklaraci nebo implicitní minimální získané z obsahu sloupce. Maximální šířka může být definovaný jenom explicitně, z deklaraci MaxWidth.)</li><li>Pokud jeden nebo více *-sloupce deklarovat velmi velký *-váhy, větší než 10 ^ 298.</li><li>Pokud *-vah se dostatečně neliší setkat s plovoucí desetinnou čárkou nestabilitu (přetečení, podtečení ztrátu přesnosti.).</li><li>Při zaokrouhlení rozložení je povolená a efektivní zobrazení DPI je dostatečně vysoký.</li></ul>V první dva případech může být šířek vyprodukované nového algoritmu výrazně liší od těch, které vytváří staré algoritmem; v případě poslední rozdíl bude maximálně jedno nebo dvě pixelů. Nového algoritmu řeší několik chyb, které se nachází v původním algoritmu:<ol><li>Celkový počet přidělení sloupců může být vyšší než šířka mřížky. Tato situace může nastat při přidělování místa na sloupec, jehož přímo úměrná sdílené složky je menší než jeho minimální velikost. Algoritmus přiděluje minimální velikost, která snižuje místa na jiné sloupce. Pokud neexistují žádné *-sloupce zleva přidělit, bude celkový přidělení příliš velký.</li><li>Celkový počet přidělení můžete nedosahují Šířka mřížky. Toto je duální problém s #1, které při přidělování na sloupec, jehož přímo úměrná sdílená složka je větší než maximální velikosti, bez *-sloupce zleva trvat až slack.</li><li>Dva *-sloupce může přijímat přidělení není přímo úměrná jejich *-váhu. Toto je pouze mírnější verze z #1 / #2, vzniklou na základě při přidělování do *-sloupce A, B a C (v tomto pořadí), kde přímo úměrná sdílenou složku na B porušuje omezení jeho min (nebo max). Jako výš, tato operace změní místa na disku na sloupec C, který získá méně (nebo více) přímo úměrná přidělení než A,</li><li>Sloupce s velmi vysokou váhou (&gt; 10 ^ 298) jsou všechny zpracovány jako by měly váhu 10 ^ 298. Není dodrženo přímo úměrná rozdíly mezi nimi (a mezi sloupci s váhou mírně nižší).</li><li>Sloupce s váhou inifinte nejsou zpracovány správně. [Ve skutečnosti nelze nastavit váhu do nekonečna, ale to je umělé omezení. Kód přidělení snažil zpracování, ale to úlohu chybný.]</li><li>Několik menší problémy při zamezení přetečení podtečení, ztrátu přesnosti a podobné problémy s plovoucí desetinnou čárkou.</li><li>Úpravy rozložení zaokrouhlení jsou nesprávná v DPI dostatečně vysoký.</li></ol>Vytvoří nového algoritmu výsledky, které splňují následující kritéria: A. Skutečná šířka přiřazené *-sloupec se nikdy menší než jeho minimální šířka ani větší než maximální šířku. B. Každý <em>-sloupec, který není přiřazen minimální nebo maximální šířka je přiřazena šířka úměrná jeho <em>-váhy. Přesný, pokud dva sloupce, které jsou deklarovány s šířka x</em> a y</em> v uvedeném pořadí, a pokud ani sloupec obdrží jeho minimální nebo maximální šířka, jsou ve stejném poměru skutečné šířek v a w přiřazené ke sloupcům: v / w == x nebo y.C. Celková šířka přidělené &quot;přímo úměrná&quot; *-sloupce se rovná dostupného volného místa, přidělte ke sloupcům omezené (pevně daná, a automaticky, a *-sloupce, které jsou přiděleny jejich šířka min nebo max). To může být nula, například pokud součet minimální šířky přesahuje šířka availbable mřížky. D. Tyto příkazy se budou interpretovat s ohledem na &quot;ideální&quot; rozložení. Při zaokrouhlení rozložení je v platnosti, skutečný šířek se může lišit od ideální šířek o co nejvíc jeden bod. Algoritmus staré (A) dodržení mu ale nepodařilo respektovat jiných kritérií v případech uvedených výše. Všechno, co uvedená sloupce a šířek v tomto článku se vztahuje také na řádky a výšky.|
|Návrh|Ve výchozím nastavení aplikace, které cílové verze rozhraní .NET Framework, počínaje 4.7 rozhraní .NET Framework uvidí nového algoritmu při aplikace cílové rozhraní .NET Framework 4.6.2 nebo starší verze, uvidí staré algoritmus. Chcete-li přepsat výchozí nastavení, použijte následující nastavení konfigurace:<pre><code class="language-xml">&lt;runtime&gt;&#13;&#10;&lt;AppContextSwitchOverrides value=&quot;Switch.System.Windows.Controls.Grid.StarDefinitionsCanExceedAvailableSpace=true&quot; /&gt;&#13;&#10;&lt;/runtime&gt;&#13;&#10;</code></pre>Hodnota 'true' vybírá algoritmus starý, "Nepravda" vybere nového algoritmu.|
|Rozsah|Vedlejší|
|Version|4.7|
|Typ|Změna orientace|

