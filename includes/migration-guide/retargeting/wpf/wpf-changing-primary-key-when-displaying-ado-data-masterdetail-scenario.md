### <a name="wpf-changing-a-primary-key-when-displaying-ado-data-in-a-masterdetail-scenario"></a>WPF Změna primární klíč při zobrazení dat ADO ve scénáři a podrobností

|   |   |
|---|---|
|Podrobnosti|Předpokládejme, že máte kolekci ADO položek typu <code>Order</code>, se relace s názvem &quot;Rozpis objednávek&quot; týkající se kolekce položek typu <code>Detail</code> přes primární klíč &quot;OrderID&quot;. V aplikaci WPF můžete vázat ovládací prvek seznamu na podrobnosti o daném pořadí:<pre><code class="lang-xml">&lt;ListBox ItemsSource=&quot;{Binding Path=OrderDetails}&quot; &gt;&#13;&#10;</code></pre>kde je DataContext <code>Order</code>. WPF získá hodnotu <code>OrderDetails</code> vlastnost - D kolekci všech <code>Detail</code> položky jehož <code>OrderID</code> odpovídá <code>OrderID</code> hlavní položky. Změna chování mohou nastat, pokud změníte primární klíč <code>OrderID</code> hlavní položky. ADO automaticky změní <code>OrderID</code> jednotlivých příslušné záznamy v kolekci podrobností (konkrétně těm, které jsou zkopírovány do kolekce D).  Ale co se stane D?<ul><li>Staré chování: kolekce D se vymaže.   Hlavní položky nemá <em>není</em> vyvolat upozornění na změnu pro vlastnost <code>OrderDetails</code>.  ListBox budou nadále používat kolekce D, který je teď prázdný.</li><li>Nové chování: kolekce D je beze změny.   Každý z jeho položky vyvolá upozornění na změnu <code>OrderID</code> vlastnost.  ListBox budou nadále používat kolekce D a zobrazí podrobnosti o s novým <code>OrderID</code>.</li></ul>WPF implementuje nové chování vytvořením kolekce D jiným způsobem: voláním metody ADO <xref:System.Data.DataRowView.CreateChildView(System.Data.DataRelation,System.Boolean)?displayProperty=nameWithType> s <code>followParent</code> argument nastaven na hodnotu <code>true</code>.|
|Návrh|Aplikace získá nové chování pomocí následující AppContext přepínače.<pre><code class="lang-xml">&lt;configuration&gt;&#13;&#10;&lt;runtime&gt;&#13;&#10;&lt;AppContextSwitchOverrides value=&quot;Switch.System.Windows.Data.DoNotUseFollowParentWhenBindingToADODataRelation=false&quot;/&gt;&#13;&#10;&lt;/runtime&gt;&#13;&#10;&lt;/configuration&gt;&#13;&#10;&#13;&#10;</code></pre>Použije se výchozí hodnota přepínač <code>true</code> (staré chování) pro aplikace, které cílí na .NET 4.7.1 nebo níže a k <code>false</code> (nové chování) pro aplikace, které cílí na .NET 4.7.2 nebo vyšší.|
|Rozsah|Vedlejší|
|Version|4.7.2|
|Typ|Změna orientace|

