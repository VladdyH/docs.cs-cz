### <a name="currentculture-is-not-preserved-across-wpf-dispatcher-operations"></a>CurrentCulture nejsou uchována mezi operacemi dispečera WPF

|   |   |
|---|---|
|Podrobnosti|Od verze rozhraní .NET Framework 4.6, změny <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> nebo <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> provedené v rámci <xref:System.Windows.Threading.Dispatcher?displayProperty=name> ztratí na konci této operace dispečera. Podobně se změní na <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> nebo <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> provedené mimo dispečera operace nemusí odrážet při, provede operaci. Prakticky hovořícího, to znamená, že <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> a <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> změny nemusí tok mezi uživatelského rozhraní grafického subsystému WPF zpětná volání a jiný kód v aplikaci WPF. Toto je z důvodu změn v <xref:System.Threading.ExecutionContext?displayProperty=name> , která způsobí <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> a <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> k uložení do začátku kontextu spuštění s aplikacemi cílení na rozhraní .NET Framework 4.6. Dispečer operations WPF uložit kontext spuštění používá k zahájení operace a obnovit předchozí kontext po dokončení operace. Protože <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> a <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> jsou teď součástí tohoto kontextu, změny v rámci operace dispečera nejsou trvalé mimo operaci.|
|Návrh|Aplikace touto změnou ovlivněná může obejít jeho uložením požadovanou <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> nebo <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> v poli a kontrolu v všechny operace těla dispečera (včetně obslužné rutiny zpětného volání událostí uživatelského rozhraní), správné <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> a <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> jsou nastavené. Alternativně vzhledem k tomu, že změna kontextu ExecutionContext základní tuto změnu WPF ovlivní pouze aplikace, cílení na rozhraní .NET Framework 4.6 nebo novější, se vyhnout této zalomení cílením 4.5.2.Apps rozhraní .NET Framework, která cílí na rozhraní .NET Framework 4.6 nebo později může spolupracovat taky vyhnout tím, že nastavení kompatibility následující přepínače:<pre><code>AppContext.SetSwitch(&quot;Switch.System.Globalization.NoAsyncCurrentCulture&quot;, true);&#13;&#10;</code></pre>Tento problém byl opraven pomocí grafického subsystému WPF v rozhraní .NET Framework 4.6.2. Také byl opraven ve verzi 4.6 rozhraní .NET, 4.6.1 prostřednictvím [KB 3139549](https://support.microsoft.com/kb/3139549). Aplikace cílené na rozhraní .NET 4.6 nebo novější automaticky získat správné chování v aplikaci WPF - <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> / <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name>) by být zachována mezi operacemi dispečera.|
|Rozsah|Vedlejší|
|Version|4.6|
|Typ|Změna orientace|

