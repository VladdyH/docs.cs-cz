### <a name="currentculture-and-currentuiculture-flow-across-tasks"></a>Tok CurrentCulture a CurrentUICulture napříč úlohy

|   |   |
|---|---|
|Podrobnosti|Od verze rozhraní .NET Framework 4.6 <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> a <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> jsou uložené ve vlákně na <xref:System.Threading.ExecutionContext?displayProperty=name>, která probíhá mezi asynchronní operace. To znamená, že se změní na <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> nebo <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> se projeví v úlohách, které jsou novější běží asynchronně. To se liší od chování z předchozích verzí rozhraní .NET Framework (což by resetovat <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> a <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> ve všech asynchronních úloh).|
|Návrh|Aplikace touto změnou ovlivněná může vyřešit ji nastavením explicitně požadovanou <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> nebo <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> jako první operace v asynchronní úlohu. Alternativně staré chování (není průchodu <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> / <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name>) může vyjádřit výslovný souhlas do nastavením následující kompatibility přepínače:<pre><code class="lang-csharp">AppContext.SetSwitch(&quot;Switch.System.Globalization.NoAsyncCurrentCulture&quot;, true);&#13;&#10;</code></pre>Tento problém byl opraven pomocí grafického subsystému WPF v rozhraní .NET Framework 4.6.2. Také byl opraven ve verzi 4.6 rozhraní .NET, 4.6.1 prostřednictvím [KB 3139549](https://support.microsoft.com/kb/3139549). Aplikace cílené na rozhraní .NET Framework 4.6 nebo novější automaticky získat správné chování v aplikaci WPF - <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> / <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name>) by být zachována mezi operacemi dispečera.|
|Rozsah|Vedlejší|
|Version|4.6|
|Typ|Změna orientace|
|Ovlivněné rozhraní API|<ul><li><xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=nameWithType></li><li><xref:System.Threading.Thread.CurrentCulture?displayProperty=nameWithType></li><li><xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=nameWithType></li><li><xref:System.Threading.Thread.CurrentUICulture?displayProperty=nameWithType></li></ul>|

