### <a name="accessibility-improvements-in-windows-forms-controls"></a>Vylepšení přístupnosti v ovládacích prvcích Windows Forms

|   |   |
|---|---|
|Podrobnosti|Windows Forms je vylepšení, jak to funguje s technologie usnadnění, které lepší podporu Windows Forms zákazníků. Mezi ně patří následující změny:<ul><li>Změny ke zlepšení zobrazení během režimu vysokého kontrastu.</li><li>Změny do prohlížeče vylepšit vlastnost. Vlastnost prohlížeče vylepšení zahrnují:</li><li>Lepší navigační klávesnice prostřednictvím různých windows rozevíracího seznamu výběru.</li><li>Omezení zbytečných zarážek tabulátoru.</li><li>Typy ovládacích prvků hlášení lépe.</li><li>Vylepšené Předčítání chování.</li><li>Implementace vzorů usnadnění chybějící uživatelského rozhraní v ovládacích prvcích změny.</li></ul>|
|Návrh|<strong>Postup aktivování nebo zrušení těchto změn</strong>v pořadí pro aplikaci, abyste mohli využívat výhod tyto změny, musí běžet na rozhraní .NET Framework 4.7.1 nebo novější. Aplikace můžete využít tyto změny v některém z následujících způsobů:<ul><li>Ho znovu zkompiluje cílí na rozhraní .NET Framework 4.7.1. Tyto změny usnadnění jsou povolené ve výchozím nastavení v aplikacích Windows Forms cílených na rozhraní .NET Framework 4.7.1 nebo novější.</li><li>Ho výslovný nesouhlas chování starší verze usnadnění přidáním následující [AppContext přepínač](~/docs/framework/configure-apps/file-schema/runtime/appcontextswitchoverrides-element.md) k <code>&lt;runtime&gt;</code> části souboru app.config a jeho nastavení na hodnotu <code>false</code>, jak ukazuje následující příklad.</li></ul><pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#13;&#10;&lt;configuration&gt;&#13;&#10;&lt;startup&gt;&#13;&#10;&lt;supportedRuntime version=&quot;v4.0&quot; sku=&quot;.NETFramework,Version=v4.7&quot;/&gt;&#13;&#10;&lt;/startup&gt;&#13;&#10;&lt;runtime&gt;&#13;&#10;&lt;!-- AppContextSwitchOverrides value attribute is in the form of &#39;key1=true/false;key2=true/false  --&gt;&#13;&#10;&lt;AppContextSwitchOverrides value=&quot;Switch.UseLegacyAccessibilityFeatures=false&quot; /&gt;&#13;&#10;&lt;/runtime&gt;&#13;&#10;&lt;/configuration&gt;&#13;&#10;</code></pre>Aplikace, které cílí na rozhraní .NET Framework 4.7.1 nebo novější a chcete zachovat starší verze usnadnění chování můžete vyjádřit výslovný souhlas s použitím funkce usnadnění starší verze explicitně nastavením tento přepínač AppContext na <code>true</code>. Přehled automatizace uživatelského rozhraní, najdete [Přehled automatizace uživatelského rozhraní](~/docs/framework/ui-automation/ui-automation-overview.md). <strong>Přidání podpory pro vzory automatizace uživatelského rozhraní a vlastnosti</strong>usnadnění klientů můžete využít výhod nových funkcí usnadnění WinForms pomocí běžných, které jsou veřejně popsány volání vzory. Tyto vzory nejsou specifické pro WinForms. Usnadnění přístupu klientů pro instanci můžete volat QueryInterface – metoda v rozhraní IAccessible (MAAS) k získání rozhraní IServiceProvider. Pokud toto rozhraní je k dispozici, klienty pomocí metody jeho služby QueryService požádat o IAccessibleEx rozhraní. Další informace najdete v tématu [pomocí IAccessibleEx z klienta](https://msdn.microsoft.com/library/windows/desktop/dd561924.aspx). Od verze rozhraní .NET Framework 4.7.1 IServiceProvider a [IAccessibleEx](https://msdn.microsoft.com/library/windows/desktop/dd561898.aspx) (v případě potřeby) jsou k dispozici pro WinForms usnadnění objekty. Rozhraní .NET Framework 4.7.1 přidává podporu pro následující vzory prvků pro automatizaci uživatelského rozhraní a vlastnosti:<ul><li><code>T:System.Windows.Forms.ToolStripSplitButton</code> a <code>T:System.Windows.Forms.ComboBox</code> podporu ovládací prvky [Rozbalit/sbalit vzor](~/docs/framework/ui-automation/implementing-the-ui-automation-expandcollapse-control-pattern.md).</li><li><code>T:System.Windows.Forms.ToolStripMenuItem</code> Má ovládací prvek [ControlType](~/docs/framework/ui-automation/ui-automation-support-for-the-menubar-control-type.md) hodnotu vlastnosti <xref:System.Windows.Automation.ControlType.MenuItem?displayProperty=nameWithType>.</li><li><code>T:System.Windows.Forms.ToolStripItem</code> Podporuje ovládací prvek [název](xref:System.Windows.Automation.AutomationElement.NameProperty) vlastnost a [Rozbalit/sbalit vzor](~/docs/framework/ui-automation/implementing-the-ui-automation-expandcollapse-control-pattern.md).</li><li><code>T:System.Windows.Forms.ToolStripDropDownItem</code> Podporuje ovládací prvek <xref:System.Windows.Forms.AccessibleEvents> znamenající StateChange a NameChange, když je rozbalit nebo sbalit rozevíracího seznamu.</li><li><code>T:System.Windows.Forms.ToolStripDropDownButton</code> Má ovládací prvek [ControlType](~/docs/framework/ui-automation/ui-automation-support-for-the-menubar-control-type.md) hodnota vlastnosti <xref:System.Windows.Automation.ControlType.MenuItem?displayProperty=nameWithType>.</li><li><code>T:System.Windows.Forms.DataGridViewCheckBoxCell</code> Podporuje ovládací prvek [přepnutí vzor](xref:System.Windows.Automation.TogglePattern).</li><li><code>T:System.Windows.Forms.NumericUpDown</code> a <code>T:System.Windows.Forms.DomainUpDown</code> podporu ovládací prvky [název](xref:System.Windows.Automation.AutomationElement.NameProperty) a mít [ControlType](~/docs/framework/ui-automation/ui-automation-support-for-the-spinner-control-type.md) z <xref:System.Windows.Automation.ControlType.Spinner?displayProperty=nameWithType>.</li></ul><strong>Vylepšení ovládací prvek PropertyGrid</strong>rozhraní .NET Framework 4.7.1 přidá do ovládacího prvku PropertyBrowser následující vylepšení:<ul><li><strong>Podrobnosti</strong> tlačítka v dialogovém okně chyby, který se zobrazí, když uživatel zadá nesprávnou hodnotu v <code>T:System.Windows.Forms.PropertyGrid</code> podporuje ovládací prvek [Rozbalit/sbalit vzor](~/docs/framework/ui-automation/implementing-the-ui-automation-expandcollapse-control-pattern.md), stavu a změna názvu oznámení a [ControlType](~/docs/framework/ui-automation/ui-automation-support-for-the-menubar-control-type.md) vlastnosti s hodnotou <xref:System.Windows.Automation.ControlType.MenuItem?displayProperty=nameWithType>.</li><li>V podokně zpráv zobrazí, když <strong>podrobnosti</strong> tlačítka dialogového okna chyby. je teď klávesnice přístupný a umožňuje Předčítání oznamujeme obsah chybovou zprávu.</li><li><xref:System.Windows.Forms.AccessibleRole> Řádků v <code>T:System.Windows.Forms.PropertyGrid</code> řízení byly změněny z &quot;řádek&quot; k &quot;buňky&quot;. Buňky mapuje UIA ControlType &quot;DataItem&quot;, což umožňuje podporu příslušné klávesové zkratky a Předčítání oznámení.</li><li><code>T:System.Windows.Forms.PropertyGrid</code> Řízení řádků, které představují záhlaví položek při zpracování <code>T:System.Windows.Forms.PropertyGrid</code> má ovládací prvek <code>P:System.Windows.Forms.PropertySort</code> vlastnost nastavena na hodnotu <code>F:System.Windows.Forms.PropertySory.Categorized</code> mít [ControlType](~/docs/framework/ui-automation/ui-automation-support-for-the-menubar-control-type.md) hodnota vlastnosti <xref:System.Windows.Automation.ControlType.Button?displayProperty=nameWithType></li><li><code>T:System.Windows.Forms.PropertyGrid</code> Řízení řádků, které představují záhlaví položek při zpracování <code>T:System.Windows.Forms.PropertyGrid</code> má ovládací prvek <code>P:System.Windows.Forms.PropertySort</code> vlastnost nastavena na hodnotu <code>F:System.Windows.Forms.PropertySory.Categorized</code> podporu [Rozbalit/sbalit vzor](~/docs/framework/ui-automation/implementing-the-ui-automation-expandcollapse-control-pattern.md).</li><li>Vylepšené klávesnice přecházení mezi mřížky a na panelu nástrojů nad ním. Stisknutím &quot;Shift-karta&quot; nyní vybere první tlačítko panelu nástrojů, namísto celého panelu nástrojů</li><li><code>T:System.Windows.Forms.PropertyGrid</code> ovládací prvky zobrazí v režimu vysokého kontrastu teď kreslení rámečku fokusu kolem tlačítka panelu nástrojů, který odpovídá na aktuální <code>P:System.Windows.Forms.PropertySort</code> hodnotu vlastnosti.</li><li><code>T:System.Windows.Forms.PropertyGrid</code> ovládací prvky zobrazovat v režimu vysokého kontrastu a s <code>P:System.Windows.Forms.PropertySort</code> vlastnost nastavena na hodnotu <code>F:System.Windows.Forms.PropertySory.Categorized</code> bude nyní zobrazení na pozadí záhlaví kategorie ve vysoce kontrastní barvu.</li><li><code>T:System.Windows.Forms.PropertyGrid</code> ovládací prvky lépe rozlišuje položky panelu nástrojů s fokusem a položky panelu nástrojů, které označují aktuální hodnota <code>P:System.Windows.Forms.PropertySort</code> vlastnost. Tato oprava se skládá z změnu vysoký kontrast a změňte pro scénáře bez – vysoký kontrast.</li><li><code>T:System.Windows.Forms.PropertyGrid</code> řízení položek panelu nástrojů, které označuje, aktuální hodnota <code>P:System.Windows.Forms.PropertySort</code> vlastnost podpory [přepnutí vzor](xref:System.Windows.Automation.TogglePattern).</li><li>Vylepšená podpora Předčítání rozlišování vybrané zarovnání ve výběru zarovnání.</li><li>Když prázdnou <code>T:System.Windows.Forms.PropertyGrid</code> ovládací prvek je zobrazen ve formuláři, nyní obdrží fokus, kde dříve stejně není.</li></ul><strong>Použití operačního systému definovaných barev v motivy vysoký kontrast</strong><ul><li><code>T:System.Windows.Forms.Button</code> a <code>T:System.Windows.Forms.CheckBox</code> ovládací prvky s <code>P:System.Windows.Forms.Control.FlatStyle</code> nastavena na <xref:System.Windows.Forms.FlatStyle.System?displayProperty=nameWithType>, což je výchozí styl, teď použít OS definovaných barev v motiv s vysokým kontrastem při výběru. Barva textu a pozadí dříve, nebyly – kontrast a byly těžko čitelný.</li><li><code>T:System.Windows.Forms.Button</code>, <code>T:System.Windows.Forms.CheckBox</code>, <code>T:System.Windows.Forms.RadioButton</code>, <code>T:System.Windows.Forms.Label</code>, <code>T:System.Windows.Forms.LinkLabel</code> a <code>T:System.Windows.Forms.GroupBox</code> s<code>P:System.Windows.Forms.Control.Enabled</code> nastavena na <em>false</em>, použije k vykreslení textu v vysoký kontrast motivy, výsledná nízkou naproti tomu proti šedou barvou barev pozadí. Nyní pomocí těchto ovládacích prvků &quot;zakázaný Text&quot; barva definované operačního systému. Tato oprava se vztahuje k ovládacím prvkům s <code>P:System.Windows.Forms.Control.FlatStyle</code> vlastnost nastavená na hodnotu než <code>F:System.Windows.Forms.FlatStyle.System</code>. Druhé ovládací prvky jsou vykreslovány podle operačního systému.</li><li><code>T:System.Windows.Forms.DataGridView</code> Nyní vykreslí viditelné obdélníku kolem obsah buňky, které je aktuální aktivní. To dřív nebyla viditelné v určitých vysoký kontrast motivů.</li><li><code>T:System.Windows.Forms.ToolStripMenuItem</code> ovládací prvky s <code>P:System.Windows.Forms.ToolStripItem.Enabled</code> vlastnost nastavena na hodnotu <em>false</em> teď použít &quot;zakázaný Text&quot; barva definované operačního systému.</li><li><code>T:System.Windows.Forms.ToolStripMenuItem</code> ovládací prvky s <code>P:System.Windows.Forms.ToolStripItem.Checked</code> vlastnost nastavena na hodnotu <em>true</em> nyní vykreslit přidružené zaškrtnutí v kontrastní barvu systému.  Barva zaškrtnutí dříve nebyl kontrastní dostatek a že nejsou viditelné v vysoký kontrast motivů.</li></ul>Poznámka: Windows10 došlo ke změně hodnoty pro některé barvy systému vysokého kontrastu. Windows Forms Framework je založena na rozhraní Win32. Pro dosažení co nejlepších výsledků spusťte na nejnovější verzi systému Windows a vyjádřit výslovný souhlas na nejnovější změny OS přidáním soubor app.manifest v testovací aplikaci a uncommenting následující kód:<pre><code>&lt;!-- Windows 10 --&gt;&#13;&#10;&lt;supportedOS Id=&quot;{8e0f7a12-bfb3-4fe8-b9a5-48fd50a15a9a}&quot; /&gt;&#13;&#10;</code></pre><strong>Vylepšené klávesnice navigace</strong><ul><li>Když <code>T:System.Windows.Forms.ComboBox</code> má ovládací prvek <code>P:System.Windows.Forms.ComboBox.DropDownStyle</code> nastavena na <code>F:System.Windows.Forms.DropDownStyle.DropDownList</code> a je první prvek na kartě pořadí ve formuláři, teď zobrazuje rámečku fokusu při otevření formuláře nadřazené pomocí klávesnice. Před touto změnou fokus klávesnice bylo na tomto ovládacím prvku, ale nebyla vykresluje indikátor fokus.</li></ul><strong>Vylepšená podpora Předčítání</strong><ul><li><code>T:System.Windows.Forms.MonthCalendar</code> Ovládací prvek přidán podpora technologie pro usnadnění pro přístup k řízení, včetně možnosti pro program Předčítání, když se dříve nepodařilo se načíst hodnotu ovládacího prvku.</li><li><code>T:System.Windows.Forms.CheckedListBox</code> Řízení nyní upozorní Předčítání při <code>P:System.Windows.Forms.CheckState</code> vlastnost byl změněn. Dříve, Předčítání neobdržel upozornění a v důsledku uživatelé nebudou informace, které <code>P:System.Windows.Forms.CheckState</code> nebyly aktualizovány.</li><li><code>T:System.Windows.Forms.LinkLabel</code> Ovládacího prvku došlo ke změně způsob upozorní Předčítání text v ovládacím prvku. Dříve, Předčítání dvakrát oznámeno tento text a číst &quot; &amp; &quot; symboly jako skutečné text, i když nejsou viditelné pro uživatele. Duplicitní text byl odebrán z hlášení Předčítání, jakož i nepotřebné &quot; &amp; &quot; symboly.</li><li><code>T:System.Windows.Forms.DataGridViewCell</code> Řízení typy nyní správně sestavy na Předčítání a další technologie pro usnadnění stavu jen pro čtení.</li><li>Program Předčítání je teď možné číst nabídky systému windows podřízené v [Multiple-Document Interface](~/docs/framework/winforms/advanced/multiple-document-interface-mdi-applications.md) aplikace.</li><li>Program Předčítání je teď možné číst <code>T:System.Windows.Forms.ToolStripMenuItem</code> ovládací prvky s <code>P:System.Windows.Forms.ToolStripItem.Enabled</code> vlastnost nastavena na hodnotu <em>false</em>. Dříve Předčítání nemohl zaměřit na zakázané nabídky položky ke čtení obsahu.</li></ul>|
|Rozsah|Hlavní|
|Version|4.7.1|
|Typ|Změna orientace|
|Ovlivněné rozhraní API|<ul><li><xref:System.Windows.Forms.ToolStripDropDownButton.CreateAccessibilityInstance?displayProperty=nameWithType></li><li><xref:System.Windows.Forms.DomainUpDown.DomainUpDownAccessibleObject.Name?displayProperty=nameWithType></li><li>[MonthCalendar.AccessibilityObject](xref:System.Windows.Forms.Control.AccessibilityObject)</li></ul>|

